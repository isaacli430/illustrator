function Visitor(e,t){if(!e)throw"Visitor requires Adobe Marketing Cloud Org ID";var n=this;n.version="1.3";var i=window;i.s_c_in||(i.s_c_il=[],i.s_c_in=0),n._c="Visitor",n._il=i.s_c_il,n._in=i.s_c_in,n._il[n._in]=n,i.s_c_in++;var r=i.document,o=i.P;o||(o=null);var a=i.Q;a||(a=!0);var s=i.O;s||(s=!1),n.D=function(e){var t,n,i=0;if(e)for(t=0;t<e.length;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i&=i;return i},n.n=function(e){var t,n="0123456789",i="",r="",o=8,a=10,s=10;if(1==e){for(n+="ABCDEF",e=0;16>e;e++)t=Math.floor(Math.random()*o),i+=n.substring(t,t+1),t=Math.floor(Math.random()*o),r+=n.substring(t,t+1),o=16;return i+"-"+r}for(e=0;19>e;e++)t=Math.floor(Math.random()*a),i+=n.substring(t,t+1),a=0==e&&9==t?3:10,t=Math.floor(Math.random()*s),r+=n.substring(t,t+1),s=0==e&&9==t?3:10;return i+r},n.J=function(){var e;if(!e&&i.location&&(e=i.location.hostname),e)if(/^[0-9.]+$/.test(e))e="";else{var t=e.split("."),n=t.length-1,r=n-1;if(n>1&&2>=t[n].length&&0>",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tt,tv,tw,tz,ua,ug,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,".indexOf(","+t[n]+",")&&r--,r>0)for(e="";n>=r;)e=t[n]+(e?".":"")+e,n--}return e},n.cookieRead=function(e){var e=encodeURIComponent(e),t=(";"+r.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),i=0>n?n:t.indexOf(";",n+1);return 0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>i?t.length:i))},n.cookieWrite=function(e,t,i){var o,a=n.cookieLifetime,t=""+t,a=a?(""+a).toUpperCase():"";return i&&"SESSION"!=a&&"NONE"!=a?(o=""!=t?parseInt(a?a:0):-60)?(i=new Date,i.setTime(i.getTime()+1e3*o)):1==i&&(i=new Date,o=i.getYear(),i.setYear(o+2+(1900>o?1900:0))):i=0,e&&"NONE"!=a?(r.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(i?" expires="+i.toGMTString()+";":"")+(n.m?" domain="+n.m+";":""),n.cookieRead(e)==t):0},n.d=o,n.z=function(e,t){try{"function"==typeof e?e.apply(i,t):e[1].apply(e[0],t)}catch(n){}},n.M=function(e,t){t&&(n.d==o&&(n.d={}),void 0==n.d[e]&&(n.d[e]=[]),n.d[e].push(t))},n.l=function(e,t){if(n.d!=o){var i=n.d[e];if(i)for(;0<i.length;)n.z(i.shift(),t)}},n.h=o,n.K=function(e,t,i){!t&&i&&i();var a=r.getElementsByTagName("HEAD")[0],s=r.createElement("SCRIPT");s.type="text/javascript",s.setAttribute("async","async"),s.src=t,a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),i&&(n.h==o&&(n.h={}),n.h[e]=setTimeout(i,n.loadTimeout))},n.I=function(e){n.h!=o&&n.h[e]&&(clearTimeout(n.h[e]),n.h[e]=0)},n.F=s,n.G=s,n.isAllowed=function(){return!n.F&&(n.F=a,n.cookieRead(n.cookieName)||n.cookieWrite(n.cookieName,"T",1))&&(n.G=a),n.G},n.a=o,n.c=o;var l=n.W;l||(l="MC");var c=n.Y;c||(c="MCMID");var u=n.X;u||(u="MCCIDH");var d=n.U;d||(d="A");var p=n.R;p||(p="MCAID");var f=n.V;f||(f="AAM");var h=n.T;h||(h="MCAAMLH");var m=n.S;m||(m="MCAAMB");var g=n.Z;if(g||(g="NONE"),n.u=0,n.C=function(){if(!n.u){var e=n.version;if(n.customerIDMappingServer&&(e+="|"+n.customerIDMappingServer),n.customerIDMappingServerSecure&&(e+="|"+n.customerIDMappingServerSecure),n.audienceManagerServer&&(e+="|"+n.audienceManagerServer),n.audienceManagerServerSecure&&(e+="|"+n.audienceManagerServerSecure),n.audienceManagerCustomerIDDPIDs)for(var t in n.audienceManagerCustomerIDDPIDs)!Object.prototype[t]&&n.audienceManagerCustomerIDDPIDs[t]&&(e+=t+"="+n.audienceManagerCustomerIDDPIDs[t]);n.u=n.D(e)}return n.u},n.H=s,n.j=function(){if(!n.H){n.H=a;var e,t,i,r=n.C(),l=s,c=n.cookieRead(n.cookieName),d=new Date;if(n.a==o&&(n.a={}),c&&"T"!=c)for(c=c.split("|"),c[0].match(/^[\-0-9]+$/)&&(parseInt(c[0])!=r&&(l=a),c.shift()),1==c.length%2&&c.pop(),r=0;r<c.length;r+=2)e=c[r].split("-"),t=e[0],i=c[r+1],e=1<e.length?parseInt(e[1]):0,l&&(t==u&&(i=""),e>0&&(e=d.getTime()/1e3-60)),t&&i&&(n.g(t,i,1),e>0&&(n.a["expire"+t]=e,d.getTime()>=1e3*e&&(n.c||(n.c={}),n.c[t]=a)));!n.b(p)&&(c=n.cookieRead("s_vi"))&&(c=c.split("|"),1<c.length&&0<=c[0].indexOf("v1")&&(i=c[1],r=i.indexOf("["),r>=0&&(i=i.substring(0,r)),i&&i.match(/^[0-9a-fA-F\-]+$/)&&n.g(p,i)))}},n.N=function(){var e,t,i=n.C();for(e in n.a)!Object.prototype[e]&&n.a[e]&&"expire"!=e.substring(0,6)&&(t=n.a[e],i+=(i?"|":"")+e+(n.a["expire"+e]?"-"+n.a["expire"+e]:"")+"|"+t);n.cookieWrite(n.cookieName,i,1)},n.b=function(e,t){return n.a==o||!t&&n.c&&n.c[e]?o:n.a[e]},n.g=function(e,t,i){n.a==o&&(n.a={}),n.a[e]=t,i||n.N()},n.t=function(e,t){var i=new Date;i.setTime(i.getTime()+1e3*t),n.a==o&&(n.a={}),n.a["expire"+e]=Math.floor(i.getTime()/1e3),0>t&&(n.c||(n.c={}),n.c[e]=a)},n.B=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&(e=e.toUpperCase(),"NOTARGET"==e&&(e=g)),!e||e!=g&&!e.match(/^[0-9a-fA-F\-]+$/))&&(e=""),e},n.i=function(e,t){if(n.I(e),n.f!=o&&(n.f[e]=s),e==l){var i=n.b(c);if(!i){if(i="object"==typeof t&&t.mid?t.mid:n.B(t),!i){if(n.q)return void n.getAnalyticsVisitorID(null,!1,!0);i=n.n()}n.g(c,i)}i&&i!=g||(i=""),"object"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&n.i(f,t),n.q&&t.mid&&n.i(d,{id:t.id})),n.l(c,[i])}if(e==f&&"object"==typeof t){i=604800,void 0!=t.id_sync_ttl&&t.id_sync_ttl&&(i=parseInt(t.id_sync_ttl));var r=n.b(h);r||((r=t.d_region)||(r=t.dcs_region),r&&(n.t(h,i),n.g(h,r))),r||(r=""),n.l(h,[r]),r=n.b(m),(t.d_blob||t.blob)&&((r=t.d_blob)||(r=t.blob),n.t(m,i),n.g(m,r)),r||(r=""),n.l(m,[r])}e==d&&(i=n.b(p),i||((i=n.B(t))||(i=g),n.g(p,i)),i&&i!=g||(i=""),n.l(p,[i]))},n.f=o,n.o=function(e,t,i,r){var s,u="";return n.isAllowed()&&(n.j(),u=n.b(e),!u&&(e==c?s=l:e==h||e==m?s=f:e==p&&(s=d),s))?(n.f!=o&&n.f[s]||(n.f==o&&(n.f={}),n.f[s]=a,n.K(s,t,function(){if(!n.b(e)){var t="";e==c&&(t=n.n()),n.i(s,t)}})),n.M(e,i),""):(e!=c&&e!=p||u!=g||(u="",r=a),i&&r&&n.z(i,[u]),u)},n._setMarketingCloudFields=function(e){n.j(),n.i(l,e)},n.setMarketingCloudVisitorID=function(e){n._setMarketingCloudFields(e)},n.q=s,n.getMarketingCloudVisitorID=function(e,t){return n.isAllowed()?(n.marketingCloudServer&&0>n.marketingCloudServer.indexOf(".demdex.net")&&(n.q=a),n.o(c,n.r("_setMarketingCloudFields"),e,t)):""},n._mapCustomerIDsDone=function(e){e&&"success"==e.status&&n.g(u,n.s)},n.L=function(){n._mapCustomerIDsDone({status:"success"})},n.e={},n.A=s,n.s="",n.setCustomerIDs=function(e){if(n.e=e,n.isAllowed()){n.j();var t,i,e=n.b(u),r="";e||(e=0);for(t in n.e)i=n.e[t],!Object.prototype[t]&&i&&(r+=(r?"|":"")+t+"|"+i);n.s=n.D(r),n.s!=e&&(n.A=a,n.L())}},n.getCustomerIDs=function(){return n.e},n._setAnalyticsFields=function(e){n.j(),n.i(d,e)},n.setAnalyticsVisitorID=function(e){n._setAnalyticsFields(e)},n.getAnalyticsVisitorID=function(e,t,i){if(n.isAllowed()){var r="";if(i||(r=n.getMarketingCloudVisitorID(function(){n.getAnalyticsVisitorID(e,a)})),r||i){var o=i?n.marketingCloudServer:n.trackingServer,s="";return n.loadSSL&&(i?n.marketingCloudServerSecure&&(o=n.marketingCloudServerSecure):n.trackingServerSecure&&(o=n.trackingServerSecure)),o&&(s="http"+(n.loadSSL?"s":"")+"://"+o+"/id?callback=s_c_il%5B"+n._in+"%5D._set"+(i?"MarketingCloud":"Analytics")+"Fields&mcorgid="+encodeURIComponent(n.marketingCloudOrgID)+(r?"&mid="+r:"")),n.o(i?c:p,s,e,t)}}return""},n._setAudienceManagerFields=function(e){n.j(),n.i(f,e)},n.r=function(e){var t,i,r=n.audienceManagerServer,o="",s=n.b(c),l=n.b(m,a),u="";if(n.loadSSL&&n.audienceManagerServerSecure&&(r=n.audienceManagerServerSecure),r){if(n.e&&n.audienceManagerCustomerIDDPIDs)for(t in n.e)Object.prototype[t]||(o=n.e[t],i=n.audienceManagerCustomerIDDPIDs[t],o&&i&&(u+=(u?"%01":"&d_cid=")+i+"%01"+encodeURIComponent(o)));e||(e="_setAudienceManagerFields"),o="http"+(n.loadSSL?"s":"")+"://"+r+"/id?d_rtbd=json&d_ver=2"+(!s&&n.q?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(n.marketingCloudOrgID)+(s?"&d_mid="+s:"")+(l?"&d_blob="+encodeURIComponent(l):"")+u+"&d_cb=s_c_il%5B"+n._in+"%5D."+e}return o},n.getAudienceManagerLocationHint=function(e,t){return n.isAllowed()&&n.getMarketingCloudVisitorID(function(){n.getAudienceManagerLocationHint(e,a)})?n.o(h,n.r(),e,t):""},n.getAudienceManagerBlob=function(e,t){if(n.isAllowed()&&n.getMarketingCloudVisitorID(function(){n.getAudienceManagerBlob(e,a)})){var i=n.r();return n.A&&n.t(m,-1),n.o(m,i,e,t)}return""},n.k="",n.p={},n.v="",n.w={},n.getSupplementalDataID=function(e,t){!n.k&&!t&&(n.k=n.n(1));var i=n.k;return n.v&&!n.w[e]?(i=n.v,n.w[e]=a):i&&(n.p[e]&&(n.v=n.k,n.w=n.p,n.k=i=t?"":n.n(1),n.p={}),i&&(n.p[e]=a)),i},0>e.indexOf("@")&&(e+="@AdobeOrg"),n.marketingCloudOrgID=e,n.namespace=t,n.cookieName="AMCV_"+e,n.m=n.J(),n.m==i.location.hostname&&(n.m=""),t){var v="AMCV_"+t,_=n.cookieRead(n.cookieName),y=n.cookieRead(v);!_&&y&&(n.cookieWrite(n.cookieName,y,1),n.cookieWrite(v,"",-60))}n.loadSSL=0<=i.location.protocol.toLowerCase().indexOf("https"),n.loadTimeout=500,n.marketingCloudServer=n.audienceManagerServer="dpm.demdex.net",n.customerIDMappingServer="map.adobecrs.com"}function AppMeasurement(){var e=this;e.version="1.3.2";var t=window;t.s_c_in||(t.s_c_il=[],t.s_c_in=0),e._il=t.s_c_il,e._in=t.s_c_in,e._il[e._in]=e,t.s_c_in++,e._c="s_c";var n=t.ob;n||(n=null);var i,r,o=t;try{for(i=o.parent,r=o.location;i&&i.location&&r&&""+i.location!=""+r&&o.location&&""+i.location!=""+o.location&&i.location.host==r.host;)o=i,i=o.parent}catch(a){}e.Za=function(e){try{console.log(e)}catch(t){}},e.oa=function(e){return""+parseInt(e)==""+e},e.replace=function(e,t,n){return!e||e.indexOf(t)<0?e:e.split(t).join(n)},e.escape=function(t){var n,i;if(!t)return t;for(t=encodeURIComponent(t),n=0;7>n;n++)i="+~!*()'".substring(n,n+1),t.indexOf(i)>=0&&(t=e.replace(t,i,"%"+i.charCodeAt(0).toString(16).toUpperCase()));return t},e.unescape=function(t){if(!t)return t;t=t.indexOf("+")>=0?e.replace(t,"+"," "):t;try{return decodeURIComponent(t)}catch(n){}return unescape(t)},e.Qa=function(){var n,i=t.location.hostname,r=e.fpCookieDomainPeriods;if(r||(r=e.cookieDomainPeriods),i&&!e.ha&&!/^[0-9.]+$/.test(i)&&(r=r?parseInt(r):2,r=r>2?r:2,n=i.lastIndexOf("."),n>=0)){for(;n>=0&&r>1;)n=i.lastIndexOf(".",n-1),r--;e.ha=n>0?i.substring(n):i}return e.ha},e.c_r=e.cookieRead=function(t){t=e.escape(t);var n=" "+e.d.cookie,i=n.indexOf(" "+t+"="),r=0>i?i:n.indexOf(";",i);return t=0>i?"":e.unescape(n.substring(i+2+t.length,0>r?n.length:r)),"[[B]]"!=t?t:""},e.c_w=e.cookieWrite=function(t,n,i){var r,o=e.Qa(),a=e.cookieLifetime;return n=""+n,a=a?(""+a).toUpperCase():"",i&&"SESSION"!=a&&"NONE"!=a&&((r=""!=n?parseInt(a?a:0):-60)?(i=new Date,i.setTime(i.getTime()+1e3*r)):1==i&&(i=new Date,r=i.getYear(),i.setYear(r+5+(1900>r?1900:0)))),t&&"NONE"!=a?(e.d.cookie=t+"="+e.escape(""!=n?n:"[[B]]")+"; path=/;"+(i&&"SESSION"!=a?" expires="+i.toGMTString()+";":"")+(o?" domain="+o+";":""),e.cookieRead(t)==n):0},e.D=[],e.C=function(t,n,i){if(e.ia)return 0;e.maxDelay||(e.maxDelay=250);var r=0,o=(new Date).getTime()+e.maxDelay,a=e.d.mb,s=["webkitvisibilitychange","visibilitychange"];if(a||(a=e.d.nb),a&&"prerender"==a){if(!e.V)for(e.V=1,i=0;i<s.length;i++)e.d.addEventListener(s[i],function(){var t=e.d.mb;t||(t=e.d.nb),"visible"==t&&(e.V=0,e.delayReady())});r=1,o=0}else i||e.r("_d")&&(r=1);return r&&(e.D.push({m:t,a:n,t:o}),e.V||setTimeout(e.delayReady,e.maxDelay)),r},e.delayReady=function(){var t,n=(new Date).getTime(),i=0;for(e.r("_d")&&(i=1);e.D.length>0;){if(t=e.D.shift(),i&&!t.t&&t.t>n){e.D.unshift(t),setTimeout(e.delayReady,parseInt(e.maxDelay/2));break}e.ia=1,e[t.m].apply(e,t.a),e.ia=0}},e.setAccount=e.sa=function(t){var n,i;if(!e.C("setAccount",arguments))if(e.account=t,e.allAccounts)for(n=e.allAccounts.concat(t.split(",")),e.allAccounts=[],n.sort(),i=0;i<n.length;i++)(0==i||n[i-1]!=n[i])&&e.allAccounts.push(n[i]);else e.allAccounts=t.split(",")},e.foreachVar=function(t,n){var i,r,o,a,s="";for(o=r="",e.lightProfileID?(i=e.H,(s=e.lightTrackVars)&&(s=","+s+","+e.Y.join(",")+",")):(i=e.c,(e.pe||e.linkType)&&(s=e.linkTrackVars,r=e.linkTrackEvents,e.pe&&(o=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[o])&&(s=e[o].lb,r=e[o].kb)),s&&(s=","+s+","+e.A.join(",")+","),r&&s&&(s+=",events,")),n&&(n=","+n+","),r=0;r<i.length;r++)o=i[r],(a=e[o])&&(!s||s.indexOf(","+o+",")>=0)&&(!n||n.indexOf(","+o+",")>=0)&&t(o,a)},e.J=function(t,n,i,r,o){var a,s,l,c,u="",d=0;if("contextData"==t&&(t="c"),n){for(a in n)if(!Object.prototype[a]&&(!o||a.substring(0,o.length)==o)&&n[a]&&(!i||i.indexOf(","+(r?r+".":"")+a+",")>=0)){if(l=!1,d)for(s=0;s<d.length;s++)a.substring(0,d[s].length)==d[s]&&(l=!0);if(!l&&(""==u&&(u+="&"+t+"."),s=n[a],o&&(a=a.substring(o.length)),a.length>0))if(l=a.indexOf("."),l>0)s=a.substring(0,l),l=(o?o:"")+s+".",d||(d=[]),d.push(l),u+=e.J(s,n,i,r,l);else if("boolean"==typeof s&&(s=s?"true":"false"),s){if("retrieveLightData"==r&&o.indexOf(".contextData.")<0)switch(l=a.substring(0,4),c=a.substring(4),a){case"transactionID":a="xact";break;case"channel":a="ch";break;case"campaign":a="v0";break;default:e.oa(c)&&("prop"==l?a="c"+c:"eVar"==l?a="v"+c:"list"==l?a="l"+c:"hier"==l&&(a="h"+c,s=s.substring(0,255)))}u+="&"+e.escape(a)+"="+e.escape(s)}}""!=u&&(u+="&."+t)}return u},e.Sa=function(){var t,n,i,r,o,a,s,l,c="",u="",d="",p=n="";for(e.lightProfileID?(t=e.H,(u=e.lightTrackVars)&&(u=","+u+","+e.Y.join(",")+",")):(t=e.c,(e.pe||e.linkType)&&(u=e.linkTrackVars,d=e.linkTrackEvents,e.pe&&(n=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[n])&&(u=e[n].lb,d=e[n].kb)),u&&(u=","+u+","+e.A.join(",")+","),d&&(d=","+d+",",u&&(u+=",events,")),e.events2&&(p+=(""!=p?",":"")+e.events2)),e.AudienceManagement&&e.AudienceManagement.isReady()&&(c+=e.J("d",e.AudienceManagement.getEventCallConfigParams())),n=0;n<t.length;n++){if(r=t[n],o=e[r],i=r.substring(0,4),a=r.substring(4),!o&&"events"==r&&p&&(o=p,p=""),o&&(!u||u.indexOf(","+r+",")>=0)){switch(r){case"supplementalDataID":r="sdid";break;case"timestamp":r="ts";break;case"dynamicVariablePrefix":r="D";break;case"visitorID":r="vid";break;case"marketingCloudVisitorID":r="mid";break;case"analyticsVisitorID":r="aid";break;case"audienceManagerLocationHint":r="aamlh";break;case"audienceManagerBlob":r="aamb";break;case"pageURL":r="g",o.length>255&&(e.pageURLRest=o.substring(255),o=o.substring(0,255));break;case"pageURLRest":r="-g";break;case"referrer":r="r";break;case"vmk":case"visitorMigrationKey":r="vmt";break;case"visitorMigrationServer":r="vmf",e.ssl&&e.visitorMigrationServerSecure&&(o="");break;case"visitorMigrationServerSecure":r="vmf",!e.ssl&&e.visitorMigrationServer&&(o="");break;case"charSet":r="ce";break;case"visitorNamespace":r="ns";break;case"cookieDomainPeriods":r="cdp";break;case"cookieLifetime":r="cl";break;case"variableProvider":r="vvp";break;case"currencyCode":r="cc";break;case"channel":r="ch";break;case"transactionID":r="xact";break;case"campaign":r="v0";break;case"resolution":r="s";break;case"colorDepth":r="c";break;case"javascriptVersion":r="j";break;case"javaEnabled":r="v";break;case"cookiesEnabled":r="k";break;case"browserWidth":r="bw";break;case"browserHeight":r="bh";break;case"connectionType":r="ct";break;case"homepage":r="hp";break;case"plugins":r="p";break;case"events":if(p&&(o+=(""!=o?",":"")+p),d)for(a=o.split(","),o="",i=0;i<a.length;i++)s=a[i],l=s.indexOf("="),l>=0&&(s=s.substring(0,l)),l=s.indexOf(":"),l>=0&&(s=s.substring(0,l)),d.indexOf(","+s+",")>=0&&(o+=(o?",":"")+a[i]);break;case"events2":o="";break;case"contextData":c+=e.J("c",e[r],u,r),o="";break;case"lightProfileID":r="mtp";break;case"lightStoreForSeconds":r="mtss",e.lightProfileID||(o="");break;case"lightIncrementBy":r="mti",e.lightProfileID||(o="");break;case"retrieveLightProfiles":r="mtsr";break;case"deleteLightProfiles":r="mtsd";break;case"retrieveLightData":e.retrieveLightProfiles&&(c+=e.J("mts",e[r],u,r)),o="";break;default:e.oa(a)&&("prop"==i?r="c"+a:"eVar"==i?r="v"+a:"list"==i?r="l"+a:"hier"==i&&(r="h"+a,o=o.substring(0,255)))}o&&(c+="&"+r+"="+("pev"!=r.substring(0,3)?e.escape(o):o))}"pev3"==r&&e.g&&(c+=e.g)}return c},e.v=function(e){var t=e.tagName;return""+e.sb!="undefined"||""+e.eb!="undefined"&&"HTML"!=(""+e.eb).toUpperCase()?"":(t=t&&t.toUpperCase?t.toUpperCase():"","SHAPE"==t&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},e.ka=function(e){var t,n,i,r=e.href?e.href:"";return t=r.indexOf(":"),n=r.indexOf("?"),i=r.indexOf("/"),r&&(0>t||n>=0&&t>n||i>=0&&t>i)&&(n=e.protocol&&e.protocol.length>1?e.protocol:l.protocol?l.protocol:"",t=l.pathname.lastIndexOf("/"),r=(n?n+"//":"")+(e.host?e.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,0>t?0:t)+"/":"")+r),r},e.F=function(t){var n,i,r=e.v(t),o="",a=0;return r&&(n=t.protocol,i=t.onclick,!t.href||"A"!=r&&"AREA"!=r||i&&n&&!(n.toLowerCase().indexOf("javascript")<0)?i?(o=e.replace(e.replace(e.replace(e.replace(""+i,"\r",""),"\n",""),"	","")," ",""),a=2):"INPUT"==r||"SUBMIT"==r?(t.value?o=t.value:t.innerText?o=t.innerText:t.textContent&&(o=t.textContent),a=3):t.src&&"IMAGE"==r&&(o=t.src):o=e.ka(t),o)?{id:o.substring(0,100),type:a}:0},e.pb=function(t){for(var n=e.v(t),i=e.F(t);t&&!i&&"BODY"!=n;)(t=t.parentElement?t.parentElement:t.parentNode)&&(n=e.v(t),i=e.F(t));return i&&"BODY"!=n||(t=0),t&&(n=t.onclick?""+t.onclick:"",n.indexOf(".tl(")>=0||n.indexOf(".trackLink(")>=0)&&(t=0),t},e.bb=function(){var n,i,r,o,a=e.linkObject,s=e.linkType,l=e.linkURL;if(e.Z=1,a||(e.Z=0,a=e.j),a){for(n=e.v(a),i=e.F(a);a&&!i&&"BODY"!=n;)(a=a.parentElement?a.parentElement:a.parentNode)&&(n=e.v(a),i=e.F(a));if(i&&"BODY"!=n||(a=0),a){var c=a.onclick?""+a.onclick:"";(c.indexOf(".tl(")>=0||c.indexOf(".trackLink(")>=0)&&(a=0)}}else e.Z=1;if(!l&&a&&(l=e.ka(a)),l&&!e.linkLeaveQueryString&&(r=l.indexOf("?"),r>=0&&(l=l.substring(0,r))),!s&&l){var u,d=0,p=0;if(e.trackDownloadLinks&&e.linkDownloadFileTypes)for(c=l.toLowerCase(),r=c.indexOf("?"),o=c.indexOf("#"),r>=0?o>=0&&r>o&&(r=o):r=o,r>=0&&(c=c.substring(0,r)),r=e.linkDownloadFileTypes.toLowerCase().split(","),o=0;o<r.length;o++)(u=r[o])&&c.substring(c.length-(u.length+1))=="."+u&&(s="d");if(e.trackExternalLinks&&!s&&(c=l.toLowerCase(),e.na(c))&&(e.linkInternalFilters||(e.linkInternalFilters=t.location.hostname),r=0,e.linkExternalFilters?(r=e.linkExternalFilters.toLowerCase().split(","),d=1):e.linkInternalFilters&&(r=e.linkInternalFilters.toLowerCase().split(",")),r)){for(o=0;o<r.length;o++)u=r[o],c.indexOf(u)>=0&&(p=1);p?d&&(s="e"):d||(s="e")}}e.linkObject=a,e.linkURL=l,e.linkType=s,(e.trackClickMap||e.trackInlineStats)&&(e.g="",a&&(s=e.pageName,l=1,a=a.sourceIndex,s||(s=e.pageURL,l=0),t.s_objectID&&(i.id=t.s_objectID,a=i.type=1),s&&i&&i.id&&n&&(e.g="&pid="+e.escape(s.substring(0,255))+(l?"&pidt="+l:"")+"&oid="+e.escape(i.id.substring(0,100))+(i.type?"&oidt="+i.type:"")+"&ot="+n+(a?"&oi="+a:""))))},e.Ta=function(){var t=e.Z,n=e.linkType,i=e.linkURL,r=e.linkName;if(n&&(i||r)&&(n=n.toLowerCase(),"d"!=n&&"e"!=n&&(n="o"),e.pe="lnk_"+n,e.pev1=i?e.escape(i):"",e.pev2=r?e.escape(r):"",t=1),e.abort&&(t=0),e.trackClickMap||e.trackInlineStats){n={},i=0;var o,a,s,l=e.cookieRead("s_sq"),c=l?l.split("&"):0;if(l=0,c)for(o=0;o<c.length;o++)a=c[o].split("="),r=e.unescape(a[0]).split(","),a=e.unescape(a[1]),n[a]=r;if(r=e.account.split(","),t||e.g){t&&!e.g&&(l=1);for(a in n)if(!Object.prototype[a])for(o=0;o<r.length;o++)for(l&&(s=n[a].join(","),s==e.account&&(e.g+=("&"!=a.charAt(0)?"&":"")+a,n[a]=[],i=1)),c=0;c<n[a].length;c++)s=n[a][c],s==r[o]&&(l&&(e.g+="&u="+e.escape(s)+("&"!=a.charAt(0)?"&":"")+a+"&u=0"),n[a].splice(c,1),i=1);if(t||(i=1),i){l="",o=2,!t&&e.g&&(l=e.escape(r.join(","))+"="+e.escape(e.g),o=1);for(a in n)!Object.prototype[a]&&o>0&&n[a].length>0&&(l+=(l?"&":"")+e.escape(n[a].join(","))+"="+e.escape(a),o--);e.cookieWrite("s_sq",l)}}}return t},e.Ua=function(){if(!e.jb){var t,n,i,r=new Date,a=o.location,s=i=n=t="",l="",c="",u="1.2",d=e.cookieWrite("s_cc","true",0)?"Y":"N",p="",f="",h=0;if(r.setUTCDate&&(u="1.3",h.toPrecision&&(u="1.5",t=[],t.forEach))){u="1.6",i=0,n={};try{i=new Iterator(n),i.next&&(u="1.7",t.reduce&&(u="1.8",u.trim&&(u="1.8.1",Date.parse&&(u="1.8.2",Object.create&&(u="1.8.5")))))}catch(m){}}t=screen.width+"x"+screen.height,i=navigator.javaEnabled()?"Y":"N",n=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,l=e.w.innerWidth?e.w.innerWidth:e.d.documentElement.offsetWidth,c=e.w.innerHeight?e.w.innerHeight:e.d.documentElement.offsetHeight,r=navigator.plugins;try{e.b.addBehavior("#default#homePage"),p=e.b.qb(a)?"Y":"N"}catch(g){}try{e.b.addBehavior("#default#clientCaps"),f=e.b.connectionType}catch(v){}if(r)for(;h<r.length&&30>h;)(a=r[h].name)&&(a=a.substring(0,100)+";",s.indexOf(a)<0&&(s+=a)),h++;e.resolution=t,e.colorDepth=n,e.javascriptVersion=u,e.javaEnabled=i,e.cookiesEnabled=d,e.browserWidth=l,e.browserHeight=c,e.connectionType=f,e.homepage=p,e.plugins=s,e.jb=1}},e.I={},e.loadModule=function(n,i){var r=e.I[n];if(!r){r=t["AppMeasurement_Module_"+n]?new t["AppMeasurement_Module_"+n](e):{},e.I[n]=e[n]=r,r.Ba=function(){return r.Ea},r.Fa=function(t){(r.Ea=t)&&(e[n+"_onLoad"]=t,e.C(n+"_onLoad",[e,r],1)||t(e,r))};try{Object.defineProperty?Object.defineProperty(r,"onLoad",{get:r.Ba,set:r.Fa}):r._olc=1}catch(o){r._olc=1}}i&&(e[n+"_onLoad"]=i,e.C(n+"_onLoad",[e,r],1)||i(e,r))},e.r=function(t){var n,i;for(n in e.I)if(!Object.prototype[n]&&(i=e.I[n])&&(i._olc&&i.onLoad&&(i._olc=0,i.onLoad(e,i)),i[t]&&i[t]()))return 1;return 0},e.Xa=function(){var t=Math.floor(1e13*Math.random()),n=e.visitorSampling,i=e.visitorSamplingGroup;i="s_vsn_"+(e.visitorNamespace?e.visitorNamespace:e.account)+(i?"_"+i:"");var r=e.cookieRead(i);if(n){if(r&&(r=parseInt(r)),!r){if(!e.cookieWrite(i,t))return 0;r=t}if(r%1e4>v)return 0}return 1},e.K=function(t,n){var i,r,o,a,s,l;for(i=0;2>i;i++)for(r=i>0?e.ea:e.c,o=0;o<r.length;o++)if(a=r[o],(s=t[a])||t["!"+a]){if(!n&&("contextData"==a||"retrieveLightData"==a)&&e[a])for(l in e[a])s[l]||(s[l]=e[a][l]);e[a]=s}},e.wa=function(t,n){var i,r,o,a;for(i=0;2>i;i++)for(r=i>0?e.ea:e.c,o=0;o<r.length;o++)a=r[o],t[a]=e[a],!n&&!t[a]&&(t["!"+a]=1)},e.Pa=function(e){var t,n,i,r,o,a,s=0,l="",c="";if(e&&e.length>255&&(t=""+e,n=t.indexOf("?"),n>0&&(a=t.substring(n+1),t=t.substring(0,n),r=t.toLowerCase(),i=0,"http://"==r.substring(0,7)?i+=7:"https://"==r.substring(0,8)&&(i+=8),n=r.indexOf("/",i),n>0&&(r=r.substring(i,n),o=t.substring(n),t=t.substring(0,n),r.indexOf("google")>=0?s=",q,ie,start,search_key,word,kw,cd,":r.indexOf("yahoo.co")>=0&&(s=",p,ei,"),s&&a)))){if((e=a.split("&"))&&e.length>1){for(i=0;i<e.length;i++)r=e[i],n=r.indexOf("="),n>0&&s.indexOf(","+r.substring(0,n)+",")>=0?l+=(l?"&":"")+r:c+=(c?"&":"")+r;l&&c?a=l+"&"+c:c=""}n=253-(a.length-c.length)-t.length,e=t+(n>0?o.substring(0,n):"")+"?"+a}return e},e.S=!1,e.O=!1,e.Da=function(t){e.marketingCloudVisitorID=t,e.O=!0,e.l()},e.P=!1,e.L=!1,e.ya=function(t){e.analyticsVisitorID=t,e.L=!0,e.l()},e.R=!1,e.N=!1,e.Aa=function(t){e.audienceManagerLocationHint=t,e.N=!0,e.l()},e.Q=!1,e.M=!1,e.za=function(t){e.audienceManagerBlob=t,e.M=!0,e.l()},e.isReadyToTrack=function(){var t=!0,n=e.visitor;return n&&n.isAllowed()&&(!e.S&&!e.marketingCloudVisitorID&&n.getMarketingCloudVisitorID&&(e.S=!0,e.marketingCloudVisitorID=n.getMarketingCloudVisitorID([e,e.Da]),e.marketingCloudVisitorID)&&(e.O=!0),!e.P&&!e.analyticsVisitorID&&n.getAnalyticsVisitorID&&(e.P=!0,e.analyticsVisitorID=n.getAnalyticsVisitorID([e,e.ya]),e.analyticsVisitorID)&&(e.L=!0),!e.R&&!e.audienceManagerLocationHint&&n.getAudienceManagerLocationHint&&(e.R=!0,e.audienceManagerLocationHint=n.getAudienceManagerLocationHint([e,e.Aa]),e.audienceManagerLocationHint)&&(e.N=!0),!e.Q&&!e.audienceManagerBlob&&n.getAudienceManagerBlob&&(e.Q=!0,e.audienceManagerBlob=n.getAudienceManagerBlob([e,e.za]),e.audienceManagerBlob)&&(e.M=!0),(e.S&&!e.O&&!e.marketingCloudVisitorID||e.P&&!e.L&&!e.analyticsVisitorID||e.R&&!e.N&&!e.audienceManagerLocationHint||e.Q&&!e.M&&!e.audienceManagerBlob)&&(t=!1)),t},e.k=n,e.o=0,e.callbackWhenReadyToTrack=function(t,i,r){var o;o={},o.Ja=t,o.Ia=i,o.Ga=r,e.k==n&&(e.k=[]),e.k.push(o),0==e.o&&(e.o=setInterval(e.l,100))},e.l=function(){var t;if(e.isReadyToTrack()&&(e.o&&(clearInterval(e.o),e.o=0),e.k!=n))for(;e.k.length>0;)t=e.k.shift(),t.Ia.apply(t.Ja,t.Ga)},e.Ca=function(t){var i,r,o=n,a=n;if(!e.isReadyToTrack()){if(i=[],t!=n)for(r in o={},t)o[r]=t[r];return a={},e.wa(a,!0),i.push(o),i.push(a),e.callbackWhenReadyToTrack(e,e.track,i),!0}return!1},e.Ra=function(){var t,n=e.cookieRead("s_fid"),i="",r="";t=8;var o=4;if(!n||n.indexOf("-")<0){for(n=0;16>n;n++)t=Math.floor(Math.random()*t),i+="0123456789ABCDEF".substring(t,t+1),t=Math.floor(Math.random()*o),r+="0123456789ABCDEF".substring(t,t+1),t=o=16;n=i+"-"+r}return e.cookieWrite("s_fid",n,1)||(n=0),n},e.t=e.track=function(n,i){var r,a=new Date,s="s"+Math.floor(a.getTime()/108e5)%10+Math.floor(1e13*Math.random()),l=a.getYear();l="t="+e.escape(a.getDate()+"/"+a.getMonth()+"/"+(1900>l?l+1900:l)+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+" "+a.getDay()+" "+a.getTimezoneOffset()),!e.supplementalDataID&&e.visitor&&e.visitor.getSupplementalDataID&&(e.supplementalDataID=e.visitor.getSupplementalDataID("AppMeasurement:"+e._in,e.expectSupplementalData?!1:!0)),e.r("_s"),e.C("track",arguments)||(e.Ca(n)||(i&&e.K(i),n&&(r={},e.wa(r,0),e.K(n)),e.Xa()&&(e.analyticsVisitorID||e.marketingCloudVisitorID||(e.fid=e.Ra()),e.bb(),e.usePlugins&&e.doPlugins&&e.doPlugins(e),e.account&&(e.abort||(e.trackOffline&&!e.timestamp&&(e.timestamp=Math.floor(a.getTime()/1e3)),a=t.location,e.pageURL||(e.pageURL=a.href?a.href:a),e.referrer||e.xa||(e.referrer=o.document.referrer,e.xa=1),e.referrer=e.Pa(e.referrer),e.r("_g")),e.Ta()&&!e.abort&&(e.Ua(),l+=e.Sa(),e.ab(s,l),e.r("_t"),e.referrer=""))),n&&e.K(r,1)),e.abort=e.supplementalDataID=e.timestamp=e.pageURLRest=e.linkObject=e.j=e.linkURL=e.linkName=e.linkType=t.rb=e.pe=e.pev1=e.pev2=e.pev3=e.g=0)},e.tl=e.trackLink=function(t,n,i,r,o){return e.linkObject=t,e.linkType=n,e.linkName=i,o&&(e.i=t,e.q=o),e.track(r)},e.trackLight=function(t,n,i,r){return e.lightProfileID=t,e.lightStoreForSeconds=n,e.lightIncrementBy=i,e.track(r)},e.clearVars=function(){var t,n;for(t=0;t<e.c.length;t++)n=e.c[t],("prop"==n.substring(0,4)||"eVar"==n.substring(0,4)||"hier"==n.substring(0,4)||"list"==n.substring(0,4)||"channel"==n||"events"==n||"eventList"==n||"products"==n||"productList"==n||"purchaseID"==n||"transactionID"==n||"state"==n||"zip"==n||"campaign"==n)&&(e[n]=void 0)},e.ab=function(t,n){var i,r=e.trackingServer;i="";var o=e.dc,a="sc.",s=e.visitorNamespace;r?e.trackingServerSecure&&e.ssl&&(r=e.trackingServerSecure):(s||(s=e.account,r=s.indexOf(","),r>=0&&(s=s.substring(0,r)),s=s.replace(/[^A-Za-z0-9]/g,"")),i||(i="2o7.net"),o=o?(""+o).toLowerCase():"d1","2o7.net"==i&&("d1"==o?o="112":"d2"==o&&(o="122"),a=""),r=s+"."+o+"."+a+i),i=e.ssl?"https://":"http://",o=e.AudienceManagement&&e.AudienceManagement.isReady(),i+=r+"/b/ss/"+e.account+"/"+(e.mobile?"5.":"")+(o?"10":"1")+"/JS-"+e.version+(e.ib?"T":"")+"/"+t+"?AQB=1&ndh=1&"+(o?"callback=s_c_il["+e._in+"].AudienceManagement.passData&":"")+n+"&AQE=1",e.Wa&&(i=i.substring(0,2047)),e.Na(i),e.W()},e.Na=function(t){e.e||e.Va(),e.e.push(t),e.X=e.u(),e.va()},e.Va=function(){e.e=e.Ya(),e.e||(e.e=[])},e.Ya=function(){var n,i;if(e.ba()){try{(i=t.localStorage.getItem(e.$()))&&(n=t.JSON.parse(i))}catch(r){}return n}},e.ba=function(){var n=!0;return e.trackOffline&&e.offlineFilename&&t.localStorage&&t.JSON||(n=!1),n},e.la=function(){var t=0;return e.e&&(t=e.e.length),e.z&&t++,t},e.W=function(){if(!e.z)if(e.ma=n,e.aa)e.X>e.G&&e.ta(e.e),e.da(6e4);else{var t=e.Ha();t>0?e.da(t):(t=e.ja())&&(e.z=1,e.$a(t),e.fb(t))}},e.da=function(t){e.ma||(t||(t=0),e.ma=setTimeout(e.W,t))},e.Ha=function(){var t;return!e.trackOffline||e.offlineThrottleDelay<=0?0:(t=e.u()-e.ra,e.offlineThrottleDelay<t?0:e.offlineThrottleDelay-t)},e.ja=function(){return e.e.length>0?e.e.shift():void 0},e.$a=function(t){if(e.debugTracking){var n="AppMeasurement Debug: "+t;t=t.split("&");var i;for(i=0;i<t.length;i++)n+="\n	"+e.unescape(t[i]);e.Za(n)}},e.fb=function(n){var i,r,o;if(!i&&e.d.createElement&&e.AudienceManagement&&e.AudienceManagement.isReady()&&(i=e.d.createElement("SCRIPT"))&&"async"in i&&((o=(o=e.d.getElementsByTagName("HEAD"))&&o[0]?o[0]:e.d.body)?(i.type="text/javascript",i.setAttribute("async","async"),r=3):i=0),i||(i=new Image,i.alt=""),i.ga=function(){try{e.ca&&(clearTimeout(e.ca),e.ca=0),i.timeout&&(clearTimeout(i.timeout),i.timeout=0)}catch(t){}},i.onload=i.hb=function(){i.ga(),e.Ma(),e.T(),e.z=0,e.W()},i.onabort=i.onerror=i.Oa=function(){i.ga(),(e.trackOffline||e.aa)&&e.z&&e.e.unshift(e.La),e.z=0,e.X>e.G&&e.ta(e.e),e.T(),e.da(6e4)},i.onreadystatechange=function(){4==i.readyState&&(200==i.status?i.hb():i.Oa())},e.ra=e.u(),1==r)i.open("GET",n,!0),i.send();else if(2==r)i.open("GET",n),i.send();else if(i.src=n,3==r){if(e.pa)try{o.removeChild(e.pa)}catch(a){}o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),e.pa=e.Ka}i.abort&&(e.ca=setTimeout(i.abort,5e3)),e.La=n,e.Ka=t["s_i_"+e.replace(e.account,",","_")]=i,(e.useForcedLinkTracking&&e.B||e.q)&&(e.forcedLinkTrackingTimeout||(e.forcedLinkTrackingTimeout=250),e.U=setTimeout(e.T,e.forcedLinkTrackingTimeout))},e.Ma=function(){if(e.ba()&&!(e.qa>e.G))try{t.localStorage.removeItem(e.$()),e.qa=e.u()}catch(n){}},e.ta=function(n){if(e.ba()){e.va();try{t.localStorage.setItem(e.$(),t.JSON.stringify(n)),e.G=e.u()}catch(i){}}},e.va=function(){if(e.trackOffline)for((!e.offlineLimit||e.offlineLimit<=0)&&(e.offlineLimit=10);e.e.length>e.offlineLimit;)e.ja()},e.forceOffline=function(){e.aa=!0},e.forceOnline=function(){e.aa=!1},e.$=function(){return e.offlineFilename+"-"+e.visitorNamespace+e.account},e.u=function(){return(new Date).getTime()},e.na=function(e){return e=e.toLowerCase(),0!=e.indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")?!0:!1},e.setTagContainer=function(t){var n,i,r;for(e.ib=t,n=0;n<e._il.length;n++)if((i=e._il[n])&&"s_l"==i._c&&i.tagContainerName==t){if(e.K(i),i.lmq)for(n=0;n<i.lmq.length;n++)r=i.lmq[n],e.loadModule(r.n);if(i.ml)for(r in i.ml)if(e[r])for(n in t=e[r],r=i.ml[r])!Object.prototype[n]&&("function"!=typeof r[n]||(""+r[n]).indexOf("s_c_il")<0)&&(t[n]=r[n]);if(i.mmq)for(n=0;n<i.mmq.length;n++)r=i.mmq[n],e[r.m]&&(t=e[r.m],t[r.f]&&"function"==typeof t[r.f]&&(r.a?t[r.f].apply(t,r.a):t[r.f].apply(t)));if(i.tq)for(n=0;n<i.tq.length;n++)e.track(i.tq[n]);i.s=e;break}},e.Util={urlEncode:e.escape,urlDecode:e.unescape,cookieRead:e.cookieRead,cookieWrite:e.cookieWrite,getQueryParam:function(n,i,r){var o;return i||(i=e.pageURL?e.pageURL:t.location),r||(r="&"),n&&i&&(i=""+i,o=i.indexOf("?"),o>=0&&(i=r+i.substring(o+1)+r,o=i.indexOf(r+n+"="),o>=0&&(i=i.substring(o+r.length+n.length+1),o=i.indexOf(r),o>=0&&(i=i.substring(0,o)),i.length>0)))?e.unescape(i):""}},e.A=["supplementalDataID","timestamp","dynamicVariablePrefix","visitorID","marketingCloudVisitorID","analyticsVisitorID","audienceManagerLocationHint","fid","vmk","visitorMigrationKey","visitorMigrationServer","visitorMigrationServerSecure","charSet","visitorNamespace","cookieDomainPeriods","fpCookieDomainPeriods","cookieLifetime","pageName","pageURL","referrer","contextData","currencyCode","lightProfileID","lightStoreForSeconds","lightIncrementBy","retrieveLightProfiles","deleteLightProfiles","retrieveLightData","pe","pev1","pev2","pev3","pageURLRest"],e.c=e.A.concat(["purchaseID","variableProvider","channel","server","pageType","transactionID","campaign","state","zip","events","events2","products","audienceManagerBlob","tnt"]),e.Y=["timestamp","charSet","visitorNamespace","cookieDomainPeriods","cookieLifetime","contextData","lightProfileID","lightStoreForSeconds","lightIncrementBy"],e.H=e.Y.slice(0),e.ea=["account","allAccounts","debugTracking","visitor","trackOffline","offlineLimit","offlineThrottleDelay","offlineFilename","usePlugins","doPlugins","configURL","visitorSampling","visitorSamplingGroup","linkObject","linkURL","linkName","linkType","trackDownloadLinks","trackExternalLinks","trackClickMap","trackInlineStats","linkLeaveQueryString","linkTrackVars","linkTrackEvents","linkDownloadFileTypes","linkExternalFilters","linkInternalFilters","useForcedLinkTracking","forcedLinkTrackingTimeout","trackingServer","trackingServerSecure","ssl","abort","mobile","dc","lightTrackVars","maxDelay","expectSupplementalData","AudienceManagement"];
for(i=0;75>=i;i++)e.c.push("prop"+i),e.H.push("prop"+i),e.c.push("eVar"+i),e.H.push("eVar"+i),6>i&&e.c.push("hier"+i),4>i&&e.c.push("list"+i);i=["resolution","colorDepth","javascriptVersion","javaEnabled","cookiesEnabled","browserWidth","browserHeight","connectionType","homepage","plugins"],e.c=e.c.concat(i),e.A=e.A.concat(i),e.ssl=t.location.protocol.toLowerCase().indexOf("https")>=0,e.charSet="UTF-8",e.contextData={},e.offlineThrottleDelay=0,e.offlineFilename="AppMeasurement.offline",e.ra=0,e.X=0,e.G=0,e.qa=0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.w=t,e.d=t.document;try{e.Wa="Microsoft Internet Explorer"==navigator.appName}catch(s){}e.T=function(){e.U&&(t.clearTimeout(e.U),e.U=n),e.i&&e.B&&e.i.dispatchEvent(e.B),e.q&&("function"==typeof e.q?e.q():e.i&&e.i.href&&(e.d.location=e.i.href)),e.i=e.B=e.q=0},e.ua=function(){e.b=e.d.body,e.b?(e.p=function(n){var i,r,o,a,s;if(!(e.d&&e.d.getElementById("cppXYctnr")||n&&n.cb)){if(e.fa){if(!e.useForcedLinkTracking)return e.b.removeEventListener("click",e.p,!0),void(e.fa=e.useForcedLinkTracking=0);e.b.removeEventListener("click",e.p,!1)}else e.useForcedLinkTracking=0;e.j=n.srcElement?n.srcElement:n.target;try{if(e.j&&(e.j.tagName||e.j.parentElement||e.j.parentNode)&&(o=e.la(),e.track(),o<e.la()&&e.useForcedLinkTracking&&n.target)){for(a=n.target;a&&a!=e.b&&"A"!=a.tagName.toUpperCase()&&"AREA"!=a.tagName.toUpperCase();)a=a.parentNode;if(a&&(s=a.href,e.na(s)||(s=0),r=a.target,n.target.dispatchEvent&&s&&(!r||"_self"==r||"_top"==r||"_parent"==r||t.name&&r==t.name))){try{i=e.d.createEvent("MouseEvents")}catch(l){i=new t.MouseEvent}if(i){try{i.initMouseEvent("click",n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)}catch(c){i=0}i&&(i.cb=1,n.stopPropagation(),n.gb&&n.gb(),n.preventDefault(),e.i=n.target,e.B=i)}}}}catch(u){}e.j=0}},e.b&&e.b.attachEvent?e.b.attachEvent("onclick",e.p):e.b&&e.b.addEventListener&&(navigator&&(navigator.userAgent.indexOf("WebKit")>=0&&e.d.createEvent||navigator.userAgent.indexOf("Firefox/2")>=0&&t.MouseEvent)&&(e.fa=1,e.useForcedLinkTracking=1,e.b.addEventListener("click",e.p,!0)),e.b.addEventListener("click",e.p,!1))):setTimeout(e.ua,30)},e.ua()}function s_gi(e){var t,n,i,r,o,a=window.s_c_il,s=e.split(","),l=0;if(a)for(n=0;!l&&n<a.length;){if(t=a[n],"s_c"==t._c&&(t.account||t.oun))if(t.account&&t.account==e)l=1;else for(i=t.account?t.account:t.oun,i=t.allAccounts?t.allAccounts:i.split(","),r=0;r<s.length;r++)for(o=0;o<i.length;o++)s[r]==i[o]&&(l=1);n++}return l||(t=new AppMeasurement),t.setAccount?t.setAccount(e):t.sa&&t.sa(e),t}function s_pgicq(){var e,t,n,i=window,r=i.s_giq;if(r)for(e=0;e<r.length;e++)t=r[e],n=s_gi(t.oun),n.setAccount(t.un),n.setTagContainer(t.tagContainerName);i.s_giq=0}function CSXSWindowType(){}function Version(e,t,n,i){this.major=e,this.minor=t,this.micro=n,this.special=i}function VersionBound(e,t){this.version=e,this.inclusive=t}function VersionRange(e,t){this.lowerBound=e,this.upperBound=t}function Runtime(e,t){this.name=e,this.versionRange=t}function Extension(e,t,n,i,r,o,a,s,l,c,u,d,p,f,h,m){this.id=e,this.name=t,this.mainPath=n,this.basePath=i,this.windowType=r,this.width=o,this.height=a,this.minWidth=s,this.minHeight=l,this.maxWidth=c,this.maxHeight=u,this.defaultExtensionDataXml=d,this.specialExtensionDataXml=p,this.requiredRuntimeList=f,this.isAutoVisible=h,this.isPluginExtension=m}function CSEvent(e,t,n,i){this.type=e,this.scope=t,this.appId=n,this.extensionId=i}function SystemPath(){}function ColorType(){}function RGBColor(e,t,n,i){this.red=e,this.green=t,this.blue=n,this.alpha=i}function Direction(e,t){this.x=e,this.y=t}function GradientStop(e,t){this.offset=e,this.rgbColor=t}function GradientColor(e,t,n,i){this.type=e,this.direction=t,this.numStops=n,this.arrGradientStop=i}function UIColor(e,t,n){this.type=e,this.antialiasLevel=t,this.color=n}function AppSkinInfo(e,t,n,i,r,o,a){this.baseFontFamily=e,this.baseFontSize=t,this.appBarBackgroundColor=n,this.panelBackgroundColor=i,this.appBarBackgroundColorSRGB=r,this.panelBackgroundColorSRGB=o,this.systemHighlightColor=a}function HostEnvironment(e,t,n,i,r,o,a){this.appName=e,this.appVersion=t,this.appLocale=n,this.appUILocale=i,this.appId=r,this.isAppOnline=o,this.appSkinInfo=a}function HostCapabilities(e,t,n,i,r){this.EXTENDED_PANEL_MENU=e,this.EXTENDED_PANEL_ICONS=t,this.DELEGATE_APE_ENGINE=n,this.SUPPORT_HTML_EXTENSIONS=i,this.DISABLE_FLASH_EXTENSIONS=r}function ApiVersion(e,t,n){this.major=e,this.minor=t,this.micro=n}function MenuItemStatus(e,t,n){this.menuItemLabel=e,this.enabled=t,this.checked=n}function ContextMenuItemStatus(e,t,n){this.menuItemID=e,this.enabled=t,this.checked=n}function CSInterface(){}function AAMStatus(e,t,n){this.status=e,this.callerId=t,this.payload=n}function IMSInterface(){}function Vulcan(){}function VulcanMessage(e){this.type=e,this.scope=VulcanMessage.SCOPE_SUITE,this.appId=VulcanMessage.DEFAULT_APP_ID,this.appVersion=VulcanMessage.DEFAULT_APP_VERSION,this.data=VulcanMessage.DEFAULT_DATA}function GetValueByKey(e,t){if(window.DOMParser){var n=new window.DOMParser;try{var i=n.parseFromString(e,"text/xml"),r=i.getElementsByTagName(t)[0];if(r&&r.childNodes[0])return r.childNodes[0].nodeValue}catch(o){}}return""}function requiredParamsValid(){for(var e=0;e<arguments.length;e++){var t=arguments[e];if(void 0===t||null===t)return!1}return!0}function strStartsWith(e,t){return"string"!=typeof e?!1:0===e.indexOf(t)}var requirejs,require,define;if(function(e){function t(e,t){return v.call(e,t)}function n(e,t){var n,i,r,o,a,s,l,c,u,d,p,f,h=t&&t.split("/"),g=m.map,v=g&&g["*"]||{};if(e){for(e=e.split("/"),a=e.length-1,m.nodeIdCompat&&y.test(e[a])&&(e[a]=e[a].replace(y,"")),"."===e[0].charAt(0)&&h&&(f=h.slice(0,h.length-1),e=f.concat(e)),u=0;u<e.length;u++)if(p=e[u],"."===p)e.splice(u,1),u-=1;else if(".."===p){if(0===u||1===u&&".."===e[2]||".."===e[u-1])continue;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((h||v)&&g){for(n=e.split("/"),u=n.length;u>0;u-=1){if(i=n.slice(0,u).join("/"),h)for(d=h.length;d>0;d-=1)if(r=g[h.slice(0,d).join("/")],r&&(r=r[i])){o=r,s=u;break}if(o)break;!l&&v&&v[i]&&(l=v[i],c=u)}!o&&l&&(o=l,s=c),o&&(n.splice(0,s,o),e=n.join("/"))}return e}function i(t,n){return function(){var i=_.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),u.apply(e,i.concat([t,n]))}}function r(e){return function(t){return n(t,e)}}function o(e){return function(t){f[e]=t}}function a(n){if(t(h,n)){var i=h[n];delete h[n],g[n]=!0,c.apply(e,i)}if(!t(f,n)&&!t(g,n))throw new Error("No "+n);return f[n]}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function l(e){return function(){return m&&m.config&&m.config[e]||{}}}var c,u,d,p,f={},h={},m={},g={},v=Object.prototype.hasOwnProperty,_=[].slice,y=/\.js$/;d=function(e,t){var i,o=s(e),l=o[0];return e=o[1],l&&(l=n(l,t),i=a(l)),l?e=i&&i.normalize?i.normalize(e,r(t)):n(e,t):(e=n(e,t),o=s(e),l=o[0],e=o[1],l&&(i=a(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:i}},p={require:function(e){return i(e)},exports:function(e){var t=f[e];return"undefined"!=typeof t?t:f[e]={}},module:function(e){return{id:e,uri:"",exports:f[e],config:l(e)}}},c=function(n,r,s,l){var c,u,m,v,_,y,E=[],b=typeof s;if(l=l||n,"undefined"===b||"function"===b){for(r=!r.length&&s.length?["require","exports","module"]:r,_=0;_<r.length;_+=1)if(v=d(r[_],l),u=v.f,"require"===u)E[_]=p.require(n);else if("exports"===u)E[_]=p.exports(n),y=!0;else if("module"===u)c=E[_]=p.module(n);else if(t(f,u)||t(h,u)||t(g,u))E[_]=a(u);else{if(!v.p)throw new Error(n+" missing "+u);v.p.load(v.n,i(l,!0),o(u),{}),E[_]=f[u]}m=s?s.apply(f[n],E):void 0,n&&(c&&c.exports!==e&&c.exports!==f[n]?f[n]=c.exports:m===e&&y||(f[n]=m))}else n&&(f[n]=s)},requirejs=require=u=function(t,n,i,r,o){if("string"==typeof t)return p[t]?p[t](n):a(d(t,n).f);if(!t.splice){if(m=t,m.deps&&u(m.deps,m.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?c(e,t,n,i):setTimeout(function(){c(e,t,n,i)},4),u},u.config=function(e){return u(e)},requirejs._defined=f,define=function(e,n,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");n.splice||(i=n,n=[]),t(f,e)||t(h,e)||(h[e]=[e,n,i])},define.amd={jQuery:!0}}(),define("../../node_modules/almond/almond",function(){}),!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){t=t||Q;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function i(e){var t=!!e&&"length"in e&&e.length,n=pe.type(e);return"function"!==n&&!pe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(pe.isFunction(t))return pe.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return pe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Le.test(t))return pe.filter(t,e,n);t=pe.filter(t,e)}return pe.grep(e,function(e){return re.call(t,e)>-1!==n&&1===e.nodeType})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return pe.each(e.match(De)||[],function(e,n){t[n]=!0}),t}function s(e){return e}function l(e){throw e}function c(e,t,n){var i;try{e&&pe.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&pe.isFunction(i=e.then)?i.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function u(){Q.removeEventListener("DOMContentLoaded",u),e.removeEventListener("load",u),pe.ready()}function d(){this.expando=pe.expando+d.uid++}function p(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Me,"-$&").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:ke.test(n)?JSON.parse(n):n)}catch(r){}Pe.set(e,t,n)}else n=void 0;return n}function f(e,t,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return pe.css(e,t,"")},l=s(),c=n&&n[3]||(pe.cssNumber[t]?"":"px"),u=(pe.cssNumber[t]||"px"!==c&&+l)&&$e.exec(pe.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do o=o||".5",u/=o,pe.style(e,t,u+c);while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function h(e){var t,n=e.ownerDocument,i=e.nodeName,r=Be[i];return r?r:(t=n.body.appendChild(n.createElement(i)),r=pe.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),Be[i]=r,r)}function m(e,t){for(var n,i,r=[],o=0,a=e.length;a>o;o++)i=e[o],i.style&&(n=i.style.display,t?("none"===n&&(r[o]=Ne.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Ye(i)&&(r[o]=h(i))):"none"!==n&&(r[o]="none",Ne.set(i,"display",n)));for(o=0;a>o;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}function g(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&pe.nodeName(e,t)?pe.merge([e],n):n}function v(e,t){for(var n=0,i=e.length;i>n;n++)Ne.set(e[n],"globalEval",!t||Ne.get(t[n],"globalEval"))}function _(e,t,n,i,r){for(var o,a,s,l,c,u,d=t.createDocumentFragment(),p=[],f=0,h=e.length;h>f;f++)if(o=e[f],o||0===o)if("object"===pe.type(o))pe.merge(p,o.nodeType?[o]:o);else if(Ge.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(He.exec(o)||["",""])[1].toLowerCase(),l=We[s]||We._default,a.innerHTML=l[1]+pe.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;pe.merge(p,a.childNodes),a=d.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(d.textContent="",f=0;o=p[f++];)if(i&&pe.inArray(o,i)>-1)r&&r.push(o);else if(c=pe.contains(o.ownerDocument,o),a=g(d.appendChild(o),"script"),c&&v(a),n)for(u=0;o=a[u++];)qe.test(o.type||"")&&n.push(o);return d}function y(){return!0}function E(){return!1}function b(){try{return Q.activeElement}catch(e){}}function L(e,t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)L(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=E;else if(!r)return e;return 1===o&&(a=r,r=function(e){return pe().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,r,i,n)})}function S(e,t){return pe.nodeName(e,"table")&&pe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function A(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function T(e){var t=tt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(Ne.hasData(e)&&(o=Ne.access(e),a=Ne.set(t,o),c=o.events)){delete a.handle,a.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)pe.event.add(t,r,c[r][n])}Pe.hasData(e)&&(s=Pe.access(e),l=pe.extend({},s),Pe.set(t,l))}}function I(e,t){var n=t.nodeName.toLowerCase();"input"===n&&je.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function D(e,t,i,r){t=ne.apply([],t);var o,a,s,l,c,u,d=0,p=e.length,f=p-1,h=t[0],m=pe.isFunction(h);if(m||p>1&&"string"==typeof h&&!ue.checkClone&&et.test(h))return e.each(function(n){var o=e.eq(n);m&&(t[0]=h.call(this,n,o.html())),D(o,t,i,r)});if(p&&(o=_(t,e[0].ownerDocument,!1,e,r),a=o.firstChild,1===o.childNodes.length&&(o=a),a||r)){for(s=pe.map(g(o,"script"),A),l=s.length;p>d;d++)c=o,d!==f&&(c=pe.clone(c,!0,!0),l&&pe.merge(s,g(c,"script"))),i.call(e[d],c,d);if(l)for(u=s[s.length-1].ownerDocument,pe.map(s,T),d=0;l>d;d++)c=s[d],qe.test(c.type||"")&&!Ne.access(c,"globalEval")&&pe.contains(u,c)&&(c.src?pe._evalUrl&&pe._evalUrl(c.src):n(c.textContent.replace(nt,""),u))}return e}function w(e,t,n){for(var i,r=t?pe.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||pe.cleanData(g(i)),i.parentNode&&(n&&pe.contains(i.ownerDocument,i)&&v(g(i,"script")),i.parentNode.removeChild(i));return e}function O(e,t,n){var i,r,o,a,s=e.style;return n=n||ot(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||pe.contains(e.ownerDocument,e)||(a=pe.style(e,t)),!ue.pixelMarginRight()&&rt.test(a)&&it.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function R(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function x(e){if(e in ut)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ct.length;n--;)if(e=ct[n]+t,e in ut)return e}function N(e,t,n){var i=$e.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function P(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=pe.css(e,n+Fe[o],!0,r)),i?("content"===n&&(a-=pe.css(e,"padding"+Fe[o],!0,r)),"margin"!==n&&(a-=pe.css(e,"border"+Fe[o]+"Width",!0,r))):(a+=pe.css(e,"padding"+Fe[o],!0,r),"padding"!==n&&(a+=pe.css(e,"border"+Fe[o]+"Width",!0,r)));return a}function k(e,t,n){var i,r=!0,o=ot(e),a="border-box"===pe.css(e,"boxSizing",!1,o);if(e.getClientRects().length&&(i=e.getBoundingClientRect()[t]),0>=i||null==i){if(i=O(e,t,o),(0>i||null==i)&&(i=e.style[t]),rt.test(i))return i;r=a&&(ue.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+P(e,t,n||(a?"border":"content"),r,o)+"px"}function M(e,t,n,i,r){return new M.prototype.init(e,t,n,i,r)}function U(){pt&&(e.requestAnimationFrame(U),pe.fx.tick())}function $(){return e.setTimeout(function(){dt=void 0}),dt=pe.now()}function F(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=Fe[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Y(e,t,n){for(var i,r=(j.tweeners[t]||[]).concat(j.tweeners["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function V(e,t,n){var i,r,o,a,s,l,c,u,d="width"in t||"height"in t,p=this,f={},h=e.style,g=e.nodeType&&Ye(e),v=Ne.get(e,"fxshow");n.queue||(a=pe._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,pe.queue(e,"fx").length||a.empty.fire()})}));for(i in t)if(r=t[i],ft.test(r)){if(delete t[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}f[i]=v&&v[i]||pe.style(e,i)}if(l=!pe.isEmptyObject(t),l||!pe.isEmptyObject(f)){d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=v&&v.display,null==c&&(c=Ne.get(e,"display")),u=pe.css(e,"display"),"none"===u&&(c?u=c:(m([e],!0),c=e.style.display||c,u=pe.css(e,"display"),m([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===pe.css(e,"float")&&(l||(p.done(function(){h.display=c}),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1;for(i in f)l||(v?"hidden"in v&&(g=v.hidden):v=Ne.access(e,"fxshow",{display:c}),o&&(v.hidden=!g),g&&m([e],!0),p.done(function(){g||m([e]),Ne.remove(e,"fxshow");for(i in f)pe.style(e,i,f[i])})),l=Y(g?v[i]:0,i,p),i in v||(v[i]=l.start,g&&(l.end=l.start,l.start=0))}}function B(e,t){var n,i,r,o,a;for(n in e)if(i=pe.camelCase(n),r=t[i],o=e[n],pe.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=pe.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function j(e,t,n){var i,r,o=0,a=j.prefilters.length,s=pe.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=dt||$(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||$(),duration:n.duration,tweens:[],createTween:function(t,n){var i=pe.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(B(u,c.opts.specialEasing);a>o;o++)if(i=j.prefilters[o].call(c,e,u,c.opts))return pe.isFunction(i.stop)&&(pe._queueHooks(c.elem,c.opts.queue).stop=pe.proxy(i.stop,i)),i;return pe.map(u,Y,c),pe.isFunction(c.opts.start)&&c.opts.start.call(e,c),pe.fx.timer(pe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return e.getAttribute&&e.getAttribute("class")||""}function q(e,t,n,i){var r;if(pe.isArray(t))pe.each(t,function(t,r){n||Ct.test(e)?i(e,r):q(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==pe.type(t))i(e,t);else for(r in t)q(e+"["+r+"]",t[r],n,i)}function W(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(De)||[];if(pe.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function G(e,t,n,i){function r(s){var l;return o[s]=!0,pe.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===$t;return r(t.dataTypes[0])||!o["*"]&&r("*")}function z(e,t){var n,i,r=pe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&pe.extend(!0,e,i),e}function X(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function K(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function J(e){return pe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Z=[],Q=e.document,ee=Object.getPrototypeOf,te=Z.slice,ne=Z.concat,ie=Z.push,re=Z.indexOf,oe={},ae=oe.toString,se=oe.hasOwnProperty,le=se.toString,ce=le.call(Object),ue={},de="3.1.0",pe=function(e,t){return new pe.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,he=/^-ms-/,me=/-([a-z])/g,ge=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:de,constructor:pe,length:0,toArray:function(){return te.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:te.call(this)},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ie,sort:Z.sort,splice:Z.splice},pe.extend=pe.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||pe.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(c&&i&&(pe.isPlainObject(i)||(r=pe.isArray(i)))?(r?(r=!1,o=n&&pe.isArray(n)?n:[]):o=n&&pe.isPlainObject(n)?n:{},a[t]=pe.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},pe.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=pe.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ae.call(e)||(t=ee(e))&&(n=se.call(t,"constructor")&&t.constructor,"function"!=typeof n||le.call(n)!==ce))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?oe[ae.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(he,"ms-").replace(me,ge)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(i(e))for(n=e.length;n>r&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?pe.merge(n,"string"==typeof e?[e]:e):ie.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:re.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,n){var r,o,a=0,s=[];if(i(e))for(r=e.length;r>a;a++)o=t(e[a],a,n),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,n),null!=o&&s.push(o);return ne.apply([],s)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),pe.isFunction(e)?(i=te.call(arguments,2),r=function(){return e.apply(t||this,i.concat(te.call(arguments)))},r.guid=e.guid=e.guid||pe.guid++,r):void 0},now:Date.now,support:ue}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=Z[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){oe["[object "+t+"]"]=t.toLowerCase()});var ve=function(e){function t(e,t,n,i){var r,o,a,s,l,c,u,p=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!i&&((t?t.ownerDocument||t:V)!==N&&x(t),t=t||N,k)){if(11!==h&&(l=ve.exec(e)))if(r=l[1]){if(9===h){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(p&&(a=p.getElementById(r))&&F(t,a)&&a.id===r)return n.push(a),n}else{if(l[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&L.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(r)),n}if(L.qsa&&!W[e+" "]&&(!M||!M.test(e))){if(1!==h)p=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,Le):t.setAttribute("id",s=Y),c=C(e),o=c.length;o--;)c[o]="#"+s+" "+f(c[o]);u=c.join(","),p=_e.test(e)&&d(t.parentNode)||t}if(u)try{return Z.apply(n,p.querySelectorAll(u)),n}catch(m){}finally{s===Y&&t.removeAttribute("id")}}}return D(e.replace(se,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[Y]=!0,e}function r(e){var t=N.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)S.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return function(t){return"label"in t&&t.disabled===e||"form"in t&&t.disabled===e||"form"in t&&t.disabled===!1&&(t.isDisabled===e||t.isDisabled!==!e&&("label"in t||!Ae(t))!==e)}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function f(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=j++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r)}:function(t,n,l){var c,u,d,p=[B,s];if(l){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(d=t[Y]||(t[Y]={}),u=d[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[o])&&c[0]===B&&c[1]===s)return p[2]=c[2];if(u[o]=p,p[2]=e(t,n,l))return!0}}}function m(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function v(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function _(e,t,n,r,o,a){return r&&!r[Y]&&(r=_(r)),o&&!o[Y]&&(o=_(o,a)),i(function(i,a,s,l){var c,u,d,p=[],f=[],h=a.length,m=i||g(t||"*",s.nodeType?[s]:s,[]),_=!e||!i&&t?m:v(m,p,e,s,l),y=n?o||(i?e:h||r)?[]:a:_;if(n&&n(_,y,s,l),r)for(c=v(y,f),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[f[u]]=!(_[f[u]]=d));if(i){if(o||e){if(o){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(_[u]=d);o(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=o?ee(i,d):p[u])>-1&&(i[c]=!(a[c]=d))}}else y=v(y===a?y.splice(h,y.length):y),o?o(null,a,y,l):Z.apply(a,y)})}function y(e){for(var t,n,i,r=e.length,o=S.relative[e[0].type],a=o||S.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),c=h(function(e){return ee(t,e)>-1},a,!0),u=[function(e,n,i){var r=!o&&(i||n!==w)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];r>s;s++)if(n=S.relative[e[s].type])u=[h(m(u),n)];else{if(n=S.filter[e[s].type].apply(null,e[s].matches),n[Y]){for(i=++s;r>i&&!S.relative[e[i].type];i++);return _(s>1&&m(u),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&f(e))}u.push(n)}return m(u)}function E(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,c){var u,d,p,f=0,h="0",m=i&&[],g=[],_=w,y=i||o&&S.find.TAG("*",c),E=B+=null==_?1:Math.random()||.1,b=y.length;for(c&&(w=a===N||a||c);h!==b&&null!=(u=y[h]);h++){if(o&&u){for(d=0,a||u.ownerDocument===N||(x(u),s=!k);p=e[d++];)if(p(u,a||N,s)){l.push(u);break}c&&(B=E)}r&&((u=!p&&u)&&f--,i&&m.push(u))}if(f+=h,r&&h!==f){for(d=0;p=n[d++];)p(m,g,a,s);if(i){if(f>0)for(;h--;)m[h]||g[h]||(g[h]=K.call(l));g=v(g)}Z.apply(l,g),c&&!i&&g.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(B=E,w=_),m};return r?i(a):a}var b,L,S,A,T,C,I,D,w,O,R,x,N,P,k,M,U,$,F,Y="sizzle"+1*new Date,V=e.document,B=0,j=0,H=n(),q=n(),W=n(),G=function(e,t){return e===t&&(R=!0),0},z={}.hasOwnProperty,X=[],K=X.pop,J=X.push,Z=X.push,Q=X.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),pe=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_e=/[+~]/,ye=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ee=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,Le=function(e,t){return t?"\x00"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Se=function(){x()},Ae=h(function(e){return e.disabled===!0},{dir:"parentNode",next:"legend"});try{Z.apply(X=Q.call(V.childNodes),V.childNodes),X[V.childNodes.length].nodeType}catch(Te){Z={apply:X.length?function(e,t){J.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}L=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},x=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:V;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,P=N.documentElement,k=!T(N),V!==N&&(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Se,!1):n.attachEvent&&n.attachEvent("onunload",Se)),L.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),L.getElementsByTagName=r(function(e){return e.appendChild(N.createComment("")),!e.getElementsByTagName("*").length}),L.getElementsByClassName=ge.test(N.getElementsByClassName),L.getById=r(function(e){return P.appendChild(e).id=Y,!N.getElementsByName||!N.getElementsByName(Y).length;
}),L.getById?(S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&k){var n=t.getElementById(e);return n?[n]:[]}},S.filter.ID=function(e){var t=e.replace(ye,Ee);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(ye,Ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=L.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):L.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},S.find.CLASS=L.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&k?t.getElementsByClassName(e):void 0},U=[],M=[],(L.qsa=ge.test(N.querySelectorAll))&&(r(function(e){P.appendChild(e).innerHTML="<a id='"+Y+"'></a><select id='"+Y+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+Y+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+Y+"+*").length||M.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=N.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&M.push(":enabled",":disabled"),P.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(L.matchesSelector=ge.test($=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(e){L.disconnectedMatch=$.call(e,"*"),$.call(e,"[s!='']:x"),U.push("!=",oe)}),M=M.length&&new RegExp(M.join("|")),U=U.length&&new RegExp(U.join("|")),t=ge.test(P.compareDocumentPosition),F=t||ge.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){if(e===t)return R=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!L.sortDetached&&t.compareDocumentPosition(e)===n?e===N||e.ownerDocument===V&&F(V,e)?-1:t===N||t.ownerDocument===V&&F(V,t)?1:O?ee(O,e)-ee(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return R=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!r||!o)return e===N?-1:t===N?1:r?-1:o?1:O?ee(O,e)-ee(O,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===V?-1:l[i]===V?1:0},N):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&x(e),n=n.replace(ue,"='$1']"),L.matchesSelector&&k&&!W[n+" "]&&(!U||!U.test(n))&&(!M||!M.test(n)))try{var i=$.call(e,n);if(i||L.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&x(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&x(e);var n=S.attrHandle[t.toLowerCase()],i=n&&z.call(S.attrHandle,t.toLowerCase())?n(e,t,!k):void 0;return void 0!==i?i:L.attributes||!k?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(be,Le)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(R=!L.detectDuplicates,O=!L.sortStable&&e.slice(0),e.sort(G),R){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return O=null,e},A=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=A(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=A(t);return n},S=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,Ee),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,Ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,f,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),_=!l&&!s,y=!1;if(g){if(o){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&_){for(p=g,d=p[Y]||(p[Y]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],f=c[0]===B&&c[1],y=f&&c[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(y=f=0)||h.pop();)if(1===p.nodeType&&++y&&p===t){u[e]=[B,f,y];break}}else if(_&&(p=t,d=p[Y]||(p[Y]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],f=c[0]===B&&c[1],y=f),y===!1)for(;(p=++f&&p&&p[m]||(y=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++y||(_&&(d=p[Y]||(p[Y]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),u[e]=[B,y]),p!==t)););return y-=r,y===i||y%i===0&&y/i>=0}}},PSEUDO:function(e,n){var r,o=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[Y]?o(n):o.length>1?(r=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=ee(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=I(e.replace(se,"$1"));return r[Y]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(ye,Ee),function(t){return(t.textContent||t.innerText||A(t)).indexOf(e)>-1}}),lang:i(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,Ee).toLowerCase(),function(t){var n;do if(n=k?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},S.pseudos.nth=S.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})S.pseudos[b]=l(b);return p.prototype=S.filters=S.pseudos,S.setFilters=new p,C=t.tokenize=function(e,n){var i,r,o,a,s,l,c,u=q[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=S.preFilter;s;){i&&!(r=le.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ce.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(se," ")}),s=s.slice(i.length));for(a in S.filter)!(r=fe[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):q(e,l).slice(0)},I=t.compile=function(e,t){var n,i=[],r=[],o=W[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)o=y(t[n]),o[Y]?i.push(o):r.push(o);o=W(e,E(r,i)),o.selector=e}return o},D=t.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,u=!i&&C(e=c.selector||e);if(n=n||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&L.getById&&9===t.nodeType&&k&&S.relative[o[1].type]){if(t=(S.find.ID(a.matches[0].replace(ye,Ee),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!S.relative[s=a.type]);)if((l=S.find[s])&&(i=l(a.matches[0].replace(ye,Ee),_e.test(o[0].type)&&d(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&f(o),!e)return Z.apply(n,i),n;break}}return(c||I(e,u))(i,t,!k,n,!t||_e.test(e)&&d(t.parentNode)||t),n},L.sortStable=Y.split("").sort(G).join("")===Y,L.detectDuplicates=!!R,x(),L.sortDetached=r(function(e){return 1&e.compareDocumentPosition(N.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),L.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);pe.find=ve,pe.expr=ve.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=ve.uniqueSort,pe.text=ve.getText,pe.isXMLDoc=ve.isXML,pe.contains=ve.contains,pe.escapeSelector=ve.escape;var _e=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&pe(e).is(n))break;i.push(e)}return i},ye=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ee=pe.expr.match.needsContext,be=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Le=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?pe.find.matchesSelector(i,e)?[i]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(pe(e).filter(function(){for(t=0;i>t;t++)if(pe.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;i>t;t++)pe.find(e,r[t],n);return i>1?pe.uniqueSort(n):n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&Ee.test(e)?pe(e):e||[],!1).length}});var Se,Ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Te=pe.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||Se,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ae.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),be.test(i[1])&&pe.isPlainObject(t))for(i in t)pe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return r=Q.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):pe.isFunction(e)?void 0!==n.ready?n.ready(e):e(pe):pe.makeArray(e,this)};Te.prototype=pe.fn,Se=pe(Q);var Ce=/^(?:parents|prev(?:Until|All))/,Ie={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t=pe(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(pe.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&pe(e);if(!Ee.test(e))for(;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&pe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?pe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?re.call(pe(e),this[0]):re.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _e(e,"parentNode")},parentsUntil:function(e,t,n){return _e(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return _e(e,"nextSibling")},prevAll:function(e){return _e(e,"previousSibling")},nextUntil:function(e,t,n){return _e(e,"nextSibling",n)},prevUntil:function(e,t,n){return _e(e,"previousSibling",n)},siblings:function(e){return ye((e.parentNode||{}).firstChild,e)},children:function(e){return ye(e.firstChild)},contents:function(e){return e.contentDocument||pe.merge([],e.childNodes)}},function(e,t){pe.fn[e]=function(n,i){var r=pe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=pe.filter(i,r)),this.length>1&&(Ie[e]||pe.uniqueSort(r),Ce.test(e)&&r.reverse()),this.pushStack(r)}});var De=/\S+/g;pe.Callbacks=function(e){e="string"==typeof e?a(e):pe.extend({},e);var t,n,i,r,o=[],s=[],l=-1,c=function(){for(r=e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<o.length;)o[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(l=o.length-1,s.push(n)),function i(t){pe.each(t,function(t,n){pe.isFunction(n)?e.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==pe.type(n)&&i(n)})}(arguments),n&&!t&&c()),this},remove:function(){return pe.each(arguments,function(e,t){for(var n;(n=pe.inArray(t,o,n))>-1;)o.splice(n,1),l>=n&&l--}),this},has:function(e){return e?pe.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},pe.extend({Deferred:function(t){var n=[["notify","progress",pe.Callbacks("memory"),pe.Callbacks("memory"),2],["resolve","done",pe.Callbacks("once memory"),pe.Callbacks("once memory"),0,"resolved"],["reject","fail",pe.Callbacks("once memory"),pe.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return r.then(null,e)},pipe:function(){var e=arguments;return pe.Deferred(function(t){pe.each(n,function(n,i){var r=pe.isFunction(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,i,r){function o(t,n,i,r){return function(){var c=this,u=arguments,d=function(){var e,d;if(!(a>t)){if(e=i.apply(c,u),e===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,pe.isFunction(d)?r?d.call(e,o(a,n,s,r),o(a,n,l,r)):(a++,d.call(e,o(a,n,s,r),o(a,n,l,r),o(a,n,s,n.notifyWith))):(i!==s&&(c=void 0,u=[e]),(r||n.resolveWith)(c,u))}},p=r?d:function(){try{d()}catch(e){pe.Deferred.exceptionHook&&pe.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(i!==l&&(c=void 0,u=[e]),n.rejectWith(c,u))}};t?p():(pe.Deferred.getStackHook&&(p.stackTrace=pe.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return pe.Deferred(function(e){n[0][3].add(o(0,e,pe.isFunction(r)?r:s,e.notifyWith)),n[1][3].add(o(0,e,pe.isFunction(t)?t:s)),n[2][3].add(o(0,e,pe.isFunction(i)?i:l))}).promise()},promise:function(e){return null!=e?pe.extend(e,r):r}},o={};return pe.each(n,function(e,t){var a=t[2],s=t[5];r[t[1]]=a.add,s&&a.add(function(){i=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=te.call(arguments),o=pe.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?te.call(arguments):n,--t||o.resolveWith(i,r)}};if(1>=t&&(c(e,o.done(a(n)).resolve,o.reject),"pending"===o.state()||pe.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)c(r[n],a(n),o.reject);return o.promise()}});var we=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pe.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&we.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},pe.readyException=function(t){e.setTimeout(function(){throw t})};var Oe=pe.Deferred();pe.fn.ready=function(e){return Oe.then(e)["catch"](function(e){pe.readyException(e)}),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(e===!0?--pe.readyWait:pe.isReady)||(pe.isReady=!0,e!==!0&&--pe.readyWait>0||Oe.resolveWith(Q,[pe]))}}),pe.ready.then=Oe.then,"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?e.setTimeout(pe.ready):(Q.addEventListener("DOMContentLoaded",u),e.addEventListener("load",u));var Re=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===pe.type(n)){r=!0;for(s in n)Re(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,pe.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(pe(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o},xe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};d.uid=1,d.prototype={cache:function(e){var t=e[this.expando];return t||(t={},xe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[pe.camelCase(t)]=n;else for(i in t)r[pe.camelCase(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][pe.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){pe.isArray(t)?t=t.map(pe.camelCase):(t=pe.camelCase(t),t=t in i?[t]:t.match(De)||[]),n=t.length;for(;n--;)delete i[t[n]]}(void 0===t||pe.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!pe.isEmptyObject(t)}};var Ne=new d,Pe=new d,ke=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Me=/[A-Z]/g;pe.extend({hasData:function(e){return Pe.hasData(e)||Ne.hasData(e)},data:function(e,t,n){return Pe.access(e,t,n)},removeData:function(e,t){Pe.remove(e,t)},_data:function(e,t,n){return Ne.access(e,t,n)},_removeData:function(e,t){Ne.remove(e,t)}}),pe.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=Pe.get(o),1===o.nodeType&&!Ne.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=pe.camelCase(i.slice(5)),p(o,i,r[i])));Ne.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Pe.set(this,e)}):Re(this,function(t){var n;if(o&&void 0===t){if(n=Pe.get(o,e),void 0!==n)return n;if(n=p(o,e),void 0!==n)return n}else this.each(function(){Pe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Pe.remove(this,e)})}}),pe.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=Ne.get(e,t),n&&(!i||pe.isArray(n)?i=Ne.access(e,t,pe.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=pe.queue(e,t),i=n.length,r=n.shift(),o=pe._queueHooks(e,t),a=function(){pe.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ne.get(e,n)||Ne.access(e,n,{empty:pe.Callbacks("once memory").add(function(){Ne.remove(e,[t+"queue",n])})})}}),pe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?pe.queue(this[0],e):void 0===t?this:this.each(function(){var n=pe.queue(this,e,t);pe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&pe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=pe.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Ne.get(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var Ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$e=new RegExp("^(?:([+-])=|)("+Ue+")([a-z%]*)$","i"),Fe=["Top","Right","Bottom","Left"],Ye=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&pe.contains(e.ownerDocument,e)&&"none"===pe.css(e,"display")},Ve=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},Be={};pe.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ye(this)?pe(this).show():pe(this).hide()})}});var je=/^(?:checkbox|radio)$/i,He=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,qe=/^$|\/(?:java|ecma)script/i,We={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};We.optgroup=We.option,We.tbody=We.tfoot=We.colgroup=We.caption=We.thead,We.th=We.td;var Ge=/<|&#?\w+;/;!function(){var e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ue.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ue.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ze=Q.documentElement,Xe=/^key/,Ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Je=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,u,d,p,f,h,m,g=Ne.get(e);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&pe.find.matchesSelector(ze,r),n.guid||(n.guid=pe.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return"undefined"!=typeof pe&&pe.event.triggered!==t.type?pe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(De)||[""],c=t.length;c--;)s=Je.exec(t[c])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f&&(d=pe.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=pe.event.special[f]||{},u=pe.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&pe.expr.match.needsContext.test(r),namespace:h.join(".")},o),(p=l[f])||(p=l[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,i,h,a)!==!1||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),pe.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,p,f,h,m,g=Ne.hasData(e)&&Ne.get(e);if(g&&(l=g.events)){for(t=(t||"").match(De)||[""],c=t.length;c--;)if(s=Je.exec(t[c])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=pe.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,p=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)u=p[o],!r&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||pe.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)pe.event.remove(e,f+t[c],n,i,!0);pe.isEmptyObject(l)&&Ne.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=pe.event.fix(e),l=new Array(arguments.length),c=(Ne.get(this,"events")||{})[s.type]||[],u=pe.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,s)!==!1){for(a=pe.event.handlers.call(this,s,c),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,i=((pe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l),void 0!==i&&(s.result=i)===!1&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],n=0;s>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?pe(r,this).index(l)>-1:pe.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},addProp:function(e,t){Object.defineProperty(pe.Event.prototype,e,{enumerable:!0,configurable:!0,get:pe.isFunction(t)?function(){return this.originalEvent?t(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[e]:void 0},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[pe.expando]?e:new pe.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==b()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===b()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&pe.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return pe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},pe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},pe.Event=function(e,t){return this instanceof pe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?y:E,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),void(this[pe.expando]=!0)):new pe.Event(e,t)},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=y,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=y,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=y,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ke.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},pe.event.addProp),pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||pe.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),pe.fn.extend({on:function(e,t,n,i){return L(this,e,t,n,i)},one:function(e,t,n,i){return L(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,pe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=E),this.each(function(){pe.event.remove(this,e,n,t)})}});var Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Qe=/<script|<style|<link/i,et=/checked\s*(?:[^=]|=\s*.checked.)/i,tt=/^true\/(.*)/,nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pe.extend({htmlPrefilter:function(e){return e.replace(Ze,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=pe.contains(e.ownerDocument,e);if(!(ue.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(a=g(s),o=g(e),i=0,r=o.length;r>i;i++)I(o[i],a[i]);if(t)if(n)for(o=o||g(e),a=a||g(s),i=0,r=o.length;r>i;i++)C(o[i],a[i]);else C(e,s);return a=g(s,"script"),a.length>0&&v(a,!l&&g(e,"script")),s},cleanData:function(e){for(var t,n,i,r=pe.event.special,o=0;void 0!==(n=e[o]);o++)if(xe(n)){if(t=n[Ne.expando]){if(t.events)for(i in t.events)r[i]?pe.event.remove(n,i):pe.removeEvent(n,i,t.handle);n[Ne.expando]=void 0}n[Pe.expando]&&(n[Pe.expando]=void 0)}}}),pe.fn.extend({detach:function(e){return w(this,e,!0)},remove:function(e){return w(this,e)},text:function(e){return Re(this,function(e){return void 0===e?pe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e);
})},null,e,arguments.length)},append:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.appendChild(e)}})},prepend:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(pe.cleanData(g(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return Re(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Qe.test(e)&&!We[(He.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(pe.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return D(this,arguments,function(t){var n=this.parentNode;pe.inArray(this,e)<0&&(pe.cleanData(g(this)),n&&n.replaceChild(t,this))},e)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){pe.fn[e]=function(e){for(var n,i=[],r=pe(e),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),pe(r[a])[t](n),ie.apply(i,n.get());return this.pushStack(i)}});var it=/^margin/,rt=new RegExp("^("+Ue+")(?!px)[a-z%]+$","i"),ot=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",ze.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,i="4px"===t.width,s.style.marginRight="50%",r="4px"===t.marginRight,ze.removeChild(a),s=null}}var n,i,r,o,a=Q.createElement("div"),s=Q.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ue.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),pe.extend(ue,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),r},reliableMarginLeft:function(){return t(),o}}))}();var at=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"},ct=["Webkit","Moz","ms"],ut=Q.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=O(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=pe.camelCase(t),l=e.style;return t=pe.cssProps[s]||(pe.cssProps[s]=x(s)||s),a=pe.cssHooks[t]||pe.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=$e.exec(n))&&r[1]&&(n=f(e,t,r),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(pe.cssNumber[s]?"":"px")),ue.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var r,o,a,s=pe.camelCase(t);return t=pe.cssProps[s]||(pe.cssProps[s]=x(s)||s),a=pe.cssHooks[t]||pe.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=O(e,t,i)),"normal"===r&&t in lt&&(r=lt[t]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),pe.each(["height","width"],function(e,t){pe.cssHooks[t]={get:function(e,n,i){return n?!at.test(pe.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?k(e,t,i):Ve(e,st,function(){return k(e,t,i)}):void 0},set:function(e,n,i){var r,o=i&&ot(e),a=i&&P(e,t,i,"border-box"===pe.css(e,"boxSizing",!1,o),o);return a&&(r=$e.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=pe.css(e,t)),N(e,n,a)}}}),pe.cssHooks.marginLeft=R(ue.reliableMarginLeft,function(e,t){return t?(parseFloat(O(e,"marginLeft"))||e.getBoundingClientRect().left-Ve(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),pe.each({margin:"",padding:"",border:"Width"},function(e,t){pe.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Fe[i]+t]=o[i]||o[i-2]||o[0];return r}},it.test(e)||(pe.cssHooks[e+t].set=N)}),pe.fn.extend({css:function(e,t){return Re(this,function(e,t,n){var i,r,o={},a=0;if(pe.isArray(t)){for(i=ot(e),r=t.length;r>a;a++)o[t[a]]=pe.css(e,t[a],!1,i);return o}return void 0!==n?pe.style(e,t,n):pe.css(e,t)},e,t,arguments.length>1)}}),pe.Tween=M,M.prototype={constructor:M,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(pe.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=M.prototype.init,pe.fx.step={};var dt,pt,ft=/^(?:toggle|show|hide)$/,ht=/queueHooks$/;pe.Animation=pe.extend(j,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return f(n.elem,e,$e.exec(t),n),n}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(De);for(var n,i=0,r=e.length;r>i;i++)n=e[i],j.tweeners[n]=j.tweeners[n]||[],j.tweeners[n].unshift(t)},prefilters:[V],prefilter:function(e,t){t?j.prefilters.unshift(e):j.prefilters.push(e)}}),pe.speed=function(e,t,n){var i=e&&"object"==typeof e?pe.extend({},e):{complete:n||!n&&t||pe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!pe.isFunction(t)&&t};return pe.fx.off||Q.hidden?i.duration=0:i.duration="number"==typeof i.duration?i.duration:i.duration in pe.fx.speeds?pe.fx.speeds[i.duration]:pe.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){pe.isFunction(i.old)&&i.old.call(this),i.queue&&pe.dequeue(this,i.queue)},i},pe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ye).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=pe.isEmptyObject(e),o=pe.speed(t,n,i),a=function(){var t=j(this,pe.extend({},e),o);(r||Ne.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=pe.timers,a=Ne.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ht.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||pe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Ne.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=pe.timers,a=i?i.length:0;for(n.finish=!0,pe.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),pe.each(["toggle","show","hide"],function(e,t){var n=pe.fn[t];pe.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(F(t,!0),e,i,r)}}),pe.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){pe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),pe.timers=[],pe.fx.tick=function(){var e,t=0,n=pe.timers;for(dt=pe.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||pe.fx.stop(),dt=void 0},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){pt||(pt=e.requestAnimationFrame?e.requestAnimationFrame(U):e.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(pt):e.clearInterval(pt),pt=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(t,n){return t=pe.fx?pe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select"),n=t.appendChild(Q.createElement("option"));e.type="checkbox",ue.checkOn=""!==e.value,ue.optSelected=n.selected,e=Q.createElement("input"),e.value="t",e.type="radio",ue.radioValue="t"===e.value}();var mt,gt=pe.expr.attrHandle;pe.fn.extend({attr:function(e,t){return Re(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,n){var i,r,o=e.nodeType;return 3!==o&&8!==o&&2!==o?"undefined"==typeof e.getAttribute?pe.prop(e,t,n):(1===o&&pe.isXMLDoc(e)||(r=pe.attrHooks[t.toLowerCase()]||(pe.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void pe.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=pe.find.attr(e,t),null==i?void 0:i)):void 0},attrHooks:{type:{set:function(e,t){if(!ue.radioValue&&"radio"===t&&pe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(De);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),mt={set:function(e,t,n){return t===!1?pe.removeAttr(e,n):e.setAttribute(n,n),n}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=gt[t]||pe.find.attr;gt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=gt[a],gt[a]=r,r=null!=n(e,t,i)?a:null,gt[a]=o),r}});var vt=/^(?:input|select|textarea|button)$/i,_t=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return Re(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[pe.propFix[e]||e]})}}),pe.extend({prop:function(e,t,n){var i,r,o=e.nodeType;return 3!==o&&8!==o&&2!==o?(1===o&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,r=pe.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ue.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this});var yt=/[\t\r\n\f]/g;pe.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).addClass(e.call(this,t,H(this)))});if("string"==typeof e&&e)for(t=e.match(De)||[];n=this[l++];)if(r=H(n),i=1===n.nodeType&&(" "+r+" ").replace(yt," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=pe.trim(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).removeClass(e.call(this,t,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(De)||[];n=this[l++];)if(r=H(n),i=1===n.nodeType&&(" "+r+" ").replace(yt," ")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=pe.trim(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each(function(n){pe(this).toggleClass(e.call(this,n,H(this),t),t)}):this.each(function(){var t,i,r,o;if("string"===n)for(i=0,r=pe(this),o=e.match(De)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||(t=H(this),t&&Ne.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Ne.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+H(n)+" ").replace(yt," ").indexOf(t)>-1)return!0;return!1}});var Et=/\r/g,bt=/[\x20\t\r\n\f]+/g;pe.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=pe.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,pe(this).val()):e,null==r?r="":"number"==typeof r?r+="":pe.isArray(r)&&(r=pe.map(r,function(e){return null==e?"":e+""})),t=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=pe.valHooks[r.type]||pe.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Et,""):null==n?"":n)):void 0}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:pe.trim(pe.text(e)).replace(bt," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],(n.selected||l===r)&&!n.disabled&&(!n.parentNode.disabled||!pe.nodeName(n.parentNode,"optgroup"))){if(t=pe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=pe.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=pe.inArray(pe.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){return pe.isArray(t)?e.checked=pe.inArray(pe(e).val(),t)>-1:void 0}},ue.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Lt=/^(?:focusinfocus|focusoutblur)$/;pe.extend(pe.event,{trigger:function(t,n,i,r){var o,a,s,l,c,u,d,p=[i||Q],f=se.call(t,"type")?t.type:t,h=se.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!Lt.test(f+pe.event.triggered)&&(f.indexOf(".")>-1&&(h=f.split("."),f=h.shift(),h.sort()),c=f.indexOf(":")<0&&"on"+f,t=t[pe.expando]?t:new pe.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:pe.makeArray(n,[t]),d=pe.event.special[f]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!pe.isWindow(i)){for(l=d.delegateType||f,Lt.test(l+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(i.ownerDocument||Q)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||f,u=(Ne.get(a,"events")||{})[t.type]&&Ne.get(a,"handle"),u&&u.apply(a,n),u=c&&a[c],u&&u.apply&&xe(a)&&(t.result=u.apply(a,n),t.result===!1&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!xe(i)||c&&pe.isFunction(i[f])&&!pe.isWindow(i)&&(s=i[c],s&&(i[c]=null),pe.event.triggered=f,i[f](),pe.event.triggered=void 0,s&&(i[c]=s)),t.result}},simulate:function(e,t,n){var i=pe.extend(new pe.Event,n,{type:e,isSimulated:!0});pe.event.trigger(i,null,t)}}),pe.fn.extend({trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?pe.event.trigger(e,t,n,!0):void 0}}),pe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){pe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ue.focusin="onfocusin"in e,ue.focusin||pe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Ne.access(i,t);r||i.addEventListener(e,n,!0),Ne.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Ne.access(i,t)-1;r?Ne.access(i,t,r):(i.removeEventListener(e,n,!0),Ne.remove(i,t))}}});var St=e.location,At=pe.now(),Tt=/\?/;pe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+t),n};var Ct=/\[\]$/,It=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,wt=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var n,i=[],r=function(e,t){var n=pe.isFunction(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){r(this.name,this.value)});else for(n in e)q(n,e[n],t,r);return i.join("&")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&wt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=pe(this).val();return null==n?null:pe.isArray(n)?pe.map(n,function(e){return{name:t.name,value:e.replace(It,"\r\n")}}):{name:t.name,value:n.replace(It,"\r\n")}}).get()}});var Ot=/%20/g,Rt=/#.*$/,xt=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kt=/^(?:GET|HEAD)$/,Mt=/^\/\//,Ut={},$t={},Ft="*/".concat("*"),Yt=Q.createElement("a");Yt.href=St.href,pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:Pt.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,pe.ajaxSettings),t):z(pe.ajaxSettings,e)},ajaxPrefilter:W(Ut),ajaxTransport:W($t),ajax:function(t,n){function i(t,n,i,s){var c,p,f,E,b,L=n;u||(u=!0,l&&e.clearTimeout(l),r=void 0,a=s||"",S.readyState=t>0?4:0,c=t>=200&&300>t||304===t,i&&(E=X(h,S,i)),E=K(h,E,S,c),c?(h.ifModified&&(b=S.getResponseHeader("Last-Modified"),b&&(pe.lastModified[o]=b),b=S.getResponseHeader("etag"),b&&(pe.etag[o]=b)),204===t||"HEAD"===h.type?L="nocontent":304===t?L="notmodified":(L=E.state,p=E.data,f=E.error,c=!f)):(f=L,!t&&L||(L="error",0>t&&(t=0))),S.status=t,S.statusText=(n||L)+"",c?v.resolveWith(m,[p,L,S]):v.rejectWith(m,[S,L,f]),S.statusCode(y),y=void 0,d&&g.trigger(c?"ajaxSuccess":"ajaxError",[S,h,c?p:f]),_.fireWith(m,[S,L]),d&&(g.trigger("ajaxComplete",[S,h]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,a,s,l,c,u,d,p,f,h=pe.ajaxSetup({},n),m=h.context||h,g=h.context&&(m.nodeType||m.jquery)?pe(m):pe.event,v=pe.Deferred(),_=pe.Callbacks("once memory"),y=h.statusCode||{},E={},b={},L="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=Nt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(e,t){return null==u&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,E[e]=t),this},overrideMimeType:function(e){return null==u&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)S.always(e[S.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||L;return r&&r.abort(t),i(0,t),this}};if(v.promise(S),h.url=((t||h.url||St.href)+"").replace(Mt,St.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(De)||[""],null==h.crossDomain){c=Q.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=Yt.protocol+"//"+Yt.host!=c.protocol+"//"+c.host}catch(A){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=pe.param(h.data,h.traditional)),G(Ut,h,n,S),u)return S;d=pe.event&&h.global,d&&0===pe.active++&&pe.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!kt.test(h.type),o=h.url.replace(Rt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Ot,"+")):(f=h.url.slice(o.length),h.data&&(o+=(Tt.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(o=o.replace(xt,""),f=(Tt.test(o)?"&":"?")+"_="+At++ +f),h.url=o+f),h.ifModified&&(pe.lastModified[o]&&S.setRequestHeader("If-Modified-Since",pe.lastModified[o]),pe.etag[o]&&S.setRequestHeader("If-None-Match",pe.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",h.contentType),S.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ft+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)S.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(h.beforeSend.call(m,S,h)===!1||u))return S.abort();if(L="abort",_.add(h.complete),S.done(h.success),S.fail(h.error),r=G($t,h,n,S)){if(S.readyState=1,d&&g.trigger("ajaxSend",[S,h]),u)return S;h.async&&h.timeout>0&&(l=e.setTimeout(function(){S.abort("timeout")},h.timeout));try{u=!1,r.send(E,i)}catch(A){if(u)throw A;i(-1,A)}}else i(-1,"No Transport");return S},getJSON:function(e,t,n){return pe.get(e,t,n,"json")},getScript:function(e,t){return pe.get(e,void 0,t,"script")}}),pe.each(["get","post"],function(e,t){pe[t]=function(e,n,i,r){return pe.isFunction(n)&&(r=r||i,i=n,n=void 0),pe.ajax(pe.extend({url:e,type:t,dataType:r,data:n,success:i},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pe.fn.extend({wrapAll:function(e){var t;return this[0]&&(pe.isFunction(e)&&(e=e.call(this[0])),t=pe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return pe.isFunction(e)?this.each(function(t){pe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=pe.isFunction(e);return this.each(function(n){pe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){pe(this).replaceWith(this.childNodes)}),this}}),pe.expr.pseudos.hidden=function(e){return!pe.expr.pseudos.visible(e)},pe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},pe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Vt={0:200,1223:204},Bt=pe.ajaxSettings.xhr();ue.cors=!!Bt&&"withCredentials"in Bt,ue.ajax=Bt=!!Bt,pe.ajaxTransport(function(t){var n,i;return ue.cors||Bt&&!t.crossDomain?{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Vt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),pe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),pe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=pe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){n&&n()}}}});var jt=[],Ht=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jt.pop()||pe.expando+"_"+At++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(Ht.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=pe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ht,"$1"+r):t.jsonp!==!1&&(t.url+=(Tt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||pe.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){void 0===o?pe(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,jt.push(r)),a&&pe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),ue.createHTMLDocument=function(){var e=Q.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),pe.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,r,o;return t||(ue.createHTMLDocument?(t=Q.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=Q.location.href,t.head.appendChild(i)):t=Q),r=be.exec(e),o=!n&&[],r?[t.createElement(r[1])]:(r=_([e],t,o),o&&o.length&&pe(o).remove(),pe.merge([],r.childNodes))},pe.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=pe.trim(e.slice(s)),e=e.slice(0,s)),pe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&pe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?pe("<div>").append(pe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.pseudos.animated=function(e){return pe.grep(pe.timers,function(t){return e===t.elem}).length},pe.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c,u=pe.css(e,"position"),d=pe(e),p={};"static"===u&&(e.style.position="relative"),s=d.offset(),o=pe.css(e,"top"),l=pe.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),pe.isFunction(t)&&(t=t.call(e,n,pe.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+r),"using"in t?t.using.call(e,p):d.css(p)}},pe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){pe.offset.setOffset(this,e,t)});var t,n,i,r,o=this[0];return o?o.getClientRects().length?(i=o.getBoundingClientRect(),i.width||i.height?(r=o.ownerDocument,n=J(r),t=r.documentElement,{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===pe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pe.nodeName(e[0],"html")||(i=e.offset()),i={top:i.top+pe.css(e[0],"borderTopWidth",!0),left:i.left+pe.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-pe.css(n,"marginTop",!0),left:t.left-i.left-pe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||ze})}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;pe.fn[e]=function(i){return Re(this,function(e,i,r){var o=J(e);return void 0===r?o?o[t]:e[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r)},e,i,arguments.length)}}),pe.each(["top","left"],function(e,t){pe.cssHooks[t]=R(ue.pixelPosition,function(e,n){return n?(n=O(e,t),rt.test(n)?pe(e).position()[t]+"px":n):void 0})}),pe.each({Height:"height",Width:"width"},function(e,t){pe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){pe.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||o===!0?"margin":"border");return Re(this,function(t,n,r){var o;return pe.isWindow(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?pe.css(t,n,s):pe.style(t,n,r,s)},t,a?r:void 0,a)}})}),pe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),pe.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pe});var qt=e.jQuery,Wt=e.$;return pe.noConflict=function(t){return e.$===pe&&(e.$=Wt),t&&e.jQuery===pe&&(e.jQuery=qt),pe},t||(e.jQuery=e.$=pe),pe}),function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,i,r=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+r;return n<o.length?_e(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.5.8/"+(e?e+"/":"")+a,i=r,n="?";i<o.length;i++,n="&")s+=n+"p"+(i-r)+"="+encodeURIComponent(_e(o[i]));return new t(s)}}function n(e){if(null==e||C(e))return!1;if(Xi(e)||b(e)||$i&&e instanceof $i)return!0;var t="length"in Object(e)&&e.length;return L(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function i(e,t,r){var o,a;if(e)if(A(e))for(o in e)"prototype"==o||"length"==o||"name"==o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(r,e[o],o,e);else if(Xi(e)||n(e)){
var s="object"!=typeof e;for(o=0,a=e.length;a>o;o++)(s||o in e)&&t.call(r,e[o],o,e)}else if(e.forEach&&e.forEach!==i)e.forEach(t,r,e);else if(E(e))for(o in e)t.call(r,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(r,e[o],o,e);else for(o in e)xi.call(e,o)&&t.call(r,e[o],o,e);return e}function r(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function o(e){return function(t,n){e(n,t)}}function a(){return++zi}function s(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;o>r;++r){var a=t[r];if(y(a)||A(a))for(var c=Object.keys(a),u=0,d=c.length;d>u;u++){var p=c[u],f=a[p];n&&y(f)?S(f)?e[p]=new Date(f.valueOf()):T(f)?e[p]=new RegExp(f):f.nodeName?e[p]=f.cloneNode(!0):k(f)?e[p]=f.clone():(y(e[p])||(e[p]=Xi(f)?[]:{}),l(e[p],[f],!0)):e[p]=f}}return s(e,i),e}function c(e){return l(e,Vi.call(arguments,1),!1)}function u(e){return l(e,Vi.call(arguments,1),!0)}function d(e){return parseInt(e,10)}function p(e,t){return c(Object.create(e),t)}function f(){}function h(e){return e}function m(e){return function(){return e}}function g(e){return A(e.toString)&&e.toString!==Hi}function v(e){return"undefined"==typeof e}function _(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function E(e){return null!==e&&"object"==typeof e&&!qi(e)}function b(e){return"string"==typeof e}function L(e){return"number"==typeof e}function S(e){return"[object Date]"===Hi.call(e)}function A(e){return"function"==typeof e}function T(e){return"[object RegExp]"===Hi.call(e)}function C(e){return e&&e.window===e}function I(e){return e&&e.$evalAsync&&e.$watch}function D(e){return"[object File]"===Hi.call(e)}function w(e){return"[object FormData]"===Hi.call(e)}function O(e){return"[object Blob]"===Hi.call(e)}function R(e){return"boolean"==typeof e}function x(e){return e&&A(e.then)}function N(e){return e&&L(e.length)&&Ki.test(Hi.call(e))}function P(e){return"[object ArrayBuffer]"===Hi.call(e)}function k(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function M(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function U(e){return Ni(e.nodeName||e[0]&&e[0].nodeName)}function $(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function F(e,t){function n(e,t){var n,i=t.$$hashKey;if(Xi(e))for(var o=0,a=e.length;a>o;o++)t.push(r(e[o]));else if(E(e))for(n in e)t[n]=r(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));else for(n in e)xi.call(e,n)&&(t[n]=r(e[n]));return s(t,i),t}function r(e){if(!y(e))return e;var t=a.indexOf(e);if(-1!==t)return l[t];if(C(e)||I(e))throw Wi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=o(e);return void 0===r&&(r=Xi(e)?[]:Object.create(qi(e)),i=!0),a.push(e),l.push(r),i?n(e,r):r}function o(e){switch(Hi.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(r(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}return A(e.cloneNode)?e.cloneNode(!0):void 0}var a=[],l=[];if(t){if(N(t)||P(t))throw Wi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Wi("cpi","Can't copy! Source and destination are identical.");return Xi(t)?t.length=0:i(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),l.push(t),n(e,t)}return r(e)}function Y(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i,r,o=typeof e,a=typeof t;if(o==a&&"object"==o){if(!Xi(e)){if(S(e))return S(t)?Y(e.getTime(),t.getTime()):!1;if(T(e))return T(t)?e.toString()==t.toString():!1;if(I(e)||I(t)||C(e)||C(t)||Xi(t)||S(t)||T(t))return!1;r=he();for(i in e)if("$"!==i.charAt(0)&&!A(e[i])){if(!Y(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&_(t[i])&&!A(t[i]))return!1;return!0}if(!Xi(t))return!1;if((n=e.length)==t.length){for(i=0;n>i;i++)if(!Y(e[i],t[i]))return!1;return!0}}return!1}function V(e,t,n){return e.concat(Vi.call(t,n))}function B(e,t){return Vi.call(e,t||0)}function j(e,t){var n=arguments.length>2?B(arguments,2):[];return!A(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,V(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function H(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:C(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":I(n)&&(i="$SCOPE"),i}function q(e,t){return v(e)?void 0:(L(t)||(t=t?2:null),JSON.stringify(e,H,t))}function W(e){return b(e)?JSON.parse(e):e}function G(e,t){e=e.replace(tr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function z(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function X(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset(),r=G(t,i);return z(e,n*(r-i))}function K(e){e=$i(e).clone();try{e.empty()}catch(t){}var n=$i("<div>").append(e).html();try{return e[0].nodeType===sr?Ni(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Ni(t)})}catch(t){return Ni(n)}}function J(e){try{return decodeURIComponent(e)}catch(t){}}function Z(e){var t={};return i((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(i=e.substring(0,n),r=e.substring(n+1)),i=J(i),_(i)&&(r=_(r)?J(r):!0,xi.call(t,i)?Xi(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function Q(e){var t=[];return i(e,function(e,n){Xi(e)?i(e,function(e){t.push(te(n,!0)+(e===!0?"":"="+te(e,!0)))}):t.push(te(n,!0)+(e===!0?"":"="+te(e,!0)))}),t.length?t.join("&"):""}function ee(e){return te(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function te(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ne(e,t){var n,i,r=nr.length;for(i=0;r>i;++i)if(n=nr[i]+t,b(n=e.getAttribute(n)))return n;return null}function ie(e,t){var n,r,o={};i(nr,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),i(nr,function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(o.strictDi=null!==ne(n,"strict-di"),t(n,r?[r]:[],o))}function re(t,n,r){y(r)||(r={});var o={strictDi:!1};r=c(o,r);var a=function(){if(t=$i(t),t.injector()){var i=t[0]===e.document?"document":K(t);throw Wi("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=it(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?a():(e.name=e.name.replace(l,""),Gi.resumeBootstrap=function(e){return i(e,function(e){n.push(e)}),a()},void(A(Gi.resumeDeferredBootstrap)&&Gi.resumeDeferredBootstrap()))}function oe(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ae(e){var t=Gi.element(e).injector();if(!t)throw Wi("test","no injector found for element argument to getTestability");return t.get("$$testability")}function se(e,t){return t=t||"_",e.replace(ir,function(e,n){return(n?t:"")+e.toLowerCase()})}function le(){var t;if(!rr){var n=er();Fi=v(n)?e.jQuery:n?e[n]:void 0,Fi&&Fi.fn.on?($i=Fi,c(Fi.fn,{scope:Cr.scope,isolateScope:Cr.isolateScope,controller:Cr.controller,injector:Cr.injector,inheritedData:Cr.inheritedData}),t=Fi.cleanData,Fi.cleanData=function(e){for(var n,i,r=0;null!=(i=e[r]);r++)n=Fi._data(i,"events"),n&&n.$destroy&&Fi(i).triggerHandler("$destroy");t(e)}):$i=we,Gi.element=$i,rr=!0}}function ce(e,t,n){if(!e)throw Wi("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ue(e,t,n){return n&&Xi(e)&&(e=e[e.length-1]),ce(A(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function de(e,t){if("hasOwnProperty"===e)throw Wi("badname","hasOwnProperty is not a valid {0} name",t)}function pe(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;a>s;s++)i=r[s],e&&(e=(o=e)[i]);return!n&&A(e)?j(o,e):e}function fe(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=$i(Vi.call(e,0,r))),t.push(n));return t||e}function he(){return Object.create(null)}function me(e){function n(e,t,n){return e[t]||(e[t]=n())}var i=t("$injector"),r=t("ng"),o=n(e,"angular",Object);return o.$$minErr=o.$$minErr||t,n(o,"module",function(){var e={};return function(t,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name",t)};return s(t,"module"),o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,i){return i||(i=r),function(){return i[n||"push"]([e,t,arguments]),u}}function n(e,n){return function(i,o){return o&&A(o)&&(o.$$moduleName=t),r.push([e,n,arguments]),u}}if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var r=[],s=[],l=[],c=e("$injector","invoke","push",s),u={_invokeQueue:r,_configBlocks:s,_runBlocks:l,requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return a&&c(a),u})}})}function ge(e,t){if(Xi(e)){t=t||[];for(var n=0,i=e.length;i>n;n++)t[n]=e[n]}else if(y(e)){t=t||{};for(var r in e)("$"!==r.charAt(0)||"$"!==r.charAt(1))&&(t[r]=e[r])}return t||e}function ve(e){var t=[];return JSON.stringify(e,function(e,n){if(n=H(e,n),y(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function _e(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):v(e)?"undefined":"string"!=typeof e?ve(e):e}function ye(n){c(n,{bootstrap:re,copy:F,extend:c,merge:u,equals:Y,element:$i,forEach:i,injector:it,noop:f,bind:j,toJson:q,fromJson:W,identity:h,isUndefined:v,isDefined:_,isString:b,isFunction:A,isObject:y,isNumber:L,isElement:k,isArray:Xi,version:dr,isDate:S,lowercase:Ni,uppercase:Pi,callbacks:{$$counter:0},getTestability:ae,$$minErr:t,$$csp:Qi,reloadWithDebugInfo:oe}),(Yi=me(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Tn}),e.provider("$compile",ht).directive({a:ko,input:ea,textarea:ea,form:Yo,script:Xa,select:Za,style:es,option:Qa,ngBind:ia,ngBindHtml:oa,ngBindTemplate:ra,ngClass:sa,ngClassEven:ca,ngClassOdd:la,ngCloak:ua,ngController:da,ngForm:Vo,ngHide:Ba,ngIf:ha,ngInclude:ma,ngInit:va,ngNonBindable:Na,ngPluralize:Ua,ngRepeat:$a,ngShow:Va,ngStyle:ja,ngSwitch:Ha,ngSwitchWhen:qa,ngSwitchDefault:Wa,ngOptions:Ma,ngTransclude:za,ngModel:Oa,ngList:_a,ngChange:aa,pattern:ns,ngPattern:ns,required:ts,ngRequired:ts,minlength:rs,ngMinlength:rs,maxlength:is,ngMaxlength:is,ngValue:na,ngModelOptions:xa}).directive({ngInclude:ga}).directive(Mo).directive(pa),e.provider({$anchorScroll:rt,$animate:Br,$animateCss:qr,$$animateJs:Yr,$$animateQueue:Vr,$$AnimateRunner:Hr,$$animateAsyncRun:jr,$browser:ut,$cacheFactory:dt,$controller:Et,$document:bt,$exceptionHandler:Lt,$filter:Fn,$$forceReflow:Jr,$interpolate:Mt,$interval:Ut,$http:xt,$httpParamSerializer:At,$httpParamSerializerJQLike:Tt,$httpBackend:Pt,$xhrFactory:Nt,$jsonpCallbacks:ao,$location:Zt,$log:Qt,$parse:yn,$rootScope:An,$q:En,$$q:bn,$sce:wn,$sceDelegate:Dn,$sniffer:On,$templateCache:pt,$templateRequest:Rn,$$testability:xn,$timeout:Nn,$window:Mn,$$rAF:Sn,$$jqLite:Ke,$$HashMap:Or,$$cookieReader:$n})}])}function Ee(){return++fr}function be(e){return e.replace(gr,function(e,t,n,i){return i?n.toUpperCase():n}).replace(vr,"Moz$1")}function Le(e){return!br.test(e)}function Se(e){var t=e.nodeType;return t===or||!t||t===cr}function Ae(e){for(var t in pr[e.ng339])return!0;return!1}function Te(e){for(var t=0,n=e.length;n>t;t++)Ne(e[t])}function Ce(e,t){var n,r,o,a,s=t.createDocumentFragment(),l=[];if(Le(e))l.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),r=(Lr.exec(e)||["",""])[1].toLowerCase(),o=Ar[r]||Ar._default,n.innerHTML=o[1]+e.replace(Sr,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;l=V(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",i(l,function(e){s.appendChild(e)}),s}function Ie(t,n){n=n||e.document;var i;return(i=Er.exec(t))?[n.createElement(i[1])]:(i=Ce(t,n))?i.childNodes:[]}function De(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function we(e){if(e instanceof we)return e;var t;if(b(e)&&(e=Ji(e),t=!0),!(this instanceof we)){if(t&&"<"!=e.charAt(0))throw yr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new we(e)}t?Fe(this,Ie(e)):Fe(this,e)}function Oe(e){return e.cloneNode(!0)}function Re(e,t){if(t||Ne(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;r>i;i++)Ne(n[i])}function xe(e,t,n,r){if(_(r))throw yr("offargs","jqLite#off() does not support the `selector` argument");var o=Pe(e),a=o&&o.events,s=o&&o.handle;if(s)if(t){var l=function(t){var i=a[t];_(n)&&$(i||[],n),_(n)&&i&&i.length>0||(mr(e,t,s),delete a[t])};i(t.split(" "),function(e){l(e),_r[e]&&l(_r[e])})}else for(t in a)"$destroy"!==t&&mr(e,t,s),delete a[t]}function Ne(e,t){var n=e.ng339,i=n&&pr[n];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),xe(e)),delete pr[n],e.ng339=void 0}}function Pe(e,t){var n=e.ng339,i=n&&pr[n];return t&&!i&&(e.ng339=n=Ee(),i=pr[n]={events:{},data:{},handle:void 0}),i}function ke(e,t,n){if(Se(e)){var i=_(n),r=!i&&t&&!y(t),o=!t,a=Pe(e,!r),s=a&&a.data;if(i)s[t]=n;else{if(o)return s;if(r)return s&&s[t];c(s,t)}}}function Me(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Ue(e,t){t&&e.setAttribute&&i(t.split(" "),function(t){e.setAttribute("class",Ji((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ji(t)+" "," ")))})}function $e(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(t.split(" "),function(e){e=Ji(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Ji(n))}}function Fe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;n>i;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function Ye(e,t){return Ve(e,"$"+(t||"ngController")+"Controller")}function Ve(e,t,n){e.nodeType==cr&&(e=e.documentElement);for(var i=Xi(t)?t:[t];e;){for(var r=0,o=i.length;o>r;r++)if(_(n=$i.data(e,i[r])))return n;e=e.parentNode||e.nodeType===ur&&e.host}}function Be(e){for(Re(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function je(e,t){t||Re(e);var n=e.parentNode;n&&n.removeChild(e)}function He(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):$i(n).on("load",t)}function qe(e,t){var n=Ir[t.toLowerCase()];return n&&Dr[U(e)]&&n}function We(e){return wr[e]}function Ge(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=r.specialHandlerWrapper||ze;o>1&&(r=ge(r));for(var l=0;o>l;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}function ze(e,t,n){n.call(e,t)}function Xe(e,t,n){var i=t.relatedTarget;(!i||i!==e&&!Tr.call(e,i))&&n.call(e,t)}function Ke(){this.$get=function(){return c(we,{hasClass:function(e,t){return e.attr&&(e=e[0]),Me(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),$e(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Ue(e,t)}})}}function Je(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"==i||"object"==i&&null!==e?e.$$hashKey=i+":"+(t||a)():i+":"+e}function Ze(e,t){if(t){var n=0;this.nextUid=function(){return++n}}i(e,this.put,this)}function Qe(e){return Function.prototype.toString.call(e)+" "}function et(e){var t=Qe(e).replace(kr,""),n=t.match(Rr)||t.match(xr);return n}function tt(e){var t=et(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function nt(e,t,n){var r,o,a;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw b(n)&&n||(n=e.name||tt(e)),Mr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=et(e),i(o[1].split(Nr),function(e){e.replace(Pr,function(e,t,n){r.push(n)})})}e.$inject=r}}else Xi(e)?(a=e.length-1,ue(e[a],"fn"),r=e.slice(0,a)):ue(e,"fn",!0);return r}function it(e,t){function n(e){return function(t,n){return y(t)?void i(t,o(e)):e(t,n)}}function r(e,t){if(de(e,"service"),(A(t)||Xi(t))&&(t=S.instantiate(t)),!t.$get)throw Mr("pget","Provider '{0}' must define $get factory method.",e);return L[e+g]=t}function a(e,t){return function(){var n=I.invoke(t,this);if(v(n))throw Mr("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return r(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return s(e,m(t),!1)}function u(e,t){de(e,"constant"),L[e]=t,T[e]=t}function d(e,t){var n=S.get(e+g),i=n.$get;n.$get=function(){var e=I.invoke(i,n);return I.invoke(t,null,{$delegate:e})}}function p(e){ce(v(e)||Xi(e),"modulesToLoad","not an array");var t,n=[];return i(e,function(e){function i(e){var t,n;for(t=0,n=e.length;n>t;t++){var i=e[t],r=S.get(i[0]);r[i[1]].apply(r,i[2])}}if(!E.get(e)){E.put(e,!0);try{b(e)?(t=Yi(e),n=n.concat(p(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):A(e)?n.push(S.invoke(e)):Xi(e)?n.push(S.invoke(e)):ue(e,"module")}catch(r){throw Xi(e)&&(e=e[e.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Mr("modulerr","Failed to instantiate module {0} due to:\n{1}",e,r.stack||r.message||r)}}}),n}function f(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===h)throw Mr("cdep","Circular dependency found: {0}",t+" <- "+_.join(" <- "));return e[t]}try{return _.unshift(t),e[t]=h,e[t]=n(t,i)}catch(r){throw e[t]===h&&delete e[t],r}finally{_.shift()}}function r(e,n,r){for(var o=[],a=it.$$annotate(e,t,r),s=0,l=a.length;l>s;s++){var c=a[s];if("string"!=typeof c)throw Mr("itkn","Incorrect injection token! Expected service name as string, got {0}",c);o.push(n&&n.hasOwnProperty(c)?n[c]:i(c,r))}return o}function o(e){return 11>=Ui?!1:"function"==typeof e&&/^(?:class\b|constructor\()/.test(Qe(e))}function a(e,t,n,i){"string"==typeof n&&(i=n,n=null);var a=r(e,n,i);return Xi(e)&&(e=e[e.length-1]),o(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var i=Xi(e)?e[e.length-1]:e,o=r(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))}return{invoke:a,instantiate:s,get:i,annotate:it.$$annotate,has:function(t){return L.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=t===!0;var h={},g="Provider",_=[],E=new Ze([],!0),L={$provide:{provider:n(r),factory:n(s),service:n(l),value:n(c),constant:n(u),decorator:d}},S=L.$injector=f(L,function(e,t){throw Gi.isString(t)&&_.push(t),Mr("unpr","Unknown provider: {0}",_.join(" <- "))}),T={},C=f(T,function(e,t){var n=S.get(e+g,t);return I.invoke(n.$get,n,void 0,e)}),I=C;L["$injector"+g]={$get:m(C)};var D=p(e);return I=C.get("$injector"),I.strictDi=t,i(D,function(e){e&&I.invoke(e)}),I}function rt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===U(e)?(t=e,!0):void 0}),t}function o(){var e=s.yOffset;if(A(e))e=e();else if(k(e)){var n=e[0],i=t.getComputedStyle(n);e="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else L(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var i=e.getBoundingClientRect().top;t.scrollBy(0,i-n)}}else t.scrollTo(0,0)}function s(e){e=b(e)?e:n.hash();var t;e?(t=l.getElementById(e))?a(t):(t=r(l.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var l=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&He(function(){i.$evalAsync(s)})}),s}]}function ot(e,t){return e||t?e?t?(Xi(e)&&(e=e.join(" ")),Xi(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function at(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===$r)return n}}function st(e){b(e)&&(e=e.split(" "));var t=he();return i(e,function(e){e.length&&(t[e]=!0)}),t}function lt(e){return y(e)?e:{}}function ct(e,t,n,r){function o(e){try{e.apply(null,B(arguments,1))}finally{if(_--,0===_)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){A=null,l(),c()}function l(){E=T(),E=v(E)?null:E,Y(E,D)&&(E=D),D=E}function c(){(L!==u.url()||b!==E)&&(L=u.url(),b=E,i(C,function(e){e(u.url(),E)}))}var u=this,d=e.location,p=e.history,h=e.setTimeout,m=e.clearTimeout,g={};u.isMock=!1;var _=0,y=[];u.$$completeOutstandingRequest=o,u.$$incOutstandingRequestCount=function(){_++},u.notifyWhenNoOutstandingRequests=function(e){0===_?e():y.push(e)};var E,b,L=d.href,S=t.find("base"),A=null,T=r.history?function(){try{return p.state}catch(e){}}:f;l(),b=E,u.url=function(t,n,i){if(v(i)&&(i=null),d!==e.location&&(d=e.location),p!==e.history&&(p=e.history),t){var o=b===i;if(L===t&&(!r.history||o))return u;var s=L&&jt(L)===jt(t);return L=t,b=i,!r.history||s&&o?(s||(A=t),n?d.replace(t):s?d.hash=a(t):d.href=t,d.href!==t&&(A=t)):(p[n?"replaceState":"pushState"](i,"",t),l(),b=E),A&&(A=t),u}return A||d.href.replace(/%27/g,"'")},u.state=function(){return E};var C=[],I=!1,D=null;u.onUrlChange=function(t){return I||(r.history&&$i(e).on("popstate",s),$i(e).on("hashchange",s),I=!0),C.push(t),t},u.$$applicationDestroyed=function(){$i(e).off("hashchange popstate",s)},u.$$checkUrlChange=c,u.baseHref=function(){var e=S.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},u.defer=function(e,t){var n;return _++,n=h(function(){delete g[n],o(e)},t||0),g[n]=!0,n},u.defer.cancel=function(e){return g[e]?(delete g[e],m(e),o(f),!0):!1}}function ut(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new ct(e,i,t,n)}]}function dt(){this.$get=function(){function e(e,i){function r(e){e!=p&&(f?f==e&&(f=e.n):f=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=c({},i,{id:e}),l=he(),u=i&&i.capacity||Number.MAX_VALUE,d=he(),p=null,f=null;return n[e]={put:function(e,t){if(!v(t)){if(u<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});r(n)}return e in l||a++,l[e]=t,a>u&&this.remove(f.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),o(t.n,t.p),delete d[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=he(),a=0,d=he(),p=f=null},destroy:function(){l=null,s=null,d=null,delete n[e]},info:function(){return c({},s,{size:a})}}}var n={};return e.info=function(){var e={};return i(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function pt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function ft(){}function ht(t,n){function r(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=he();return i(e,function(e,i){if(e in C)return void(o[i]=C[e]);var a=e.match(r);if(!a)throw Wr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e,n?"controller bindings definition":"isolate scope definition");o[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i},a[4]&&(C[e]=o[i])}),o}function a(e,t){var n={isolateScope:null,bindToController:null};if(y(e.scope)&&(e.bindToController===!0?(n.bindToController=r(e.scope,t,!0),n.isolateScope={}):n.isolateScope=r(e.scope,t,!1)),y(e.bindToController)&&(n.bindToController=r(e.bindToController,t,!0)),y(n.bindToController)){var i=e.controller,o=e.controllerAs;if(!i)throw Wr("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!yt(i,o))throw Wr("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function s(e){var t=e.charAt(0);if(!t||t!==Ni(t))throw Wr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Wr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function l(e){var t=e.require||e.controller&&e.name;return!Xi(t)&&y(t)&&i(t,function(e,n){var i=e.match(S),r=e.substring(i[0].length);r||(t[n]=i[0]+n)}),t}var u={},d="Directive",g=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,E=/(([\w\-]+)(?:\:([^;]+))?;?)/,L=M("ngSrc,ngSrcset,src,srcset"),S=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,T=/^(on[a-z]+|formaction)$/,C=he();this.directive=function O(e,n){return de(e,"directive"),b(e)?(s(e),ce(n,"directiveFactory"),u.hasOwnProperty(e)||(u[e]=[],t.factory(e+d,["$injector","$exceptionHandler",function(t,n){var r=[];return i(u[e],function(i,o){try{var a=t.invoke(i);A(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=l(a),a.restrict=a.restrict||"EA",a.$$moduleName=i.$$moduleName,r.push(a)}catch(s){n(s)}}),r}])),u[e].push(n)):i(e,o(O)),this},this.component=function(e,t){function n(e){function n(t){return A(t)||Xi(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var o=t.template||t.templateUrl?t.template:"",a={controller:r,controllerAs:yt(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return i(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var r=t.controller||function(){};return i(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,A(r)&&(r[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return _(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return _(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var D=!0;this.debugInfoEnabled=function(e){return _(e)?(D=e,this):D};var w=10;this.onChangesTtl=function(e){return arguments.length?(w=e,this):w},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,r,o,s,l,m,C,O,x){function N(){try{if(!--Se)throw ye=void 0,Wr("infchng","{0} $onChanges() iterations reached. Aborting!\n",w);m.$apply(function(){for(var e=[],t=0,n=ye.length;n>t;++t)try{ye[t]()}catch(i){e.push(i)}if(ye=void 0,e.length)throw e})}finally{Se++}}function P(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e}function k(e,t,n){be.innerHTML="<span "+t+">";var i=be.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}function M(e,t){try{e.addClass(t)}catch(n){}}function F(t,n,i,r,o){t instanceof $i||(t=$i(t));for(var a=/\S+/,s=0,l=t.length;l>s;s++){var c=t[s];c.nodeType===sr&&c.nodeValue.match(a)&&De(c,t[s]=e.document.createElement("span"))}var u=H(t,n,t,i,r,o);F.$$addScopeClass(t);var d=null;return function(e,n,i){ce(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),i=i||{};var r=i.parentBoundTranscludeFn,a=i.transcludeControllers,s=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),d||(d=V(s));var l;if(l="html"!==d?$i(de(d,$i("<div>").append(t).html())):n?Cr.clone.call(t):t,a)for(var c in a)l.data("$"+c+"Controller",a[c].instance);return F.$$addScopeInfo(l,e),n&&n(l,e),u&&u(e,l,l,r),l}}function V(e){var t=e&&e[0];return t&&"foreignobject"!==U(t)&&Hi.call(t).match(/SVG/)?"svg":"html"}function H(e,t,n,i,r,o){function a(e,n,i,r){var o,a,s,l,c,u,d,p,m;if(f){var g=n.length;for(m=new Array(g),c=0;c<h.length;c+=3)d=h[c],m[d]=n[d]}else m=n;for(c=0,u=h.length;u>c;)s=m[h[c++]],o=h[c++],a=h[c++],o?(o.scope?(l=e.$new(),F.$$addScopeInfo($i(s),l)):l=e,p=o.transcludeOnThisElement?q(e,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&t?q(e,t):null,o(a,l,s,i,p)):a&&a(e,s.childNodes,void 0,r)}for(var s,l,c,u,d,p,f,h=[],m=0;m<e.length;m++)s=new P,l=W(e[m],[],s,0===m?i:void 0,r),c=l.length?Z(l,e[m],s,t,n,null,[],[],o):null,c&&c.scope&&F.$$addScopeClass(s.$$element),d=c&&c.terminal||!(u=e[m].childNodes)||!u.length?null:H(u,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||d)&&(h.push(m,c,d),p=!0,f=f||c),o=null;return p?a:null}function q(e,t,n){function i(i,r,o,a,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=he();for(var o in t.$$slots)t.$$slots[o]?r[o]=q(e,t.$$slots[o],n):r[o]=null;return i}function W(e,t,n,i,r){var o,a,s=e.nodeType,l=n.$attr;switch(s){case or:ne(t,gt(U(e)),"E",i,r);for(var c,u,d,p,f,h,m=e.attributes,g=0,v=m&&m.length;v>g;g++){var _=!1,L=!1;c=m[g],u=c.name,f=Ji(c.value),p=gt(u),(h=Ie.test(p))&&(u=u.replace(zr,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var S=p.match(we);S&&ie(S[1])&&(_=u,L=u.substr(0,u.length-5)+"end",u=u.substr(0,u.length-6)),d=gt(u.toLowerCase()),l[d]=u,(h||!n.hasOwnProperty(d))&&(n[d]=f,qe(e,d)&&(n[d]=!0)),fe(e,t,f,d,h),ne(t,d,"A",i,r,_,L)}if(a=e.className,y(a)&&(a=a.animVal),b(a)&&""!==a)for(;o=E.exec(a);)d=gt(o[2]),ne(t,d,"C",i,r)&&(n[d]=Ji(o[3])),a=a.substr(o.index+o[0].length);break;case sr:if(11===Ui)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===sr;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);ue(t,e.nodeValue);break;case lr:G(e,t,n,i,r)}return t.sort(ae),t}function G(e,t,n,i,r){try{var o=g.exec(e.nodeValue);if(o){var a=gt(o[1]);ne(t,a,"M",i,r)&&(n[a]=Ji(o[2]))}}catch(s){}}function z(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Wr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==or&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0)}else i.push(e);return $i(i)}function X(e,t,n){return function(i,r,o,a,s){return r=z(r[0],t,n),e(i,r,o,a,s)}}function J(e,t,n,i,r,o){var a;return e?F(t,n,i,r,o):function(){return a||(a=F(t,n,i,r,o),t=n=o=null),a.apply(this,arguments)}}function Z(e,t,n,o,a,s,l,u,d){function p(e,t,n,i){e&&(n&&(e=X(e,n,i)),e.require=h.require,e.directiveName=m,(T===h||h.$$isolateScope)&&(e=ge(e,{isolateScope:!0})),l.push(e)),
t&&(n&&(t=X(t,n,i)),t.require=h.require,t.directiveName=m,(T===h||h.$$isolateScope)&&(t=ge(t,{isolateScope:!0})),u.push(t))}function f(e,o,a,s,d){function p(e,t,n,i){var r;if(I(e)||(i=n,n=t,t=e,e=void 0),R&&(r=E),n||(n=R?D.parent():D),!i)return d(e,t,r,n,$);var o=d.$$slots[i];if(o)return o(e,t,r,n,$);if(v(o))throw Wr("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,K(D))}var f,h,m,g,_,E,b,D,w,O;t===a?(w=n,D=n.$$element):(D=$i(a),w=new P(D,n)),_=o,T?g=o.$new(!0):L&&(_=o.$parent),d&&(b=p,b.$$boundTransclude=d,b.isSlotFilled=function(e){return!!d.$$slots[e]}),S&&(E=ee(D,w,b,S,g,o,T)),T&&(F.$$addScopeInfo(D,g,!0,!(C&&(C===T||C===T.$$originalDirective))),F.$$addScopeClass(D,!0),g.$$isolateBindings=T.$$isolateBindings,O=_e(o,w,g,g.$$isolateBindings,T),O.removeWatches&&g.$on("$destroy",O.removeWatches));for(var x in E){var N=S[x],k=E[x],M=N.$$bindings.bindToController;k.identifier&&M?k.bindingInfo=_e(_,w,k.instance,M,N):k.bindingInfo={};var U=k();U!==k.instance&&(k.instance=U,D.data("$"+N.name+"Controller",U),k.bindingInfo.removeWatches&&k.bindingInfo.removeWatches(),k.bindingInfo=_e(_,w,k.instance,M,N))}for(i(S,function(e,t){var n=e.require;e.bindToController&&!Xi(n)&&y(n)&&c(E[t].instance,Q(t,n,D,E))}),i(E,function(e){var t=e.instance;if(A(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(n){r(n)}if(A(t.$onInit))try{t.$onInit()}catch(n){r(n)}A(t.$doCheck)&&(_.$watch(function(){t.$doCheck()}),t.$doCheck()),A(t.$onDestroy)&&_.$on("$destroy",function(){t.$onDestroy()})}),f=0,h=l.length;h>f;f++)m=l[f],ve(m,m.isolateScope?g:o,D,w,m.require&&Q(m.directiveName,m.require,D,E),b);var $=o;for(T&&(T.template||null===T.templateUrl)&&($=g),e&&e($,a.childNodes,void 0,d),f=u.length-1;f>=0;f--)m=u[f],ve(m,m.isolateScope?g:o,D,w,m.require&&Q(m.directiveName,m.require,D,E),b);i(E,function(e){var t=e.instance;A(t.$postLink)&&t.$postLink()})}d=d||{};for(var h,m,g,_,E,b=-Number.MAX_VALUE,L=d.newScopeDirective,S=d.controllerDirectives,T=d.newIsolateScopeDirective,C=d.templateDirective,D=d.nonTlbTranscludeDirective,w=!1,O=!1,R=d.hasElementTranscludeDirective,x=n.$$element=$i(t),N=s,k=o,M=!1,$=!1,Y=0,V=e.length;V>Y;Y++){h=e[Y];var H=h.$$start,q=h.$$end;if(H&&(x=z(t,H,q)),g=void 0,b>h.priority)break;if((E=h.scope)&&(h.templateUrl||(y(E)?(le("new/isolated scope",T||L,h,x),T=h):le("new/isolated scope",T,h,x)),L=L||h),m=h.name,!M&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var G,Z=Y+1;G=e[Z++];)if(G.transclude&&!G.$$tlb||G.replace&&(G.templateUrl||G.template)){$=!0;break}M=!0}if(!h.templateUrl&&h.controller&&(E=h.controller,S=S||he(),le("'"+m+"' controller",S[m],h,x),S[m]=h),E=h.transclude)if(w=!0,h.$$tlb||(le("transclusion",D,h,x),D=h),"element"==E)R=!0,b=h.priority,g=x,x=n.$$element=$i(F.$$createComment(m,n[m])),t=x[0],me(a,B(g),t),g[0].$$parentNode=g[0].parentNode,k=J($,g,o,b,N&&N.name,{nonTlbTranscludeDirective:D});else{var ne=he();if(g=$i(Oe(t)).contents(),y(E)){g=[];var ie=he(),ae=he();i(E,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,ie[e]=t,ne[t]=null,ae[t]=n}),i(x.contents(),function(e){var t=ie[gt(U(e))];t?(ae[t]=!0,ne[t]=ne[t]||[],ne[t].push(e)):g.push(e)}),i(ae,function(e,t){if(!e)throw Wr("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var se in ne)ne[se]&&(ne[se]=J($,ne[se],o))}x.empty(),k=J($,g,o,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope}),k.$$slots=ne}if(h.template)if(O=!0,le("template",C,h,x),C=h,E=A(h.template)?h.template(x,n):h.template,E=Ce(E),h.replace){if(N=h,g=Le(E)?[]:_t(de(h.templateNamespace,Ji(E))),t=g[0],1!=g.length||t.nodeType!==or)throw Wr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m,"");me(a,x,t);var ce={$attr:{}},ue=W(t,[],ce),pe=e.splice(Y+1,e.length-(Y+1));(T||L)&&te(ue,T,L),e=e.concat(ue).concat(pe),re(n,ce),V=e.length}else x.html(E);if(h.templateUrl)O=!0,le("template",C,h,x),C=h,h.replace&&(N=h),f=oe(e.splice(Y,e.length-Y),x,n,a,w&&k,l,u,{controllerDirectives:S,newScopeDirective:L!==h&&L,newIsolateScopeDirective:T,templateDirective:C,nonTlbTranscludeDirective:D}),V=e.length;else if(h.compile)try{_=h.compile(x,n,k);var fe=h.$$originalDirective||h;A(_)?p(null,j(fe,_),H,q):_&&p(j(fe,_.pre),j(fe,_.post),H,q)}catch(ye){r(ye,K(x))}h.terminal&&(f.terminal=!0,b=Math.max(b,h.priority))}return f.scope=L&&L.scope===!0,f.transcludeOnThisElement=w,f.templateOnThisElement=O,f.transclude=k,d.hasElementTranscludeDirective=R,f}function Q(e,t,n,r){var o;if(b(t)){var a=t.match(S),s=t.substring(a[0].length),l=a[1]||a[3],c="?"===a[2];if("^^"===l?n=n.parent():(o=r&&r[s],o=o&&o.instance),!o){var u="$"+s+"Controller";o=l?n.inheritedData(u):n.data(u)}if(!o&&!c)throw Wr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(Xi(t)){o=[];for(var d=0,p=t.length;p>d;d++)o[d]=Q(e,t[d],n,r)}else y(t)&&(o={},i(t,function(t,i){o[i]=Q(e,t,n,r)}));return o||null}function ee(e,t,n,i,r,o,a){var s=he();for(var c in i){var u=i[c],d={$scope:u===a||u.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},p=u.controller;"@"==p&&(p=t[u.name]);var f=l(p,d,!0,u.controllerAs);s[u.name]=f,e.data("$"+u.name+"Controller",f.instance)}return s}function te(e,t,n){for(var i=0,r=e.length;r>i;i++)e[i]=p(e[i],{$$isolateScope:t,$$newScope:n})}function ne(e,n,i,o,s,l,c){if(n===s)return null;var f=null;if(u.hasOwnProperty(n))for(var h,m=t.get(n+d),g=0,_=m.length;_>g;g++)try{if(h=m[g],(v(o)||o>h.priority)&&-1!=h.restrict.indexOf(i)){if(l&&(h=p(h,{$$start:l,$$end:c})),!h.$$bindings){var E=h.$$bindings=a(h,h.name);y(E.isolateScope)&&(h.$$isolateBindings=E.isolateScope)}e.push(h),f=h}}catch(b){r(b)}return f}function ie(e){if(u.hasOwnProperty(e))for(var n,i=t.get(e+d),r=0,o=i.length;o>r;r++)if(n=i[r],n.multiElement)return!0;return!1}function re(e,t){var n=t.$attr,r=e.$attr;e.$$element;i(e,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),i(t,function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function oe(e,t,n,r,a,s,l,c){var u,d,f=[],h=t[0],m=e.shift(),g=p(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=A(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,_=m.templateNamespace;return t.empty(),o(v).then(function(o){var p,E,b,L;if(o=Ce(o),m.replace){if(b=Le(o)?[]:_t(de(_,Ji(o))),p=b[0],1!=b.length||p.nodeType!==or)throw Wr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);E={$attr:{}},me(r,t,p);var S=W(p,[],E);y(m.scope)&&te(S,!0),e=S.concat(e),re(n,E)}else p=h,t.html(o);for(e.unshift(g),u=Z(e,p,n,a,t,m,s,l,c),i(r,function(e,n){e==p&&(r[n]=t[0])}),d=H(t[0].childNodes,a);f.length;){var A=f.shift(),T=f.shift(),C=f.shift(),I=f.shift(),D=t[0];if(!A.$$destroyed){if(T!==h){var w=T.className;c.hasElementTranscludeDirective&&m.replace||(D=Oe(p)),me(C,$i(T),D),M($i(D),w)}L=u.transcludeOnThisElement?q(A,u.transclude,I):I,u(d,A,D,r,L)}}f=null}),function(e,t,n,i,r){var o=r;t.$$destroyed||(f?f.push(t,n,i,o):(u.transcludeOnThisElement&&(o=q(t,u.transclude,r)),u(d,t,n,i,o)))}}function ae(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function le(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw Wr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,K(i))}function ue(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&F.$$addBindingClass(t),function(e,t){var r=t.parent();n||F.$$addBindingClass(r),F.$$addBindingInfo(r,i.expressions),e.$watch(i,function(e){t[0].nodeValue=e})}}})}function de(t,n){switch(t=Ni(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function pe(e,t){if("srcdoc"==t)return C.HTML;var n=U(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?C.RESOURCE_URL:void 0}function fe(e,t,i,r,o){var a=pe(e,r);o=L[r]||o;var s=n(i,!0,a,o);if(s){if("multiple"===r&&"select"===U(e))throw Wr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",K(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var c=l.$$observers||(l.$$observers=he());if(T.test(r))throw Wr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=l[r];u!==i&&(s=u&&n(u,!0,a,o),i=u),s&&(l[r]=s(e),(c[r]||(c[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||e).$watch(s,function(e,t){"class"===r&&e!=t?l.$updateClass(e,t):l.$set(r,e)}))}}}})}}function me(t,n,i){var r,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(r=0,o=t.length;o>r;r++)if(t[r]==a){t[r++]=i;for(var c=r,u=c+s-1,d=t.length;d>c;c++,u++)d>u?t[c]=t[u]:delete t[c];t.length-=s-1,t.context===a&&(t.context=i);break}l&&l.replaceChild(i,a);var p=e.document.createDocumentFragment();for(r=0;s>r;r++)p.appendChild(n[r]);for($i.hasData(a)&&($i.data(i,$i.data(a)),$i(a).off("$destroy")),$i.cleanData(p.querySelectorAll("*")),r=1;s>r;r++)delete n[r];n[0]=i,n.length=1}function ge(e,t){return c(function(){return e.apply(null,arguments)},e,t)}function ve(e,t,n,i,o,a){try{e(t,n,i,o,a)}catch(s){r(s,K(n))}}function _e(e,t,r,o,a){function l(t,n,i){A(r.$onChanges)&&n!==i&&(ye||(e.$$postDigest(N),ye=[]),u||(u={},ye.push(c)),u[t]&&(i=u[t].previousValue),u[t]=new mt(i,n))}function c(){r.$onChanges(u),u=void 0}var u,d=[],p={};return i(o,function(i,o){var c,u,h,m,g,v=i.attrName,_=i.optional,y=i.mode;switch(y){case"@":_||xi.call(t,v)||(r[o]=t[v]=void 0),t.$observe(v,function(e){if(b(e)||R(e)){var t=r[o];l(o,e,t),r[o]=e}}),t.$$observers[v].$$scope=e,c=t[v],b(c)?r[o]=n(c)(e):R(c)&&(r[o]=c),p[o]=new mt(Gr,r[o]);break;case"=":if(!xi.call(t,v)){if(_)break;t[v]=void 0}if(_&&!t[v])break;u=s(t[v]),m=u.literal?Y:function(e,t){return e===t||e!==e&&t!==t},h=u.assign||function(){throw c=r[o]=u(e),Wr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,a.name)},c=r[o]=u(e);var E=function(t){return m(t,r[o])||(m(t,c)?h(e,t=r[o]):r[o]=t),c=t};E.$stateful=!0,g=i.collection?e.$watchCollection(t[v],E):e.$watch(s(t[v],E),null,u.literal),d.push(g);break;case"<":if(!xi.call(t,v)){if(_)break;t[v]=void 0}if(_&&!t[v])break;u=s(t[v]);var L=r[o]=u(e);p[o]=new mt(Gr,r[o]),g=e.$watch(u,function(e,t){if(t===e){if(t===L)return;t=L}l(o,e,t),r[o]=e},u.literal),d.push(g);break;case"&":if(u=t.hasOwnProperty(v)?s(t[v]):f,u===f&&_)break;r[o]=function(t){return u(e,t)}}}),{initialChanges:p,removeWatches:d.length&&function(){for(var e=0,t=d.length;t>e;++e)d[e]()}}}var ye,Ee=/^\w/,be=e.document.createElement("div"),Se=w;P.prototype={$normalize:gt,$addClass:function(e){e&&e.length>0&&O.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&O.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=vt(e,t);n&&n.length&&O.addClass(this.$$element,n);var i=vt(t,e);i&&i.length&&O.removeClass(this.$$element,i)},$set:function(e,t,n,o){var a,s=this.$$element[0],l=qe(s,e),c=We(e),u=e;if(l?(this.$$element.prop(e,t),o=l):c&&(this[c]=t,u=c),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=se(e,"-"))),a=U(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=x(t,"src"===e);else if("img"===a&&"srcset"===e&&_(t)){for(var d="",p=Ji(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(p)?f:/(,)/,m=p.split(h),g=Math.floor(m.length/2),y=0;g>y;y++){var E=2*y;d+=x(Ji(m[E]),!0),d+=" "+Ji(m[E+1])}var b=Ji(m[2*y]).split(/\s/);d+=x(Ji(b[0]),!0),2===b.length&&(d+=" "+Ji(b[1])),this[e]=t=d}n!==!1&&(null===t||v(t)?this.$$element.removeAttr(o):Ee.test(o)?this.$$element.attr(o,t):k(this.$$element[0],o,t));var L=this.$$observers;L&&i(L[u],function(e){try{e(t)}catch(n){r(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=he()),r=i[e]||(i[e]=[]);return r.push(t),m.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||v(n[e])||t(n[e])}),function(){$(r,t)}}};var Ae=n.startSymbol(),Te=n.endSymbol(),Ce="{{"==Ae&&"}}"==Te?h:function(e){return e.replace(/\{\{/g,Ae).replace(/}}/g,Te)},Ie=/^ngAttr[A-Z]/,we=/^(.+)Start$/;return F.$$addBindingInfo=D?function(e,t){var n=e.data("$binding")||[];Xi(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:f,F.$$addBindingClass=D?function(e){M(e,"ng-binding")}:f,F.$$addScopeInfo=D?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:f,F.$$addScopeClass=D?function(e,t){M(e,t?"ng-isolate-scope":"ng-scope")}:f,F.$$createComment=function(t,n){var i="";return D&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},F}]}function mt(e,t){this.previousValue=e,this.currentValue=t}function gt(e){return be(e.replace(zr,""))}function vt(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue e;n+=(n.length>0?" ":"")+a}return n}function _t(e){e=$i(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===lr&&Bi.call(e,t,1)}return e}function yt(e,t){if(t&&b(t))return t;if(b(e)){var n=Kr.exec(e);if(n)return n[3]}}function Et(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){de(t,"controller"),y(t)?c(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){function o(e,n,i,r){if(!e||!y(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,n);e.$scope[n]=i}return function(t,a,s,l){var u,d,p,f;if(s=s===!0,l&&b(l)&&(f=l),b(t)){if(d=t.match(Kr),!d)throw Xr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);p=d[1],f=f||d[3],t=e.hasOwnProperty(p)?e[p]:pe(a.$scope,p,!0)||(n?pe(r,p,!0):void 0),ue(t,p,!0)}if(s){var h=(Xi(t)?t[t.length-1]:t).prototype;u=Object.create(h||null),f&&o(a,f,u,p||t.name);var m;return m=c(function(){var e=i.invoke(t,u,a,p);return e!==u&&(y(e)||A(e))&&(u=e,f&&o(a,f,u,p||t.name)),u},{instance:u,identifier:f})}return u=i.instantiate(t,a,p),f&&o(a,f,u,p||t.name),u}}]}function bt(){this.$get=["$window",function(e){return $i(e.document)}]}function Lt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function St(e){return y(e)?S(e)?e.toISOString():q(e):e}function At(){this.$get=function(){return function(e){if(!e)return"";var t=[];return r(e,function(e,n){null===e||v(e)||(Xi(e)?i(e,function(e){t.push(te(n)+"="+te(St(e)))}):t.push(te(n)+"="+te(St(e))))}),t.join("&")}}}function Tt(){this.$get=function(){return function(e){function t(e,o,a){null===e||v(e)||(Xi(e)?i(e,function(e,n){t(e,o+"["+(y(e)?n:"")+"]")}):y(e)&&!S(e)?r(e,function(e,n){t(e,o+(a?"":"[")+n+(a?"":"]"))}):n.push(te(o)+"="+te(St(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function Ct(e,t){if(b(e)){var n=e.replace(no,"").trim();if(n){var i=t("Content-Type");(i&&0===i.indexOf(Zr)||It(n))&&(e=W(n))}}return e}function It(e){var t=e.match(eo);return t&&to[t[0]].test(e)}function Dt(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=he();return b(e)?i(e.split("\n"),function(e){n=e.indexOf(":"),t(Ni(Ji(e.substr(0,n))),Ji(e.substr(n+1)))}):y(e)&&i(e,function(e,n){t(Ni(n),Ji(e))}),r}function wt(e){var t;return function(n){if(t||(t=Dt(e)),n){var i=t[Ni(n)];return void 0===i&&(i=null),i}return t}}function Ot(e,t,n,r){return A(r)?r(e,t,n):(i(r,function(i){e=i(e,t,n)}),e)}function Rt(e){return e>=200&&300>e}function xt(){var e=this.defaults={transformResponse:[Ct],transformRequest:[function(e){return!y(e)||D(e)||O(e)||w(e)?e:q(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ge(Qr),put:ge(Qr),patch:ge(Qr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return _(e)?(n=!!e,this):n};var r=!0;this.useLegacyPromiseExtensions=function(e){return _(e)?(r=!!e,this):r};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,u,d,p){function f(n){function o(e,t){for(var n=0,i=t.length;i>n;){var r=t[n++],o=t[n++];e=e.then(r,o)}return t.length=0,e}function a(e,t){var n,r={};return i(e,function(e,i){A(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function s(t){var n,i,r,o=e.headers,s=c({},t.headers);o=c({},o.common,o[Ni(t.method)]);e:for(n in o){i=Ni(n);for(r in s)if(Ni(r)===i)continue e;s[n]=o[n]}return a(s,ge(t))}function l(t){var n=t.headers,r=Ot(t.data,wt(n),void 0,t.transformRequest);return v(r)&&i(n,function(e,t){"content-type"===Ni(t)&&delete n[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,r).then(u,u)}function u(e){var t=c({},e);return t.data=Ot(e.data,e.headers,e.status,f.transformResponse),Rt(e.status)?t:d.reject(t)}if(!y(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!b(n.url))throw t("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var f=c({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);f.headers=s(n),f.method=Pi(f.method),f.paramSerializer=b(f.paramSerializer)?p.get(f.paramSerializer):f.paramSerializer;var h=[],m=[],_=d.when(f);return i(S,function(e){(e.request||e.requestError)&&h.unshift(e.request,e.requestError),(e.response||e.responseError)&&m.push(e.response,e.responseError)}),_=o(_,h),_=_.then(l),_=o(_,m),r?(_.success=function(e){return ue(e,"fn"),_.then(function(t){e(t.data,t.status,t.headers,f)}),_},_.error=function(e){return ue(e,"fn"),_.then(null,function(t){e(t.data,t.status,t.headers,f)}),_}):(_.success=ro("success"),_.error=ro("error")),_}function h(e){i(arguments,function(e){f[e]=function(t,n){return f(c({},n||{},{method:e,url:t}))}})}function m(e){i(arguments,function(e){f[e]=function(t,n,i){return f(c({},i||{},{method:e,url:t,data:n}))}})}function g(t,r){function o(e){if(e){var t={};return i(e,function(e,i){t[i]=function(t){function i(){e(t)}n?u.$applyAsync(i):u.$$phase?i():u.$apply(i)}}),t}}function l(e,t,i,r){function o(){c(t,e,i,r)}m&&(Rt(e)?m.put(T,[e,t,Dt(i),r]):m.remove(T)),n?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function c(e,n,i,r){n=n>=-1?n:0,(Rt(n)?b.resolve:b.reject)({data:e,status:n,headers:wt(i),config:t,statusText:r})}function p(e){c(e.data,e.status,ge(e.headers()),e.statusText)}function h(){var e=f.pendingRequests.indexOf(t);-1!==e&&f.pendingRequests.splice(e,1)}var m,g,b=d.defer(),S=b.promise,A=t.headers,T=E(t.url,t.paramSerializer(t.params));if(f.pendingRequests.push(t),S.then(h,h),!t.cache&&!e.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(m=y(t.cache)?t.cache:y(e.cache)?e.cache:L),m&&(g=m.get(T),_(g)?x(g)?g.then(p,p):Xi(g)?c(g[1],g[0],ge(g[2]),g[3]):c(g,200,{},"OK"):m.put(T,S)),v(g)){var C=kn(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0;C&&(A[t.xsrfHeaderName||e.xsrfHeaderName]=C),a(t.method,T,r,l,A,t.timeout,t.withCredentials,t.responseType,o(t.eventHandlers),o(t.uploadEventHandlers))}return S}function E(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var L=l("$http");e.paramSerializer=b(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var S=[];return i(o,function(e){S.unshift(b(e)?p.get(e):p.invoke(e))}),f.pendingRequests=[],h("get","delete","head","jsonp"),m("post","put","patch"),f.defaults=e,f}]}function Nt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Pt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return kt(e,i,e.defer,t,n[0])}]}function kt(e,t,n,r,o){function a(e,t,n){e=e.replace("JSON_CALLBACK",t);var i=o.createElement("script"),a=null;return i.type="text/javascript",i.src=e,i.async=!0,a=function(e){mr(i,"load",a),mr(i,"error",a),o.body.removeChild(i),i=null;var s=-1,l="unknown";e&&("load"!==e.type||r.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},hr(i,"load",a),hr(i,"error",a),o.body.appendChild(i),a}return function(o,s,l,c,u,d,p,h,m,g){function y(){L&&L(),S&&S.abort()}function E(t,i,r,o,a){_(C)&&n.cancel(C),L=S=null,t(i,r,o,a),e.$$completeOutstandingRequest(f)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"===Ni(o))var b=r.createCallback(s),L=a(s,b,function(e,t){var n=200===e&&r.getResponse(b);E(c,e,n,"",t),r.removeCallback(b)});else{var S=t(o,s);S.open(o,s,!0),i(u,function(e,t){_(e)&&S.setRequestHeader(t,e)}),S.onload=function(){var e=S.statusText||"",t="response"in S?S.response:S.responseText,n=1223===S.status?204:S.status;0===n&&(n=t?200:"file"==Pn(s).protocol?404:0),E(c,n,t,S.getAllResponseHeaders(),e)};var A=function(){E(c,-1,null,null,"")};if(S.onerror=A,S.onabort=A,i(m,function(e,t){S.addEventListener(t,e)}),i(g,function(e,t){S.upload.addEventListener(t,e)}),p&&(S.withCredentials=!0),h)try{S.responseType=h}catch(T){if("json"!==h)throw T}S.send(v(l)?null:l)}if(d>0)var C=n(y,d);else x(d)&&d.then(y)}}function Mt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(e){return"\\\\\\"+e}function a(n){return n.replace(f,e).replace(h,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=q(e)}return e}function l(e,t,n,i){var r;return r=e.$watch(function(e){return r(),i(e)},t,n)}function u(o,u,f,h){function g(e){try{return e=x(e),h&&!_(e)?e:s(e)}catch(t){i(oo.interr(o,t))}}if(!o.length||-1===o.indexOf(e)){var y;if(!u){var E=a(o);y=m(E),y.exp=o,y.expressions=[],y.$$watchDelegate=l}return y}h=!!h;for(var b,L,S,T=0,C=[],I=[],D=o.length,w=[],O=[];D>T;){if(-1==(b=o.indexOf(e,T))||-1==(L=o.indexOf(t,b+d))){T!==D&&w.push(a(o.substring(T)));break}T!==b&&w.push(a(o.substring(T,b))),S=o.substring(b+d,L),C.push(S),I.push(n(S,g)),T=L+p,O.push(w.length),w.push("")}if(f&&w.length>1&&oo.throwNoconcat(o),!u||C.length){var R=function(e){for(var t=0,n=C.length;n>t;t++){if(h&&v(e[t]))return;w[O[t]]=e[t]}return w.join("")},x=function(e){return f?r.getTrusted(f,e):r.valueOf(e)};return c(function(e){var t=0,n=C.length,r=new Array(n);try{for(;n>t;t++)r[t]=I[t](e);return R(r)}catch(a){i(oo.interr(o,a))}},{exp:o,expressions:C,$$watchDelegate:function(e,t){var n;return e.$watchGroup(I,function(i,r){var o=R(i);A(t)&&t.call(this,o,i!==r?n:o,e),n=o})}})}}var d=e.length,p=t.length,f=new RegExp(e.replace(/./g,o),"g"),h=new RegExp(t.replace(/./g,o),"g");return u.startSymbol=function(){return e},u.endSymbol=function(){return t},u}]}function Ut(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,i,r){function o(o,s,l,c){function u(){d?o.apply(null,p):o(m)}var d=arguments.length>4,p=d?B(arguments,4):[],f=t.setInterval,h=t.clearInterval,m=0,g=_(c)&&!c,v=(g?i:n).defer(),y=v.promise;return l=_(l)?l:0,y.$$intervalId=f(function(){g?r.defer(u):e.$evalAsync(u),v.notify(m++),l>0&&m>=l&&(v.resolve(m),h(y.$$intervalId),delete a[y.$$intervalId]),g||e.$apply()},s),a[y.$$intervalId]=v,y}var a={};return o.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},o}]}function $t(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ee(t[n]);return t.join("/")}function Ft(e,t){var n=Pn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||lo[n.protocol]||null}function Yt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=Pn(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=Z(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Vt(e,t){return 0===e.lastIndexOf(t,0)}function Bt(e,t){return Vt(t,e)?t.substr(e.length):void 0}function jt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Ht(e){return e.replace(/(#.+)|#$/,"$1")}function qt(e){return e.substr(0,jt(e).lastIndexOf("/")+1)}function Wt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Gt(e,t,n){this.$$html5=!0,n=n||"",Ft(e,this),this.$$parse=function(e){var n=Bt(t,e);if(!b(n))throw co("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Yt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Q(this.$$search),n=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=$t(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a,s;return _(o=Bt(e,i))?(a=o,s=_(o=Bt(n,o))?t+(Bt("/",o)||o):e+a):_(o=Bt(t,i))?s=t+o:t==i+"/"&&(s=t),s&&this.$$parse(s),!!s}}function zt(e,t,n){Ft(e,this),this.$$parse=function(i){function r(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return Vt(t,n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}var o,a=Bt(e,i)||Bt(t,i);v(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",v(a)&&(e=i,this.replace())):(o=Bt(n,a),v(o)&&(o=a)),Yt(o,this),this.$$path=r(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=Q(this.$$search),i=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=$t(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return jt(e)==jt(t)?(this.$$parse(t),!0):!1}}function Xt(e,t,n){this.$$html5=!0,zt.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return e==jt(i)?o=i:(a=Bt(t,i))?o=e+n+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=Q(this.$$search),i=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=$t(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url}}function Kt(e){return function(){return this[e]}}function Jt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Zt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return _(t)?(e=t,this):e},this.html5Mode=function(e){return R(e)?(t.enabled=e,this):y(e)?(R(e.enabled)&&(t.enabled=e.enabled),R(e.requireBase)&&(t.requireBase=e.requireBase),R(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(e,t,n){var r=c.url(),o=c.$$state;try{i.url(e,t,n),c.$$state=i.state()}catch(a){throw c.url(r),c.$$state=o,a}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u,d,p=i.baseHref(),f=i.url();if(t.enabled){if(!p&&t.requireBase)throw co("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=Wt(f)+(p||"/"),u=r.history?Gt:Xt}else d=jt(f),u=zt;var h=qt(d);c=new u(d,h,"#"+e),c.$$parseLinkUrl(f,f),c.$$state=i.state();var m=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var r=$i(e.target);"a"!==U(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var s=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Pn(s.animVal).href),m.test(s)||!s||r.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(s,l)&&(e.preventDefault(),c.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Ht(c.absUrl())!=Ht(f)&&i.url(c.absUrl(),!0);var g=!0;return i.onUrlChange(function(e,t){return v(Bt(h,e))?void(a.location.href=e):(n.$evalAsync(function(){var i,r=c.absUrl(),o=c.$$state;e=Ht(e),c.$$parse(e),c.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,c.absUrl()===e&&(i?(c.$$parse(r),c.$$state=o,s(r,!1,o)):(g=!1,l(r,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Ht(i.url()),t=Ht(c.absUrl()),o=i.state(),a=c.$$replace,u=e!==t||c.$$html5&&r.history&&o!==c.$$state;(g||u)&&(g=!1,n.$evalAsync(function(){var t=c.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,c.$$state,o).defaultPrevented;c.absUrl()===t&&(i?(c.$$parse(e),c.$$state=o):(u&&s(t,a,o===c.$$state?null:c.$$state),l(e,o)))})),c.$$replace=!1}),c}]}function Qt(){var e=!0,t=this;this.debugEnabled=function(t){return _(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||f,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var e=[];return i(arguments,function(t){e.push(r(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function en(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw po("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function tn(e){return e+""}function nn(e,t){if(e){if(e.constructor===e)throw po("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw po("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw po("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw po("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function rn(e,t){if(e){if(e.constructor===e)throw po("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===fo||e===ho||e===mo)throw po("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function on(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw po("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function an(e,t){return"undefined"!=typeof e?e:t}function sn(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function ln(e,t){var n=e(t);return!n.$stateful}function cn(e,t){var n,r;switch(e.type){case yo.Program:n=!0,i(e.body,function(e){cn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case yo.Literal:e.constant=!0,e.toWatch=[];break;case yo.UnaryExpression:cn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case yo.BinaryExpression:cn(e.left,t),cn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case yo.LogicalExpression:cn(e.left,t),cn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case yo.ConditionalExpression:cn(e.test,t),cn(e.alternate,t),cn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case yo.Identifier:e.constant=!1,e.toWatch=[e];break;case yo.MemberExpression:cn(e.object,t),e.computed&&cn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case yo.CallExpression:n=e.filter?ln(t,e.callee.name):!1,r=[],i(e.arguments,function(e){cn(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&ln(t,e.callee.name)?r:[e];break;case yo.AssignmentExpression:cn(e.left,t),cn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case yo.ArrayExpression:n=!0,r=[],i(e.elements,function(e){cn(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case yo.ObjectExpression:n=!0,r=[],i(e.properties,function(e){cn(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case yo.ThisExpression:e.constant=!1,e.toWatch=[];
break;case yo.LocalsExpression:e.constant=!1,e.toWatch=[]}}function un(e){if(1==e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function dn(e){return e.type===yo.Identifier||e.type===yo.MemberExpression}function pn(e){return 1===e.body.length&&dn(e.body[0].expression)?{type:yo.AssignmentExpression,left:e.body[0].expression,right:{type:yo.NGValueParameter},operator:"="}:void 0}function fn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===yo.Literal||e.body[0].expression.type===yo.ArrayExpression||e.body[0].expression.type===yo.ObjectExpression)}function hn(e){return e.constant}function mn(e,t){this.astBuilder=e,this.$filter=t}function gn(e,t){this.astBuilder=e,this.$filter=t}function vn(e){return"constructor"==e}function _n(e){return A(e.valueOf)?e.valueOf():bo.call(e)}function yn(){var e,t,n=he(),r=he(),o={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){o[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(a){function s(e,t,i){var o,s,c;switch(i=i||E,typeof e){case"string":e=e.trim(),c=e;var g=i?r:n;if(o=g[c],!o){":"===e.charAt(0)&&":"===e.charAt(1)&&(s=!0,e=e.substring(2));var _=i?y:v,b=new _o(_),L=new Eo(b,a,_);o=L.parse(e),o.constant?o.$$watchDelegate=h:s?o.$$watchDelegate=o.literal?p:d:o.inputs&&(o.$$watchDelegate=u),i&&(o=l(o)),g[c]=o}return m(o,t);case"function":return m(e,t);default:return m(f,t)}}function l(e){function t(t,n,i,r){var o=E;E=!0;try{return e(t,n,i,r)}finally{E=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=l(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=l(e.inputs[n]);return t.inputs=e.inputs,t}function c(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=_n(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function u(e,t,n,i,r){var o,a=i.inputs;if(1===a.length){var s=c;return a=a[0],e.$watch(function(e){var t=a(e);return c(t,s)||(o=i(e,void 0,void 0,[t]),s=t&&_n(t)),o},t,n,r)}for(var l=[],u=[],d=0,p=a.length;p>d;d++)l[d]=c,u[d]=null;return e.$watch(function(e){for(var t=!1,n=0,r=a.length;r>n;n++){var s=a[n](e);(t||(t=!c(s,l[n])))&&(u[n]=s,l[n]=s&&_n(s))}return t&&(o=i(e,void 0,void 0,u)),o},t,n,r)}function d(e,t,n,i){var r,o;return r=e.$watch(function(e){return i(e)},function(e,n,i){o=e,A(t)&&t.apply(this,arguments),_(e)&&i.$$postDigest(function(){_(o)&&r()})},n)}function p(e,t,n,r){function o(e){var t=!0;return i(e,function(e){_(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,i){s=e,A(t)&&t.call(this,e,n,i),o(e)&&i.$$postDigest(function(){o(s)&&a()})},n)}function h(e,t,n,i){var r;return r=e.$watch(function(e){return r(),i(e)},t,n)}function m(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,r=n!==p&&n!==d,o=r?function(n,r,o,a){var s=i&&a?a[0]:e(n,r,o,a);return t(s,n,r)}:function(n,i,r,o){var a=e(n,i,r,o),s=t(a,n,i);return _(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==u?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=u,i=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var g=Qi().noUnsafeEval,v={csp:g,expensiveChecks:!1,literals:F(o),isIdentifierStart:A(e)&&e,isIdentifierContinue:A(t)&&t},y={csp:g,expensiveChecks:!0,literals:F(o),isIdentifierStart:A(e)&&e,isIdentifierContinue:A(t)&&t},E=!1;return s.$$runningExpensiveChecks=function(){return E},s}]}function En(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Ln(function(t){e.$evalAsync(t)},t)}]}function bn(){this.$get=["$browser","$exceptionHandler",function(e,t){return Ln(function(t){e.defer(t)},t)}]}function Ln(e,n){function r(){this.$$state={status:0}}function o(e,t){return function(n){t.call(e,n)}}function a(e){var t,i,r;r=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,a=r.length;a>o;++o){i=r[o][0],t=r[o][e.status];try{A(t)?i.resolve(t(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(s){i.reject(s),n(s)}}}function s(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){a(t)}))}function l(){this.promise=new r}function u(e){var t=new l,n=0,r=Xi(e)?[]:{};return i(e,function(e,i){n++,_(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}function d(e){var t=f();return i(e,function(e){_(e).then(t.resolve,t.reject)}),t.promise}var p=t("$q",TypeError),f=function(){var e=new l;return e.resolve=o(e,e.resolve),e.reject=o(e,e.reject),e.notify=o(e,e.notify),e};c(r.prototype,{then:function(e,t,n){if(v(e)&&v(t)&&v(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&s(this.$$state),i.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return g(t,!0,e)},function(t){return g(t,!1,e)},t)}}),c(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(p("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){l||(l=!0,a.$$resolve(e))}function i(e){l||(l=!0,a.$$reject(e))}var r,a=this,l=!1;try{(y(e)||A(e))&&(r=e&&e.then),A(r)?(this.promise.$$state.status=-1,r.call(e,t,i,o(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(c){i(c),n(c)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(t){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&e(function(){for(var e,r,o=0,a=i.length;a>o;o++){r=i[o][0],e=i[o][3];try{r.notify(A(e)?e(t):t)}catch(s){n(s)}}})}});var h=function(e){var t=new l;return t.reject(e),t.promise},m=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},g=function(e,t,n){var i=null;try{A(n)&&(i=n())}catch(r){return m(r,!1)}return x(i)?i.then(function(){return m(e,t)},function(e){return m(e,!1)}):m(e,t)},_=function(e,t,n,i){var r=new l;return r.resolve(e),r.promise.then(t,n,i)},E=_,b=function(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}if(!A(e))throw p("norslvr","Expected resolverFn, got '{0}'",e);var i=new l;return e(t,n),i.promise};return b.prototype=r.prototype,b.defer=f,b.reject=h,b.when=_,b.resolve=E,b.all=u,b.race=d,b}function Sn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function An(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return t.prototype=e,t}var r=10,o=t("$rootScope"),s=null,l=null;this.digestTtl=function(e){return arguments.length&&(r=e),r},this.$get=["$exceptionHandler","$parse","$browser",function(t,c,u){function d(e){e.currentScope.$$destroyed=!0}function p(e){9===Ui&&(e.$$childHead&&p(e.$$childHead),e.$$nextSibling&&p(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function h(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function m(e){if(T.$$phase)throw o("inprog","{0} already in progress",T.$$phase);T.$$phase=e}function g(){T.$$phase=null}function _(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function E(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function b(){}function L(){for(;D.length;)try{D.shift()()}catch(e){t(e)}l=null}function S(){null===l&&(l=u.defer(function(){T.$apply(L)}))}h.prototype={constructor:h,$new:function(t,n){var i;return n=n||this,t?(i=new h,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!=this)&&i.$on("$destroy",d),i},$watch:function(e,t,n,i){var r=c(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var o=this,a=o.$$watchers,l={fn:t,last:b,get:r,exp:i||e,eq:!!n};return s=null,A(t)||(l.fn=f),a||(a=o.$$watchers=[]),a.unshift(l),_(this,1),function(){$(a,l)>=0&&_(o,-1),s=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(o,o,s)):t(o,r,s)}var r=new Array(e.length),o=new Array(e.length),a=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(o,o,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,i){o[0]=e,r[0]=n,t(o,e===n?o:r,i)}):(i(e,function(e,t){var i=s.$watch(e,function(e,i){o[t]=e,r[t]=i,l||(l=!0,s.$evalAsync(n))});a.push(i)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function i(e){o=e;var t,i,r,s,l;if(!v(o)){if(y(o))if(n(o)){a!==f&&(a=f,g=a.length=0,d++),t=o.length,g!==t&&(d++,a.length=g=t);for(var c=0;t>c;c++)l=a[c],s=o[c],r=l!==l&&s!==s,r||l===s||(d++,a[c]=s)}else{a!==h&&(a=h={},g=0,d++),t=0;for(i in o)xi.call(o,i)&&(t++,s=o[i],l=a[i],i in a?(r=l!==l&&s!==s,r||l===s||(d++,a[i]=s)):(g++,a[i]=s,d++));if(g>t){d++;for(i in a)xi.call(o,i)||(g--,delete a[i])}}else a!==o&&(a=o,d++);return d}}function r(){if(m?(m=!1,t(o,o,l)):t(o,s,l),u)if(y(o))if(n(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var i in o)xi.call(o,i)&&(s[i]=o[i])}else s=o}i.$stateful=!0;var o,a,s,l=this,u=t.length>1,d=0,p=c(e,i),f=[],h={},m=!0,g=0;return this.$watch(p,r)},$digest:function(){var e,n,i,a,c,d,p,f,h,v,_,y,E=r,S=this,D=[];m("$digest"),u.$$checkUrlChange(),this===T&&null!==l&&(u.defer.cancel(l),L()),s=null;do{f=!1,v=S;for(var O=0;O<C.length;O++){try{y=C[O],y.scope.$eval(y.expression,y.locals)}catch(R){t(R)}s=null}C.length=0;e:do{if(d=v.$$watchers)for(p=d.length;p--;)try{if(e=d[p])if(c=e.get,(n=c(v))===(i=e.last)||(e.eq?Y(n,i):"number"==typeof n&&"number"==typeof i&&isNaN(n)&&isNaN(i))){if(e===s){f=!1;break e}}else f=!0,s=e,e.last=e.eq?F(n,null):n,a=e.fn,a(n,i===b?n:i,v),5>E&&(_=4-E,D[_]||(D[_]=[]),D[_].push({msg:A(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:i}))}catch(R){t(R)}if(!(h=v.$$watchersCount&&v.$$childHead||v!==S&&v.$$nextSibling))for(;v!==S&&!(h=v.$$nextSibling);)v=v.$parent}while(v=h);if((f||C.length)&&!E--)throw g(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",r,D)}while(f||C.length);for(g();w<I.length;)try{I[w++]()}catch(R){t(R)}I.length=w=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===T&&u.$$applicationDestroyed(),_(this,-this.$$watchersCount);for(var t in this.$$listenerCount)E(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){T.$$phase||C.length||u.defer(function(){C.length&&T.$digest()}),C.push({scope:this,expression:c(e),locals:t})},$$postDigest:function(e){I.push(e)},$apply:function(e){try{m("$apply");try{return this.$eval(e)}finally{g()}}catch(n){t(n)}finally{try{T.$digest()}catch(n){throw t(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&D.push(t),e=c(e),S()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,E(r,1,e))}},$emit:function(e,n){var i,r,o,a=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=V([c],arguments,1);do{for(i=s.$$listeners[e]||a,c.currentScope=s,r=0,o=i.length;o>r;r++)if(i[r])try{i[r].apply(null,u)}catch(d){t(d)}else i.splice(r,1),r--,o--;if(l)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,n){var i=this,r=i,o=i,a={name:e,targetScope:i,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[e])return a;for(var s,l,c,u=V([a],arguments,1);r=o;){for(a.currentScope=r,s=r.$$listeners[e]||[],l=0,c=s.length;c>l;l++)if(s[l])try{s[l].apply(null,u)}catch(d){t(d)}else s.splice(l,1),l--,c--;if(!(o=r.$$listenerCount[e]&&r.$$childHead||r!==i&&r.$$nextSibling))for(;r!==i&&!(o=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var T=new h,C=T.$$asyncQueue=[],I=T.$$postDigestQueue=[],D=T.$$applyAsyncQueue=[],w=0;return T}]}function Tn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return _(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return _(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return r=Pn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Cn(e){if("self"===e)return e;if(b(e)){if(e.indexOf("***")>-1)throw Lo("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Zi(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(T(e))return new RegExp("^"+e.source+"$");throw Lo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function In(e){var t=[];return _(e)&&i(e,function(e){t.push(Cn(e))}),t}function Dn(){this.SCE_CONTEXTS=So;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=In(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=In(e)),t},this.$get=["$injector",function(n){function i(e,t){return"self"===e?kn(t):!!e.exec(t.href)}function r(n){var r,o,a=Pn(n.toString()),s=!1;for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!0;break}if(s)for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw Lo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||v(t)||""===t)return t;if("string"!=typeof t)throw Lo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof u?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||v(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===So.RESOURCE_URL){if(r(t))return t;throw Lo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===So.HTML)return c(t);throw Lo("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(e){throw Lo("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var u=o(),d={};return d[So.HTML]=o(u),d[So.CSS]=o(u),d[So.URL]=o(u),d[So.JS]=o(u),d[So.RESOURCE_URL]=o(d[So.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function wn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Ui)throw Lo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=ge(So);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=h),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var o=r.parseAs,a=r.getTrusted,s=r.trustAs;return i(So,function(e,t){var n=Ni(t);r[be("parse_as_"+n)]=function(t){return o(e,t)},r[be("get_trusted_"+n)]=function(t){return a(e,t)},r[be("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function On(){this.$get=["$window","$document",function(e,t){var n,i,r={},o=e.chrome&&e.chrome.app&&e.chrome.app.runtime,a=!o&&e.history&&e.history.pushState,s=d((/android (\d+)/.exec(Ni((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),c=t[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,p=c.body&&c.body.style,f=!1,h=!1;if(p){for(var m in p)if(i=u.exec(m)){n=i[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in p&&"webkit"),f=!!("transition"in p||n+"Transition"in p),h=!!("animation"in p||n+"Animation"in p),!s||f&&h||(f=b(p.webkitTransition),h=b(p.webkitAnimation))}return{history:!(!a||4>s||l),hasEvent:function(e){if("input"===e&&11>=Ui)return!1;if(v(r[e])){var t=c.createElement("div");r[e]="on"+e in t}return r[e]},csp:Qi(),vendorPrefix:n,transitions:f,animations:h,android:s}}]}function Rn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,i,r){function o(a,s){function l(e){if(!s)throw Ao("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText);return i.reject(e)}o.totalPendingRequests++,(!b(a)||v(t.get(a)))&&(a=r.getTrustedResourceUrl(a));var u=n.defaults&&n.defaults.transformResponse;return Xi(u)?u=u.filter(function(e){return e!==Ct}):u===Ct&&(u=null),n.get(a,c({cache:t,transformResponse:u},e))["finally"](function(){o.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},l)}return o.totalPendingRequests=0,o}]}function xn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),o=[];return i(r,function(e){var r=Gi.element(e).data("$binding");r&&i(r,function(i){if(n){var r=new RegExp("(^|\\s)"+Zi(t)+"(\\s|\\||$)");r.test(i)&&o.push(e)}else-1!=i.indexOf(t)&&o.push(e)})}),o},r.findModels=function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function Nn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function o(o,s,l){A(o)||(l=s,s=o,o=f);var c,u=B(arguments,3),d=_(l)&&!l,p=(d?i:n).defer(),h=p.promise;return c=t.defer(function(){try{p.resolve(o.apply(null,u))}catch(t){p.reject(t),r(t)}finally{delete a[h.$$timeoutId]}d||e.$apply()},s),h.$$timeoutId=c,a[c]=p,h}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function Pn(e){var t=e;return Ui&&(To.setAttribute("href",t),t=To.href),To.setAttribute("href",t),{href:To.href,protocol:To.protocol?To.protocol.replace(/:$/,""):"",host:To.host,search:To.search?To.search.replace(/^\?/,""):"",hash:To.hash?To.hash.replace(/^#/,""):"",hostname:To.hostname,port:To.port,pathname:"/"===To.pathname.charAt(0)?To.pathname:"/"+To.pathname}}function kn(e){var t=b(e)?Pn(e):e;return t.protocol===Co.protocol&&t.host===Co.host}function Mn(){this.$get=m(e)}function Un(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},i={},r="";return function(){var e,o,a,s,l,c=n.cookie||"";if(c!==r)for(r=c,e=r.split("; "),i={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),s>0&&(l=t(o.substring(0,s)),v(i[l])&&(i[l]=t(o.substring(s+1))));return i}}function $n(){this.$get=Un}function Fn(e){function t(r,o){if(y(r)){var a={};return i(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Hn),t("date",oi),t("filter",Yn),t("json",ai),t("limitTo",si),t("lowercase",No),t("number",qn),t("orderBy",ci),t("uppercase",Po)}function Yn(){return function(e,i,r,o){if(!n(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}o=o||"$";var a,s,l=jn(i);switch(l){case"function":a=i;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Vn(i,r,o,s);break;default:return e}return Array.prototype.filter.call(e,a)}}function Vn(e,t,n,i){var r,o=y(e)&&n in e;return t===!0?t=Y:A(t)||(t=function(e,t){return v(e)?!1:null===e||null===t?e===t:y(t)||y(e)&&!g(e)?!1:(e=Ni(""+e),t=Ni(""+t),-1!==e.indexOf(t))}),r=function(r){return o&&!y(r)?Bn(r,e[n],t,n,!1):Bn(r,e,t,n,i)}}function Bn(e,t,n,i,r,o){var a=jn(e),s=jn(t);if("string"===s&&"!"===t.charAt(0))return!Bn(e,t.substring(1),n,i,r);if(Xi(e))return e.some(function(e){return Bn(e,t,n,i,r)});switch(a){case"object":var l;if(r){for(l in e)if("$"!==l.charAt(0)&&Bn(e[l],t,n,i,!0))return!0;return o?!1:Bn(e,t,n,i,!1)}if("object"===s){for(l in t){var c=t[l];if(!A(c)&&!v(c)){var u=l===i,d=u?e:e[l];if(!Bn(d,c,n,i,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function jn(e){return null===e?"null":typeof e}function Hn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return v(n)&&(n=t.CURRENCY_SYM),v(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:zn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function qn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:zn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Wn(e){var t,n,i,r,o,a=0;for((n=e.indexOf(Do))>-1&&(e=e.replace(Do,"")),(i=e.search(/e/i))>0?(0>n&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):0>n&&(n=e.length),i=0;e.charAt(i)==wo;i++);if(i==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==wo;)o--;for(n-=i,t=[],r=0;o>=i;i++,r++)t[r]=+e.charAt(i)}return n>Io&&(t=t.splice(0,Io-1),a=n-1,n=1),{d:t,e:a,i:n}}function Gn(e,t,n,i){var r=e.d,o=r.length-e.i;t=v(t)?Math.min(Math.max(n,o),i):+t;var a=t+e.i,s=r[a];if(a>0){r.splice(Math.max(e.i,a));for(var l=a;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),e.i=1,r.length=Math.max(1,a=t+1),r[0]=0;for(var c=1;a>c;c++)r[c]=0}if(s>=5)if(0>a-1){for(var u=0;u>a;u--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[a-1]++;for(;o<Math.max(0,t);o++)r.push(0);var d=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0);d&&(r.unshift(d),e.i++)}function zn(e,t,n,i,r){if(!b(e)&&!L(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",c="";if(a)c="";else{o=Wn(l),Gn(o,r,t.minFrac,t.maxFrac);var u=o.d,d=o.i,p=o.e,f=[];for(s=u.reduce(function(e,t){return e&&!t},!0);0>d;)u.unshift(0),d++;d>0?f=u.splice(d,u.length):(f=u,u=[0]);var h=[];for(u.length>=t.lgSize&&h.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)h.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&h.unshift(u.join("")),c=h.join(n),f.length&&(c+=i+f.join("")),p&&(c+="e+"+p)}return 0>e&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function Xn(e,t,n,i){var r="";for((0>e||i&&0>=e)&&(i?e=-e+1:(e=-e,r="-")),e=""+e;e.length<t;)e=wo+e;return n&&(e=e.substr(e.length-t)),r+e}function Kn(e,t,n,i,r){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),Xn(a,t,i,r)}}function Jn(e,t,n){return function(i,r){var o=i["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),s=Pi(a+e);return r[s][o]}}function Zn(e,t,n){var i=-1*n,r=i>=0?"+":"";return r+=Xn(Math[i>0?"floor":"ceil"](i/60),2)+Xn(Math.abs(i%60),2)}function Qn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function ei(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ti(e){return function(t){var n=Qn(t.getFullYear()),i=ei(t),r=+i-+n,o=1+Math.round(r/6048e5);return Xn(o,e)}}function ni(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function ii(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function ri(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function oi(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,o=0,a=t[8]?i.setUTCFullYear:i.setFullYear,s=t[8]?i.setUTCHours:i.setHours;t[9]&&(r=d(t[9]+t[10]),o=d(t[9]+t[11])),a.call(i,d(t[1]),d(t[2])-1,d(t[3]));var l=d(t[4]||0)-r,c=d(t[5]||0)-o,u=d(t[6]||0),p=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(i,l,c,u,p),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,o){var a,s,l="",c=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,b(n)&&(n=xo.test(n)?d(n):t(n)),L(n)&&(n=new Date(n)),!S(n)||!isFinite(n.getTime()))return n;for(;r;)s=Ro.exec(r),s?(c=V(c,s,1),r=c.pop()):(c.push(r),r=null);var u=n.getTimezoneOffset();return o&&(u=G(o,u),n=X(n,o,!0)),i(c,function(t){a=Oo[t],l+=a?a(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ai(){return function(e,t){return v(t)&&(t=2),q(e,t)}}function si(){return function(e,t,i){return t=Math.abs(Number(t))===1/0?Number(t):d(t),isNaN(t)?e:(L(e)&&(e=e.toString()),n(e)?(i=!i||isNaN(i)?0:d(i),i=0>i?Math.max(0,e.length+i):i,t>=0?li(e,i,i+t):0===i?li(e,t,e.length):li(e,Math.max(0,i+t),i)):e)}}function li(e,t,n){return b(e)?e.slice(t,n):Vi.call(e,t,n)}function ci(e){function i(t){return t.map(function(t){var n=1,i=h;if(A(t))i=t;else if(b(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var r=i();i=function(e){return e[r]}}return{get:i,descending:n}})}function r(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e){return A(e.valueOf)&&(e=e.valueOf(),r(e))?e:g(e)&&(e=e.toString(),r(e))?e:e}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=o(e)),{value:e,type:n,index:t}}function s(e,t){var n=0,i=e.type,r=t.type;if(i===r){var o=e.value,a=t.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(y(o)&&(o=e.index),y(a)&&(a=t.index)),o!==a&&(n=a>o?-1:1)}else n=r>i?-1:1;return n}return function(e,r,o,l){function c(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:d.map(function(n){return a(n.get(e),t)})}}function u(e,t){for(var n=0,i=d.length;i>n;n++){var r=f(e.predicateValues[n],t.predicateValues[n]);if(r)return r*d[n].descending*p}return f(e.tieBreaker,t.tieBreaker)*p}if(null==e)return e;if(!n(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);Xi(r)||(r=[r]),0===r.length&&(r=["+"]);var d=i(r),p=o?-1:1,f=A(l)?l:s,h=Array.prototype.map.call(e,c);return h.sort(u),e=h.map(function(e){return e.value})}}function ui(e){return A(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function di(e,t){e.$name=t}function pi(e,t,n,r,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(t.name||t.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=Uo,a.$rollbackViewValue=function(){i(s,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){i(s,function(e){e.$commitViewValue()})},a.$addControl=function(e){de(e.$name,"input"),s.push(e),e.$name&&(a[e.$name]=e),e.$$parentForm=a},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],i(a.$pending,function(t,n){a.$setValidity(n,null,e)}),i(a.$error,function(t,n){a.$setValidity(n,null,e)}),i(a.$$success,function(t,n){a.$setValidity(n,null,e)}),$(s,e),e.$$parentForm=Uo},Ii({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];if(i){var r=i.indexOf(n);-1===r&&i.push(n)}else e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&($(i,n),0===i.length&&delete e[t])},$animate:r}),a.$setDirty=function(){r.removeClass(e,ba),r.addClass(e,La),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){r.setClass(e,ba,La+" "+$o),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,i(s,function(e){e.$setPristine()})},a.$setUntouched=function(){i(s,function(e){e.$setUntouched()})},a.$setSubmitted=function(){r.addClass(e,$o),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function fi(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function hi(e,t,n,i,r,o){mi(e,t,n,i,r,o),fi(i)}function mi(e,t,n,i,r,o){var a=Ni(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,c()})}var l,c=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var r=t.val(),c=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=Ji(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,c)}};if(r.hasEvent("input"))t.on("input",c);else{var u=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||u(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",c),Zo[a]&&i.$$hasNativeValidators&&a===n.type&&t.on(Jo,function(e){if(!l){var t=this[Ri],n=t.badInput,i=t.typeMismatch;l=o.defer(function(){l=null,(t.badInput!==n||t.typeMismatch!==i)&&c(e)})}}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function gi(e,t){if(S(e))return e;if(b(e)){zo.lastIndex=0;var n=zo.exec(e);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,l=0,c=Qn(i),u=7*(r-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(i,0,c.getDate()+u,o,a,s,l)}}return NaN}function vi(e,t){return function(n,r){var o,a;if(S(n))return n;if(b(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Bo.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function _i(e,t,n,i){return function(r,o,a,s,l,c,u){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return _(e)&&!S(e)?n(e)||void 0:e}yi(r,o,a,s),mi(r,o,a,s,l,c);var f,h=s&&s.$options&&s.$options.timezone;if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var i=n(e,f);return h&&(i=X(i,h)),i}}),s.$formatters.push(function(e){if(e&&!S(e))throw Da("datefmt","Expected `{0}` to be a date",e);return d(e)?(f=e,f&&h&&(f=X(f,h,!0)),u("date")(e,i,h)):(f=null,"")}),_(a.min)||a.ngMin){var m;s.$validators.min=function(e){return!d(e)||v(m)||n(e)>=m},a.$observe("min",function(e){m=p(e),s.$validate()})}if(_(a.max)||a.ngMax){var g;s.$validators.max=function(e){return!d(e)||v(g)||n(e)<=g},a.$observe("max",function(e){g=p(e),s.$validate()})}}}function yi(e,t,n,i){var r=t[0],o=i.$$hasNativeValidators=y(r.validity);o&&i.$parsers.push(function(e){var n=t.prop(Ri)||{};return n.badInput||n.typeMismatch?void 0:e})}function Ei(e,t,n,i,r,o){if(yi(e,t,n,i),mi(e,t,n,i,r,o),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:qo.test(e)?parseFloat(e):void 0}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!L(e))throw Da("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),_(n.min)||n.ngMin){var a;i.$validators.min=function(e){
return i.$isEmpty(e)||v(a)||e>=a},n.$observe("min",function(e){_(e)&&!L(e)&&(e=parseFloat(e)),a=L(e)&&!isNaN(e)?e:void 0,i.$validate()})}if(_(n.max)||n.ngMax){var s;i.$validators.max=function(e){return i.$isEmpty(e)||v(s)||s>=e},n.$observe("max",function(e){_(e)&&!L(e)&&(e=parseFloat(e)),s=L(e)&&!isNaN(e)?e:void 0,i.$validate()})}}function bi(e,t,n,i,r,o){mi(e,t,n,i,r,o),fi(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||jo.test(n)}}function Li(e,t,n,i,r,o){mi(e,t,n,i,r,o),fi(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Ho.test(n)}}function Si(e,t,n,i){v(n.name)&&t.attr("name",a());var r=function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)};t.on("click",r),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)}function Ai(e,t,n,i,r){var o;if(_(i)){if(o=e(i),!o.constant)throw Da("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return r}function Ti(e,t,n,i,r,o,a,s){var l=Ai(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Ai(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){i.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return e===!1},i.$formatters.push(function(e){return Y(e,l)}),i.$parsers.push(function(e){return e?l:c})}function Ci(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r==t[o])continue e;n.push(r)}return n}function o(e){var t=[];return Xi(e)?(i(e,function(e){t=t.concat(o(e))}),t):b(e)?e.split(" "):y(e)?(i(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,l){function c(e){var t=d(e,1);l.$addClass(t)}function u(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||he(),r=[];return i(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function p(e,t){var i=r(t,e),o=r(e,t);i=d(i,1),o=d(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function f(e){if(t===!0||(1&a.$index)===t){var n=o(e||[]);if(h){if(!Y(e,h)){var i=o(h);p(i,n)}}else c(n)}h=Xi(e)?e.map(function(e){return ge(e)}):ge(e)}var h;a.$watch(l[e],f,!0),l.$observe("class",function(t){f(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,i){var r=1&n;if(r!==(1&i)){var s=o(a.$eval(l[e]));r===t?c(s):u(s)}})}}}]}function Ii(e){function t(e,t,s){v(t)?n("$pending",e,s):i("$pending",e,s),R(t)?t?(u(a.$error,e,s),c(a.$$success,e,s)):(c(a.$error,e,s),u(a.$$success,e,s)):(u(a.$error,e,s),u(a.$$success,e,s)),a.$pending?(r(Ta,!0),a.$valid=a.$invalid=void 0,o("",null)):(r(Ta,!1),a.$valid=Di(a.$error),a.$invalid=!a.$valid,o("",a.$valid));var l;l=a.$pending&&a.$pending[e]?void 0:a.$error[e]?!1:a.$$success[e]?!0:null,o(e,l),a.$$parentForm.$setValidity(e,l,a)}function n(e,t,n){a[e]||(a[e]={}),c(a[e],t,n)}function i(e,t,n){a[e]&&u(a[e],t,n),Di(a[e])&&(a[e]=void 0)}function r(e,t){t&&!l[e]?(d.addClass(s,e),l[e]=!0):!t&&l[e]&&(d.removeClass(s,e),l[e]=!1)}function o(e,t){e=e?"-"+se(e,"-"):"",r(ya+e,t===!0),r(Ea+e,t===!1)}var a=e.ctrl,s=e.$element,l={},c=e.set,u=e.unset,d=e.$animate;l[Ea]=!(l[ya]=s.hasClass(ya)),a.$setValidity=t}function Di(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function wi(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var Oi=/^\/(.+)\/([a-z]*)$/,Ri="validity",xi=Object.prototype.hasOwnProperty,Ni=function(e){return b(e)?e.toLowerCase():e},Pi=function(e){return b(e)?e.toUpperCase():e},ki=function(e){return b(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Mi=function(e){return b(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Ni=ki,Pi=Mi);var Ui,$i,Fi,Yi,Vi=[].slice,Bi=[].splice,ji=[].push,Hi=Object.prototype.toString,qi=Object.getPrototypeOf,Wi=t("ng"),Gi=e.angular||(e.angular={}),zi=0;Ui=e.document.documentMode,f.$inject=[],h.$inject=[];var Xi=Array.isArray,Ki=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Ji=function(e){return b(e)?e.trim():e},Zi=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Qi=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!_(Qi.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Qi.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else Qi.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Qi.rules},er=function(){if(_(er.name_))return er.name_;var t,n,i,r,o=nr.length;for(n=0;o>n;++n)if(i=nr[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return er.name_=r},tr=/:/g,nr=["ng-","data-ng-","ng:","x-ng-"],ir=/[A-Z]/g,rr=!1,or=1,ar=2,sr=3,lr=8,cr=9,ur=11,dr={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};we.expando="ng339";var pr=we.cache={},fr=1,hr=function(e,t,n){e.addEventListener(t,n,!1)},mr=function(e,t,n){e.removeEventListener(t,n,!1)};we._data=function(e){return this.cache[e[this.expando]]||{}};var gr=/([\:\-\_]+(.))/g,vr=/^moz([A-Z])/,_r={mouseleave:"mouseout",mouseenter:"mouseover"},yr=t("jqLite"),Er=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,br=/<|&#?\w+;/,Lr=/<([\w:-]+)/,Sr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ar={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ar.optgroup=Ar.option,Ar.tbody=Ar.tfoot=Ar.colgroup=Ar.caption=Ar.thead,Ar.th=Ar.td;var Tr=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Cr=we.prototype={ready:function(t){function n(){i||(i=!0,t())}var i=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),we(e).on("load",n))},toString:function(){var e=[];return i(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return $i(e>=0?this[e]:this[this.length+e])},length:0,push:ji,sort:[].sort,splice:[].splice},Ir={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Ir[Ni(e)]=e});var Dr={};i("input,select,option,textarea,button,form,details".split(","),function(e){Dr[e]=!0});var wr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};i({data:ke,removeData:Ne,hasData:Ae,cleanData:Te},function(e,t){we[t]=e}),i({data:ke,inheritedData:Ve,scope:function(e){return $i.data(e,"$scope")||Ve(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return $i.data(e,"$isolateScope")||$i.data(e,"$isolateScopeNoTemplate")},controller:Ye,injector:function(e){return Ve(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Me,css:function(e,t,n){return t=be(t),_(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var i=e.nodeType;if(i!==sr&&i!==ar&&i!==lr){var r=Ni(t);if(Ir[r]){if(!_(n))return e[t]||(e.attributes.getNamedItem(t)||f).specified?r:void 0;n?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(_(n))e.setAttribute(t,n);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?void 0:o}}},prop:function(e,t,n){return _(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===or||n===sr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===U(e)){var n=[];return i(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(Re(e,!0),void(e.innerHTML=t))},empty:Be},function(e,t){we.prototype[t]=function(t,n){var i,r,o=this.length;if(e!==Be&&v(2==e.length&&e!==Me&&e!==Ye?t:n)){if(y(t)){for(i=0;o>i;i++)if(e===ke)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(var a=e.$dv,s=v(a)?Math.min(o,1):o,l=0;s>l;l++){var c=e(this[l],t,n);a=a?a+c:c}return a}for(i=0;o>i;i++)e(this[i],t,n);return this}}),i({removeData:Ne,on:function(e,t,n,i){if(_(i))throw yr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Se(e)){var r=Pe(e,!0),o=r.events,a=r.handle;a||(a=r.handle=Ge(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,c=function(t,i,r){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=i,"$destroy"===t||r||hr(e,t,a)),s.push(n)};l--;)t=s[l],_r[t]?(c(_r[t],Xe),c(t,void 0,!0)):c(t)}},off:xe,one:function(e,t,n){e=$i(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Re(e),i(new we(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return i(e.childNodes,function(e){e.nodeType===or&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===or||n===ur){t=new we(t);for(var i=0,r=t.length;r>i;i++){var o=t[i];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===or){var n=e.firstChild;i(new we(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){De(e,$i(t).eq(0).clone()[0])},remove:je,detach:function(e){je(e,!0)},after:function(e,t){var n=e,i=e.parentNode;t=new we(t);for(var r=0,o=t.length;o>r;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:$e,removeClass:Ue,toggleClass:function(e,t,n){t&&i(t.split(" "),function(t){var i=n;v(i)&&(i=!Me(e,t)),(i?$e:Ue)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==ur?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Oe,triggerHandler:function(e,t,n){var r,o,a,s=t.type||t,l=Pe(e),u=l&&l.events,d=u&&u[s];d&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:f,type:s,target:e},t.type&&(r=c(r,t)),o=ge(d),a=n?[r].concat(n):[r],i(o,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){we.prototype[t]=function(t,n,i){for(var r,o=0,a=this.length;a>o;o++)v(r)?(r=e(this[o],t,n,i),_(r)&&(r=$i(r))):Fe(r,e(this[o],t,n,i));return _(r)?r:this},we.prototype.bind=we.prototype.on,we.prototype.unbind=we.prototype.off}),Ze.prototype={put:function(e,t){this[Je(e,this.nextUid)]=t},get:function(e){return this[Je(e,this.nextUid)]},remove:function(e){var t=this[e=Je(e,this.nextUid)];return delete this[e],t}};var Or=[function(){this.$get=[function(){return Ze}]}],Rr=/^([^\(]+?)=>/,xr=/^[^\(]*\(\s*([^\)]*)\)/m,Nr=/,/,Pr=/^\s*(_?)(\S+?)\1\s*$/,kr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Mr=t("$injector");it.$$annotate=nt;var Ur=t("$animate"),$r=1,Fr="ng-animate",Yr=function(){this.$get=f},Vr=function(){var e=new Ze,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function o(e,t,n){var r=!1;return t&&(t=b(t)?t.split(" "):Xi(t)?t:[],i(t,function(t){t&&(r=!0,e[t]=n)})),r}function a(){i(t,function(t){var n=e.get(t);if(n){var r=st(t.attr("class")),o="",a="";i(n,function(e,t){var n=!!r[t];e!==n&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),i(t,function(e){o&&$e(e,o),a&&Ue(e,a)}),e.remove(t)}}),t.length=0}function s(n,i,s){var l=e.get(n)||{},c=o(l,i,!0),u=o(l,s,!1);(c||u)&&(e.put(n,l),t.push(n),1===t.length&&r.$$postDigest(a))}return{enabled:f,on:f,off:f,pin:f,push:function(e,t,i,r){r&&r(),i=i||{},i.from&&e.css(i.from),i.to&&e.css(i.to),(i.addClass||i.removeClass)&&s(e,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},Br=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Ur("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Fr+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Ur("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Fr)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i=at(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,r,o){return i=i&&$i(i),r=r&&$i(r),i=i||r.parent(),t(n,i,r),e.push(n,"enter",lt(o))},move:function(n,i,r,o){return i=i&&$i(i),r=r&&$i(r),i=i||r.parent(),t(n,i,r),e.push(n,"move",lt(o))},leave:function(t,n){return e.push(t,"leave",lt(n),function(){t.remove()})},addClass:function(t,n,i){return i=lt(i),i.addClass=ot(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=lt(i),i.removeClass=ot(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=lt(r),r.addClass=ot(r.addClass,n),r.removeClass=ot(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return o=lt(o),o.from=o.from?c(o.from,n):n,o.to=o.to?c(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=ot(o.tempClasses,r),e.push(t,"animate",o)}}}]}],jr=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Hr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,r,o){function a(e){this.setHost(e);var t=n(),i=function(e){o(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=r[0];n&&n.hidden?i(e):t(e)},this._state=0}var s=0,l=1,c=2;return a.chain=function(e,t){function n(){return i===e.length?void t(!0):void e[i](function(e){return e===!1?void t(!1):(i++,void n())})}var i=0;n()},a.all=function(e,t){function n(n){o=o&&n,++r===e.length&&t(o)}var r=0,o=!0;i(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===c?e():this._doneCallbacks.push(e)},progress:f,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=l,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==c&&(i(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=c)}},a}]},qr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){function r(){return e(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=i||{};a.$$prepared||(a=F(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,l=new n;return{start:r,end:r}}}]},Wr=t("$compile"),Gr=new ft;ht.$inject=["$provide","$$sanitizeUriProvider"],mt.prototype.isFirstChange=function(){return this.previousValue===Gr};var zr=/^((?:x|data)[\:\-_])/i,Xr=t("$controller"),Kr=/^(\S+)(\s+as\s+([\w$]+))?$/,Jr=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof $i&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Zr="application/json",Qr={"Content-Type":Zr+";charset=utf-8"},eo=/^\[|^\{(?!\{)/,to={"[":/]$/,"{":/}$/},no=/^\)\]\}',?\n/,io=t("$http"),ro=function(e){return function(){throw io("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},oo=Gi.$interpolateMinErr=t("$interpolate");oo.throwNoconcat=function(e){throw oo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},oo.interr=function(e,t){return oo("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ao=function(){this.$get=["$window",function(e){function t(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var n=e.angular.callbacks,i={};return{createCallback:function(e){var r="_"+(n.$$counter++).toString(36),o="angular.callbacks."+r,a=t(r);return i[o]=n[r]=a,o},wasCalled:function(e){return i[e].called},getResponse:function(e){return i[e].data},removeCallback:function(e){var t=i[e];delete n[t.id],delete i[e]}}}]},so=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,lo={http:80,https:443,ftp:21},co=t("$location"),uo={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Kt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=so.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Kt("$$protocol"),host:Kt("$$host"),port:Kt("$$port"),path:Jt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(b(e)||L(e))e=e.toString(),this.$$search=Z(e);else{if(!y(e))throw co("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=F(e,{}),i(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Jt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};i([Xt,zt,Gt],function(e){e.prototype=Object.create(uo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Gt||!this.$$html5)throw co("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var po=t("$parse"),fo=Function.prototype.call,ho=Function.prototype.apply,mo=Function.prototype.bind,go=he();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){go[e]=!0});var vo={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},_o=function(e){this.options=e};_o.prototype={constructor:_o,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=go[t],o=go[n],a=go[i];if(r||o||a){var s=a?i:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\x0B"===e||""===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return n>=55296&&56319>=n&&i>=56320&&57343>=i?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=_(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw po("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Ni(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=vo[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var yo=function(e,t){this.lexer=e,this.options=t};yo.Program="Program",yo.ExpressionStatement="ExpressionStatement",yo.AssignmentExpression="AssignmentExpression",yo.ConditionalExpression="ConditionalExpression",yo.LogicalExpression="LogicalExpression",yo.BinaryExpression="BinaryExpression",yo.UnaryExpression="UnaryExpression",yo.CallExpression="CallExpression",yo.MemberExpression="MemberExpression",yo.Identifier="Identifier",yo.Literal="Literal",yo.ArrayExpression="ArrayExpression",yo.Property="Property",yo.ObjectExpression="ObjectExpression",yo.ThisExpression="ThisExpression",yo.LocalsExpression="LocalsExpression",yo.NGValueParameter="NGValueParameter",yo.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:yo.Program,body:e}},expressionStatement:function(){return{type:yo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:yo.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:yo.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:yo.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:yo.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:yo.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:yo.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:yo.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:yo.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:yo.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=F(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:yo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:yo.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:yo.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:yo.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:yo.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:yo.Identifier,name:e.text}},constant:function(){return{type:yo.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:yo.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:yo.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:yo.ObjectExpression,properties:t}},throwError:function(e,t){throw po("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw po("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw po("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===i||a===r||!t&&!n&&!i&&!r)return o}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return r?(this.tokens.shift(),r):!1},selfReferential:{"this":{type:yo.ThisExpression},$locals:{type:yo.LocalsExpression}}},mn.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},cn(r,n.$filter);var o,a="";if(this.stage="assign",o=pn(r)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var l=un(r.body);n.stage="inputs",i(l,function(e,t){var i="fn"+t;n.state[i]={vars:[],body:[],own:{}},n.state.computing=i;var r=n.nextId();n.recurse(e,r),n.return_(r),n.state.inputs.push(i),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(r);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,en,nn,rn,tn,on,an,sn,e);return this.state=this.stage=void 0,u.literal=fn(r),u.constant=hn(r),u},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return i(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return i(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,o,a){var s,l,c,u,d,p=this;if(r=r||f,!a&&_(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,o,!0));switch(e.type){case yo.Program:i(e.body,function(t,n){p.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?p.current().body.push(l,";"):p.return_(l)});break;case yo.Literal:u=this.escape(e.value),this.assign(t,u),r(u);break;case yo.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),u=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,u),r(u);break;case yo.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),u="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,u),r(u);break;case yo.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),r(t);break;case yo.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),r(t);break;case yo.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),en(e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){o&&1!==o&&p.if_(p.not(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),(p.state.expensiveChecks||vn(e.name))&&p.addEnsureSafeObject(t),r(t);break;case yo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,s,void 0,function(){p.if_(p.notNull(s),function(){o&&1!==o&&p.addEnsureSafeAssignContext(s),e.computed?(l=p.nextId(),p.recurse(e.property,l),p.getStringValue(l),p.addEnsureSafeMemberName(l),o&&1!==o&&p.if_(p.not(p.computedMember(s,l)),p.lazyAssign(p.computedMember(s,l),"{}")),
u=p.ensureSafeObject(p.computedMember(s,l)),p.assign(t,u),n&&(n.computed=!0,n.name=l)):(en(e.property.name),o&&1!==o&&p.if_(p.not(p.nonComputedMember(s,e.property.name)),p.lazyAssign(p.nonComputedMember(s,e.property.name),"{}")),u=p.nonComputedMember(s,e.property.name),(p.state.expensiveChecks||vn(e.property.name))&&(u=p.ensureSafeObject(u)),p.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){p.assign(t,"undefined")}),r(t)},!!o);break;case yo.CallExpression:t=t||this.nextId(),e.filter?(l=p.filter(e.callee.name),c=[],i(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),c.push(t)}),u=l+"("+c.join(",")+")",p.assign(t,u),r(t)):(l=p.nextId(),s={},c=[],p.recurse(e.callee,l,s,function(){p.if_(p.notNull(l),function(){p.addEnsureSafeFunction(l),i(e.arguments,function(e){p.recurse(e,p.nextId(),void 0,function(e){c.push(p.ensureSafeObject(e))})}),s.name?(p.state.expensiveChecks||p.addEnsureSafeObject(s.context),u=p.member(s.context,s.name,s.computed)+"("+c.join(",")+")"):u=l+"("+c.join(",")+")",u=p.ensureSafeObject(u),p.assign(t,u)},function(){p.assign(t,"undefined")}),r(t)}));break;case yo.AssignmentExpression:if(l=this.nextId(),s={},!dn(e.left))throw po("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,s,function(){p.if_(p.notNull(s.context),function(){p.recurse(e.right,l),p.addEnsureSafeObject(p.member(s.context,s.name,s.computed)),p.addEnsureSafeAssignContext(s.context),u=p.member(s.context,s.name,s.computed)+e.operator+l,p.assign(t,u),r(t||u)})},1);break;case yo.ArrayExpression:c=[],i(e.elements,function(e){p.recurse(e,p.nextId(),void 0,function(e){c.push(e)})}),u="["+c.join(",")+"]",this.assign(t,u),r(u);break;case yo.ObjectExpression:c=[],d=!1,i(e.properties,function(e){e.computed&&(d=!0)}),d?(t=t||this.nextId(),this.assign(t,"{}"),i(e.properties,function(e){e.computed?(s=p.nextId(),p.recurse(e.key,s)):s=e.key.type===yo.Identifier?e.key.name:""+e.key.value,l=p.nextId(),p.recurse(e.value,l),p.assign(p.member(t,s,e.computed),l)})):(i(e.properties,function(t){p.recurse(t.value,e.constant?void 0:p.nextId(),void 0,function(e){c.push(p.escape(t.key.type===yo.Identifier?t.key.name:""+t.key.value)+":"+e)})}),u="{"+c.join(",")+"}",this.assign(t,u)),r(t||u);break;case yo.ThisExpression:this.assign(t,"s"),r("s");break;case yo.LocalsExpression:this.assign(t,"l"),r("l");break;case yo.NGValueParameter:this.assign(t,"v"),r("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,i=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(b(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(L(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw po("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},gn.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,cn(r,n.$filter);var o,a;(o=pn(r))&&(a=this.recurse(o));var s,l=un(r.body);l&&(s=[],i(l,function(e,t){var i=n.recurse(e);e.input=i,s.push(i),e.watchId=t}));var c=[];i(r.body,function(e){c.push(n.recurse(e.expression))});var u=0===r.body.length?f:1===r.body.length?c[0]:function(e,t){var n;return i(c,function(i){n=i(e,t)}),n};return a&&(u.assign=function(e,t,n){return a(e,n,t)}),s&&(u.inputs=s),u.literal=fn(r),u.constant=hn(r),u},recurse:function(e,t,n){var r,o,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case yo.Literal:return this.value(e.value,t);case yo.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case yo.BinaryExpression:return r=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](r,o,t);case yo.LogicalExpression:return r=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](r,o,t);case yo.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case yo.Identifier:return en(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||vn(e.name),t,n,s.expression);case yo.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(en(e.property.name,s.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(r,o,t,n,s.expression):this.nonComputedMember(r,o,s.expensiveChecks,t,n,s.expression);case yo.CallExpression:return a=[],i(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,n,i,r){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,n,i,r));var c=o.apply(void 0,s,r);return t?{context:void 0,name:void 0,value:c}:c}:function(e,n,i,r){var l,c=o(e,n,i,r);if(null!=c.value){nn(c.context,s.expression),rn(c.value,s.expression);for(var u=[],d=0;d<a.length;++d)u.push(nn(a[d](e,n,i,r),s.expression));l=nn(c.value.apply(c.context,u),s.expression)}return t?{value:l}:l};case yo.AssignmentExpression:return r=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,i,a){var l=r(e,n,i,a),c=o(e,n,i,a);return nn(l.value,s.expression),on(l.context),l.context[l.name]=c,t?{value:c}:c};case yo.ArrayExpression:return a=[],i(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,i,r));return t?{value:o}:o};case yo.ObjectExpression:return a=[],i(e.properties,function(e){e.computed?a.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):a.push({key:e.key.type===yo.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,i,r){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,n,i,r)]=a[s].value(e,n,i,r):o[a[s].key]=a[s].value(e,n,i,r);return t?{value:o}:o};case yo.ThisExpression:return function(e){return t?{value:e}:e};case yo.LocalsExpression:return function(e,n){return t?{value:n}:n};case yo.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=_(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=_(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,i,r,o){var a=!e(n,i,r,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),l=t(i,r,o,a),c=sn(s,l);return n?{value:c}:c}},"binary-":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),l=t(i,r,o,a),c=(_(s)?s:0)-(_(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)*t(i,r,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)/t(i,r,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)%t(i,r,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)===t(i,r,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!==t(i,r,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)==t(i,r,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!=t(i,r,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<t(i,r,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>t(i,r,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<=t(i,r,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>=t(i,r,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)&&t(i,r,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)||t(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,i){return function(r,o,a,s){var l=e(r,o,a,s)?t(r,o,a,s):n(r,o,a,s);return i?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,i,r){return function(o,a,s,l){var c=a&&e in a?a:o;i&&1!==i&&c&&!c[e]&&(c[e]={});var u=c?c[e]:void 0;return t&&nn(u,r),n?{context:c,name:e,value:u}:u}},computedMember:function(e,t,n,i,r){return function(o,a,s,l){var c,u,d=e(o,a,s,l);return null!=d&&(c=t(o,a,s,l),c=tn(c),en(c,r),i&&1!==i&&(on(d),d&&!d[c]&&(d[c]={})),u=d[c],nn(u,r)),n?{context:d,name:c,value:u}:u}},nonComputedMember:function(e,t,n,i,r,o){return function(a,s,l,c){var u=e(a,s,l,c);r&&1!==r&&(on(u),u&&!u[t]&&(u[t]={}));var d=null!=u?u[t]:void 0;return(n||vn(t))&&nn(d,o),i?{context:u,name:t,value:d}:d}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}};var Eo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new yo(e,n),this.astCompiler=n.csp?new gn(this.ast,t):new mn(this.ast,t)};Eo.prototype={constructor:Eo,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var bo=Object.prototype.valueOf,Lo=t("$sce"),So={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ao=t("$compile"),To=e.document.createElement("a"),Co=Pn(e.location.href);Un.$inject=["$document"],Fn.$inject=["$provide"];var Io=22,Do=".",wo="0";Hn.$inject=["$locale"],qn.$inject=["$locale"];var Oo={yyyy:Kn("FullYear",4,0,!1,!0),yy:Kn("FullYear",2,0,!0,!0),y:Kn("FullYear",1,0,!1,!0),MMMM:Jn("Month"),MMM:Jn("Month",!0),MM:Kn("Month",2,1),M:Kn("Month",1,1),LLLL:Jn("Month",!1,!0),dd:Kn("Date",2),d:Kn("Date",1),HH:Kn("Hours",2),H:Kn("Hours",1),hh:Kn("Hours",2,-12),h:Kn("Hours",1,-12),mm:Kn("Minutes",2),m:Kn("Minutes",1),ss:Kn("Seconds",2),s:Kn("Seconds",1),sss:Kn("Milliseconds",3),EEEE:Jn("Day"),EEE:Jn("Day",!0),a:ni,Z:Zn,ww:ti(2),w:ti(1),G:ii,GG:ii,GGG:ii,GGGG:ri},Ro=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,xo=/^\-?\d+$/;oi.$inject=["$locale"];var No=m(Ni),Po=m(Pi);ci.$inject=["$parse"];var ko=m({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Hi.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Mo={};i(Ir,function(e,t){function n(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}if("multiple"!=e){var i=gt("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[i]&&n(e,t,r)}),Mo[i]=function(){return{restrict:"A",priority:100,link:r}}}}),i(wr,function(e,t){Mo[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(Oi);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(i[t],function(e){i.$set(t,e)})}}}}),i(["src","srcset","href"],function(e){var t=gt("ng-"+e);Mo[t]=function(){return{priority:99,link:function(n,i,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Hi.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,function(t){return t?(r.$set(a,t),void(Ui&&o&&i.prop(o,r[a]))):void("href"===e&&r.$set(a,null))})}}}});var Uo={$addControl:f,$$renameControl:di,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f},$o="ng-submitted";pi.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Fo=function(e){return["$timeout","$parse",function(t,n){function i(e){return""===e?n('this[""]').assign:n(e).assign||f}var r={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:pi,compile:function(n,r){n.addClass(ba).addClass(ya);var o=r.name?"name":e&&r.ngForm?"ngForm":!1;return{pre:function(e,n,r,a){var s=a[0];if(!("action"in r)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};hr(n[0],"submit",l),n.on("$destroy",function(){t(function(){mr(n[0],"submit",l)},0,!1)})}var u=a[1]||s.$$parentForm;u.$addControl(s);var d=o?i(s.$name):f;o&&(d(e,s),r.$observe(o,function(t){s.$name!==t&&(d(e,void 0),s.$$parentForm.$$renameControl(s,t),(d=i(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),d(e,void 0),c(s,Uo)})}}}};return r}]},Yo=Fo(),Vo=Fo(!0),Bo=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,jo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Ho=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,qo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Wo=/^(\d{4,})-(\d{2})-(\d{2})$/,Go=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,zo=/^(\d{4,})-W(\d\d)$/,Xo=/^(\d{4,})-(\d\d)$/,Ko=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Jo="keydown wheel mousedown",Zo=he();i("date,datetime-local,month,time,week".split(","),function(e){Zo[e]=!0});var Qo={text:hi,date:_i("date",Wo,vi(Wo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":_i("datetimelocal",Go,vi(Go,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:_i("time",Ko,vi(Ko,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:_i("week",zo,gi,"yyyy-Www"),month:_i("month",Xo,vi(Xo,["yyyy","MM"]),"yyyy-MM"),number:Ei,url:bi,email:Li,radio:Si,checkbox:Ti,hidden:f,button:f,submit:f,reset:f,file:f},ea=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(Qo[Ni(a.type)]||Qo.text)(r,o,a,s[0],t,e,n,i)}}}}],ta=/^(true|false|\d+)$/,na=function(){return{restrict:"A",priority:100,compile:function(e,t){return ta.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},ia=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=v(e)?"":e})}}}}],ra=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){var o=e(i.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(e){i.textContent=v(e)?"":e})}}}}],oa=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(a,function(){var n=o(t);i.html(e.getTrustedHtml(n)||"")})}}}}],aa=m({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),sa=Ci("",!0),la=Ci("Odd",0),ca=Ci("Even",1),ua=ui({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),da=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],pa={},fa={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=gt("ng-"+e);pa[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var r=function(){a(t,{$event:n})};fa[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var ha=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,c;n.$watch(r.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:n},e.enter(n,i.parent(),i)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=fe(s.clone),e.leave(c).then(function(){c=null}),s=null))})}}}],ma=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Gi.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,l,c,u){var d,p,f,h=0,m=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then(function(){p=null}),p=f,f=null)};i.$watch(o,function(o){var l=function(){!_(s)||s&&!i.$eval(s)||t()},p=++h;o?(e(o,!0).then(function(e){if(!i.$$destroyed&&p===h){var t=i.$new();c.template=e;var s=u(t,function(e){m(),n.enter(e,null,r).then(l)});d=t,f=s,d.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||p===h&&(m(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(m(),c.template=null)})}}}}],ga=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return Hi.call(i[0]).match(/SVG/)?(i.empty(),void t(Ce(o.template,e.document).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(o.template),void t(i.contents())(n))}}}],va=ui({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),_a=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var o=t.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?Ji(o):o,l=function(e){if(!v(e)){var t=[];return e&&i(e.split(s),function(e){e&&t.push(a?Ji(e):e)}),t}};r.$parsers.push(l),r.$formatters.push(function(e){return Xi(e)?e.join(o):void 0}),r.$isEmpty=function(e){return!e||!e.length}}}},ya="ng-valid",Ea="ng-invalid",ba="ng-pristine",La="ng-dirty",Sa="ng-untouched",Aa="ng-touched",Ta="ng-pending",Ca="ng-empty",Ia="ng-not-empty",Da=t("ngModel"),wa=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,r,o,a,s,l,c,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(e),this.$$parentForm=Uo;var d,p=o(n.ngModel),h=p.assign,m=p,g=h,y=null,E=this;this.$$setOptions=function(e){if(E.$options=e,e&&e.getterSetter){var t=o(n.ngModel+"()"),i=o(n.ngModel+"($$$p)");m=function(e){var n=p(e);return A(n)&&(n=t(e)),n},g=function(e,t){A(p(e))?i(e,{$$$p:t}):h(e,t)}}else if(!p.assign)throw Da("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,K(r))},this.$render=f,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){E.$isEmpty(e)?(a.removeClass(r,Ia),a.addClass(r,Ca)):(a.removeClass(r,Ca),a.addClass(r,Ia))};var b=0;Ii({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:a}),this.$setPristine=function(){E.$dirty=!1,E.$pristine=!0,a.removeClass(r,La),a.addClass(r,ba)},this.$setDirty=function(){E.$dirty=!0,E.$pristine=!1,a.removeClass(r,ba),a.addClass(r,La),E.$$parentForm.$setDirty()},this.$setUntouched=function(){E.$touched=!1,E.$untouched=!0,a.setClass(r,Sa,Aa)},this.$setTouched=function(){E.$touched=!0,E.$untouched=!1,a.setClass(r,Aa,Sa)},this.$rollbackViewValue=function(){s.cancel(y),E.$viewValue=E.$$lastCommittedViewValue,E.$render()},this.$validate=function(){if(!L(E.$modelValue)||!isNaN(E.$modelValue)){var e=E.$$lastCommittedViewValue,t=E.$$rawModelValue,n=E.$valid,i=E.$modelValue,r=E.$options&&E.$options.allowInvalid;E.$$runValidators(t,e,function(e){r||n===e||(E.$modelValue=e?t:void 0,E.$modelValue!==i&&E.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function r(){var e=E.$$parserName||"parse";return v(d)?(s(e,null),!0):(d||(i(E.$validators,function(e,t){s(t,null)}),i(E.$asyncValidators,function(e,t){s(t,null)})),s(e,d),d)}function o(){var n=!0;return i(E.$validators,function(i,r){var o=i(e,t);n=n&&o,s(r,o)}),n?!0:(i(E.$asyncValidators,function(e,t){s(t,null)}),!1)}function a(){var n=[],r=!0;i(E.$asyncValidators,function(i,o){var a=i(e,t);if(!x(a))throw Da("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){r=!1,s(o,!1)}))}),n.length?c.all(n).then(function(){l(r)},f):l(!0)}function s(e,t){u===b&&E.$setValidity(e,t)}function l(e){u===b&&n(e)}b++;var u=b;return r()&&o()?void a():void l(!1)},this.$commitViewValue=function(){var e=E.$viewValue;s.cancel(y),(E.$$lastCommittedViewValue!==e||""===e&&E.$$hasNativeValidators)&&(E.$$updateEmptyClasses(e),E.$$lastCommittedViewValue=e,E.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){E.$modelValue!==o&&E.$$writeModelToScope()}var n=E.$$lastCommittedViewValue,i=n;if(d=v(i)?void 0:!0)for(var r=0;r<E.$parsers.length;r++)if(i=E.$parsers[r](i),v(i)){d=!1;break}L(E.$modelValue)&&isNaN(E.$modelValue)&&(E.$modelValue=m(e));var o=E.$modelValue,a=E.$options&&E.$options.allowInvalid;E.$$rawModelValue=i,a&&(E.$modelValue=i,t()),E.$$runValidators(i,E.$$lastCommittedViewValue,function(e){a||(E.$modelValue=e?i:void 0,t())})},this.$$writeModelToScope=function(){g(e,E.$modelValue),i(E.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){E.$viewValue=e,(!E.$options||E.$options.updateOnDefault)&&E.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,i=0,r=E.$options;r&&_(r.debounce)&&(n=r.debounce,L(n)?i=n:L(n[t])?i=n[t]:L(n["default"])&&(i=n["default"])),s.cancel(y),i?y=s(function(){E.$commitViewValue()},i):l.$$phase?E.$commitViewValue():e.$apply(function(){E.$commitViewValue()})},e.$watch(function(){var t=m(e);if(t!==E.$modelValue&&(E.$modelValue===E.$modelValue||t===t)){E.$modelValue=E.$$rawModelValue=t,d=void 0;for(var n=E.$formatters,i=n.length,r=t;i--;)r=n[i](r);E.$viewValue!==r&&(E.$$updateEmptyClasses(r),E.$viewValue=E.$$lastCommittedViewValue=r,E.$render(),E.$$runValidators(t,r,f))}return t})}],Oa=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:wa,priority:1,compile:function(t){return t.addClass(ba).addClass(Sa).addClass(ya),{pre:function(e,t,n,i){var r=i[0],o=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Ra=/(\s+|^)default(\s+|$)/,xa=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=F(e.$eval(t.ngModelOptions)),_(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Ji(this.$options.updateOn.replace(Ra,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Na=ui({terminal:!0,priority:1e3}),Pa=t("ngOptions"),ka=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ma=["$compile","$document","$parse",function(t,r,o){function a(e,t,i){function r(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function a(e){var t;if(!c&&n(e))t=e;else{t=[];for(var i in e)e.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t.push(i)}return t}var s=e.match(ka);if(!s)throw Pa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,K(t));var l=s[5]||s[7],c=s[6],u=/ as /.test(s[0])&&s[1],d=s[9],p=o(s[2]?s[1]:l),f=u&&o(u),h=f||p,m=d&&o(d),g=d?function(e,t){return m(i,t)}:function(e){return Je(e)},v=function(e,t){return g(e,S(e,t))},_=o(s[2]||s[1]),y=o(s[3]||""),E=o(s[4]||""),b=o(s[8]),L={},S=c?function(e,t){return L[c]=t,L[l]=e,L}:function(e){return L[l]=e,L};return{trackBy:d,getTrackByValue:v,getWatchables:o(b,function(e){var t=[];e=e||[];for(var n=a(e),r=n.length,o=0;r>o;o++){var l=e===n?o:n[o],c=e[l],u=S(c,l),d=g(c,u);if(t.push(d),s[2]||s[1]){var p=_(i,u);t.push(p)}if(s[4]){var f=E(i,u);t.push(f)}}return t}),getOptions:function(){for(var e=[],t={},n=b(i)||[],o=a(n),s=o.length,l=0;s>l;l++){var c=n===o?l:o[l],u=n[c],p=S(u,c),f=h(i,p),m=g(f,p),L=_(i,p),A=y(i,p),T=E(i,p),C=new r(m,f,L,A,T);e.push(C),t[m]=C}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?Gi.copy(e.viewValue):e.viewValue}}}}}function s(e,n,o,s){function u(e,t){var n=l.cloneNode(!1);t.appendChild(n),d(e,n)}function d(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function p(){var e=S&&h.readValue();if(S)for(var t=S.items.length-1;t>=0;t--){var i=S.items[t];je(_(i.group)?i.element.parentNode:i.element)}S=A.getOptions();var r={};if(b&&n.prepend(f),S.items.forEach(function(e){var t;_(e.group)?(t=r[e.group],t||(t=c.cloneNode(!1),T.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),u(e,t)):u(e,T)}),n[0].appendChild(T),m.$render(),!m.$isEmpty(e)){var o=h.readValue(),a=A.trackBy||g;(a?Y(e,o):e===o)||(m.$setViewValue(o),m.$render())}}for(var f,h=s[0],m=s[1],g=o.multiple,v=0,y=n.children(),E=y.length;E>v;v++)if(""===y[v].value){f=y.eq(v);break}var b=!!f,L=$i(l.cloneNode(!1));L.val("?");var S,A=a(o.ngOptions,n,e),T=r[0].createDocumentFragment(),C=function(){b||n.prepend(f),n.val(""),f.prop("selected",!0),f.attr("selected",!0)},I=function(){b||f.remove()},D=function(){n.prepend(L),n.val("?"),L.prop("selected",!0),L.attr("selected",!0)},w=function(){L.remove()};g?(m.$isEmpty=function(e){return!e||0===e.length},h.writeValue=function(e){S.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=S.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},h.readValue=function(){var e=n.val()||[],t=[];return i(e,function(e){var n=S.selectValueMap[e];n&&!n.disabled&&t.push(S.getViewValueFromOption(n))}),t},A.trackBy&&e.$watchCollection(function(){return Xi(m.$viewValue)?m.$viewValue.map(function(e){return A.getTrackByValue(e)}):void 0},function(){m.$render()})):(h.writeValue=function(e){var t=S.getOptionFromViewValue(e);t?(n[0].value!==t.selectValue&&(w(),I(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||b?(w(),C()):(I(),D())},h.readValue=function(){var e=S.selectValueMap[n.val()];return e&&!e.disabled?(I(),w(),S.getViewValueFromOption(e)):null},A.trackBy&&e.$watch(function(){return A.getTrackByValue(m.$viewValue)},function(){m.$render()})),b?(f.remove(),t(f)(e),f.removeClass("ng-scope")):f=$i(l.cloneNode(!1)),n.empty(),p(),e.$watchCollection(A.getWatchables,p)}var l=e.document.createElement("option"),c=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=f},post:s}}}],Ua=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function c(e){s.text(e||"")}var u,d=l.count,p=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,m=a.$eval(p)||{},g={},_=t.startSymbol(),y=t.endSymbol(),E=_+d+"-"+h+y,b=Gi.noop;i(l,function(e,t){var n=o.exec(t);if(n){var i=(n[1]?"-":"")+Ni(n[2]);m[i]=s.attr(l.$attr[t])}}),i(m,function(e,n){g[n]=t(e.replace(r,E))}),a.$watch(d,function(t){var i=parseFloat(t),r=isNaN(i);if(r||i in m||(i=e.pluralCat(i-h)),i!==u&&!(r&&L(u)&&isNaN(u))){b();var o=g[i];v(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+p),b=f,c()):b=a.$watch(o,c),u=i}})}}}],$a=["$parse","$animate","$compile",function(e,r,o){var a="$$NG_REMOVED",s=t("ngRepeat"),l=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},c=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,d){var p=d.ngRepeat,f=o.$$createComment("end ngRepeat",p),h=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var m=h[1],g=h[2],v=h[3],_=h[4];if(h=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!h)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var y=h[3]||h[1],E=h[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var b,L,S,A,T={$id:Je};return _?b=e(_):(S=function(e,t){return Je(t)},A=function(e){return e}),function(e,t,o,d,h){b&&(L=function(t,n,i){return E&&(T[E]=t),T[y]=n,T.$index=i,b(e,T)});var m=he();e.$watchCollection(g,function(o){var d,g,_,b,T,C,I,D,w,O,R,x,N=t[0],P=he();if(v&&(e[v]=o),n(o))w=o,D=L||S;else{D=L||A,w=[];for(var k in o)xi.call(o,k)&&"$"!==k.charAt(0)&&w.push(k)}for(b=w.length,R=new Array(b),d=0;b>d;d++)if(T=o===w?d:w[d],C=o[T],I=D(T,C,d),m[I])O=m[I],delete m[I],P[I]=O,R[d]=O;else{if(P[I])throw i(R,function(e){e&&e.scope&&(m[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,I,C);R[d]={id:I,scope:void 0,clone:void 0},P[I]=!0}for(var M in m){if(O=m[M],x=fe(O.clone),r.leave(x),x[0].parentNode)for(d=0,g=x.length;g>d;d++)x[d][a]=!0;O.scope.$destroy()}for(d=0;b>d;d++)if(T=o===w?d:w[d],C=o[T],O=R[d],O.scope){_=N;do _=_.nextSibling;while(_&&_[a]);
c(O)!=_&&r.move(fe(O.clone),null,N),N=u(O),l(O.scope,d,y,C,E,T,b)}else h(function(e,t){O.scope=t;var n=f.cloneNode(!1);e[e.length++]=n,r.enter(e,null,N),N=n,O.clone=e,P[O.id]=O,l(O.scope,d,y,C,E,T,b)});m=P})}}}}],Fa="ng-hide",Ya="ng-hide-animate",Va=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,Fa,{tempClasses:Ya})})}}}],Ba=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,Fa,{tempClasses:Ya})})}}}],ja=ui(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&i(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Ha=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,o,a){var s=o.ngSwitch||o.on,l=[],c=[],u=[],d=[],p=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,o;for(r=0,o=u.length;o>r;++r)e.cancel(u[r]);for(u.length=0,r=0,o=d.length;o>r;++r){var s=fe(c[r].clone);d[r].$destroy();var f=u[r]=e.leave(s);f.then(p(u,r))}c.length=0,d.length=0,(l=a.cases["!"+n]||a.cases["?"])&&i(l,function(n){n.transclude(function(i,r){d.push(r);var o=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:i};c.push(a),e.enter(i,o.parent(),o)})})})}}}],qa=ui({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),Wa=ui({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),Ga=t("ngTransclude"),za=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,i,r,o){function a(e,n){e.length?t.append(e):(s(),n.$destroy())}function s(){n(e,function(e){t.append(e)})}if(!o)throw Ga("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",K(t));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var l=i.ngTransclude||i.ngTranscludeSlot;o(a,null,l),l&&!o.isSlotFilled(l)&&s()}}}}],Xa=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],Ka={$setViewValue:f,$render:f},Ja=["$element","$scope",function(t,n){var i=this,r=new Ze;i.ngModelCtrl=Ka,i.unknownOption=$i(e.document.createElement("option")),i.renderUnknownOption=function(e){var n="? "+Je(e)+" ?";i.unknownOption.val(n),t.prepend(i.unknownOption),t.val(n)},n.$on("$destroy",function(){i.renderUnknownOption=f}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),t.val()},i.writeValue=function(e){i.hasOption(e)?(i.removeUnknownOption(),t.val(e),""===e&&i.emptyOption.prop("selected",!0)):null==e&&i.emptyOption?(i.removeUnknownOption(),t.val("")):i.renderUnknownOption(e)},i.addOption=function(e,t){if(t[0].nodeType!==lr){de(e,'"option value"'),""===e&&(i.emptyOption=t);var n=r.get(e)||0;r.put(e,n+1),i.ngModelCtrl.$render(),wi(t)}},i.removeOption=function(e){var t=r.get(e);t&&(1===t?(r.remove(e),""===e&&(i.emptyOption=void 0)):r.put(e,t-1))},i.hasOption=function(e){return!!r.get(e)},i.registerOption=function(e,t,n,r,o){if(r){var a;n.$observe("value",function(e){_(a)&&i.removeOption(a),a=e,i.addOption(e,t)})}else o?e.$watch(o,function(e,r){n.$set("value",e),r!==e&&i.removeOption(r),i.addOption(e,t)}):i.addOption(n.value,t);t.on("$destroy",function(){i.removeOption(n.value),i.ngModelCtrl.$render()})}}],Za=function(){function e(e,t,n,r){var o=r[1];if(o){var a=r[0];if(a.ngModelCtrl=o,t.on("change",function(){e.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return i(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Ze(e);i(t.find("option"),function(e){e.selected=_(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==o.$viewValue||Y(s,o.$viewValue)||(s=ge(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Ja,priority:1,link:{pre:e,post:t}}},Qa=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(_(n.value))var i=e(n.value,!0);else{var r=e(t.text(),!0);r||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,i,r)}}}}],es=m({restrict:"E",terminal:!1}),ts=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},ns=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,i,r){if(r){var o,a=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(b(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,K(n));o=e||void 0,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||v(o)||o.test(t)}}}}},is=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){var t=d(e);r=isNaN(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(e,t){return 0>r||i.$isEmpty(t)||t.length<=r}}}}},rs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=d(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(le(),ye(Gi),Gi.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function n(e,n){var i=n;void 0===i&&(i=Math.min(t(e),3));var r=Math.pow(10,i),o=(e*r|0)%r;return{v:i,f:o}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var r=0|e,o=n(e,t);return 1==r&&0==o.v?i.ONE:i.OTHER}})}]),void $i(e.document).ready(function(){ie(e.document,re)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),define("angular",["jquery"],function(e){return function(){var t;return t||e.angular}}(this)),function(e,t){"use strict";function n(e){var t=[];return u(t,l).chars(e),t.join("")}var i,r,o,a,s,l,c,u,d=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){function n(e,t){var n,i={},r=e.split(",");for(n=0;n<r.length;n++)i[t?s(r[n]):r[n]]=!0;return i}function p(e){for(var t={},n=0,i=e.length;i>n;n++){var r=e[n];t[r.name]=r.value}return t}function f(e){return e.replace(/&/g,"&amp;").replace(v,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(_,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(t){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;r>i;i++){var o=n[i],a=o.name.toLowerCase();("xmlns:ns1"===a||0===a.lastIndexOf("ns1:",0))&&(t.removeAttributeNode(o),i--,r--)}(n=t.firstChild)&&h(n),(n=t.nextSibling)&&h(n)}var m=!1;this.$get=["$$sanitizeUri",function(e){return m&&r(T,S),function(t){var n=[];return c(t,u(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return a(e)?(m=e,this):m},i=t.bind,r=t.extend,o=t.forEach,a=t.isDefined,s=t.lowercase,l=t.noop,c=function(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),g.innerHTML=t;var i=5;do{if(0===i)throw d("uinput");i--,e.document.documentMode&&h(g),t=g.innerHTML,g.innerHTML=t}while(t!==g.innerHTML);for(i=g.firstChild;i;){switch(i.nodeType){case 1:n.start(i.nodeName.toLowerCase(),p(i.attributes));break;case 3:n.chars(i.textContent)}var r;if(!(r=i.firstChild)&&(1==i.nodeType&&n.end(i.nodeName.toLowerCase()),r=i.nextSibling,!r))for(;null==r&&(i=i.parentNode,i!==g);)r=i.nextSibling,1==i.nodeType&&n.end(i.nodeName.toLowerCase());i=r}for(;i=g.firstChild;)g.removeChild(i)},u=function(e,t){var n=!1,r=i(e,e.push);return{start:function(e,i){e=s(e),!n&&A[e]&&(n=e),n||!0!==T[e]||(r("<"),r(e),o(i,function(n,i){var o=s(i),a="img"===e&&"src"===o||"background"===o;!0!==I[o]||!0===C[o]&&!t(n,a)||(r(" "),r(i),r('="'),r(f(n)),r('"'))}),r(">"))},end:function(e){e=s(e),n||!0!==T[e]||!0===y[e]||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(f(e))}}};var g,v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_=/([^\#-~ |!])/g,y=n("area,br,col,hr,img,wbr"),E=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),b=n("rp,rt"),L=r({},b,E),E=r({},E,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),b=r({},b,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),S=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),A=n("script,style"),T=r({},y,E,b,L),C=n("background,cite,href,longdesc,src,xlink:href"),L=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),b=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),I=r({},C,b,L);!function(e){if(!e.document||!e.document.implementation)throw d("noinert");e=e.document.implementation.createHTMLDocument("inert");var t=(e.documentElement||e.getDocumentElement()).getElementsByTagName("body");1===t.length?g=t[0]:(t=e.createElement("html"),g=e.createElement("body"),t.appendChild(g),e.appendChild(t))}(e)}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,o=t.$$minErr("linky"),a=t.isDefined,s=t.isFunction,l=t.isObject,c=t.isString;return function(t,u,d){function p(e){e&&_.push(n(e))}function f(e,t){var n,i=g(e);_.push("<a ");for(n in i)_.push(n+'="'+i[n]+'" ');!a(u)||"target"in i||_.push('target="',u,'" '),_.push('href="',e.replace(/"/g,"&quot;"),'">'),p(t),_.push("</a>")}if(null==t||""===t)return t;if(!c(t))throw o("notstring",t);for(var h,m,g=s(d)?d:l(d)?function(){return d}:function(){return{}},v=t,_=[];t=v.match(i);)h=t[0],t[2]||t[4]||(h=(t[3]?"http://":"mailto:")+h),m=t.index,p(v.substr(0,m)),f(h,t[0].replace(r,"")),v=v.substring(m+t[0].length);return p(v),e(_.join(""))}}])}(window,window.angular),define("angular-sanitize",["angular"],function(){}),function(e,t){"use strict";function n(e,t,n){if(!e)throw X("areq",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(M(e)&&(e=e.join(" ")),M(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function r(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,n){var i="";return e=M(e)?e:e&&V(e)&&e.length?e.split(/\s+/):[],k(e,function(e,r){e&&0<e.length&&(i+=r>0?" ":"",i+=n?t+e:e+t)}),i}function a(e){if(e instanceof j)switch(e.length){case 0:return e;case 1:if(1===e[0].nodeType)return e;break;default:return j(s(e))}return 1===e.nodeType?j(e):void 0}function s(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(1==n.nodeType)return n}}function l(e,t,n){k(t,function(t){e.addClass(t,n)})}function c(e,t,n){k(t,function(t){e.removeClass(t,n)})}function u(e){return function(t,n){n.addClass&&(l(e,t,n.addClass),n.addClass=null),n.removeClass&&(c(e,t,n.removeClass),n.removeClass=null)}}function d(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||H;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=H},e.$$prepared=!0}return e}function p(e,t){f(e,t),h(e,t)}function f(e,t){t.from&&(e.css(t.from),t.from=null)}function h(e,t){t.to&&(e.css(t.to),t.to=null)}function m(e,t,n){var i=t.options||{};n=n.options||{};var r=(i.addClass||"")+" "+(n.addClass||""),o=(i.removeClass||"")+" "+(n.removeClass||"");return e=g(e.attr("class"),r,o),n.preparationClasses&&(i.preparationClasses=L(n.preparationClasses,i.preparationClasses),delete n.preparationClasses),r=i.domOperation!==H?i.domOperation:null,P(i,n),r&&(i.domOperation=r),i.addClass=e.addClass?e.addClass:null,i.removeClass=e.removeClass?e.removeClass:null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function g(e,t,n){function i(e){V(e)&&(e=e.split(" "));var t={};return k(e,function(e){e.length&&(t[e]=!0)}),t}var r={};e=i(e),t=i(t),k(t,function(e,t){r[t]=1}),n=i(n),k(n,function(e,t){r[t]=1===r[t]?null:-1});var o={addClass:"",removeClass:""};return k(r,function(t,n){var i,r;1===t?(i="addClass",r=!e[n]||e[n+"-remove"]):-1===t&&(i="removeClass",r=e[n]||e[n+"-add"]),r&&(o[i].length&&(o[i]+=" "),o[i]+=n)}),o}function v(e){return e instanceof j?e[0]:e}function _(e,t,n){var i="";t&&(i=o(t,"ng-",!0)),n.addClass&&(i=L(i,o(n.addClass,"-add"))),n.removeClass&&(i=L(i,o(n.removeClass,"-remove"))),i.length&&(n.preparationClasses=i,e.addClass(i))}function y(e,t){var n=t?"-"+t+"s":"";return b(e,[G,n]),[G,n]}function E(e,t){var n=t?"paused":"",i=R+"PlayState";return b(e,[i,n]),[i,n]}function b(e,t){e.style[t[0]]=t[1]}function L(e,t){return e?t?e+" "+t:e:t}function S(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return k(n,function(e,t){var n=r[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=A(n)),0===n&&(n=null),i[t]=n}}),i}function A(e){var t=0;return e=e.split(/\s*,\s*/),k(e,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function T(e){return 0===e||null!=e}function C(e,t){var n=w,i=e+"s";return t?n+="Duration":i+=" linear all",[n,i]}function I(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){return(t=e[t])?t.total:0},get:function(t){return(t=e[t])&&t.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function D(e,t,n){k(n,function(n){e[n]=U(e[n])?e[n]:t.style.getPropertyValue(n)})}var w,O,R,x;void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?(w="WebkitTransition",O="webkitTransitionEnd transitionend"):(w="transition",O="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(R="WebkitAnimation",x="webkitAnimationEnd animationend"):(R="animation",x="animationend");var N,P,k,M,U,$,F,Y,V,B,j,H,q=R+"Delay",W=R+"Duration",G=w+"Delay",z=w+"Duration",X=t.$$minErr("ng"),K={transitionDuration:z,transitionDelay:G,transitionProperty:w+"Property",animationDuration:W,animationDelay:q,animationIterationCount:R+"IterationCount"},J={transitionDuration:z,transitionDelay:G,animationDuration:W,animationDelay:q};t.module("ngAnimate",[],function(){H=t.noop,N=t.copy,P=t.extend,j=t.element,k=t.forEach,M=t.isArray,V=t.isString,Y=t.isObject,B=t.isUndefined,U=t.isDefined,F=t.isFunction,$=t.isElement}).directive("ngAnimateSwap",["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,i,r,o){var a,s;t.$watchCollection(i.ngAnimateSwap||i["for"],function(i){a&&e.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=t.$new(),o(s,function(t){a=t,e.enter(t,null,n)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(e){return{link:function(t,n,i){function r(e){n.data("$$ngAnimateChildren","on"===e||"true"===e)}var o=i.ngAnimateChildren;V(o)&&0===o.length?n.data("$$ngAnimateChildren",!0):(r(e(o)(t)),i.$observe("ngAnimateChildren",r))}}}]).factory("$$rAFScheduler",["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),o=0;o<t.length;o++)t[o]();r||e(function(){r||n()})}}var i,r;return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=e(function(){r=null,t(),n()})},t}]).provider("$$animateQueue",["$animateProvider",function(t){function i(e){if(!e)return null;e=e.split(" ");var t=Object.create(null);return k(e,function(e){t[e]=!0}),t}function r(e,t){if(e&&t){var n=i(t);return e.split(" ").some(function(e){return n[e]})}}function o(e,t,n,i){return c[e].some(function(e){return e(t,n,i)})}function l(e,t){var n=0<(e.addClass||"").length,i=0<(e.removeClass||"").length;return t?n&&i:n||i}var c=this.rules={skip:[],cancel:[],join:[]};c.join.push(function(e,t,n){return!t.structural&&l(t)}),c.skip.push(function(e,t,n){return!t.structural&&!l(t)}),c.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),c.skip.push(function(e,t,n){return n.structural&&2===n.state&&!t.structural}),c.cancel.push(function(e,t,n){return n.structural&&t.structural}),c.cancel.push(function(e,t,n){return 2===n.state&&t.structural}),c.cancel.push(function(e,t,n){if(n.structural)return!1;e=t.addClass,t=t.removeClass;var i=n.addClass;return n=n.removeClass,B(e)&&B(t)||B(i)&&B(n)?!1:r(e,n)||r(t,i)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(i,r,c,f,h,g,y,E,b,L){function S(){var e=!1;return function(t){e?t():r.$$postDigest(function(){e=!0,t()})}}function A(e,t,n){var i=v(t),r=v(e),o=[];return(e=W[n])&&k(e,function(e){K.call(e.node,i)?o.push(e.callback):"leave"===n&&K.call(e.node,r)&&o.push(e.callback)}),o}function T(e,t,n){var i=s(t);return e.filter(function(e){return!(e.node===i&&(!n||e.callback===n))})}function C(e,t,n){function s(t,n,r,o){L(function(){var t=A(h,e,n);t.length?i(function(){k(t,function(t){t(e,r,o)}),"close"!==r||e[0].parentNode||J.off(e)}):"close"!==r||e[0].parentNode||J.off(e)}),t.progress(n,r,o)}function c(t){var n=e,i=E;i.preparationClasses&&(n.removeClass(i.preparationClasses),i.preparationClasses=null),i.activeClasses&&(n.removeClass(i.activeClasses),i.activeClasses=null),X(e,E),p(e,E),E.domOperation(),b.complete(!t)}var u,h,E=N(n);(e=a(e))&&(u=v(e),h=e.parent());var E=d(E),b=new y,L=S();if(M(E.addClass)&&(E.addClass=E.addClass.join(" ")),E.addClass&&!V(E.addClass)&&(E.addClass=null),M(E.removeClass)&&(E.removeClass=E.removeClass.join(" ")),E.removeClass&&!V(E.removeClass)&&(E.removeClass=null),E.from&&!Y(E.from)&&(E.from=null),E.to&&!Y(E.to)&&(E.to=null),!u)return c(),b;if(n=[u.className,E.addClass,E.removeClass].join(" "),!z(n))return c(),b;var T=0<=["enter","move","leave"].indexOf(t),C=f[0].hidden,w=!H||C||F.get(u);n=!w&&x.get(u)||{};var P=!!n.state;if(w||P&&1==n.state||(w=!O(e,h,t)),w)return C&&s(b,t,"start"),c(),C&&s(b,t,"close"),b;if(T&&I(e),C={structural:T,element:e,event:t,addClass:E.addClass,removeClass:E.removeClass,close:c,options:E,runner:b},P){if(o("skip",e,C,n))return 2===n.state?(c(),b):(m(e,n,C),n.runner);if(o("cancel",e,C,n))if(2===n.state)n.runner.end();else{if(!n.structural)return m(e,n,C),n.runner;n.close()}else if(o("join",e,C,n)){if(2!==n.state)return _(e,T?t:null,E),t=C.event=n.event,E=m(e,n,C),n.runner;m(e,C,{})}}else m(e,C,{});if((P=C.structural)||(P="animate"===C.event&&0<Object.keys(C.options.to||{}).length||l(C)),!P)return c(),D(e),b;var U=(n.counter||0)+1;return C.counter=U,R(e,1,C),r.$$postDigest(function(){var n=x.get(u),i=!n,n=n||{},r=0<(e.parent()||[]).length&&("animate"===n.event||n.structural||l(n));i||n.counter!==U||!r?(i&&(X(e,E),p(e,E)),(i||T&&n.event!==t)&&(E.domOperation(),b.end()),r||D(e)):(t=!n.structural&&l(n,!0)?"setClass":n.event,R(e,2),n=g(e,t,n.options),b.setHost(n),s(b,t,"start",{}),n.done(function(n){c(!n),(n=x.get(u))&&n.counter===U&&D(v(e)),s(b,t,"close",{})}))}),b}function I(e){e=v(e).querySelectorAll("[data-ng-animate]"),k(e,function(e){var t=parseInt(e.getAttribute("data-ng-animate")),n=x.get(e);if(n)switch(t){case 2:n.runner.end();case 1:x.remove(e)}})}function D(e){e=v(e),e.removeAttribute("data-ng-animate"),x.remove(e)}function w(e,t){return v(e)===v(t)}function O(e,t,n){n=j(f[0].body);var i,r=w(e,n)||"HTML"===e[0].nodeName,o=w(e,c),a=!1,s=F.get(v(e));for((e=j.data(e[0],"$ngAnimatePin"))&&(t=e),t=v(t);t&&(o||(o=w(t,c)),1===t.nodeType);){if(e=x.get(t)||{},!a){var l=F.get(t);if(!0===l&&!1!==s){s=!0;break}!1===l&&(s=!1),a=e.structural}if((B(i)||!0===i)&&(e=j.data(t,"$$ngAnimateChildren"),U(e)&&(i=e)),a&&!1===i)break;if(r||(r=w(t,n)),r&&o)break;t=o||!(e=j.data(t,"$ngAnimatePin"))?t.parentNode:v(e)}return(!a||i)&&!0!==s&&o&&r}function R(e,t,n){n=n||{},n.state=t,e=v(e),e.setAttribute("data-ng-animate",t),n=(t=x.get(e))?P(t,n):n,x.put(e,n)}var x=new h,F=new h,H=null,q=r.$watch(function(){return 0===E.totalPendingRequests},function(e){e&&(q(),r.$$postDigest(function(){r.$$postDigest(function(){null===H&&(H=!0)})}))}),W=Object.create(null),G=t.classNameFilter(),z=G?function(e){return G.test(e)}:function(){return!0},X=u(b),K=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},J={on:function(e,t,n){var i=s(t);W[e]=W[e]||[],W[e].push({node:i,callback:n}),j(t).on("$destroy",function(){x.get(i)||J.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||V(arguments[0])){var i=W[e];i&&(W[e]=1===arguments.length?null:T(i,t,n))}else for(i in t=arguments[0],W)W[i]=T(W[i],t)},pin:function(e,t){n($(e),"element","not an element"),n($(t),"parentElement","not an element"),e.data("$ngAnimatePin",t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,C(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!H;else if($(e)){var i=v(e);1===n?t=!F.get(i):F.put(i,!t)}else t=H=!!e;return t}};return J}]}]).provider("$$animation",["$animateProvider",function(e){var t=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,n,r,o,a,s){function l(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,o=n.parentNode;r.put(n,e);for(var a;o;){if(a=r.get(o)){a.processed||(a=t(a));break}o=o.parentNode}return(a||i).children.push(e),e}var n,i={children:[]},r=new a;for(n=0;n<e.length;n++){var o=e[n];r.put(o.domNode,e[n]={domNode:o.domNode,fn:o.fn,children:[]})}for(n=0;n<e.length;n++)t(e[n]);return function(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);e=i.length;var r=0,o=[];for(t=0;t<i.length;t++){var a=i[t];0>=e&&(e=r,r=0,n.push(o),o=[]),o.push(a.fn),a.children.forEach(function(e){r++,i.push(e)}),e--}return o.length&&n.push(o),n}(i)}var c=[],f=u(e);return function(a,u,h){function m(e){e=e.hasAttribute("ng-animate-ref")?[e]:e.querySelectorAll("[ng-animate-ref]");var t=[];return k(e,function(e){var n=e.getAttribute("ng-animate-ref");n&&n.length&&t.push(e)}),t}function g(e){var t=[],n={};k(e,function(e,i){var r=v(e.element),o=0<=["enter","move"].indexOf(e.event),r=e.structural?m(r):[];if(r.length){var a=o?"to":"from";k(r,function(e){var t=e.getAttribute("ng-animate-ref");n[t]=n[t]||{},n[t][a]={animationID:i,element:j(e)}})}else t.push(e)});var i={},r={};return k(n,function(n,o){var a=n.from,s=n.to;if(a&&s){var l=e[a.animationID],c=e[s.animationID],u=a.animationID.toString();if(!r[u]){var d=r[u]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:_(l.classes,c.classes),from:l,to:c,anchors:[]};d.classes.length?t.push(d):(t.push(l),t.push(c))}r[u].anchors.push({out:a.element,"in":s.element})}else a=a?a.animationID:s.animationID,s=a.toString(),i[s]||(i[s]=!0,t.push(e[a]))}),t}function _(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}function y(e){for(var n=t.length-1;n>=0;n--){var i=r.get(t[n])(e);if(i)return i}}function E(e,t){function n(e){(e=e.data("$$animationRunner"))&&e.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function b(){var e=a.data("$$animationRunner");!e||"leave"===u&&h.$$domOperationFired||e.end()}function L(t){a.off("$destroy",b),a.removeData("$$animationRunner"),f(a,h),p(a,h),h.domOperation(),C&&e.removeClass(a,C),a.removeClass("ng-animate"),A.complete(!t)}h=d(h);var S=0<=["enter","move","leave"].indexOf(u),A=new o({end:function(){L()},cancel:function(){L(!0)}});if(!t.length)return L(),A;a.data("$$animationRunner",A);var T=i(a.attr("class"),i(h.addClass,h.removeClass)),C=h.tempClasses;C&&(T+=" "+C,h.tempClasses=null);var I;return S&&(I="ng-"+u+"-prepare",e.addClass(a,I)),c.push({element:a,classes:T,event:u,structural:S,options:h,beforeStart:function(){a.addClass("ng-animate"),C&&e.addClass(a,C),I&&(e.removeClass(a,I),I=null)},close:L}),a.on("$destroy",b),1<c.length?A:(n.$$postDigest(function(){var e=[];k(c,function(t){t.element.data("$$animationRunner")?e.push(t):t.close()}),c.length=0;var t=g(e),n=[];k(t,function(e){n.push({domNode:v(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close;if((e.anchors?e.from.element||e.to.element:e.element).data("$$animationRunner")){var i=y(e);i&&(t=i.start)}t?(t=t(),t.done(function(e){n(!e)}),E(e,t)):n()}})}),s(l(n))}),A)}}]}]).provider("$animateCss",["$animateProvider",function(e){var t=I(),n=I();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,i,a,s,l,c,m,g){function _(e,t){var n=e.parentNode;return(n.$$ngAnimateParentKey||(n.$$ngAnimateParentKey=++U))+"-"+e.getAttribute("class")+"-"+t}function L(r,a,s,l){var c;return 0<t.count(s)&&(c=n.get(s),c||(a=o(a,"-stagger"),i.addClass(r,a),c=S(e,r,l),c.animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),i.removeClass(r,a),n.put(s,c))),c||{}}function A(e){$.push(e),m.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=l(),i=0;i<$.length;i++)$[i](e);$.length=0})}function I(n,i,r){return i=t.get(r),i||(i=S(e,n,K),"infinite"===i.animationIterationCount&&(i.animationIterationCount=1)),t.put(r,i),n=i,r=n.animationDelay,i=n.transitionDelay,n.maxDelay=r&&i?Math.max(r,i):r||i,n.maxDuration=Math.max(n.animationDuration*n.animationIterationCount,n.transitionDuration),n}var P=u(i),U=0,$=[];return function(e,n){function l(){m()}function u(){m(!0)}function m(t){if(!(j||X&&z)){j=!0,z=!1,Y.$$skipPreparationClasses||i.removeClass(e,de),i.removeClass(e,fe),E(B,!1),y(B,!1),k(re,function(e){B.style[e[0]]=""}),P(e,Y),p(e,Y),Object.keys(V).length&&k(V,function(e,t){e?B.style.setProperty(t,e):B.style.removeProperty(t)}),Y.onDone&&Y.onDone(),se&&se.length&&e.off(se.join(" "),$);var n=e.data("$$animateCss");n&&(s.cancel(n[0].timer),e.removeData("$$animateCss")),K&&K.complete(!t)}}function S(e){ye.blockTransition&&y(B,e),ye.blockKeyframeAnimation&&E(B,!!e)}function U(){return K=new a({end:l,cancel:u}),A(H),m(),{$$willAnimate:!1,start:function(){return K},end:l}}function $(e){e.stopPropagation();var t=e.originalEvent||e;e=t.$manualTimeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-ie,0)>=ee&&t>=te&&(X=!0,m())}function F(){function t(){if(!j){if(S(!1),k(re,function(e){B.style[e[0]]=e[1]}),P(e,Y),i.addClass(e,fe),ye.recalculateTimingStyles){if(pe=B.className+" "+de,he=_(B,pe),ve=I(B,pe,he),_e=ve.maxDelay,Q=Math.max(_e,0),te=ve.maxDuration,0===te)return void m();ye.hasTransitions=0<ve.transitionDuration,ye.hasAnimations=0<ve.animationDuration}if(ye.applyAnimationDelay&&(_e="boolean"!=typeof Y.delay&&T(Y.delay)?parseFloat(Y.delay):_e,Q=Math.max(_e,0),ve.animationDelay=_e,Ee=[q,_e+"s"],re.push(Ee),B.style[Ee[0]]=Ee[1]),ee=1e3*Q,ne=1e3*te,Y.easing){var t,r=Y.easing;ye.hasTransitions&&(t=w+"TimingFunction",re.push([t,r]),B.style[t]=r),ye.hasAnimations&&(t=R+"TimingFunction",re.push([t,r]),B.style[t]=r)}ve.transitionDuration&&se.push(O),ve.animationDuration&&se.push(x),ie=Date.now();var o=ee+1.5*ne;t=ie+o;var r=e.data("$$animateCss")||[],a=!0;if(r.length){var l=r[0];(a=t>l.expectedEndTime)?s.cancel(l.timer):r.push(m)}a&&(o=s(n,o,!1),r[0]={timer:o,expectedEndTime:t},r.push(m),e.data("$$animateCss",r)),se.length&&e.on(se.join(" "),$),Y.to&&(Y.cleanupStyles&&D(V,B,Object.keys(Y.to)),h(e,Y))}}function n(){var t=e.data("$$animateCss");if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData("$$animateCss")}}if(!j)if(B.parentNode){var r=function(e){if(X)z&&e&&(z=!1,m());else if(z=!e,ve.animationDuration)if(e=E(B,z),z)re.push(e);else{var t=re,n=t.indexOf(e);e>=0&&t.splice(n,1)}},o=ge>0&&(ve.transitionDuration&&0===me.transitionDuration||ve.animationDuration&&0===me.animationDuration)&&Math.max(me.animationDelay,me.transitionDelay);o?s(t,Math.floor(o*ge*1e3),!1):t(),Z.resume=function(){r(!0)},Z.pause=function(){r(!1)}}else m()}var Y=n||{};Y.$$prepared||(Y=d(N(Y)));var V={},B=v(e);if(!B||!B.parentNode||!g.enabled())return U();var j,z,X,K,Z,Q,ee,te,ne,ie,re=[],oe=e.attr("class"),ae=r(Y),se=[];if(0===Y.duration||!c.animations&&!c.transitions)return U();var le=Y.event&&M(Y.event)?Y.event.join(" "):Y.event,ce="",ue="";le&&Y.structural?ce=o(le,"ng-",!0):le&&(ce=le),Y.addClass&&(ue+=o(Y.addClass,"-add")),Y.removeClass&&(ue.length&&(ue+=" "),ue+=o(Y.removeClass,"-remove")),Y.applyClassesEarly&&ue.length&&P(e,Y);var de=[ce,ue].join(" ").trim(),pe=oe+" "+de,fe=o(de,"-active"),oe=ae.to&&0<Object.keys(ae.to).length;
if(!(0<(Y.keyframeStyle||"").length||oe||de))return U();var he,me;0<Y.stagger?(ae=parseFloat(Y.stagger),me={transitionDelay:ae,animationDelay:ae,transitionDuration:0,animationDuration:0}):(he=_(B,pe),me=L(B,de,he,J)),Y.$$skipPreparationClasses||i.addClass(e,de),Y.transitionStyle&&(ae=[w,Y.transitionStyle],b(B,ae),re.push(ae)),0<=Y.duration&&(ae=0<B.style[w].length,ae=C(Y.duration,ae),b(B,ae),re.push(ae)),Y.keyframeStyle&&(ae=[R,Y.keyframeStyle],b(B,ae),re.push(ae));var ge=me?0<=Y.staggerIndex?Y.staggerIndex:t.count(he):0;(le=0===ge)&&!Y.skipBlocking&&y(B,9999);var ve=I(B,pe,he),_e=ve.maxDelay;Q=Math.max(_e,0),te=ve.maxDuration;var ye={};if(ye.hasTransitions=0<ve.transitionDuration,ye.hasAnimations=0<ve.animationDuration,ye.hasTransitionAll=ye.hasTransitions&&"all"==ve.transitionProperty,ye.applyTransitionDuration=oe&&(ye.hasTransitions&&!ye.hasTransitionAll||ye.hasAnimations&&!ye.hasTransitions),ye.applyAnimationDuration=Y.duration&&ye.hasAnimations,ye.applyTransitionDelay=T(Y.delay)&&(ye.applyTransitionDuration||ye.hasTransitions),ye.applyAnimationDelay=T(Y.delay)&&ye.hasAnimations,ye.recalculateTimingStyles=0<ue.length,(ye.applyTransitionDuration||ye.applyAnimationDuration)&&(te=Y.duration?parseFloat(Y.duration):te,ye.applyTransitionDuration&&(ye.hasTransitions=!0,ve.transitionDuration=te,ae=0<B.style[w+"Property"].length,re.push(C(te,ae))),ye.applyAnimationDuration&&(ye.hasAnimations=!0,ve.animationDuration=te,re.push([W,te+"s"]))),0===te&&!ye.recalculateTimingStyles)return U();if(null!=Y.delay){var Ee;"boolean"!=typeof Y.delay&&(Ee=parseFloat(Y.delay),Q=Math.max(Ee,0)),ye.applyTransitionDelay&&re.push([G,Ee+"s"]),ye.applyAnimationDelay&&re.push([q,Ee+"s"])}return null==Y.duration&&0<ve.transitionDuration&&(ye.recalculateTimingStyles=ye.recalculateTimingStyles||le),ee=1e3*Q,ne=1e3*te,Y.skipBlocking||(ye.blockTransition=0<ve.transitionDuration,ye.blockKeyframeAnimation=0<ve.animationDuration&&0<me.animationDelay&&0===me.animationDuration),Y.from&&(Y.cleanupStyles&&D(V,B,Object.keys(Y.from)),f(e,Y)),ye.blockTransition||ye.blockKeyframeAnimation?S(te):Y.skipBlocking||y(B,!1),{$$willAnimate:!0,end:l,start:function(){return j?void 0:(Z={end:l,cancel:u,resume:null,pause:null},K=new a(Z),A(F),K)}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,t,n,i,r,o,a){function s(e){return e.replace(/\bng-\S+\b/g,"")}function l(e,t){return V(e)&&(e=e.split(" ")),V(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function c(t,i,r){function o(e){var t={},n=v(e).getBoundingClientRect();return k(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=f.scrollTop;break;case"left":i+=f.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function a(){var t=s(r.attr("class")||""),n=l(t,d),t=l(d,t),n=e(u,{to:o(r),addClass:"ng-anchor-in "+n,removeClass:"ng-anchor-out "+t,delay:!0});return n.$$willAnimate?n:null}function c(){u.remove(),i.removeClass("ng-animate-shim"),r.removeClass("ng-animate-shim")}var u=j(v(i).cloneNode(!0)),d=s(u.attr("class")||"");i.addClass("ng-animate-shim"),r.addClass("ng-animate-shim"),u.addClass("ng-anchor"),h.append(u);var p;if(t=function(){var t=e(u,{addClass:"ng-anchor-out",delay:!0,from:o(i)});return t.$$willAnimate?t:null}(),!t&&(p=a(),!p))return c();var m=t||p;return{start:function(){function e(){i&&i.end()}var t,i=m.start();return i.done(function(){return i=null,!p&&(p=a())?(i=p.start(),i.done(function(){i=null,c(),t.complete()}),i):(c(),void t.complete())}),t=new n({end:e,cancel:e})}}}function d(e,t,i,r){var o=p(e,H),a=p(t,H),s=[];return k(r,function(e){(e=c(i,e.out,e["in"]))&&s.push(e)}),o||a||0!==s.length?{start:function(){function e(){k(t,function(e){e.end()})}var t=[];o&&t.push(o.start()),a&&t.push(a.start()),k(s,function(e){t.push(e.start())});var i=new n({end:e,cancel:e});return n.all(t,function(e){i.complete(e)}),i}}:void 0}function p(t){var n=t.element,i=t.options||{};return t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=L(i.event,i.preparationClasses)),t=e(n,i),t.$$willAnimate?t:null}if(!r.animations&&!r.transitions)return H;var f=a[0].body;t=v(i);var h=j(t.parentNode&&11===t.parentNode.nodeType||f.contains(t)?t:f);return u(o),function(e){return e.from&&e.to?d(e.from,e.to,e.classes,e.anchors):p(e)}}]}]).provider("$$animateJs",["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function r(n){n=M(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!r[a]&&(i.push(t.get(s)),r[a]=!0)}return i}var o=u(i);return function(e,t,i,a){function s(){a.domOperation(),o(e,a)}function l(e,t,i,r,o){switch(i){case"animate":t=[t,r.from,r.to,o];break;case"setClass":t=[t,g,v,o];break;case"addClass":t=[t,g,o];break;case"removeClass":t=[t,v,o];break;default:t=[t,o]}if(t.push(r),e=e.apply(e,t))if(F(e.start)&&(e=e.start()),e instanceof n)e.done(o);else if(F(e))return e;return H}function c(e,t,i,r,o){var a=[];return k(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,c=function(e){a||(a=!0,(o||H)(e),r.complete(!e))};return r=new n({end:function(){c()},cancel:function(){c(!0)}}),o=l(s,e,t,i,function(e){c(!1===e)}),r})}),a}function u(e,t,i,r,o){var a=c(e,t,i,r,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=c(e,"removeClass",i,r,"beforeRemoveClass"),l=c(e,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=c(e,"removeClass",i,r,"removeClass"),l=c(e,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}return 0!==a.length?function(e){var t=[];return a.length&&k(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){k(t,function(t){e?t.cancel():t.end()})}}:void 0}var f=!1;3===arguments.length&&Y(i)&&(a=i,i=null),a=d(a),i||(i=e.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var h,m,g=a.addClass,v=a.removeClass,_=r(i);if(_.length){var y,E;"leave"==t?(E="leave",y="afterLeave"):(E="before"+t.charAt(0).toUpperCase()+t.substr(1),y=t),"enter"!==t&&"move"!==t&&(h=u(e,t,a,_,E)),m=u(e,t,a,_,y)}if(h||m){var b;return{$$willAnimate:!0,end:function(){return b?b.end():(f=!0,s(),p(e,a),b=new n,b.complete(!0)),b},start:function(){function t(t){f=!0,s(),p(e,a),b.complete(t)}if(b)return b;b=new n;var i,r=[];return h&&r.push(function(e){i=h(e)}),r.length?r.push(function(e){s(),e(!0)}):s(),m&&r.push(function(e){i=m(e)}),b.setHost({end:function(){f||((i||H)(void 0),t(void 0))},cancel:function(){f||((i||H)(!0),t(!0))}}),n.chain(r,t),b}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){return e(t.element,t.event,t.classes,t.options)}return function(e){if(!e.from||!e.to)return n(e);var i=n(e.from),r=n(e.to);return i||r?{start:function(){function e(){return function(){k(n,function(e){e.end()})}}var n=[];i&&n.push(i.start()),r&&n.push(r.start()),t.all(n,function(e){o.complete(e)});var o=new t({end:e(),cancel:e()});return o}}:void 0}}]}])}(window,window.angular),define("angular-animate",["angular"],function(){}),!function(e,t){"function"==typeof define&&define.amd?define("angular-translate",[],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),i=function(){var i=e.preferredLanguage();angular.isString(i)?e.use(i):n.put(t,e.use())};i.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t))["catch"](i):i():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n=null,i=!1,r=!1;t={sanitize:function(e,t){return"text"===t&&(e=a(e)),e},escape:function(e,t){return"text"===t&&(e=o(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=s(e,a)),e},escapeParameters:function(e,t){return"params"===t&&(e=s(e,o)),e}},t.escaped=t.escapeParameters,this.addStrategy=function(e,n){return t[e]=n,this},this.removeStrategy=function(e){return delete t[e],this},this.useStrategy=function(e){return i=!0,n=e,this},this.$get=["$injector","$log",function(o,a){var s={},l=function(e,n,i){return angular.forEach(i,function(i){if(angular.isFunction(i))e=i(e,n);else if(angular.isFunction(t[i]))e=t[i](e,n);else{if(!angular.isString(t[i]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'");if(!s[t[i]])try{s[t[i]]=o.get(t[i])}catch(r){throw s[t[i]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'")}e=s[t[i]](e,n)}}),e},c=function(){i||r||(a.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),r=!0)};return o.has("$sanitize")&&(e=o.get("$sanitize")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,i){if(n||c(),arguments.length<3&&(i=n),!i)return e;var r=angular.isArray(i)?i:[i];return l(e,t,r)}}}];var o=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},a=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},s=function(e,t,n){if(angular.isObject(e)){var i=angular.isArray(e)?[]:{};if(n){if(n.indexOf(e)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(e),angular.forEach(e,function(e,r){angular.isFunction(e)||(i[r]=s(e,t,n))}),n.splice(-1,1),i}return angular.isNumber(e)?e:t(e)}}function n(e,t,n,i){"use strict";var r,o,a,s,l,c,u,d,p,f,h,m,g,v,_,y,E={},b=[],L=e,S=[],A="translate-cloak",T=!1,C=!1,I=".",D=!1,w=!1,O=0,R=!0,x="default",N={"default":function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t},"iso639-1":function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n[0].toLowerCase()}},P="2.11.1",k=function(){if(angular.isFunction(i.getLocale))return i.getLocale();var e,n,r=t.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(r.languages))for(e=0;e<r.languages.length;e++)if(n=r.languages[e],n&&n.length)return n;for(e=0;e<o.length;e++)if(n=r[o[e]],n&&n.length)return n;return null};k.displayName="angular-translate/service: getFirstBrowserLanguage";var M=function(){var e=k()||"";return N[x]&&(e=N[x](e)),e};M.displayName="angular-translate/service: getLocale";var U=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},$=function(){return this.toString().replace(/^\s+|\s+$/g,"")},F=function(e){if(e){for(var t=[],n=angular.lowercase(e),i=0,r=b.length;r>i;i++)t.push(angular.lowercase(b[i]));if(U(t,n)>-1)return e;if(o){var a;for(var s in o)if(o.hasOwnProperty(s)){var l=!1,c=Object.prototype.hasOwnProperty.call(o,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(c||l)&&(a=o[s],U(t,angular.lowercase(a))>-1))return a}}var u=e.split("_");return u.length>1&&U(t,angular.lowercase(u[0]))>-1?u[0]:void 0}},Y=function(e,t){if(!e&&!t)return E;if(e&&!t){if(angular.isString(e))return E[e]}else angular.isObject(E[e])||(E[e]={}),angular.extend(E[e],V(t));return this};this.translations=Y,this.cloakClassName=function(e){return e?(A=e,this):A},this.nestedObjectDelimeter=function(e){return e?(I=e,this):I};var V=function(e,t,n,i){var r,o,a,s;t||(t=[]),n||(n={});for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s=e[r],angular.isObject(s)?V(s,t.concat(r),n,r):(o=t.length?""+t.join(I)+I+r:r,t.length&&r===i&&(a=""+t.join(I),n[a]="@:"+o),n[o]=s));return n};V.displayName="flatObject",this.addInterpolation=function(e){return S.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return f=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(B(e),this):r};var B=function(e){return e&&(r=e),r};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(g=e,this):g},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return j(e),this};var j=function(e){return e?(angular.isString(e)?(s=!0,a=[e]):angular.isArray(e)&&(s=!1,a=e),angular.isString(r)&&U(a,r)<0&&a.push(r),this):s?a[0]:a};this.use=function(e){if(e){if(!E[e]&&!h)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l},this.resolveClientLocale=function(){return M()};var H=function(e){return e?(L=e,this):d?d+L:L};this.storageKey=H,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return h=e,m=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return u=e,this},this.storagePrefix=function(e){return e?(d=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return p=e,this},this.usePostCompiling=function(e){return T=!!e,this},this.forceAsyncReload=function(e){return C=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},x=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():M();return r=b.length?F(t)||t:t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(b=e,t&&(o=t),this):b},this.useLoaderCache=function(e){return e===!1?_=void 0:e===!0?_=!0:"undefined"==typeof e?_="$translationCache":e&&(_=e),this},this.directivePriority=function(e){return void 0===e?O:(O=e,this)},this.statefulFilter=function(e){return void 0===e?R:(R=e,this)},this.postProcess=function(e){return y=e?e:void 0,this},this.keepContent=function(e){return w=!!e,this},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,i){var o,d,x,N=t.get(f||"$translateDefaultInterpolation"),k=!1,q={},W={},G=function(e,t,n,s,c){!l&&r&&(l=r);var p=c&&c!==l?F(c)||c:l;if(c&&ue(c),angular.isArray(e)){var f=function(e){for(var r={},o=[],a=function(e){var o=i.defer(),a=function(t){r[e]=t,o.resolve([e,t])};return G(e,t,n,s,c).then(a,a),o.promise},l=0,u=e.length;u>l;l++)o.push(a(e[l]));return i.all(o).then(function(){return r})};return f(e)}var h=i.defer();e&&(e=$.apply(e));var m=function(){var e=r?W[r]:W[p];if(d=0,u&&!e){var t=o.get(L);if(e=W[t],a&&a.length){var n=U(a,t);d=0===n?1:0,U(a,r)<0&&a.push(r)}}return e}();if(m){var g=function(){c||(p=l),ae(e,t,n,s,p).then(h.resolve,h.reject)};g.displayName="promiseResolved",m["finally"](g)}else ae(e,t,n,s,p).then(h.resolve,h.reject);return h.promise},z=function(e){return g&&(e=[g,e].join(" ")),v&&(e=[e,v].join(" ")),e},X=function(e){l=e,u&&o.put(G.storageKey(),l),n.$emit("$translateChangeSuccess",{language:e}),N.setLocale(l);var t=function(e,t){q[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(q,t),n.$emit("$translateChangeEnd",{language:e})},K=function(e){if(!e)throw"No language key specified for loading.";var r=i.defer();n.$emit("$translateLoadingStart",{language:e}),k=!0;var o=_;"string"==typeof o&&(o=t.get(o));var a=angular.extend({},m,{key:e,$http:angular.extend({},{cache:o},m.$http)}),s=function(t){var i={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(i,V(e))}):angular.extend(i,V(t)),k=!1,r.resolve({key:e,table:i}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),r.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(h)(a).then(s,l),r.promise};if(u&&(o=t.get(u),!o.get||!o.put))throw new Error("Couldn't use storage '"+u+"', missing get() or put() method!");if(S.length){var J=function(e){var n=t.get(e);n.setLocale(r||l),q[n.getInterpolationIdentifier()]=n};J.displayName="interpolationFactoryAdder",angular.forEach(S,J)}var Z=function(e){var t=i.defer();if(Object.prototype.hasOwnProperty.call(E,e))t.resolve(E[e]);else if(W[e]){var n=function(e){Y(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",W[e].then(n,t.reject)}else t.reject();return t.promise},Q=function(e,t,n,r){var o=i.defer(),a=function(i){if(Object.prototype.hasOwnProperty.call(i,t)){r.setLocale(e);var a=i[t];if("@:"===a.substr(0,2))Q(e,a.substr(2),n,r).then(o.resolve,o.reject);else{var s=r.interpolate(i[t],n);s=ce(t,i[t],s,n,e),o.resolve(s)}r.setLocale(l)}else o.reject()};return a.displayName="fallbackTranslationResolver",Z(e).then(a,o.reject),o.promise},ee=function(e,t,n,i){var r,o=E[e];if(o&&Object.prototype.hasOwnProperty.call(o,t)){if(i.setLocale(e),r=i.interpolate(o[t],n),r=ce(t,o[t],r,n,e),"@:"===r.substr(0,2))return ee(e,r.substr(2),n,i);i.setLocale(l)}return r},te=function(e,n,i){if(p){var r=t.get(p)(e,l,n,i);return void 0!==r?r:e}return e},ne=function(e,t,n,r,o){var s=i.defer();if(e<a.length){var l=a[e];Q(l,t,n,r).then(function(e){s.resolve(e)},function(){return ne(e+1,t,n,r,o).then(s.resolve,s.reject)})}else o?s.resolve(o):p?s.resolve(te(t,n)):s.reject(te(t,n));return s.promise},ie=function(e,t,n,i){var r;if(e<a.length){var o=a[e];r=ee(o,t,n,i),r||(r=ie(e+1,t,n,i))}return r},re=function(e,t,n,i){return ne(x>0?x:d,e,t,n,i)},oe=function(e,t,n){return ie(x>0?x:d,e,t,n)},ae=function(e,t,n,r,o){var s=i.defer(),l=o?E[o]:E,c=n?q[n]:N;if(l&&Object.prototype.hasOwnProperty.call(l,e)){var u=l[e];if("@:"===u.substr(0,2))G(u.substr(2),t,n,r,o).then(s.resolve,s.reject);else{var d=c.interpolate(u,t);d=ce(e,u,d,t,o),s.resolve(d)}}else{var f;p&&!k&&(f=te(e,t,r)),o&&a&&a.length?re(e,t,c,r).then(function(e){s.resolve(e)},function(e){s.reject(z(e))}):p&&!k&&f?r?s.resolve(r):s.resolve(f):r?s.resolve(r):s.reject(z(e))}return s.promise},se=function(e,t,n,i){var r,o=i?E[i]:E,s=N;if(q&&Object.prototype.hasOwnProperty.call(q,n)&&(s=q[n]),o&&Object.prototype.hasOwnProperty.call(o,e)){var l=o[e];"@:"===l.substr(0,2)?r=se(l.substr(2),t,n,i):(r=s.interpolate(l,t),r=ce(e,l,r,t,i))}else{var c;p&&!k&&(c=te(e,t)),i&&a&&a.length?(d=0,r=oe(e,t,s)):r=p&&!k&&c?c:z(e)}return r},le=function(e){c===e&&(c=void 0),W[e]=void 0},ce=function(e,n,i,r,o){var a=y;return a&&("string"==typeof a&&(a=t.get(a)),a)?a(e,n,i,r,o):i},ue=function(e){E[e]||!h||W[e]||(W[e]=K(e).then(function(e){return Y(e.key,e.table),e}))};G.preferredLanguage=function(e){return e&&B(e),r},G.cloakClassName=function(){return A},G.nestedObjectDelimeter=function(){return I},G.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(j(e),h&&a&&a.length)for(var t=0,n=a.length;n>t;t++)W[a[t]]||(W[a[t]]=K(a[t]));G.use(G.use())}return s?a[0]:a},G.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=U(a,e);t>-1&&(x=t)}else x=0},G.proposedLanguage=function(){return c},G.storage=function(){return o},G.negotiateLocale=F,G.use=function(e){if(!e)return l;var t=i.defer();n.$emit("$translateChangeStart",{language:e});var r=F(e);return b.length>0&&!r?i.reject(e):(r&&(e=r),c=e,!C&&E[e]||!h||W[e]?W[e]?W[e].then(function(e){return c===e.key&&X(e.key),t.resolve(e.key),e},function(e){return!l&&a&&a.length>0?G.use(a[0]).then(t.resolve,t.reject):t.reject(e)}):(t.resolve(e),X(e)):(W[e]=K(e).then(function(n){return Y(n.key,n.table),t.resolve(n.key),c===e&&X(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),i.reject(e)}),W[e]["finally"](function(){le(e)})),t.promise)},G.resolveClientLocale=function(){return M()},G.storageKey=function(){return H()},G.isPostCompilingEnabled=function(){return T},G.isForceAsyncReloadEnabled=function(){return C},G.isKeepContent=function(){return w},G.refresh=function(e){function t(){o.resolve(),n.$emit("$translateRefreshEnd",{language:e})}function r(){o.reject(),n.$emit("$translateRefreshEnd",{language:e})}if(!h)throw new Error("Couldn't refresh translation table, no loader registered!");var o=i.defer();if(n.$emit("$translateRefreshStart",{language:e}),e)if(E[e]){var s=function(n){return Y(n.key,n.table),e===l&&X(l),t(),n};s.displayName="refreshPostProcessor",K(e).then(s,r)}else r();else{var c=[],u={};if(a&&a.length)for(var d=0,p=a.length;p>d;d++)c.push(K(a[d])),u[a[d]]=!0;l&&!u[l]&&c.push(K(l));var f=function(e){E={},angular.forEach(e,function(e){Y(e.key,e.table)}),l&&X(l),t()};f.displayName="refreshPostProcessor",i.all(c).then(f,r)}return o.promise},G.instant=function(e,t,n,i){var o=i&&i!==l?F(i)||i:l;if(null===e||angular.isUndefined(e))return e;if(i&&ue(i),angular.isArray(e)){for(var s={},c=0,u=e.length;u>c;c++)s[e[c]]=G.instant(e[c],t,n,i);return s}if(angular.isString(e)&&e.length<1)return e;e&&(e=$.apply(e));var d,f=[];r&&f.push(r),o&&f.push(o),a&&a.length&&(f=f.concat(a));for(var h=0,m=f.length;m>h;h++){var _=f[h];if(E[_]&&"undefined"!=typeof E[_][e]&&(d=se(e,t,n,o)),"undefined"!=typeof d)break}return d||""===d||(g||v?d=z(e):(d=N.interpolate(e,t),p&&!k&&(d=te(e,t)))),d},G.versionInfo=function(){return P},G.loaderCache=function(){return _},G.directivePriority=function(){return O},G.statefulFilter=function(){return R},G.isReady=function(){return D};var de=i.defer();de.promise.then(function(){D=!0}),G.onReady=function(e){var t=i.defer();return angular.isFunction(e)&&t.promise.then(e),D?t.resolve():de.promise.then(t.resolve),t.promise},G.getAvailableLanguageKeys=function(){return b.length>0?b:null};var pe=n.$on("$translateReady",function(){de.resolve(),pe(),pe=null}),fe=n.$on("$translateChangeEnd",function(){de.resolve(),fe(),fe=null});if(h){if(angular.equals(E,{})&&G.use()&&G.use(G.use()),a&&a.length)for(var he=function(e){return Y(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},me=0,ge=a.length;ge>me;me++){var ve=a[me];!C&&E[ve]||(W[ve]=K(ve).then(he))}}else n.$emit("$translateReady",{language:G.use()});return G}]}function i(e,t){"use strict";var n,i={},r="default";return i.setLocale=function(e){n=e},i.getInterpolationIdentifier=function(){return r},i.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},i.interpolate=function(n,i){i=i||{},i=t.sanitize(i,"params");var r;return angular.isNumber(n)?r=""+n:angular.isString(n)?(r=e(n)(i),r=t.sanitize(r,"text")):r="",r},i}function r(e,t,n,i,r,a){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(t,l){var c=l.translateValues?l.translateValues:void 0,u=l.translateInterpolation?l.translateInterpolation:void 0,d=t[0].outerHTML.match(/translate-value-+/i),p="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",f="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,h,m){t.interpolateParams={},t.preText="",t.postText="",t.translateNamespace=o(t);var g={},v=function(e,n,i){if(n.translateValues&&angular.extend(e,r(n.translateValues)(t.$parent)),d)for(var o in i)if(Object.prototype.hasOwnProperty.call(n,o)&&"translateValue"===o.substr(0,14)&&"translateValues"!==o){var a=angular.lowercase(o.substr(14,1))+o.substr(15);e[a]=i[o]}},_=function(e){if(angular.isFunction(_._unwatchOld)&&(_._unwatchOld(),_._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var i=s.apply(h.text()),r=i.match(p);if(angular.isArray(r)){t.preText=r[1],t.postText=r[3],g.translate=n(r[2])(t.$parent);var o=i.match(f);angular.isArray(o)&&o[2]&&o[2].length&&(_._unwatchOld=t.$watch(o[2],function(e){g.translate=e,A()}))}else g.translate=i?i:void 0}else g.translate=e;A()},y=function(e){m.$observe(e,function(t){g[e]=t,A()})};v(t.interpolateParams,m,l);var E=!0;m.$observe("translate",function(e){"undefined"==typeof e?_(""):""===e&&E||(g.translate=e,A()),E=!1});for(var b in m)m.hasOwnProperty(b)&&"translateAttr"===b.substr(0,13)&&y(b);if(m.$observe("translateDefault",function(e){t.defaultText=e,A()}),c&&m.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,r(e)(t.$parent))})}),d){var L=function(e){m.$observe(e,function(n){var i=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[i]=n})};for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&"translateValue"===S.substr(0,14)&&"translateValues"!==S&&L(S)}var A=function(){for(var e in g)g.hasOwnProperty(e)&&void 0!==g[e]&&T(e,g[e],t,t.interpolateParams,t.defaultText,t.translateNamespace)},T=function(t,n,i,r,o,a){n?(a&&"."===n.charAt(0)&&(n=a+n),e(n,r,u,o,i.translateLanguage).then(function(e){C(e,i,!0,t)},function(e){C(e,i,!1,t)})):C(n,i,!1,t)},C=function(t,n,r,o){if(r||"undefined"!=typeof n.defaultText&&(t=n.defaultText),"translate"===o){(r||!r&&!e.isKeepContent()&&"undefined"==typeof m.translateKeepContent)&&h.empty().append(n.preText+t+n.postText);var a=e.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,c=s&&"false"!==l.translateCompile;(a&&!s||c)&&i(h.contents())(n)}else{var u=m.$attr[o];"data-"===u.substr(0,5)&&(u=u.substr(5)),u=u.substr(15),h.attr(u,t)}};(c||d||m.translateDefault)&&t.$watch("interpolateParams",A,!0);var I=t.$on("translateLanguageChanged",A),D=a.$on("$translateChangeSuccess",A);h.text().length?_(m.translate?m.translate:""):m.translate&&_(m.translate),A(),t.$on("$destroy",function(){I(),D()})}}}}function o(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?o(e.$parent):void 0}function a(e,t){"use strict";return{compile:function(n){var i=function(){n.addClass(e.cloakClassName())},r=function(){n.removeClass(e.cloakClassName())};return e.onReady(function(){r()}),i(),function(n,o,a){a.translateCloak&&a.translateCloak.length&&(a.$observe("translateCloak",function(t){e(t).then(r,i)}),t.$on("$translateChangeSuccess",function(){e(a.translateCloak).then(r,i)}))}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=o(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function o(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?o(e.$parent):void 0}function l(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t}),e.$watch("translateLanguage",function(){e.$broadcast("translateLanguageChanged")})}}}}function c(e,t){"use strict";var n=function(n,i,r,o){return angular.isObject(i)||(i=e(i)(this)),t.instant(n,i,r,o)};return t.statefulFilter()&&(n.$stateful=!0),n}function u(e){"use strict";return e("translations")}return e.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],i.$inject=["$interpolate","$translateSanitization"],r.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],a.$inject=["$translate","$rootScope"],c.$inject=["$parse","$translate"],u.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(e),e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",i),i.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",a),a.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",l),l.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",c),c.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",u),u.displayName="$translationCache","pascalprecht.translate"}),function(e){"use strict";function t(){var t=e.crypto||e.msCrypto;if(!s&&t&&t.getRandomValues)try{var n=new Uint8Array(16);u=s=function(){return t.getRandomValues(n),n},s()}catch(i){}if(!s){var r=new Array(16);l=s=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function n(){if("function"==typeof require)try{var e=require("crypto").randomBytes;c=s=e&&function(){return e(16)},s()}catch(t){}}function i(e,t,n){var i=t&&n||0,r=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>r&&(t[i+r++]=h[e])});16>r;)t[i+r++]=0;return t}function r(e,t){var n=t||0,i=f;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}function o(e,t,n){var i=t&&n||0,o=t||[];e=e||{};var a=null!=e.clockseq?e.clockseq:_,s=null!=e.msecs?e.msecs:(new Date).getTime(),l=null!=e.nsecs?e.nsecs:E+1,c=s-y+(l-E)/1e4;if(0>c&&null==e.clockseq&&(a=a+1&16383),(0>c||s>y)&&null==e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y=s,E=l,_=a,s+=122192928e5;var u=(1e4*(268435455&s)+l)%4294967296;o[i++]=u>>>24&255,o[i++]=u>>>16&255,o[i++]=u>>>8&255,o[i++]=255&u;var d=s/4294967296*1e4&268435455;o[i++]=d>>>8&255,o[i++]=255&d,o[i++]=d>>>24&15|16,o[i++]=d>>>16&255,o[i++]=a>>>8|128,o[i++]=255&a;for(var p=e.node||v,f=0;6>f;f++)o[i+f]=p[f];return t?t:r(o)}function a(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new p(16):null,e=null),e=e||{};var o=e.random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;16>a;a++)t[i+a]=o[a];return t||r(o)}var s,l,c,u,d;e?t():n();for(var p="function"==typeof Buffer?Buffer:Array,f=[],h={},m=0;256>m;m++)f[m]=(m+256).toString(16).substr(1),h[f[m]]=m;var g=s(),v=[1|g[0],g[1],g[2],g[3],g[4],g[5]],_=16383&(g[6]<<8|g[7]),y=0,E=0,b=a;b.v1=o,b.v4=a,b.parse=i,b.unparse=r,b.BufferClass=p,b._rng=s,b._mathRNG=l,b._nodeRNG=c,b._whatwgRNG=u,"undefined"!=typeof module&&module.exports?module.exports=b:"function"==typeof define&&define.amd?define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/uuid/uuid",[],function(){return b}):(d=e.uuid,b.noConflict=function(){return e.uuid=d,b},e.uuid=b)}("undefined"!=typeof window?window:null),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXError",["require","exports","module"],function(e,t,n){"use strict";function i(e,t,n){if(Error.call(this),Error.captureStackTrace)Error.captureStackTrace(this,i);else{var r=new Error;r.name=this.name,
this.stack=r.stack}this.code=e,this.message="["+e+"] "+t,this.underlyingError=n}i.prototype=Object.create(Error.prototype),i.prototype.name="AdobeDCXError",i.INVALID_JSON="INVALID_JSON",i.READ_ONLY="READ_ONLY",i.INVALID_PARAMS="",i.INVALID_DATA="INVALID_DATA",i.DUPLICATE_VALUE="DUPLICATE_VALUE",i.NO_LOCAL_STORAGE="NO_LOCAL_STORAGE",i.INVALID_STATE="INVALID_STATE",i.DELETED_COMPOSITE="DELETED_COMPOSITE",i.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",i.NETWORK_ERROR="NETWORK_ERROR",i.COMPONENT_DOWNLOAD_ERROR="COMPONENT_DOWNLOAD_ERROR",i.COMPONENT_UPLOAD_ERROR="COMPONENT_UPLOAD_ERROR",i.COMPONENT_MODIFIED_ERROR="COMPONENT_MODIFIED_ERROR",i.UPDATE_CONFLICT="UPDATE_CONFLICT",i.NO_COMPOSITE="NO_COMPOSITE",i.ALREADY_EXISTS="ALREADY_EXISTS",i.SERVICE_IS_INACTIVE="SERVICE_IS_INACTIVE",i.EXCEEDS_QUOTA="EXCEEDS_QUOTA",i.NOT_IMPLEMENTED="NOT_IMPLEMENTED",i.RETRYABLE_SERVER_ERROR="RETRYABLE_SERVER_ERROR",i.TIMED_OUT="TIMED_OUT",i.UNEXPECTED="UNEXPECTED",i.TERMINATED_INPUTSTREAM="TERMINATED_INPUTSTREAM",i.WRONG_ENDPOINT="WRONG_ENDPOINT",i.OUT_OF_SPACE="ENOSPC";var r={};return r[i.SERVICE_IS_INACTIVE]=1,r[i.NOT_IMPLEMENTED]=1,r[i.EXCEEDS_QUOTA]=1,r[i.RETRYABLE_SERVER_ERROR]=1,r[i.TIMED_OUT]=1,r[i.TERMINATED_INPUTSTREAM]=1,r[i.WRONG_ENDPOINT]=1,r[i.OUT_OF_SPACE]=1,i.wrapError=function(e,t,n,o){if(!n||!r[n.code]){if(o){var a=o.statusCode;a>=500&&600>a&&(501===a?(e=i.NOT_IMPLEMENTED,t="Unimplemented request"):507===a?(e=i.EXCEEDS_QUOTA,t="Quota exceeded"):(e=i.RETRYABLE_SERVER_ERROR,t="Server error"))}n=new i(e,t,n)}return o&&(n.response=o),n},i.networkError=function(e,t,n){return i.wrapError(i.NETWORK_ERROR,e,t,n)},i.unexpectedResponse=function(e,t,n){return i.wrapError(i.UNEXPECTED_RESPONSE,e,t,n)},i}),function(){function e(e,t,n){var i=t&&n||0,r=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>r&&(t[i+r++]=p[e])});16>r;)t[i+r++]=0;return t}function t(e,t){var n=t||0,i=d;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}function n(e,n,i){var r=n&&i||0,o=n||[];e=e||{};var a=null!=e.clockseq?e.clockseq:g,s=null!=e.msecs?e.msecs:(new Date).getTime(),l=null!=e.nsecs?e.nsecs:_+1,c=s-v+(l-_)/1e4;if(0>c&&null==e.clockseq&&(a=a+1&16383),(0>c||s>v)&&null==e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=s,_=l,g=a,s+=122192928e5;var u=(1e4*(268435455&s)+l)%4294967296;o[r++]=u>>>24&255,o[r++]=u>>>16&255,o[r++]=u>>>8&255,o[r++]=255&u;var d=s/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var p=e.node||m,f=0;6>f;f++)o[r+f]=p[f];return n?n:t(o)}function i(e,n,i){var o=n&&i||0;"string"==typeof e&&(n="binary"==e?new u(16):null,e=null),e=e||{};var a=e.random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n)for(var s=0;16>s;s++)n[o+s]=a[s];return n||t(a)}var r,o=this;if("function"==typeof require)try{var a=require("crypto").randomBytes;r=a&&function(){return a(16)}}catch(s){}if(!r&&o.crypto&&crypto.getRandomValues){var l=new Uint8Array(16);r=function(){return crypto.getRandomValues(l),l}}if(!r){var c=new Array(16);r=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),c[t]=e>>>((3&t)<<3)&255;return c}}for(var u="function"==typeof Buffer?Buffer:Array,d=[],p={},f=0;256>f;f++)d[f]=(f+256).toString(16).substr(1),p[d[f]]=f;var h=r(),m=[1|h[0],h[1],h[2],h[3],h[4],h[5]],g=16383&(h[6]<<8|h[7]),v=0,_=0,y=i;if(y.v1=n,y.v4=i,y.parse=e,y.unparse=t,y.BufferClass=u,"function"==typeof define&&define.amd)define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/components/uuid/uuid",[],function(){return y});else if("undefined"!=typeof module&&module.exports)module.exports=y;else{var E=o.uuid;y.noConflict=function(){return o.uuid=E,y},o.uuid=y}}.call(this),"function"!=typeof nodeRequire)var nodeRequire=require;if(define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXUtil",["require","exports","module","./components/uuid/uuid"],function(e,t,n){"use strict";var i;try{i=e("./components/uuid/uuid")}catch(r){i=nodeRequire("node-uuid")}var o;t._setLogCallback=function(e){o=e},t.merge=function(e){var t,n;for(t=1;t<arguments.length;++t){var i=arguments[t];if("object"==typeof i)for(n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}return e},t.parentDirectory=function(e){var t=e.split("/");return t.pop(),t.join("/")},t.filePathComponents=function(e){var t=e.split("/"),n=t.pop(),i=n.split("."),r=i.length>1?i.pop():null;return{directory:t.join("/"),fileName:n,baseName:i.join("."),extension:r}},t.appendPathElements=function(){var e,t=[],n=arguments.length;for(e=0;n>e;e++){var i=arguments[e];"string"==typeof i&&""!==i&&((0!==e||1===i.length)&&"/"===i.charAt(0)&&(i=i.slice(1)),e!==n-1&&"/"===i.charAt(i.length-1)&&(i=i.slice(0,i.length-1)),t.push(i))}return t.join("/")};var a=/^[^\u0000-\u001F\u0022\u002A\u003A\u003C\u003E\u003F\u005C\u007F]*[^\u0000-\u001F\u0022\u002A\u002E\u003A\u003C\u003E\u003F\u005C\u007F]{1}$/;t.isValidPath=function(e,t){try{if(e.length>65535)return!1;var n=(t?e.slice(1):e).split("/");if(!n||0===n.length)return!1;var i,r=n.length;for(i=0;r>i;i++){var o=n[i];if(o.length>255||!a.test(n[i]))return!1}if(t&&n.length>0){var s=n[0];if("manifest"===s||"mimetype"===s)return!1}return!0}catch(l){return!1}},t.isValidAbsolutePath=function(e){return t.isValidPath(e,!0)};var s=t.noOp=function(){};t.consumeStream=function(e,t,n){e.on("data",n||s),e.on("end",t||s)},t.flatCopy=function(e){var t,n={},i=Object.keys(e),r=i.length;for(t=0;r>t;t++){var o=i[t];n[o]=e[o]}return n},t.deepCopy=function(e){return JSON.parse(JSON.stringify(e))},t.objectsEqual=function(e,n,i){var r,o,a={},s=Object.keys(e),l=s.length;for(o=0;l>o;o++){if(r=s[o],!i||!i[r]){var c=e[r],u=n[r],d=typeof c,p=typeof u;if(d!==p)return!1;if("object"===d){if(!t.objectsEqual(c,u,i))return!1}else if(c!==u)return!1}a[r]=!0}for(s=Object.keys(n),l=s.length,o=0;l>o;o++)if(r=s[o],!a[r])return!1;return!0};var l=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?");t.parseURI=function(e){var t=e.match(l);return{scheme:t[2],authority:t[4],path:t[5],query:t[7],fragment:t[9]}},t.endPointOf=function(e){var n,i=t.parseURI(e),r=i.scheme,o=i.authority,a="https"===r?443:"http"===r?80:-1;return r&&o&&(n=(r+"://"+o).toLowerCase(),a>=0&&o.indexOf(":")<0&&(n=n+":"+a)),n},t.ensureRelativeHrefStartsWithSlash=function(e){if(e){var n=t.parseURI(e),i=n.scheme,r=n.authority;i||r||"/"!==e.charAt(0)&&(e="/"+e)}return e};var c=/^([^:]+):(.*)$/,u=/^\s+|\s+$/g;return t.parseHeaders=function(e){var t,n,i,r={},o=e.split(/\r?\n/);for(t=0;t<o.length;++t){var a=o[t];if(a.length>0){var s=a.charCodeAt(0);if(!n||9!==s&&32!==s){var l=c.exec(a);l&&l.length>1&&(n=l[1].toLowerCase(),i=l[2]||"",i=i.replace(u,""),r[n]?r[n]=r[n]+","+i:r[n]=i)}else r[n]=r[n]+" "+a.replace(u,"")}}return r},t.timeStamp=function(e){var t=(new Date).getTime();return e&&(t-=t%1e3),t},t.generateUuid=i,t.log=function(e){if("function"==typeof o)try{o(e)}catch(t){}},t}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXNode",["require","exports","module","./AdobeDCXError","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t,n){e?this._setData(e):this._data={},this._readOnly=t,this._isRoot=n}var r=e("./AdobeDCXError"),o=e("./AdobeDCXUtil"),a="/";i.ROOT_PATH=a,Object.defineProperties(i.prototype,{id:{get:function(){return this._data.id},set:function(e){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if(this._owner)throw new r(r.READ_ONLY,"Cannot change the id of a node that is part of a branch or element.");if("string"!=typeof e||""===e)throw new r(r.INVALID_PARAMS,"Expecting a non-empty string.");this._data.id=e,this._setDirty()}},name:{get:function(){return this._data.name},set:function(e){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string or undefined.");this._data.name=e,this._setDirty()}},type:{get:function(){return this._data.type},set:function(e){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string or undefined.");this._data.type=e,this._setDirty()}},relationship:{get:function(){return this._data.rel},set:function(e){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string or undefined.");this._data.rel=e,this._setDirty()}},path:{get:function(){return this._isRoot?a:this._data.path},set:function(e){if(e!==this.path){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if(this._isRoot)throw new r(r.READ_ONLY,"Cannot change the path of the root node.");if(e&&!o.isValidPath(e))throw new r(r.INVALID_PARAMS,"Expecting a valid path or undefined.");this._owner?this._owner._setPathOfNode(this,e||void 0):(this._data.path=e||void 0,this._parentPath=""),this._setDirty()}}},parentPath:{get:function(){return this._parentPath},set:function(e){throw new r(r.READ_ONLY,"parentPath is read-only.")}},absolutePath:{get:function(){var e=this.path;return this._isRoot?e:e&&this._owner?o.appendPathElements(this._parentPath,e):void 0},set:function(e){throw new r(r.READ_ONLY,"absolutePath is read-only.")}},isRoot:{get:function(){return this._isRoot},set:function(e){throw new r(r.READ_ONLY,"isRoot is read-only.")}}}),i.prototype.getLink=function(e){if("string"!=typeof e)throw new r(r.INVALID_PARAMS,'Param "relationship" must be a string');return this._data._links?this._data._links[e]:void 0},i.prototype.setLink=function(e,t){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if("object"!=typeof e)throw new r(r.INVALID_PARAMS,'Param "link" must be an object.');if("string"!=typeof t)throw new r(r.INVALID_PARAMS,'Param "relationship" must be a string');var n=this._data._links;n||(n=this._data._links={}),n[t]=e,this._setDirty()},i.prototype.removeLink=function(e){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new r(r.INVALID_PARAMS,'Param "relationship" must be a string');var t=this._data._links;t&&(delete t[e],Object.keys(t).length<1&&delete this._data._links,this._setDirty())};var s={components:!0,children:!0,"manifest-format-version":!0,id:!0,name:!0,type:!0,state:!0,local:!0},l={components:!0,children:!0,rel:!0,path:!0,id:!0,name:!0,type:!0};return i.prototype.getCustomKeys=function(){var e,t=[],n=Object.keys(this._data),i=n.length;for(e=0;i>e;e++){var r=n[e];(this._isRoot?s[r]:l[r])||t.push(r)}return t},i.prototype.getValue=function(e){if("string"!=typeof e)throw new r(r.INVALID_PARAMS,'Param "key" must be a string');if("children"===e||"components"===e)throw new r(r.INVALID_PARAMS,"Illegal key");return this._data[e]},i.prototype.setValue=function(e,t){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new r(r.INVALID_PARAMS,'Param "key" must be a string');if("children"===e||"components"===e)throw new r(r.INVALID_PARAMS,"Illegal key");this._data[e]=t,this._setDirty()},i.prototype.removeValue=function(e){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new r(r.INVALID_PARAMS,'Param "key" must be a string');if("children"===e||"components"===e)throw new r(r.INVALID_PARAMS,"Illegal key");delete this._data[e],this._setDirty()},i.prototype.copy=function(){var e=null,t=this._data.children,n=this._data.components;try{t&&delete this._data.children,n&&delete this._data.components;var r=JSON.parse(JSON.stringify(this._data));e=new i(r)}finally{t&&(this._data.children=t),n&&(this._data.components=n)}return e},i.prototype.isEqualTo=function(e,t,n){return this._isEqual(this._data,e._data,o.merge({children:!0,components:!0},t),n)},i.prototype._isEqual=function(e,t,n,i){var r,a,s,l,c;if(!o.objectsEqual(e,t,n))return!1;if(a=e.components,s=t.components,l=a?a.length:0,c=s?s.length:0,l!==c)return!1;if(l){var u,d,p;for(r=0;l>r;r++){for(u=a[r],d=null,p=0;l>p;p++)if(u.id===s[p].id){d=s[p];break}if(!d)return!1;if(!o.objectsEqual(u,d,i))return!1}}if(a=e.children,s=t.children,l=a?a.length:0,c=s?s.length:0,l!==c)return!1;if(l)for(r=0;l>r;r++)if(!this._isEqual(a[r],s[r],n,i))return!1;return!0},i.prototype._setData=function(e){var t=this._verify(e);if(null===t)return this._data=e,this;throw t},i.prototype._verify=function(e){return"string"!=typeof e.id?new r(r.INVALID_DATA,"Node is missing an id of type string"):null},i.prototype._setDirty=function(){this._owner&&this._owner._setDirty()},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXComponent",["require","exports","module","./AdobeDCXError","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t){e?this._setData(e):this._data={},this._readOnly=t}function r(e){this.compositeId=e,this.records={}}function o(e,t,n,i,r,o){this.id=e,this.etag=t,this.version=n,this.md5=i,this.length=r,this.type=o}var a=e("./AdobeDCXError"),s=e("./AdobeDCXUtil"),l={unmodified:"unmodified",modified:"modified",pendingDelete:"pendingDelete",committedDelete:"committedDelete"};i.STATES=l,i._UploadResults=r,i._UploadRecord=o,Object.defineProperties(i.prototype,{id:{get:function(){return this._data.id},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if(this._owner)throw new a(a.READ_ONLY,"Cannot change the id of a component that is part of a branch or element.");if("string"!=typeof e||""===e)throw new a(a.INVALID_PARAMS,"Expecting a non-empty string.");this._data.id=e,this._setDirty()}},name:{get:function(){return this._data.name},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a string or undefined.");this._data.name=e,this._setDirty()}},type:{get:function(){return this._data.type},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e||""===e)throw new a(a.INVALID_PARAMS,"Expecting a non-empty string.");this._data.type=e,this._setDirty()}},path:{get:function(){return this._data.path},set:function(e){if(this._data.path!==e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if(!s.isValidPath(e))throw new a(a.INVALID_PARAMS,"Expecting a valid path.");this._owner?this._owner._core._setPathOfComponent(this,e):(this._data.path=e,this._parentPath=""),this._setDirty()}}},parentPath:{get:function(){return this._parentPath},set:function(e){throw new a(a.READ_ONLY,"parentPath is read-only.")}},absolutePath:{get:function(){return this._data.path&&this._owner?s.appendPathElements(this._parentPath,this._data.path):void 0},set:function(e){throw new a(a.READ_ONLY,"absolutePath is read-only.")}},relationship:{get:function(){return this._data.rel},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a string or undefined.");this._data.rel=e,this._setDirty()}},state:{get:function(){return this._data.state},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a string.");if(!l.hasOwnProperty(e))throw new a(a.INVALID_PARAMS,'State must be "modified", "unmodified", "pendingDelete", or "committedDelete".');this._data.state=e,this._setDirty()}},etag:{get:function(){return this._data.etag},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a string or undefined.");this._data.etag=e,this._setDirty()}},md5:{get:function(){return this._data.md5},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a string or undefined.");this._data.md5=e,this._setDirty()}},version:{get:function(){return this._data.version},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("undefined"!=typeof e&&"string"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a string or undefined.");this._data.version=e,this._setDirty()}},length:{get:function(){return this._data.length},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("number"!=typeof e&&"undefined"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a number or undefined.");this._data.length=e,this._setDirty()}},width:{get:function(){return this._data.width},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("number"!=typeof e&&"undefined"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a number or undefined.");this._data.width=e,this._setDirty()}},height:{get:function(){return this._data.height},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("number"!=typeof e&&"undefined"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a number or undefined.");this._data.height=e,this._setDirty()}}});var c={name:!0,id:!0,state:!0,path:!0,rel:!0,type:!0,etag:!0,length:!0,version:!0,md5:!0,width:!0,height:!0};return i.prototype.getCustomKeys=function(){var e,t=[],n=Object.keys(this._data),i=n.length;for(e=0;i>e;e++){var r=n[e];c[r]||t.push(r)}return t},i.prototype.getValue=function(e){if("string"!=typeof e)throw new a(a.INVALID_PARAMS,'Param "key" must be a string');return this._data[e]},i.prototype.setValue=function(e,t){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new a(a.INVALID_PARAMS,'Param "key" must be a string');this._data[e]=t,this._setDirty()},i.prototype.removeValue=function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new a(a.INVALID_PARAMS,'Param "key" must be a string');delete this._data[e],this._setDirty()},i.prototype.getLink=function(e){if("string"!=typeof e)throw new a(a.INVALID_PARAMS,'Param "relationship" must be a string');return this._data._links?this._data._links[e]:void 0},i.prototype.setLink=function(e,t){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("object"!=typeof e)throw new a(a.INVALID_PARAMS,'Param "link" must be an object.');if("string"!=typeof t)throw new a(a.INVALID_PARAMS,'Param "relationship" must be a string');var n=this._data._links;n||(n=this._data._links={}),n[t]=e,this._setDirty()},i.prototype.removeLink=function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new a(a.INVALID_PARAMS,'Param "relationship" must be a string');var t=this._data._links;t&&(delete t[e],Object.keys(t).length<1&&delete this._data._links,this._setDirty())},i.prototype.isEqualTo=function(e,t){return s.objectsEqual(this._data,e._data,t)},i.prototype._setData=function(e){var t=this._verify(e);if(null===t)return this._data=e,this;throw t},i.prototype._setDirty=function(){this._owner&&this._owner._setDirty()},i.prototype._verify=function(e){return"string"!=typeof e.id?new a(a.INVALID_DATA,"Component is missing an id of type string"):null},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXFS",["require","exports","module","./AdobeDCXError","./AdobeDCXUtil"],function(e,t,n){"use strict";var i,r=(e("./AdobeDCXError"),e("./AdobeDCXUtil"));t.canUseFileSystem=!1,t._setFS=function(e){i=e,t.canUseFileSystem=e?!0:!1},t.ensureDirectoryExists=function(e,n){var o=function(e){e&&"EEXIST"===e.code?n():n(e)},a=function(a){if(a)n();else{var s=r.parentDirectory(e);s?t.ensureDirectoryExists(s,function(t){t?n(t):i.mkdir(e,o)}):i.mkdir(e,o)}};e?i.exists(e,a):a(!0)},t.getTempFilePathAt=function(e,n){var i=function(){var o=e+r.generateUuid();t.exists(o,function(e){e?i():n(o)})};i()},t.exists=function(e,t){i.exists(e,t)},t.deleteFile=function(e,t){i.unlink(e,function(e){e&&"ENOENT"!==e.code?t(e):t()})},t.readFile=function(e,t,n){i.readFile(e,t,n)},t.writeFile=function(e,n,o,a){var s=r.parentDirectory(e);t.ensureDirectoryExists(s,function(t){t?a(t):i.writeFile(e,n,o,a)})},t.writeFileAtomically=function(e,n,o,a){var s=r.parentDirectory(e);t.ensureDirectoryExists(s,function(r){r?a(r):t.getTempFilePathAt(s+"/",function(t){i.writeFile(t,n,o,function(n){n?a(n):i.rename(t,e,a)})})})},t.createWriteStream=function(e,t){return i.createWriteStream(e,t)},t.createReadStream=function(e,t){return i.createReadStream(e,t)},t.move=function(e,n,o,a){var s=r.parentDirectory(n);t.ensureDirectoryExists(s,function(t){if(t)a(t);else if(o){var r=(new Date).getTime()/1e3;i.utimes(e,r,r,function(t){t?a(t):i.rename(e,n,a)})}else i.rename(e,n,a)})},t.info=function(e,t){i.stat(e,t)},t.directoryListing=function(e,t){var n,r,o=[],a=function(a){i.stat(e+"/"+a,function(e,i){if(!e)try{o.push({name:a,info:i}),n--}catch(s){e=s}e?r||(r=e,t(e)):0===n&&t(void 0,o)})};i.readdir(e,function(e,i){if(!e)try{var r,o=i.length;for(n=o,r=0;o>r;r++)a(i[r])}catch(s){e=s}e?t(e):0===n&&t(void 0,[])})},t.deleteDirectory=function(e,n){var r,o,a=function(){try{i.rmdir(e,n)}catch(t){n(t)}},s=function(e){e&&!r&&(r=e),o--,1>o&&(r?n(r):a())},l=function(n){var r=e+"/"+n;i.unlink(r,function(e){try{e?t.deleteDirectory(r,function(e){s(e)}):s()}catch(n){s(n)}})};i.readdir(e,function(e,t){if(!e)try{var i=t.length;if(1>i)a();else{var r;for(o=i,r=0;i>r;r++)l(t[r])}}catch(s){e=s}e&&n(e)})};var o=function(e,t,n){try{var o=t+r.generateUuid(),a=i.createWriteStream(o),s=i.createReadStream(e);s.on("end",function(){i.rename(o,t,n)}),s.pipe(a)}catch(l){n(l)}};return t.copyFile=function(e,n,i){var a=r.parentDirectory(n);t.ensureDirectoryExists(a,function(t){t?i(t):o(e,n,i)})},t}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXBranchCore",["require","exports","module","./AdobeDCXError","./AdobeDCXNode","./AdobeDCXComponent","./AdobeDCXFS","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t,n){this._readOnly=n,this._owner=t,this._setData(e),this._localStorage=void 0}function r(e,t,n,i,r,a,s,l){var u=t._owner._core,d=e._owner._core,p=n&&e.id===t.id,f=d._getSourceHrefOfComponent(e),h=u.getComponentWithId(t.id),m=i&&(!h||!h.etag)&&"unmodified"===e.state,g=!p&&!f,v=g;if(r&&!h&&(f||g)&&e.id===t.id&&(t._data.id=c.generateUuid(),t.state="modified",t.etag=void 0,t.version=void 0,t.md5=void 0,t.length=void 0),a&&a._copyComponentMapping(e.id,l,t.id,s)&&(v=!1,p||(t.state="modified")),g){if(m){if(f=d._getHrefOfComponent(e),u._setSourceHrefOfComponent(f,t,s),!f&&v)throw new o(o.INVALID_STATE,"Failed to determine the source href of a component that does not have a local file.")}else if(v)throw new o(o.INVALID_STATE,"Could not use server-to-server copy for component "+e.id)}else u._setSourceHrefOfComponent(f,t,s);f&&(t.state="modified")}var o=e("./AdobeDCXError"),a=e("./AdobeDCXNode"),s=e("./AdobeDCXComponent"),l=e("./AdobeDCXFS"),c=e("./AdobeDCXUtil");return Object.defineProperties(i.prototype,{rootNode:{get:function(){return this.getChildWithAbsolutePath(a.ROOT_PATH)},set:function(e){throw new o(o.READ_ONLY,'Property "rootNode" is read-only.')}},hasLocalStorage:{get:function(){return this._localStorage},set:function(){throw new o(o.READ_ONLY,"Cannot set the property hasLocalStorage.")}},isDirty:{get:function(){return this._isDirty},set:function(){throw new o(o.READ_ONLY,"Cannot set the property isDirty.")}},changeCount:{get:function(){return this._data.local?this._data.local.change||0:0},set:function(){throw new o(o.READ_ONLY,"Cannot set the property changeCount.")}}}),i.prototype.getChildWithId=function(e){return this._allNodes[e]},i.prototype.getChildWithAbsolutePath=function(e){var t=this._absolutePaths[e.toLowerCase()];return t&&t instanceof a?t:void 0},i.prototype.getChildrenOf=function(e){if(e=e?this._allNodes[e.id]:this.rootNode,!e)throw new o(o.INVALID_PARAMS,"Unknown node");var t=[],n=e._data.children;if(Array.isArray(n)){var i;for(i=0;i<n.length;i++){var r=n[i],a=this._allNodes[r.id];if(!a)throw new o(o.INVALID_DATA,"Node not in cache");t[t.length]=a}}return t},i.prototype.addChild=function(e,t,n,i){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(t=t||c.generateUuid(),this._allNodes[t])throw new o(o.DUPLICATE_VALUE,"Node already exists in branch.");if(n&&("number"!=typeof n||n%1!==0))throw new o(o.INVALID_PARAMS,'Param "index" must be an integer.');var r=i?this._allNodes[i.id]:this.rootNode;if(!r)throw new o(o.INVALID_PARAMS,"Unknown parent node.");var s=new a;s.id=t,e&&(s.name=e),s._parentPath=r.absolutePath||r._parentPath;var l=r._data.children;return l?(n>=0&&n<=l.length||(n=l.length),n===l.length?l[n]=s._data:l.splice(n,0,s._data)):r._data.children=[s._data],this._allNodes[s.id]=s,s._owner=this._owner,this._setDirty(),s},i.prototype.removeChild=function(e){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "node".');if(e.isRoot)throw new o(o.INVALID_PARAMS,"Cannot remove the root node.");var t=e.id;if(!t)throw new o(o.INVALID_PARAMS,'Param "node" must have an id.');var n=this._nodeDataOfParentOfNode(e);if(!n)throw new o(o.INVALID_PARAMS,"Node not found in this branch.");return n.parentNodeData.children.splice(n.index,1),0===n.parentNodeData.children.length&&delete n.parentNodeData.children,e=this._allNodes[t],this._removeNodeFromCachesRecursively(e._data),this._setDirty(),e},i.prototype.moveChild=function(e,t,n){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "node".');if(e.isRoot)throw new o(o.INVALID_PARAMS,"Cannot move the root node.");if(t&&("number"!=typeof t||t%1!==0))throw new o(o.INVALID_PARAMS,'Param "index" must be an integer.');var i=e.id;if(!i)throw new o(o.INVALID_PARAMS,'Param "node" must have an id.');var r=this._nodeDataOfParentOfNode(e);if(e=this._allNodes[i],!r)throw new o(o.INVALID_PARAMS,"Node not found in this branch.");var a=n?this._allNodes[n.id]:this.rootNode;if(!a)throw new o(o.INVALID_PARAMS,"Unknown parent node.");if(this._nodeIdIsDescendantOf(a.id,e._data))throw new o(o.INVALID_PARAMS,"Must not create a cycle.");var s=r.parentNodeData.children.splice(r.index,1)[0];try{var l=a._data.children;l?(t>=0&&t<=l.length||(t=l.length),t===l.length?l[t]=s:l.splice(t,0,s)):a._data.children=[s]}catch(c){throw r.parentNodeData.children.splice(r.index,0,s),c}return 0===r.parentNodeData.children.length&&delete r.parentNodeData.children,this._setDirty(),this._allNodes[i]},i.prototype.copyChild=function(e,t,n,i,r,o){return this._copyChild(e,t,n,i,r,!1,o)},i.prototype.replaceChild=function(e,t,n,i){return this._copyChild(e,void 0,void 0,t,n||e.id,!0,i)},i.prototype.allComponents=function(){var e,t=[];for(e in this._allComponents)this._allComponents.hasOwnProperty(e)&&t.push(this._allComponents[e]);return t},i.prototype.getComponentWithId=function(e){return this._allComponents[e]},i.prototype.getComponentWithAbsolutePath=function(e){var t=this._absolutePaths[e.toLowerCase()];return t&&t instanceof s?t:void 0},i.prototype.getComponentsOf=function(e){if(e=e?this._allNodes[e.id]:this.rootNode,!e)throw new o(o.INVALID_PARAMS,"Unknown node");var t=[],n=e._data.components;if(Array.isArray(n)){var i;for(i=0;i<n.length;i++){var r=n[i],a=this._allComponents[r.id];if(!a)throw new o(o.INVALID_DATA,"Component not in cache");t[t.length]=a}}return t},i.prototype.addComponent=function(e,t,n,i,r,a,l,u,d,p){var f=this._localStorage;if(!f)throw new o(o.NO_LOCAL_STORAGE,"No local storage. Use AdobeDCXCompositeXfer.uploadNewComponent() followed by addComponentWithUploadResults()");if("function"!=typeof p&&r)throw new o(o.INVALID_PARAMS,'Param "callback" must be a function.');if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(d&&"string"!=typeof d)throw new o(o.INVALID_PARAMS,'Param "id" must be of type string.');if(!r&&!l)throw new o(o.INVALID_PARAMS,"Must provide either source or sourceHref.");try{if(l){var h=this._getBranchOf(this).compositeHref;if(h){var m=c.endPointOf(h),g=c.endPointOf(l);if(m&&g&&m!==g)throw new o(o.WRONG_ENDPOINT,"Given source href has an invalid endpoint: "+g)}}var v=this._local();d=d||c.generateUuid();var _=new s;_.id=d,_.name=e,_.type=t,_.relationship=n,_.path=i,_.state="modified";var y=this,E=function(e){if(!e)try{if(d&&y._allComponents[d])throw new o(o.DUPLICATE_VALUE,'The "id" of a component must be unique.');var t=u?y._allNodes[u.id]:y.rootNode;if(!t)throw new o(o.INVALID_PARAMS,"Unknown parent node.");var n=y._normalizedAbsolutePathForItem(_,t);if(y._absolutePaths[n])throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+n);if(!c.isValidAbsolutePath(n))throw new o(o.INVALID_PARAMS,"Invalid absolute path: "+n);_._parentPath=t.absolutePath||t._parentPath;var i=t._data.components;i?i.push(_._data):t._data.components=[_._data],_._owner=y._owner,l&&y._setSourceHrefOfComponent(l,_),y._allComponents[_.id]=_,y._absolutePaths[n]=_,y._setDirty()}catch(r){f.removeComponentAsset(_,v),l&&y._setSourceHrefOfComponent(void 0,_),_=void 0,e=r}if(p)return p(e,_);if(e)throw e;return _};if(!r)return E();f.ingestComponentAsset(_,r,a,v,E)}catch(b){if(p)return p(b);throw b}},i.prototype.addComponentWithUploadResults=function(e,t,n,i,r){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(r.compositeId!==this._owner.compositeId)throw new o(o.INVALID_PARAMS,"Param uploadResults does not appear valid to be for this composite.");var a=Object.keys(r.records);if(1!==a.length)throw new o(o.INVALID_PARAMS,"Param uploadResults must contain records of exactly one component upload.");if(this._localStorage)throw new o(o.INVALID_PARAMS,"This method is for in-browser use only. Use addComponent() instead.");var l=r.records[a[0]],c=l.id;if(this._allComponents[c])throw new o(o.DUPLICATE_VALUE,"Duplicate component id: "+c);var u=i?this._allNodes[i.id]:this.rootNode;if(!u)throw new o(o.INVALID_PARAMS,"Unknown parent node.");var d=new s;d.id=c,d.name=e,d.type=l.type,d.relationship=t,d.path=n,d.state="unmodified",d.etag=l.etag,d.length=l.length,d.version=l.version,d.md5=l.md5;var p=this._normalizedAbsolutePathForItem(d,u);if(this._absolutePaths[p])throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+p);d._parentPath=u.absolutePath||u._parentPath;var f=u._data.components;return f?f.push(d._data):u._data.components=[d._data],d._owner=this._owner,this._allComponents[c]=d,this._absolutePaths[p]=d,this._setDirty(),d},i.prototype.updateComponent=function(e,t,n,i){var r=this._localStorage;if(!r)throw new o(o.NO_LOCAL_STORAGE,"No local storage. Use AdobeDCXCompositeXfer.uploadComponent() to upload a new component asset and then call updateComponentWithUploadResults()");if("function"!=typeof i)throw new o(o.INVALID_PARAMS,'Param "callback" must be a function.');if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(e=this._allComponents[e.id],!e)throw new o(o.INVALID_PARAMS,"Unknown component.");try{var a=this,s=function(t){if(!t)try{"modified"!==e.state?e.state="modified":a._setDirty(),a._setSourceHrefOfComponent(void 0,e)}catch(n){t=n,e=void 0}i(t,e)};r.ingestComponentAsset(e,t,n,this._local(),s)}catch(l){i(l)}},i.prototype.updateComponentWithUploadResults=function(e,t){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(e=this._allComponents[e.id],!e)throw new o(o.INVALID_PARAMS,"Unknown component.");if(this._localStorage)throw new o(o.INVALID_PARAMS,"This method is for in-browser use only. Use updateComponent() instead.");if(t.compositeId!==this._owner.compositeId)throw new o(o.INVALID_PARAMS,"Param uploadResults does not appear valid to be for this composite.");var n=t.records[e.id];
if(!n)throw new o(o.INVALID_PARAMS,"Param uploadResults does not contain an upload record for the given component.");return e.etag=n.etag,e.version=n.version,e.md5=n.md5,e.length=n.length,e},i.prototype.removeComponent=function(e){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "component".');var t=e.id;if(!t)throw new o(o.INVALID_PARAMS,'Param "component" must have an id.');var n=this._nodeDataOfParentOfComponent(e);if(!n)throw new o(o.INVALID_PARAMS,"Component not found in this branch.");return n.parentNodeData.components.splice(n.index,1),0===n.parentNodeData.components.length&&delete n.parentNodeData.components,e=this._allComponents[t],delete this._allComponents[t],delete this._absolutePaths[this._normalizedAbsolutePathForItem(e)],this._localStorage&&(this._localStorage.removeComponentAsset(e,this._local()),this._setSourceHrefOfComponent(void 0,e)),e._owner=void 0,e._parentPath="",this._setDirty(),e},i.prototype.moveComponent=function(e,t){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "component".');var n=e.id;if(!n)throw new o(o.INVALID_PARAMS,'Param "component" must have an id.');var i=this._nodeDataOfParentOfComponent(e);if(!i)throw new o(o.INVALID_PARAMS,"Component not found in this branch.");var r=t?this._allNodes[t.id]:this.rootNode;if(!r)throw new o(o.INVALID_PARAMS,"Unknown parent node.");var a=this._normalizedAbsolutePathForItem(e,r);if(this._absolutePaths[a])throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+a);var s=i.parentNodeData.components.splice(i.index,1)[0],l=r._data.components;return l?l.push(s):r._data.components=[s],0===i.parentNodeData.components.length&&delete i.parentNodeData.components,e=this._allComponents[n],delete this._absolutePaths[this._normalizedAbsolutePathForItem(e)],e._parentPath=r.absolutePath||r._parentPath,this._absolutePaths[a]=e,this._setDirty(),e},i.prototype.copyComponent=function(e,t,n,i,r){return this._copyComponent(e,t,n,i,!1,r)},i.prototype.replaceComponent=function(e,t,n,i){return this._copyComponent(e,void 0,t,n||e.id,!0,i)},i.prototype.assetOfComponent=function(e,t){try{if(!this._localStorage)throw new o(o.NO_LOCAL_STORAGE,"No local storage.");if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "component".');var n=e.id;if(!n)throw new o(o.INVALID_PARAMS,'Param "component" must have an id.');var i=this._localStorage.componentAssetPath(e,this._local());if(!t)return i;l.exists(i,function(e){t(void 0,e?i:null)})}catch(r){if(!t)throw r;t(r)}},i.prototype._getHrefOfComponent=function(e){var t,n=this._getBranchOf(e),i=n.compositeHref;return i&&"undefined"!=typeof e.version&&(t=c.appendPathElements(i,e.id),t+=";version="+e.version),t},i.prototype._setSourceHrefOfComponent=function(e,t,n){var i=t.id,r=this._componentSourceHrefLookup(!0,n);e?r[i]=e:r[i]&&delete r[i]},i.prototype._getSourceHrefOfComponent=function(e,t){var n=e.id,i=this._componentSourceHrefLookup(!1,t);return i?i[n]:void 0},i.prototype._copySourceHrefsFrom=function(e){var t=e._componentSourceHrefLookup(!1),n=this.allComponents(),i=n.length;if(i&&t){var r,o=this._componentSourceHrefLookup(!0);for(r=0;i>r;r++){var a=n[r].id;o[a]=t[a]}}},i.prototype._getBranchOf=function(e){return e._owner?this._getBranchOf(e._owner):e},i.prototype._isSameComposite=function(e){var t=this._getBranchOf(this),n=this._getBranchOf(e);return t._data.id!==n._data.id?!1:t.compositeHref!==n.compositeHref?!1:this._localStorage!==e._localStorage?!1:!0},i.prototype._stringify=function(e,t){if(e){var n=this._data.local,i=null;try{delete this._data.local,i=JSON.stringify(this._data,void 0,t?2:void 0)}catch(r){throw r}finally{n&&(this._data.local=n)}return i}return JSON.stringify(this._data,void 0,t?2:void 0)},i.prototype._setData=function(e){var t=new a(e,this._readOnly,!0);t._owner=this._owner,t._parentPath="";var n=t.id,i={},r={},l={};r[n]=t,l[a.ROOT_PATH]=t;var u=this,d=function(e,t,n,i,r){var l,p,f,h=e.components;if(Array.isArray(h))for(l=0;l<h.length;l++){var m=h[l],g=new s(m,u._readOnly);if(t[g.id])throw new o(o.INVALID_DATA,"Duplicate component id: "+g.id);if(g._owner=u._owner,g._parentPath=r,f=u._normalizedAbsolutePathForItem(g),i[f])throw new o(o.INVALID_DATA,"Duplicate absolute path: "+f);if(!c.isValidAbsolutePath(f))throw new o(o.INVALID_DATA,"Invalid absolute component path: "+f);t[g.id]=g,i[f]=g}var v=e.children;if(Array.isArray(v))for(l=0;l<v.length;l++){var _=v[l],y=new a(_,u._readOnly);if(n[y.id])throw new o(o.INVALID_DATA,"Duplicate node id: "+y.id);if(p=y.path,y._owner=u._owner,y._parentPath=r,p){if(f=u._normalizedAbsolutePathForItem(y),i[f])throw new o(o.INVALID_DATA,"Duplicate absolute path: "+f);if(!c.isValidAbsolutePath(f))throw new o(o.INVALID_DATA,"Invalid node absolute path: "+f);i[f]=y}n[y.id]=y,d(_,t,n,i,y.path?c.appendPathElements(r,y.path):r)}};return d(e,i,r,l,a.ROOT_PATH),this._data=e,this._allComponents=i,this._allNodes=r,this._absolutePaths=l,this._isDirty=!1,this},i.prototype._removeNodeFromCachesRecursively=function(e){var t,n=e.components;if(Array.isArray(n))for(t=0;t<n.length;t++){var i=n[t].id,r=this._allComponents[i];delete this._allComponents[i],delete this._absolutePaths[this._normalizedAbsolutePathForItem(r)],r._owner=void 0,this._localStorage&&(this._localStorage.removeComponentAsset(r,this._local()),this._setSourceHrefOfComponent(void 0,r))}var o=e.children;if(Array.isArray(o))for(t=0;t<o.length;t++)this._removeNodeFromCachesRecursively(o[t]);var a=e.id,s=this._allNodes[a];delete this._allNodes[a],s.path&&delete this._absolutePaths[this._normalizedAbsolutePathForItem(s)],s._owner=void 0},i.prototype._local=function(){return this._data.local||(this._data.local={version:2}),this._data.local},i.prototype._componentSourceHrefLookup=function(e,t){if(e&&this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(t||(t=e?this._local():this._data.local)){var n=t["componentS2SCopy#srcHref"];return!n&&e&&(n=t["componentS2SCopy#srcHref"]={}),n}},i.prototype._recursiveReset=function(e,t){var n,i=e.components;if(i)for(n=i.length-1;n>=0;n--){var r=i[n];"committedDelete"===r.state?(delete i[n],delete this._allComponents[r.id],delete r._owner,this._localStorage&&this._localStorage.removeComponentAsset(r,this._local()),this._setSourceHrefOfComponent(void 0,r,this._local())):(delete r.etag,delete r.version,delete r.length,delete r.md5,r.state="modified",t&&t(r))}var o=e.children;if(o)for(n=0;n<o.length;n++)this._recursiveReset(o[n],t)},i.prototype._nodeIdIsDescendantOf=function(e,t){var n,i=t.children;if(i)for(n=0;n<i.length;n++){var r=i[n];if(r.id===e||this._nodeIdIsDescendantOf(e,r))return!0}return!1},i.prototype._recursivelyGetAllComponentsOfChild=function(e,t){t=t||[];var n,i,r=e._data||e,o=r.components;if(o)for(i=o.length,n=0;i>n;n++)t[t.length]=this._allComponents[o[n].id];var a=r.children;if(a)for(i=a.length,n=0;i>n;n++)t=this._recursivelyGetAllComponentsOfChild(a[n],t);return t},i.prototype._nodeDataOfParentOfNode=function(e,t){t=t||this._data;var n,i=e._data.id,r=t.children;if(r)for(n=0;n<r.length;n++){var o=r[n];o.path;if(o.id===i)return{parentNodeData:t,index:n};var a=this._nodeDataOfParentOfNode(e,o);if(a)return a}return null},i.prototype._nodeDataOfParentOfComponent=function(e,t){t=t||this._data;var n,i=e._data.id,r=t.components;if(r)for(n=0;n<r.length;n++){var o=r[n];if(o.id===i)return{parentNodeData:t,index:n}}var a=t.children;if(a)for(n=0;n<a.length;n++){var s=a[n],l=this._nodeDataOfParentOfComponent(e,s);if(l)return l}return null},i.prototype._determineAbsolutePathChangesRecursively=function(e,t,n){var i,r=e.components;if(r)for(i=0;i<r.length;i++){var o=r[i],a=this._allComponents[o.id];n.push({item:a,parentPath:t,absPath:c.appendPathElements(t,o.path)})}var s=e.children;if(s)for(i=0;i<s.length;i++){var l=s[i],u=this._allNodes[l.id],d=l.path,p=d?c.appendPathElements(t,d):t;n.push({item:u,parentPath:t,absPath:d?p:void 0}),this._determineAbsolutePathChangesRecursively(l,p,n)}},i.prototype._setPathOfNode=function(e,t){var n=t?c.appendPathElements(e.parentPath,t):e.parentPath,i=[{item:e,absPath:t?n:void 0}];this._determineAbsolutePathChangesRecursively(e._data,n,i);var r,a,s=c.flatCopy(this._absolutePaths);for(r=0;r<i.length;r++){var l=i[r].item;l._data.path&&delete s[this._normalizedAbsolutePathForItem(l)]}for(r=0;r<i.length;r++)if(a=i[r],a.absPath){var u=a.absPath.toLowerCase();if(s[u])throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+u);if(!c.isValidAbsolutePath(u))throw new o(o.INVALID_PARAMS,"Invalid absolute path: "+u);s[u]=a.item}for(r=0;r<i.length;r++)a=i[r],a.parentPath&&(a.item._parentPath=a.parentPath);e._data.path=t,this._absolutePaths=s},i.prototype._setPathOfComponent=function(e,t){if(!this._allComponents[e.id])throw new o(o.INVALID_PARAMS,"Unknown component.");var n=c.appendPathElements(e.parentPath,t).toLowerCase();if(this._absolutePaths[n])throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path for component: "+n);if(!c.isValidAbsolutePath(n))throw new o(o.INVALID_PARAMS,"Invalid absolute path: "+n);delete this._absolutePaths[this._normalizedAbsolutePathForItem(e)],this._absolutePaths[n]=e,e._data.path=t},i.prototype._setDirty=function(e){if(!e){if("pending"===this._local().archivalState||"archived"===this._local().archivalState)throw new o(o.INVALID_STATE,"Cannot modify an archived composite.");("pendingDelete"===this._data.state||"committedDelete"===this._data.state)&&console.log("Modifying deleted composite")}this._isDirty=!0,this._local().change=this.changeCount+1,e||"unmodified"!==this._data.state&&this._data.state||(this._data.state="modified")},i.prototype._normalizedAbsolutePathForItem=function(e,t){var n;return n=t?c.appendPathElements(t.absolutePath||t._parentPath,e.path):e.absolutePath,n.toLowerCase()},i.prototype._hasSameEndpoint=function(e){var t=this._getBranchOf(this).compositeHref,n=this._getBranchOf(e).compositeHref;if(t&&n){var i=c.endPointOf(t),r=c.endPointOf(n);if(i&&r&&i!==r)return!1}return!0},i.prototype._copyComponent=function(e,t,n,i,a,s){if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "component".');if(s&&"function"!=typeof s)throw new o(o.INVALID_PARAMS,"Param callback must be a function.");var l=this,c=e._owner._core,u=this._isSameComposite(c),d=u||this._hasSameEndpoint(e),p=c._local(),f=this._localStorage,h=c._localStorage,m=f&&h;if(m&&!s&&!u)throw new o(o.INVALID_PARAMS,"Must pass a callback when copying between two different composites.");if(!m&&!d)throw new o(o.NO_LOCAL_STORAGE,"Cannot copy between two different endpoints without local storage.");var g=function(e,t,n){r(e,t,u,d,!i,m?f:void 0,n,p)},v=m?h.componentAssetPath(e,p):void 0;if(!s)return this._copyComponentModel(e,t,a,n,i,g);if(u||!v)try{s(void 0,this._copyComponentModel(e,t,a,n,i,g))}catch(_){s(_)}else{var y={};f.ingestComponentAsset(e,v,!0,y,function(r){if(r)s(r);else try{p=y,s(void 0,l._copyComponentModel(e,t,a,n,i,g))}catch(o){s(o)}})}},i.prototype._copyComponentModel=function(e,t,n,i,r,a){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "component".');var l=e._owner,u=new s(JSON.parse(JSON.stringify(e._data)));i?(u.path=i,u.id=r||c.generateUuid()):r&&(u.id=r),u._owner=this._owner,e.id===u.id&&this._isSameComposite(l._core)||(u.state="modified",u.etag=void 0,u.version=void 0,u.md5=void 0,u.length=void 0);var d=this._allComponents[u.id];if(d&&!n)throw new o(o.DUPLICATE_VALUE,"Component already exists.");if(n&&!d)throw new o(o.INVALID_PARAMS,"Could not find existing component.");var p,f;if(n){var h=this._nodeDataOfParentOfComponent(d);if(!h)throw new o(o.INVALID_PARAMS,"Parent node of existing component not found in this branch.");var m=h.parentNodeData.id;if(f=this._allNodes[m],!f)throw new o(o.INVALID_STATE,"Unknown parent node.");p=h.index}else if(f=t?this._allNodes[t.id]:this.rootNode,!f)throw new o(o.INVALID_PARAMS,"Unknown parent node.");u._parentPath=f.absolutePath||f._parentPath;var g=this._normalizedAbsolutePathForItem(u),v=this._absolutePaths[g];if(v&&v!==d)throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+g);if(!c.isValidAbsolutePath(g))throw new o(o.INVALID_PARAMS,"Component path must be a valid path for a component.");var _=this._local();a&&(_=c.deepCopy(_),a(e,u,_));var y=f._data.components;return n?y[p]=u._data:y?y.push(u._data):f._data.components=[u._data],this._data.local=_,this._allComponents[u.id]=u,this._absolutePaths[g]=u,this._setDirty(),u},i.prototype._copyChild=function(e,t,n,i,a,s,l){if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "node".');var c=this,u=e._owner._core,d=this._isSameComposite(u),p=d||this._hasSameEndpoint(e),f=u._local(),h=this._localStorage,m=u._localStorage,g=h&&m,v=u._recursivelyGetAllComponentsOfChild(e);if(v.length>0){if(g&&!l&&!d)throw new o(o.INVALID_PARAMS,"Must pass a callback when copying between two different composites.");if(!g&&!p)throw new o(o.NO_LOCAL_STORAGE,"Cannot copy components between two different endpoints without local storage.")}var _=function(e,t,n){r(e,t,d,p,!0,g?h:void 0,n,f)};if(!l)return this._copyChildModel(e,t,n,s,i,a,_);var y=function(){l(void 0,c._copyChildModel(e,t,n,s,i,a,_))};if(0===v.length||d||!g)try{y()}catch(E){l(E)}else{var b,L,S={},A=v.length,T=0,C=function(e){if(e&&!L&&(L=e),T--,0===T)if(L)l(L);else try{f=S,y()}catch(t){l(t)}};for(b=0;A>b;b++){var I=v[b],D=m.componentAssetPath(I,f);D&&(T++,h.ingestComponentAsset(I,D,!0,S,C))}if(0===T)try{y()}catch(w){l(w)}}},i.prototype._copyChildModel=function(e,t,n,i,r,l,u){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");var d=e._owner,p=new a(JSON.parse(JSON.stringify(e._data)));r?(p.path=r,p.id=l||c.generateUuid()):l&&(p.id=l),p._owner=this._owner,e.isRoot&&(delete p._data.local,delete p._data["manifest-format-version"]);var f=this._allNodes[p.id];if(f&&!i)throw new o(o.DUPLICATE_VALUE,"Child node already exists.");if(i&&!f)throw new o(o.INVALID_PARAMS,"Could not find existing node to replace.");var h;if(i){var m=this._nodeDataOfParentOfNode(f);if(!m)throw new o(o.INVALID_PARAMS,"Parent of existing node not found in this branch.");var g=m.parentNodeData.id;if(h=this._allNodes[g],!h)throw new o(o.INVALID_STATE,"Unknown parent node.");n=m.index}else if(h=t?this._allNodes[t.id]:this.rootNode,!h)throw new o(o.INVALID_PARAMS,"Unknown parent node.");if(p._parentPath=h.absolutePath||h._parentPath,p.path){var v=this._normalizedAbsolutePathForItem(p),_=this._absolutePaths[v];if(_&&_!==f)throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+v);if(!c.isValidAbsolutePath(v))throw new o(o.INVALID_PARAMS,"Node path must be a valid path for a node.")}var y=c.flatCopy(this._allNodes),E=c.flatCopy(this._allComponents),b=c.flatCopy(this._absolutePaths),L=c.deepCopy(this._local()),S=function(e,t,n,i,r,o){delete n[e.id],e.path&&delete r[t._normalizedAbsolutePathForItem(e)];var a,s,l=e._data.children;if(l)for(s=l.length,a=0;s>a;a++)S(n[l[a].id],t,n,i,r,o);var c=e._data.components;if(c)for(s=c.length,a=0;s>a;a++){var u=i[c[a].id];delete i[u.id],delete r[t._normalizedAbsolutePathForItem(u)],t._localStorage&&(t._localStorage.removeComponentAsset(u,o),t._setSourceHrefOfComponent(void 0,u,o))}};f&&S(f,this,y,E,b,L);var A=this,T=function(e,t,n,i,r,l,d,p){if(i[e.id])throw new o(o.DUPLICATE_VALUE,"Duplicate node id: "+e.id);i[e.id]=e;var f;if(e.path){if(f=t._core._normalizedAbsolutePathForItem(e),l[f])throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+f);l[f]=e}var h,m,g=e._data.children;if(g)for(m=g.length,h=0;m>h;h++){var v=new a(g[h]);i[v.id]&&(v.id=c.generateUuid()),v._owner=t,v._parentPath=e.absolutePath||e._parentPath,T(v,t,n,i,r,l,d,p)}var _=e._data.components;if(_)for(m=_.length,h=0;m>h;h++){var y=new s(_[h]),E=y.id;if(r[E]&&(y.id=c.generateUuid(),y.state="modified",y.etag=void 0,y.version=void 0,y.md5=void 0,y.length=void 0),y._owner=t,y._parentPath=e.absolutePath||e._parentPath,u&&u(n.getComponentWithId(E),y,d),r[y.id])throw new o(o.DUPLICATE_VALUE,"Duplicate component id: "+y.id);if(r[y.id]=y,f=t._core._normalizedAbsolutePathForItem(y),l[f])throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+f);l[f]=y}};if(T(p,this._owner,d,y,E,b,L,d._local()),i)h._data.children[n]=p._data;else{var C=h._data.children;C?(n>=0&&n<=C.length||(n=C.length),n===C.length?C[n]=p._data:C.splice(n,0,p._data)):h._data.children=[p._data]}return A._allNodes=y,A._allComponents=E,A._absolutePaths=b,A._data.local=L,A._setDirty(),p},i.prototype._verifyIntegrity=function(e,t,n){var i,r=this,s=[],l=!1,u=function(e){return s.push(new o(o.INVALID_STATE,e)),t&&(l||(t("Branch for composite "+r.rootNode.id+" has the following errors:"),l=!0),t("   "+e)),!1},d=function(e,t){return e?!0:u(t)},p=[],f=function(e){(p.indexOf(e)<0||u("Item "+e.id+" encountered more than once"))&&p.push(e)},h=c.flatCopy(this._allComponents),m=c.flatCopy(this._allNodes),g=c.flatCopy(this._absolutePaths),v=Object.keys(g),_=v.length;for(i=0;_>i;i++){var y=v[i];d("/"===y.charAt(0),"Absolute path "+y+" does not start with a slash.")}var E=function(e,t){var n,i,o=e.children;if(o)for(n=0;n<o.length;n++){var a=o[n],s=m[a.id];(s||u("Node "+a.id+" is not in cache."))&&(f(s),d(s._data===a,"Node "+s.id+" _data property incorrect."),delete m[s.id],s.path&&s._owner&&(i=r._normalizedAbsolutePathForItem(s),(g[i]||u("Absolute path of node "+s.id+" ("+i+") is not in cache."))&&delete g[i]),d(s._parentPath===t,"Parent path of node "+s.id+" should be "+t+" but is "+s._parentPath),d(s._owner===r._owner,"Node "+s.id+" _owner property is not correct.")),E(a,a.path?c.appendPathElements(t,a.path):t)}var l=e.components;if(l)for(n=0;n<l.length;n++){var p=l[n],v=h[p.id];(v||u("Component "+p.id+" is not in cache."))&&(f(v),d(v._data===p,"Component "+v.id+" _data property incorrect."),delete h[v.id],v._owner&&(i=r._normalizedAbsolutePathForItem(v),(g[i]||u("Absolute path "+i+" is not in cache."))&&delete g[i]),d(v._parentPath===t,"Parent path of component "+v.id+" should be "+t+" but is "+v._parentPath),d(v._owner===r._owner,"Component "+v.id+" _owner property is not correct."))}},b=g[a.ROOT_PATH];d(b,"Cannot find root node via path")&&(d(b.id===this._data.id,"Root node has correct id"),d(b.path===a.ROOT_PATH,"Root node has correct path"),d(""===b._parentPath,"Root node has correct parent path"),d(b._owner===this._owner,"Root node has correct owner"),d(b._data===this._data,"Root node has correct data"),d(m[b.id]===b,"Cannot find root node via id")&&delete m[b.id],delete g[a.ROOT_PATH]),E(this._data,a.ROOT_PATH);var L=Object.keys(h);for(i=0;i<L.length;i++)u("Component "+L[i]+" is in cache but could not be found.");for(L=Object.keys(m),i=0;i<L.length;i++)u("Node "+L[i]+" is in cache but could not be found.");for(L=Object.keys(g),i=0;i<L.length;i++)u("Absolute path "+L[i]+" is in cache but could not be found.");if(this._localStorage){var S=this._localStorage.componentIds(this._local());for(i=0;i<S.length;i++)d(this._allComponents[S[i]],"Component "+S[i]+" is in local storage mapping but could not be found in the manifest.");if(e)for(S=Object.keys(this._allComponents),i=0;i<S.length;i++){var A=S[i],T=this._allComponents[A],C=this._localStorage.componentAssetPath(T,this._local());d(C,"Component "+A+" does not have an entry in local storage mapping.")&&n&&d(n.existsSync(C),"Asset "+C+" does not exist.")}var I=this._componentSourceHrefLookup();if(I)for(S=Object.keys(I),_=S.length,i=0;_>i;i++){var D=this._allComponents[S[i]];D?d("modified"===D.state,"Component "+S[i]+" is in local source href mapping but has a state of "+D.state):d(!1,"Component "+S[i]+" is in local source href mapping but could not be found in the manifest.")}}return s.length?s:null},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXElement",["require","exports","module","./AdobeDCXBranchCore","./AdobeDCXError","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t,n){if(this._owner=t,e)e=this._setData(e,n);else{var i=a.generateUuid();e={id:i},this._core=new r(e,this,n),this._data=e}}var r=e("./AdobeDCXBranchCore"),o=e("./AdobeDCXError"),a=e("./AdobeDCXUtil");return Object.defineProperties(i.prototype,{rootNode:{get:function(){return this._core.rootNode},set:function(e){this._core.rootNode=e}},name:{get:function(){return this._core.rootNode.name},set:function(e){var t=this._core;if(t._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new o(o.INVALID_PARAMS,"Expecting a string or undefined.");t.rootNode.name=e}},type:{get:function(){return this._core.rootNode.type},set:function(e){var t=this._core;if(t._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if("string"!=typeof e||""===e)throw new o(o.INVALID_PARAMS,"Expecting a non-empty string.");t.rootNode.type=e}},compositeHref:{get:function(){return this._owner.compositeHref},set:function(e){throw new o(o.READ_ONLY,'Property "compositeHref" is read-only.')}},_localStorage:{get:function(){return this._core._localStorage},set:function(e){this._core._localStorage=e}},hasLocalStorage:{get:function(){return this._core.hasLocalStorage},set:function(e){this._core.hasLocalStorage=e}},_isDirty:{get:function(){return this._core._isDirty},set:function(e){this._core._isDirty=e}},isDirty:{get:function(){return this._isDirty},set:function(e){this._core.isDirty=e}},changeCount:{get:function(){return this._core.changeCount},set:function(e){this._core.changeCount=e}}}),i.prototype.getChildWithId=function(e){return this._core.getChildWithId(e)},i.prototype.getChildWithAbsolutePath=function(e){return this._core.getChildWithAbsolutePath(e)},i.prototype.getChildrenOf=function(e){return this._core.getChildrenOf(e)},i.prototype.addChild=function(e,t,n,i){return this._core.addChild(e,t,n,i)},i.prototype.removeChild=function(e){return this._core.removeChild(e)},i.prototype.moveChild=function(e,t,n){return this._core.moveChild(e,t,n)},i.prototype.copyChild=function(e,t,n,i,r,o){return this._core.copyChild(e,t,n,i,r,o)},i.prototype.allComponents=function(){return this._core.allComponents()},i.prototype.getComponentWithId=function(e){return this._core.getComponentWithId(e)},i.prototype.getComponentWithAbsolutePath=function(e){return this._core.getComponentWithAbsolutePath(e)},i.prototype.getComponentsOf=function(e){return this._core.getComponentsOf(e)},i.prototype.addComponent=function(e,t,n,i,r,o,a,s,l,c){return this._core.addComponent(e,t,n,i,r,o,a,s,l,c)},i.prototype.addComponentWithUploadResults=function(e,t,n,i,r){return this._core.addComponentWithUploadResults(e,t,n,i,r)},i.prototype.updateComponent=function(e,t,n,i){return this._core.updateComponent(e,t,n,i)},i.prototype.updateComponentWithUploadResults=function(e,t){return this._core.updateComponentWithUploadResults(e,t)},i.prototype.removeComponent=function(e){return this._core.removeComponent(e)},i.prototype.moveComponent=function(e,t){return this._core.moveComponent(e,t)},i.prototype.copyComponent=function(e,t,n,i,r){return this._core.copyComponent(e,t,n,i,r)},i.prototype.assetOfComponent=function(e,t){return this._core.assetOfComponent(e,t)},i.prototype.parse=function(e){if("string"!=typeof e)throw new o(o.INVALID_PARAMS,'Param "data" must be a string');var t=null;try{t=JSON.parse(e)}catch(n){throw new o(o.INVALID_JSON,"Manifest could not be parsed. Underlying error: "+n.message)}return this._setData(t,this._core._readOnly)},i.prototype.copy=function(){return new i(JSON.parse(JSON.stringify(this._data)),this._owner)},i.prototype._updateLocalDataFromBranch=function(e){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(!this._localStorage)throw new o(o.NO_LOCAL_STORAGE,"No local storage.");if(!e._localStorage)throw new o(o.NO_LOCAL_STORAGE,"No local storage for source.");if(this._localStorage.compositePath!==e._localStorage.compositePath)throw new o(o.INVALID_PARAMS,"Branches must have same storage path.");this._core._localStorage.copyLocalStorageData(e,e._core._local(),this,this._core._local()),this._core._copySourceHrefsFrom(e._core)},i.prototype._verify=function(e){return"string"!=typeof e.id?new o(o.INVALID_DATA,"Element is missing an id of type string"):"string"!=typeof e.name?new o(o.INVALID_DATA,"Element is missing a name of type string"):"string"!=typeof e.type?new o(o.INVALID_DATA,"Element is missing a type of type string"):null},i.prototype._setData=function(e,t){var n=this._verify(e);if(null===n)return this._core=new r(e,this,t),this._data=e,this;throw n},i.prototype._local=function(){return this._core._local()},i.prototype._setDirty=function(e){this._core._setDirty(e)},i.prototype._setPathOfNode=function(e,t){this._core._setPathOfNode(e,t)},i.prototype._verifyIntegrity=function(e,t,n){return this._core._verifyIntegrity(e,t,n)},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXBranch",["require","exports","module","./AdobeDCXBranchCore","./AdobeDCXElement","./AdobeDCXError","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t,n){if(e)e=this._setData(e,t);else{var i=u.generateUuid();e={"manifest-format-version":d,id:i},this.originalManifestFormatVersion=d,this._core=new s(e,this,t),this._data=e}this._pendingElements=[],this.manifestPath=n}function r(e){var t,n,i=e.components;if(i)for(n=i.length,t=0;n>t;t++){var o=i[t];delete o.localStorageAssetId}var a=e.children;if(a)for(n=a.length,t=0;n>t;t++)r(a[t])}function o(e,t){t&&e.path&&delete e.path;var n,i=e.components;if("object"==typeof i)for(n=0;n<i.length;n++){var r=i[n];"number"==typeof r.version&&(r.version=r.version.toString())}var a=e.children;if("object"==typeof a)for(n=0;n<a.length;n++){var s=a[n];o(s)}}function a(e){var t=e["manifest-format-version"];if(d>t){if(4>t)throw new c(c.INVALID_DATA,"Encountered manifest format version "+e["manifest-format-version"]+". Format version conversion not yet implemented for that version.");5>t&&r(e),6>t&&o(e,!0)}}var s=e("./AdobeDCXBranchCore"),l=e("./AdobeDCXElement"),c=e("./AdobeDCXError"),u=e("./AdobeDCXUtil"),d=6;return i._newBranchAsCopyOfCore=function(e,t){var n=JSON.parse(JSON.stringify(e._data)),r=new i(n),o=r._core;return r._localStorage=t,r._resetIdentity(function(n){var i=e.getComponentWithId(n.id);if(!i)throw new c(c.INVALID_STATE,"Could not find original component.");if("modified"===i.state||!i.etag)throw new c(c.INVALID_STATE,"Cannot create a new composite from a branch that contains modified or unbound components.");var r=e._getHrefOfComponent(i);if(!r)throw new c(c.INVALID_STATE,"Cannot determine the href of component id "+i.id);o._setSourceHrefOfComponent(r,n),t&&t.removeComponentAsset(n,o._local())}),r},Object.defineProperties(i.prototype,{compositeId:{get:function(){return this._core.rootNode.id},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if("string"!=typeof e||""===e)throw new c(c.INVALID_PARAMS,"Expecting a non-empty string.");if(t._allNodes[e])throw new c(c.DUPLICATE_VALUE,"There is already a node with the same id.");delete t._allNodes[this._data.id],this._data.id=e,t._allNodes[e]=this._core.rootNode,t._setDirty()}},rootNode:{get:function(){return this._core.rootNode},set:function(e){this._core.rootNode=e}},name:{get:function(){return this._core.rootNode.name},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new c(c.INVALID_PARAMS,"Expecting a string or undefined.");t.rootNode.name=e}},type:{get:function(){return this._core.rootNode.type},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if("string"!=typeof e||""===e)throw new c(c.INVALID_PARAMS,"Expecting a non-empty string.");t.rootNode.type=e}},compositeHref:{get:function(){return this._data.local?this._data.local.compositeHref:void 0},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new c(c.INVALID_PARAMS,"Expecting a string or undefined.");t._local().compositeHref=u.ensureRelativeHrefStartsWithSlash(e),t._setDirty(!0)}},_collaborationType:{get:function(){return this._data.local?this._data.local.collaborationType:void 0},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");e?t._local().collaborationType=e:delete t._local().collaborationType,t._setDirty(!0)}},_clientDataString:{get:function(){return this._data.local?this._data.local.clientDataString:void 0},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");e?t._local().clientDataString=e:delete t._local().clientDataString,t._setDirty(!0)}},manifestEtag:{get:function(){return this._data.local?this._data.local.manifestEtag:void 0},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new c(c.INVALID_PARAMS,"Expecting a string or undefined.");t._local().manifestEtag=e,t._setDirty(!0)}},compositeState:{get:function(){return this._data.state||"unmodified"},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new c(c.INVALID_PARAMS,"Expecting a string.");if("unmodified"!==e&&"modified"!==e&&"pendingDelete"!==e&&"committedDelete"!==e)throw new c(c.INVALID_PARAMS,'State must be "modified", "unmodified", "pendingDelete", or "committedDelete".');if("pendingDelete"===e&&"committedDelete"===e&&("pending"===this.compositeArchivalState||"archived"===this.compositeArchivalState))throw new c(c.INVALID_STATE,"Cannot delete an archived composite.");this._data.state=e,t._setDirty(!0)}},compositeArchivalState:{get:function(){return this._core._local().archivalState||"active"},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new c(c.INVALID_PARAMS,"Expecting a string.");if("pending"!==e&&"archived"!==e&&"active"!==e)throw new c(c.INVALID_PARAMS,'State must be "pending", "archived", or undefined.');if("archived"===this.compositeArchivalState)throw new c(c.INVALID_STATE,"Composite has already been archived.");if("active"!==e&&("pendingDelete"===this.compositeState||"committedDelete"===this.compositeState))throw new c(c.INVALID_STATE,"Cannot archive a deleted composite.");"active"===e?delete this._core._local().archivalState:this._core._local().archivalState=e,t._setDirty(!0)}},isBound:{get:function(){return this.manifestEtag&&this.compositeHref},set:function(){throw new c(c.READ_ONLY,"Cannot set the property isBound. Use resetIdentity instead.")}},_localStorage:{get:function(){return this._core._localStorage},set:function(e){this._core._localStorage=e}},hasLocalStorage:{get:function(){return this._core.hasLocalStorage},set:function(e){this._core.hasLocalStorage=e}},_isDirty:{get:function(){return this._core._isDirty},set:function(e){this._core._isDirty=e}},isDirty:{get:function(){return this._core.isDirty},set:function(e){this._core.isDirty=e}},localData:{get:function(){return this._core._stringify(!1,!0)},set:function(){throw new c(c.READ_ONLY,"Cannot set the property localData.")}},remoteData:{get:function(){return this._core._stringify(!0)},set:function(){throw new c(c.READ_ONLY,"Cannot set the property remoteData.")}},pendingElements:{get:function(){return this._pendingElements},set:function(e){throw new c(c.READ_ONLY,"Cannot set the property pendingElements.")}},changeCount:{get:function(){return this._core.changeCount},set:function(e){this._core.changeCount=e}},readOnly:{get:function(){return this._core._readOnly},set:function(e){this._core._readOnly=e}}}),i.prototype.parse=function(e){if("string"!=typeof e)throw new c(c.INVALID_PARAMS,'Param "data" must be a string');var t=null;try{t=JSON.parse(e)}catch(n){throw new c(c.INVALID_JSON,"Manifest could not be parsed. Underlying error: "+n.message)}return this._setData(t,this._core._readOnly);
},i.prototype.getElementWithId=function(e){return this._createElement(this._core.getChildWithId(e))},i.prototype.getElementWithAbsolutePath=function(e){return this._createElement(this._core.getChildWithAbsolutePath(e))},i.prototype.addElement=function(e,t,n,i,r,o){if("string"!=typeof e)throw new c(c.INVALID_PARAMS,"Element must have a name of type string");if("string"!=typeof t)throw new c(c.INVALID_PARAMS,"Element must have a type of type string");if("string"!=typeof n)throw new c(c.INVALID_PARAMS,"Element must have a path of type string");var a=this._core.addChild(e,i,r,o);try{a.path=n}catch(s){throw this._core.removeChild(a),s}return a._data.type=t,this._createElement(a)},i.prototype.updateElement=function(e){var t=this.getChildWithId(e.rootNode.id);if(!t)throw new c(c.INVALID_PARAMS,"Element does not exist in branch.");var n=this._core.replaceChild(e.rootNode,t.path);return this._deleteElement(e),n},i.prototype.abandonElement=function(e){this._deleteElement(e)},i.prototype.getChildWithId=function(e){return this._core.getChildWithId(e)},i.prototype.getChildWithAbsolutePath=function(e){return this._core.getChildWithAbsolutePath(e)},i.prototype.getChildrenOf=function(e){return this._core.getChildrenOf(e)},i.prototype.addChild=function(e,t,n,i){return this._core.addChild(e,t,n,i)},i.prototype.removeChild=function(e){return this._core.removeChild(e)},i.prototype.moveChild=function(e,t,n){return this._core.moveChild(e,t,n)},i.prototype.copyChild=function(e,t,n,i,r,o){return this._core.copyChild(e,t,n,i,r,o)},i.prototype.replaceChild=function(e,t,n,i){return this._core.replaceChild(e,t,n,i)},i.prototype.allComponents=function(){return this._core.allComponents()},i.prototype.getComponentWithId=function(e){return this._core.getComponentWithId(e)},i.prototype.getComponentWithAbsolutePath=function(e){return this._core.getComponentWithAbsolutePath(e)},i.prototype.getComponentsOf=function(e){return this._core.getComponentsOf(e)},i.prototype.addComponent=function(e,t,n,i,r,o,a,s,l,c){return this._core.addComponent(e,t,n,i,r,o,a,s,l,c)},i.prototype.addComponentWithUploadResults=function(e,t,n,i,r){return this._core.addComponentWithUploadResults(e,t,n,i,r)},i.prototype.updateComponent=function(e,t,n,i){return this._core.updateComponent(e,t,n,i)},i.prototype.updateComponentWithUploadResults=function(e,t){return this._core.updateComponentWithUploadResults(e,t)},i.prototype.removeComponent=function(e){return this._core.removeComponent(e)},i.prototype.moveComponent=function(e,t){return this._core.moveComponent(e,t)},i.prototype.copyComponent=function(e,t,n,i,r){return this._core.copyComponent(e,t,n,i,r)},i.prototype.replaceComponent=function(e,t,n,i){return this._core.replaceComponent(e,t,n,i)},i.prototype.assetOfComponent=function(e,t){return this._core.assetOfComponent(e,t)},i.prototype.copy=function(){var e=new i(JSON.parse(JSON.stringify(this._data)));return e._localStorage=this._localStorage,e},i.prototype._createElement=function(e){var t;if(e){var n=JSON.parse(JSON.stringify(e._data));n["manifest-format-version"]=this._data["manifest-format-version"],delete n.path,t=new l(n,this,this._core._readOnly),t&&this._localStorage&&(t._localStorage=this._localStorage,t._updateLocalDataFromBranch(this),this._localStorage.registerInMemoryBranchOrElement(t))}return t&&this._pendingElements.push(t),t},i.prototype._deleteElement=function(e){var t=this._pendingElements.indexOf(e);if(0>t)throw new c(c.INVALID_PARAMS,"Unknown element.");this._pendingElements.splice(t,1),this._localStorage&&this._localStorage.unregisterInMemoryBranchOrElement(e)},i.prototype._updateLocalDataFromBranch=function(e){if(this._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if(!this._localStorage)throw new c(c.NO_LOCAL_STORAGE,"No local storage.");if(!e._localStorage)throw new c(c.NO_LOCAL_STORAGE,"No local storage for source.");if(this._localStorage.compositePath!==e._localStorage.compositePath)throw new c(c.INVALID_PARAMS,"Branches must have same storage path.");this._core._localStorage.copyLocalStorageData(e,e._core._local(),this,this._core._local()),this._core._copySourceHrefsFrom(e._core)},i.prototype._verify=function(e){return"string"!=typeof e.id?new c(c.INVALID_DATA,"Manifest is missing an id of type string"):"string"!=typeof e.name?new c(c.INVALID_DATA,"Manifest is missing a name of type string"):"string"!=typeof e.type?new c(c.INVALID_DATA,"Manifest is missing a type of type string"):"number"!=typeof e["manifest-format-version"]?new c(c.INVALID_DATA,"Manifest is missing a manifest-format-version of type number"):null},i.prototype._setData=function(e,t){this.originalManifestFormatVersion=e["manifest-format-version"],a(e),e.local&&(e.local.version=2);var n=this._verify(e);if(null===n)return e["manifest-format-version"]=d,this._core=new s(e,this,t),this._data=e,this;throw n},i.prototype._reset=function(e,t){if(this._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");this._data.local&&(delete this._data.local.manifestEtag,delete this._data.local.compositeHref),e||(this._data.id=u.generateUuid()),this._data.state="modified",this._core._recursiveReset(this._data,t),this._core._setDirty()},i.prototype._resetBinding=function(e){this._reset(!0,e)},i.prototype._resetIdentity=function(e){this._reset(!1,e)},i.prototype._local=function(){return this._core._local()},i.prototype._setDirty=function(e){this._core._setDirty(e)},i.prototype._setPathOfNode=function(e,t){this._core._setPathOfNode(e,t)},i.prototype._verifyIntegrity=function(e,t,n){return this._core._verifyIntegrity(e,t,n)},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXPushJournal",["require","exports","module","./AdobeDCXError","./AdobeDCXFS","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t,n){n?this._setData(n,e.href):this._data={"push-journal-format-version":a,"composite-href":e.href,"uploaded-components":{}},this._filePath=t,this._waitingCallbacks=[],this._commitInProgress=!1,this._needAnotherCommit=!1}var r=e("./AdobeDCXError"),o=e("./AdobeDCXFS"),a=(e("./AdobeDCXUtil"),3);i.readJournal=function(e,t,n,r){o.readFile(e,"utf8",function(o,a){var s;if(o&&o.code&&n&&(o=void 0),!o)try{a=JSON.parse(a),s=new i(t,e,a)}catch(l){n?s=new i(t,e):o=l}r(o,o?void 0:s)})},Object.defineProperties(i.prototype,{compositeHref:{get:function(){return this._data["composite-href"]},set:function(e){throw new r(r.READ_ONLY,"This property is read-only.")}},manifestEtag:{get:function(){return this._data.etag},set:function(e){e?this._data.etag=e:delete this._data.etag}},currentBranchEtag:{get:function(){return this._data["current-branch-etag"]},set:function(e){e?this._data["current-branch-etag"]=e:delete this._data["current-branch-etag"]}},changeCount:{get:function(){return this._data.change},set:function(e){e?this._data.change=e:delete this._data.change}},compositeHasBeenCreated:{get:function(){return this._data["composite-created"]?!0:!1},set:function(e){e?this._data["composite-created"]=!0:delete this._data["composite-created"]}},compositeHasBeenDeleted:{get:function(){return this._data["composite-deleted"]?!0:!1},set:function(e){e?this._data["composite-deleted"]=!0:delete this._data["composite-deleted"]}},compositeHasBeenArchived:{get:function(){return this._data["composite-archived"]?!0:!1},set:function(e){e?this._data["composite-archived"]=!0:delete this._data["composite-archived"]}},isEmpty:{get:function(){return 0===Object.keys(this._data["uploaded-components"]).length&&!this.compositeHasBeenDeleted&&!this.manifestEtag},set:function(e){throw new r(r.READ_ONLY,"This property is read-only.")}},isComplete:{get:function(){return this._data.etag&&this._data.change||this._data["composite-deleted"]||this._data["composite-archived"]?!0:!1},set:function(e){throw new r(r.READ_ONLY,"This property is read-only.")}}}),i.prototype.recordUploadedComponent=function(e,t,n,i,r,o,a){var s={etag:t,length:r,version:n,md5:i};o&&(s["storage-name"]=o),a&&(s["source-href"]=a),s.timestamp=(new Date).toISOString(),this._data["uploaded-components"][e]=s},i.prototype.idsOfAllUploadedComponents=function(){return Object.keys(this._data["uploaded-components"])};var s=6048e5;return i.prototype.getRecordForUploadedComponent=function(e){var t=this._data["uploaded-components"][e];if(t&&!this.isComplete){var n=t.timestamp;if(!n)return this.removeRecordForUploadedComponent(e);if(n=new Date(n),isNaN(n.getTime()))return this.removeRecordForUploadedComponent(e);var i=Date.now()-n.getTime();if(i>=s)return this.removeRecordForUploadedComponent(e)}return t},i.prototype.removeRecordForUploadedComponent=function(e){delete this._data["uploaded-components"][e]},i.prototype.applyToBranch=function(e,t){if(!this.isComplete)throw new r(r.INVALID_STATE,"Journal is not complete.");var n=e.isDirty;if(this.compositeHasBeenDeleted)e._data.state="committedDelete",e.manifestEtag=this.manifestEtag;else{this.compositeHasBeenArchived&&(e.compositeArchivalState="archived");var i,o="unmodified"!==e.compositeState&&this.changeCount!==e.changeCount,a=this.idsOfAllUploadedComponents(),s=a.length;for(i=0;s>i;i++){var l=a[i],c=e.getComponentWithId(l);if(c){var u=this.getRecordForUploadedComponent(c.id);c._data.etag=u.etag,c._data.length=u.length,c._data.version=u.version,c._data.md5=u.md5,u["source-href"]?e._core._getSourceHrefOfComponent(c)===u["source-href"]&&(c._data.state="unmodified",e._core._setSourceHrefOfComponent(void 0,c)):e.hasLocalStorage&&e._localStorage.componentAssetName(c,e._local())===u["storage-name"]?(c._data.state="unmodified",e._core._setSourceHrefOfComponent(void 0,c)):e.hasLocalStorage||(c._data.state="unmodified")}}e.manifestEtag=this.manifestEtag,o||(e._data.state="unmodified")}t&&(e._isDirty=n)},i.prototype.commitChanges=function(e){if(!this._filePath)return void(e&&e());var t=this,n=function(e){t._needAnotherCommit=!1,t._commitInProgress=!0,t._waitingCallbacks=[],o.writeFileAtomically(t._filePath,JSON.stringify(t._data),"utf8",function(i){var r,o=e.length;for(r=0;o>r;r++)try{e[r](i)}catch(a){}t._needAnotherCommit?n(t._waitingCallbacks):t._commitInProgress=!1})};t._commitInProgress?(this._needAnotherCommit=!0,e&&this._waitingCallbacks.push(e)):n(e?[e]:[])},i.prototype._setData=function(e,t){if(e["push-journal-format-version"]<=2){var n=e["uploaded-components"];if(n){var i,r=Object.keys(n),o=r.length;for(i=0;o>i;i++){var s=r[i],l=n[s];"number"==typeof l.version&&(l.version=String(l.version))}}e["push-journal-format-version"]=a}var c=this._verify(e,t);if(null===c)return this._data=e,this;throw c},i.prototype._verify=function(e,t){return e["push-journal-format-version"]!==a?new r(r.INVALID_DATA,"Wrong push journal format version."):e["composite-href"]!==t?new r(r.INVALID_DATA,"Composite and journal hrefs mismatch."):e["uploaded-components"]?null:new r(r.INVALID_DATA,"Missing component list.")},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXLocalStorage",["require","exports","module","./AdobeDCXError","./AdobeDCXUtil","./AdobeDCXFS"],function(e,t,n){"use strict";function i(e,t){if("string"!=typeof e||""===e)throw new r(r.INVALID_PARAMS,'Param "compositePath" must be a non-empty string.');this._compositePath=e,this._preserveFileExtensions=t,this._inMemoryBranchesAndElements=[],this._inflightComponents=[]}var r=e("./AdobeDCXError"),o=e("./AdobeDCXUtil"),a=e("./AdobeDCXFS");Object.defineProperties(i.prototype,{compositePath:{get:function(){return this._compositePath},set:function(e){if("string"!=typeof e||""===e)throw new r(r.INVALID_PARAMS,'Param "compositePath" must be a non-empty string.');this._compositePath=e}}}),i.prototype.currentManifestPath=function(){return this._compositePath+"/manifest"},i.prototype.currentBaseManifestPath=function(){return this._compositePath+"/manifest.base"},i.prototype.pulledManifestPath=function(){return this._compositePath+"/pull.manifest"},i.prototype.pushedManifestPath=function(){return this._compositePath+"/push.manifest"},i.prototype.resolvePulledBranch=function(e,t){var n=this;a.writeFileAtomically(this.currentManifestPath(),e.localData,"utf8",function(e){e?(e.code!==r.OUT_OF_SPACE&&(e=new r(r.INVALID_STATE,"Could not write current manifest.",e)),t(e)):a.move(n.pulledManifestPath(),n.currentBaseManifestPath(),!1,function(e){e?t(new r(r.INVALID_STATE,"Could not move pull manifest.",e)):t()})})},i.prototype.acceptPushedBranch=function(e,t){var n=this;a.writeFileAtomically(this.currentManifestPath(),e.localData,"utf8",function(e){e?(e.code!==r.OUT_OF_SPACE&&(e=new r(r.INVALID_STATE,"Could not write current manifest.",e)),t(new r(r.INVALID_STATE,"Could not write current manifest.",e))):a.move(n.pushedManifestPath(),n.currentBaseManifestPath(),!1,function(e){e?t(new r(r.INVALID_STATE,"Could not move push manifest.",e)):n._deleteJournal(t)})})},i.prototype.discardPulledBranch=function(e){a.deleteFile(this.pulledManifestPath(),e)},i.prototype.discardPushedBranch=function(e){var t=this;a.deleteFile(this.pushedManifestPath(),function(n){n?e(n):t._deleteJournal(e)})},i.prototype.discardBaseBranch=function(e){a.deleteFile(this.currentBaseManifestPath(),e)},i.prototype.registerInMemoryBranchOrElement=function(e){if(this._inMemoryBranchesAndElements.indexOf(e)>=0)throw new r(r.INVALID_STATE,"Branch or element is already registered.");this._inMemoryBranchesAndElements.push(e)},i.prototype.unregisterInMemoryBranchOrElement=function(e){var t=this._inMemoryBranchesAndElements.indexOf(e);if(0>t)throw new r(r.INVALID_STATE,"Unknown branch or element.");this._inMemoryBranchesAndElements.splice(t,1)},i.prototype._deleteJournal=function(e){a.deleteFile(this.pushJournalPath(),e)};var s=/(\/)|(\.$)/;return i.prototype.componentAssetName=function(e,t){var n=t["copyOnWrite#storageIds"],i=n?n[e.id]:null;return i&&s.test(i)&&(i=null),i},i.prototype.componentAssetPath=function(e,t){var n=this.componentAssetName(e,t);return n?this._componentPathFromName(n):null},i.prototype.ingestComponentAsset=function(e,t,n,i,o){var s=this,l=this._newFileNameForComponent(e),c=this._componentPathFromName(l);this._inflightComponents.push(l);var u=function(t){if(!t)try{s._setComponentName(e,i,l)}catch(n){t=n}var a=s._inflightComponents.indexOf(l);0>a&&!t&&(t=new r(r.INVALID_STATE,"Could not find inflight component.")),s._inflightComponents.splice(a,1),o(t)};n?a.copyFile(t,c,u):a.move(t,c,!0,u)},i.prototype.removeComponentAsset=function(e,t){var n=t["copyOnWrite#storageIds"];n&&delete n[e.id]},i.prototype.componentIds=function(e){var t=e["copyOnWrite#storageIds"];return t?Object.keys(t):[]},i.prototype.copyLocalStorageData=function(e,t,n,i){var r,o=n.allComponents(),a=o.length,s=t["copyOnWrite#storageIds"];if(s){var l=i["copyOnWrite#storageIds"];for(l||(l=i["copyOnWrite#storageIds"]={}),r=0;a>r;r++){var c=o[r],u=c.id,d=e.getComponentWithId(u);if(d&&d.etag===c.etag){var p=s[u];p&&(l[u]=p)}}}},i.prototype.removeUnusedLocalFiles=function(e,t){var n,i,o,s,l,c=this,u=function(e){c._deleteComponentAsset(e,function(e){e&&!n&&(n=e),l--,0===l&&t(n)})},d=function(){try{var e,n=s.length,r=[];for(e=0;n>e;e++){var a=s[e].name,d=s[e].info;!i[a]&&d.mtime.getTime()<o&&c._inflightComponents.indexOf(a)<0&&r.push(a)}if(l=n=r.length,l>0)for(e=0;n>e;e++)u(r[e])}catch(p){return void t(p)}0===l&&t()};this._gatherComponentAssetNames([this.currentManifestPath(),this.currentBaseManifestPath(),this.pulledManifestPath(),this.pushedManifestPath()],e,function(e,a,l,c){if(n)return void t(n);if(!e)try{if(1>a||!c)throw new r(r.INVALID_STATE,1>a?"No manifest found.":"Invalid time stamp");i=l,o=c}catch(u){e=u}e&&(n=e),s&&(n?t(n):d())}),a.directoryListing(this._compositePath+"/components",function(e,r){if(n)return void t(n);if(!e)try{s=r}catch(o){e=o}e&&(n=e),i&&(n?t(n):d())})},i.prototype.tempPathForComponent=function(){return this._compositePath+"/tmp/"+o.generateUuid()},i.prototype.deleteTempFiles=function(e){a.deleteDirectory(this._compositePath+"/tmp",e)},i.prototype.clientDataPath=function(){return this._compositePath+"/clientdata"},i.prototype.pushJournalPath=function(){return this._compositePath+"/push.journal"},i.prototype._copyComponentMapping=function(e,t,n,i){var r=t["copyOnWrite#storageIds"];if(r){var o=i["copyOnWrite#storageIds"];o||(o=i["copyOnWrite#storageIds"]={});var a=r[e];return a&&(o[n]=a),a}},i.prototype._componentPathFromName=function(e){return this._compositePath+"/components/"+e},i.prototype._newFileNameForComponent=function(e){var t=o.generateUuid();if(this._preserveFileExtensions){var n=e.path?o.filePathComponents(e.path).extension:null;n&&(t=t+"."+n)}return t},i.prototype._setComponentName=function(e,t,n){var i=t["copyOnWrite#storageIds"];i||(i=t["copyOnWrite#storageIds"]={}),i[e.id]=n},i.prototype._gatherComponentAssetNames=function(e,t,n){try{var i,r,s={},l=t||o.timeStamp(!0),c=e.length,u=c,d=0,p=function(e){if(e){e=e["copyOnWrite#storageIds"];var t,n=Object.keys(e);for(t=0;t<n.length;t++){var i=e[n[t]];s[i]=!0}}},f=function(e){a.exists(e,function(t){t?(d++,a.info(e,function(t,i){if(!t)try{var o=i.mtime.getTime();l>o&&(l=o),a.readFile(e,"utf8",function(e,t){if(u--,!e)try{t=JSON.parse(t),p(t.local)}catch(i){e=i}e&&!r&&(r=e),0===u&&n(r,d,s,l)})}catch(c){t=c}t&&(u--,r||(r=t),0===u&&n(r))})):(u--,0===u&&n(r,d,s,l))})};for(i=0;c>i;i++)f(e[i]);for(c=this._inMemoryBranchesAndElements.length,i=0;c>i;i++)p(this._inMemoryBranchesAndElements[i]._local())}catch(h){n(h)}},i.prototype._deleteComponentAsset=function(e,t){a.deleteFile(this._componentPathFromName(e),t)},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXComposite",["require","exports","module","./AdobeDCXError","./AdobeDCXBranch","./AdobeDCXPushJournal","./AdobeDCXLocalStorage","./AdobeDCXComponent","./AdobeDCXFS","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t,n,i,r,a){r=u.ensureRelativeHrefStartsWithSlash(r),this._options=a||{},n?this._setPath(n):r?(this._href=r,e&&(this._name=e),t&&(this._type=t),i&&(this._id=i)):t&&(this._current=new o,e&&(this._current._data.name=e),this._current._data.type=t,i&&(this._current.compositeId=i)),this._autoRemoveUnusedLocalFiles=!0,this._options.xhrBaseBranchSupport&&(this._baseBranchData=void 0,this._pushedBranchData=void 0,this._pulledBranchData=void 0),this._collaborationType=p.PRIVATE}var r=e("./AdobeDCXError"),o=e("./AdobeDCXBranch"),a=e("./AdobeDCXPushJournal"),s=e("./AdobeDCXLocalStorage"),l=e("./AdobeDCXComponent").STATES,c=e("./AdobeDCXFS"),u=e("./AdobeDCXUtil"),d=1024,p={PRIVATE:void 0,SHARED_BY_USER:"sharedByUser",SHARED_WITH_USER:"sharedWithUser"};return i.newCompositeAsCopyOf=function(e,t,n,a,s,l,c){var d=e._core;if(d||e.current&&(d=e.current._core),!d)throw new r(r.INVALID_PARAMS,"compositeBranchOrElement must be a branch, an element or a composite with a current branch.");var p=new i(void 0,void 0,void 0,void 0,void 0,c);return a&&(p.path=a),p._current=o._newBranchAsCopyOfCore(d,this._localStorage),p.id=s||u.generateUuid(),t&&(p.name=t),n&&(p.type=n),l&&(p.href=l),p},i.COLLABORATION=p,Object.defineProperties(i.prototype,{id:{get:function(){return this._current?this._current.compositeId:this._id},set:function(e){if("string"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string.");this._current&&(this._current.compositeId=e),this._id=e}},name:{get:function(){return this._current?this._current.name:this._name},set:function(e){if("string"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string.");this._current&&(this._current.name=e),this._name=e}},type:{get:function(){return this._current?this._current.type:this._type},set:function(e){if("string"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string.");this._current&&(this._current.type=e),this._type=e}},href:{get:function(){return this._current?this._current.compositeHref:this._href},set:function(e){if("string"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string.");e=u.ensureRelativeHrefStartsWithSlash(e),this._current&&(this._current.compositeHref=e),this._href=e}},collaborationType:{get:function(){return this._current?this._current._collaborationType:this._collaborationType},set:function(e){if(e!==p.PRIVATE&&e!==p.SHARED_BY_USER&&e!==p.SHARED_WITH_USER)throw new r(r.INVALID_PARAMS,"Invalid value: ."+e);this._current&&(this._current._collaborationType=e),this._collaborationType=e}},clientDataString:{get:function(){return this._current?this._current._clientDataString:this._clientDataString},set:function(e){if("string"!=typeof e&&void 0!==e)throw new r(r.INVALID_PARAMS,"Invalid clientDataString: must be a string or undefined.");var t=this._options.maxClientDataLength||d;if(e&&e.length>t)throw new r(r.INVALID_PARAMS,"Invalid clientDataString: cannot be greater than 1KB");this._current&&(this._current._clientDataString=e),this._clientDataString=e}},path:{get:function(){return this._path},set:function(e){if("string"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string.");this._setPath(e)}},isBound:{get:function(){return this._current&&this._current.isBound||!this._current&&this._href},set:function(){throw new r(r.READ_ONLY,"Cannot set the property isBound. Use resetIdentity or resetBinding instead.")}},hasLocalStorage:{get:function(){return this._localStorage},set:function(){throw new r(r.READ_ONLY,"Cannot set the property hasLocalStorage.")}},autoRemoveUnusedLocalFiles:{get:function(){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");return this._autoRemoveUnusedLocalFiles},set:function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");this._autoRemoveUnusedLocalFiles=e}},clientDataStoragePath:{get:function(){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");return this._localStorage.clientDataPath()},set:function(e){throw new r(r.READ_ONLY,'Property "clientDataStoragePath" is read-only.')}},current:{get:function(){return this._current},set:function(e){throw new r(r.READ_ONLY,'Property "current" is read-only.')}}}),i.prototype.loadCurrentFromLocalStorage=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");var t=this;this._loadBranch(this._localStorage.currentManifestPath(),!1,function(n,i){if(!n&&i)try{t._current=i,t._currentBranchCommittedAtDate=u.timeStamp(!0)}catch(r){n=r}e(n,n?void 0:i)})},i.prototype.commitChanges=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");if(!this._current)return e(new r(r.INVALID_STATE,"Current branch is not in memory."));var t=this;c.writeFileAtomically(this._localStorage.currentManifestPath(),this._current.localData,"utf8",function(n){if(!n)try{t._currentBranchCommittedAtDate=u.timeStamp(!0),t._current._isDirty=!1}catch(i){n=i}e(n)})},i.prototype.tempAssetPath=function(){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");return this._localStorage.tempPathForComponent()},i.prototype.deleteTempFiles=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");this._localStorage.deleteTempFiles(function(t){e&&e(t)})},i.prototype.removeUnusedLocalFiles=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");this._localStorage.removeUnusedLocalFiles(this._currentBranchCommittedAtDate,e)},i.prototype.removeLocalFilesForComponentsWithIDs=function(e,t){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");if(!e)throw new r(r.INVALID_PARAMS,"Param componentIds must not be nil.");var n=this,i=this._current;n._loadBranch(n._localStorage.currentManifestPath(),!0,function(o,a){o&&"ENOENT"!==o.code?t([o]):n.loadBaseBranch(function(o,s){if(o&&"ENOENT"!==o.code)t([o]);else{var u,d,p="/META-INF/metadata.xml",f=[],h={};for(u=0;u<e.length;++u){var m=e[u],g=i.getComponentWithId(m),v=a?a.getComponentWithId(m):void 0,_=s?s.getComponentWithId(m):void 0;if(!(g&&g.absolutePath===p||v&&v.absolutePath===p||_&&_.absolutePath===p))if(g&&g.state===l.modified||v&&v.state===l.modified){var y=new r(r.COMPONENT_MODIFIED_ERROR,"Cannot remove the file of a modified component.");y.componentId=m,f.push(y)}else g&&(d=i.assetOfComponent(g),d&&(void 0===h[d]&&(h[d]=m),n._localStorage.removeComponentAsset(g,i._local()),i._setDirty(!0))),v&&(d=a.assetOfComponent(v),d&&void 0===h[d]&&(h[d]=m)),_&&(d=s.assetOfComponent(_),d&&void 0===h[d]&&(h[d]=m))}var E=Object.keys(h),b=E.length;if(b>0){var L=function(e){c.deleteFile(e,function(n){n&&(n.componentId=h[e],f.push(n)),b--,0===b&&t(f.length>0?f:void 0)})};for(u=0;u<E.length;++u)L(E[u])}else t(f.length>0?f:void 0)}})})},i.prototype.removeLocalStorage=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");return this._path?void c.deleteDirectory(this._path,e):e(new r(r.INVALID_STATE,"No path set."))},i.prototype.loadBaseBranch=function(e){if(!this._localStorage&&!this._baseBranchData)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");if(this._localStorage)this._loadBranch(this._localStorage.currentBaseManifestPath(),!0,e);else{var t,n;try{n=new o(void 0,!0).parse(this._baseBranchData)}catch(i){t=i}e(t,n)}},i.prototype.loadPulledBranch=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");this._loadBranch(this._localStorage.pulledManifestPath(),!1,e)},i.prototype.loadPushedBranch=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");this._loadBranch(this._localStorage.pushedManifestPath(),!1,e)},i.prototype.resolvePullWithBranch=function(e,t){if(!e)throw new r(r.INVALID_PARAMS,"Need a branch.");if(e===this._current)throw new r(r.INVALID_PARAMS,"Cannot resolve current.");if(this._localStorage&&!t)throw new r(r.INVALID_PARAMS,"Need a callback function.");var n=this,i=function(){e.readOnly=!1,e._collaborationType=n.collaborationType,e._clientDataString=n.clientDataString,n._current=e};if(this._localStorage)n._localStorage.resolvePulledBranch(e,function(e){if(!e)try{i(),n._autoRemoveUnusedLocalFiles&&n._localStorage.removeUnusedLocalFiles(n._currentBranchCommittedAtDate,function(e){})}catch(r){e=r}t(e,e?void 0:n._current)});else{if(this._options.xhrBaseBranchSupport&&(this._baseBranchData=this._pulledBranchData,this._pulledBranchData=void 0),i(),!t)return this._current;t(void 0,this._current)}},i.prototype.acceptPush=function(e){if(this._localStorage&&!e)throw new r(r.INVALID_PARAMS,"Need a callback function.");var t,n,i=this,o=function(r){if(!r)if(t)try{i._localStorage?(t.applyToBranch(n),i._localStorage.acceptPushedBranch(n,function(n){if(!n)try{t.applyToBranch(i._current,!0),i._autoRemoveUnusedLocalFiles&&i._localStorage.removeUnusedLocalFiles(i._currentBranchCommittedAtDate,function(e){})}catch(r){n=r}e(n)})):(t.applyToBranch(i._current,!0),i._options.xhrBaseBranchSupport&&(i._baseBranchData=i._pushedBranchData,i._pushedBranchData=void 0),i._pushJournal=void 0,e&&e())}catch(o){r=o}else e&&e();if(r){if(!e)throw r;e(r)}};if(!this._localStorage)return t=this._pushJournal,o();var s,l=2;a.readJournal(i._localStorage.pushJournalPath(),i,!1,function(e,n){l--,s?o():(e?"ENOENT"!==e.code&&(s=new r(r.INVALID_STATE,"Failed to load push journal.",e)):t=n,l||o())}),this._loadBranch(this._localStorage.currentManifestPath(),!1,function(e,t){l--,s?o():(e?s=new r(r.INVALID_STATE,"Failed to load current manifest.",e):n=t,l||o())})},i.prototype.discardPulledBranch=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");var t=this;this._localStorage.discardPulledBranch(function(n){if(!n){try{t._autoRemoveUnusedLocalFiles&&t._localStorage.removeUnusedLocalFiles(t._currentBranchCommittedAtDate,function(e){})}catch(i){n=i}e(n)}n&&e(n)})},i.prototype.discardPushedBranch=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");var t=this;this._localStorage.discardPushedBranch(function(n){if(!n){try{t._autoRemoveUnusedLocalFiles&&t._localStorage.removeUnusedLocalFiles(t._currentBranchCommittedAtDate,function(e){})}catch(i){n=i}e(n)}n&&e(n)})},i.prototype.resetBinding=function(e){delete this._href,this._current&&this._current._resetBinding(),this._localStorage?this._discardEveryBranchButCurrent(e):(this._baseBranchData=void 0,this._pushedBranchData=void 0,this._pulledBranchData=void 0,e&&e())},i.prototype.resetIdentity=function(e){delete this._href,this._current?(this._current._resetIdentity(),this._id=this._current.compositeId):this._id=u.generateUuid(),this._localStorage?this._discardEveryBranchButCurrent(e):(this._baseBranchData=void 0,this._pushedBranchData=void 0,this._pulledBranchData=void 0,e&&e())},i.prototype._loadBranch=function(e,t,n){if("function"!=typeof n)throw new r(r.INVALID_PARAMS,'Param "callback" must be a function.');var i=this;c.exists(e,function(r){r?c.readFile(e,"utf8",function(r,a){var s;if(!r)try{s=new o(void 0,t,e).parse(a),s._localStorage=i._localStorage}catch(l){r=l}n(r,s)}):n()})},i.prototype._discardEveryBranchButCurrent=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");var t,n=this,i=3,o=function(r){r&&!t&&(t=r),i--,0===i&&(!t&&n._autoRemoveUnusedLocalFiles&&n._localStorage.removeUnusedLocalFiles(n._currentBranchCommittedAtDate,function(e){}),e(t))};this._localStorage.discardPushedBranch(o),this._localStorage.discardPulledBranch(o),this._localStorage.discardBaseBranch(o)},i.prototype._setPath=function(e){this._localStorage?this._localStorage.compositePath=e:c.canUseFileSystem&&(this._localStorage=new s(e,this._options.preserveFileExtensions),this._current&&(this._current._localStorage=this._localStorage)),this._path=e},i}),"function"!=typeof nodeRequire)var nodeRequire=require;define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeNetworkHTTPService",["require","exports","module","./AdobeDCXUtil","./AdobeDCXError","./AdobeDCXFS"],function(e,t,n){"use strict";function i(e){this.filename=e}function r(){}function o(e){this._requestQueue=[],this._requestsOutstanding=[],this._rejectedAuths=[],this._authCallback=e,this._isActive=!0,this._waitingForAuthentication=!1,this._currentAuthId=c.generateUuid(),this._https=s,this._XMLHttpRequest=a,this._handlesRedirects=void 0!==a,this._maxOutstanding=5}var a,s,l,c=e("./AdobeDCXUtil"),u=e("./AdobeDCXError"),d=e("./AdobeDCXFS");"undefined"!=typeof global&&global.Buffer?(s=nodeRequire("https"),l=nodeRequire("url")):a=window.XMLHttpRequest;var p=c.merge,f=3e5;return Object.defineProperties(o.prototype,{isActive:{get:function(){return this._isActive},set:function(e){var t=this._isActive;t!==e&&(this._isActive=e,e||(this._authValue=void 0,this._checkQueue()))}},crossOriginCredentials:{get:function(){return this._withCredentials},set:function(e){this._withCredentials=e}},maxOutstanding:{get:function(){return this._maxOutstanding},set:function(e){this._maxOutstanding=e,this._checkQueue()}},handlesRedirects:{get:function(){return this._handlesRedirects}}}),o.prototype._forceXhr=function(e,t){this._https=void 0,this._XMLHttpRequest=e||a||nodeRequire("xhr2"),this._handlesRedirects=!t},o.FileContent=i,o.StreamProvider=r,o.prototype.setAdditionalHeaders=function(e){this._additionalHeaders=e||{}},o.prototype.setAdditionalNodeOptions=function(e){this._additionalNodeOptions=e},o.prototype.setApiKey=function(e){this._apiKey=e},o.prototype.setTimeout=function(e){this._timeout=e},o.prototype.setAuthToken=function(e){e?(this._authValue="Bearer "+e,this.resume()):(this._authValue=void 0,this._currentAuthId=c.generateUuid())},o.prototype.resume=function(){this._currentAuthId=c.generateUuid(),this._waitingForAuthentication=!1,this._checkQueue()},o.prototype.setRequestHooks=function(e,t){this._beforeHook=e,this._afterHook=t},o.prototype.invoke=function(e,t,n,r,o,a){o=o||{};var s=o.responseType;if(s instanceof i){if(!d.canUseFileSystem)throw new u(u.INVALID_PARAMS,"No filesystem access")}else if("buffer"===s){if("function"!=typeof Buffer)throw new u(u.INVALID_PARAMS,"No Buffer class")}else if("blob"===s){if("function"!=typeof Blob)throw new u(u.INVALID_PARAMS,"No Blob class")}else if(s&&"text"!==s&&"json"!==s&&"arraybuffer"!==s)throw new u(u.INVALID_PARAMS,"Unsupported response type");
n=p({},n,this._additionalHeaders),this._apiKey&&(n["x-api-key"]=this._apiKey);var l={method:e,href:t,headers:n,callback:a,body:r,options:o},f=o.reuseRequestDesc;if(f){if(this._requestQueue.indexOf(f)>=0||this._requestsOutstanding.indexOf(f)>=0)throw new u(u.INVALID_PARAMS,"Request descriptor still in use.");l=c.merge(f,l)}return this._doRequest(l),l},o.prototype._doRequest=function(e){function t(t,n){t&&c.log("["+e.id+"] error: "+t),f&&f.end();var i=m._requestsOutstanding.indexOf(e);i>=0&&m._requestsOutstanding.splice(i,1);var r=e.callback;r&&(e.callback=void 0,t&&(t.clientRequest=e.clientRequest,t.xhr=e.xhr),t&&t.code!==u.SERVICE_IS_INACTIVE&&!m._isActive?t=new u(u.SERVICE_IS_INACTIVE,"Service is now inactive",t):e.timedOut&&(t=new u(u.TIMED_OUT,"timed out request",t)),r(t,n)),m._isActive&&m._checkQueue()}function n(n){function r(){return a?void 0:(a=!0,f=void 0,t(void 0,n))}var o=!1,a=!1,s=!1,l=m._requestsOutstanding.indexOf(e);if(0>l)return void m._checkQueue();e.response=n;var p=(new Date).valueOf()-e.startTime;if(c.log("["+e.id+"] "+n.statusCode+" ("+p+"ms)"),401===n.statusCode&&m._authCallback)m._requestsOutstanding.splice(l,1),m._requestQueue.unshift(e),m._authFail(e),c.consumeStream(n);else{var h=e.progress;200===n.statusCode||201===n.statusCode||202===n.statusCode?(n.on("data",function(e){e.length&&h&&h(e.length),!f&&e&&v.push(e)}),m._https&&y instanceof i&&(f=d.createWriteStream(y.filename),n.pipe(f),o=!0)):c.consumeStream(n),n.once("end",function(){s=!0;var i=m._requestsOutstanding.indexOf(e);if(!(0>i||(m._requestsOutstanding.splice(i,1),m._checkQueue(),o||a)))return a=!0,n.response=Buffer.concat(v),"arraybuffer"===y?n.response=new ArrayBuffer(n.response):"text"===y&&(n.response=n.response.toString()),t(void 0,n)}),n.once("close",function(){return s||a?void 0:(a=!0,t(new u(u.NETWORK_ERROR,"incomplete response")))}),o&&(f.once("finish",r),f.once("close",r))}}function o(){var n=e.progress;if(n&&s.response){var r=s.response.length;n(r-g),g=r}if(4===s.readyState){if(0===s.status)return t(new u(u.UNEXPECTED,"XHR failure"));var o=m._requestsOutstanding.indexOf(e);if(0>o)return void m._checkQueue();var a=(new Date).valueOf()-e.startTime;if(c.log("["+e.id+"] "+s.status+" ("+a+"ms)"),m._requestsOutstanding.splice(o,1),401!==s.status||!m._authCallback){if(e.xhr=s,e.response=s,s.statusCode=s.status,s.headers=c.parseHeaders(s.getAllResponseHeaders()),y instanceof i){var l=s.response.response;return void d.writeFileAtomically(y.filename,l,void 0,function(e){return e?t(new u(u.UNEXPECTED,"Can't create file",e,s)):t(void 0,s)})}return n&&_&&n(_.length||_.size),t(void 0,s)}m._requestQueue.unshift(e),m._authFail(e),m._checkQueue()}}function a(n){n.pipe(h),n.on("error",function(n){return m.abort(e),t(new u(u.TERMINATED_INPUTSTREAM,"Input stream terminated abnormally",n))})}var s,f,h,m=this,g=0,v=[],_=e.body,y=e.options.responseType;if(!this._isActive)return t(new u(u.SERVICE_IS_INACTIVE,"Network request in inactive state"));if(this._waitingForAuthentication||this._requestsOutstanding.length>=this._maxOutstanding||e.options.noSoonerThen)this._requestQueue.push(e),this._waitingForAuthentication||this._checkQueue();else{var E=e.headers;if(null===E.Authorization)delete E.Authorization;else{if(!this._allowAuthTokenToBeSentInsecurely_DONT_USE_THIS_IN_PRODUCTION&&0!==e.href.indexOf("https:"))return t(new u(u.INVALID_PARAMS,"Must not send auth token over unsecured connection"));this._authValue&&(E.Authorization=this._authValue)}if(this._currentAuthId&&(e.authId=this._currentAuthId),this._beforeHook&&this._beforeHook(e),e.id=c.generateUuid(),e.startTime=(new Date).valueOf(),E["X-Request-Id"]=e.id,this._https){this._requestsOutstanding.push(e);var b=l.parse(e.href),L=p({},this._additionalNodeOptions,b);L.method=e.method||"GET",L.headers=E,c.log("["+e.id+"] "+L.method+" "+e.href),h=this._https.request(L,n),e.clientRequest=h,h.once("error",t),m._timeout&&h.setTimeout(m._timeout,function(){e.timedOut=!0,h.abort()}),e.bytesSent=0,e.bytesReported=0,h.once("end",function(){if(e.progress){var t=e.bytesSent-e.bytesReported;t>0&&(e.progress(t),e.bytesReported+=t)}});var S=h.write;if(h.write=function(t){var n=t&&t.length;return n&&(e.bytesSent+=n),S.call(h,t,function(){e.progress&&t&&(e.progress(n),e.bytesReported+=n)})},_ instanceof i){var A=d.createReadStream(_.filename);a(A)}else if(_ instanceof r)if(_.getStream){var T=_.getStream();a(T)}else _.getStreamAsync&&_.getStreamAsync(function(n,i){return n?(m.abort(e),t(new u(u.TERMINATED_INPUTSTREAM,"Error creating input stream",n))):void a(i)});else if(_ instanceof Buffer)h.write(_),h.end();else if(_ instanceof ArrayBuffer)h.write(new Buffer(new Int8Array(_))),h.end();else if("string"==typeof _)h.write(new Buffer(_,"utf8")),h.end();else{if(_)return t(new u(u.INVALID_PARAMS,"Invalid data type"));h.end()}this._afterHook&&this._afterHook(e,h)}else{if(_ instanceof i)return d.canUseFileSystem?void d.readFile(_.filename,{},function(n,i){return n?t(n):(e.body=i,void m._doRequest(e))}):t(new u(u.INVALID_PARAMS,"Can't use FileContent without filesystem support"));"function"==typeof Buffer&&_ instanceof Buffer&&(e.body=_=new Int8Array(_)),this._requestsOutstanding.push(e),c.log("["+e.id+"] "+e.method+" "+e.href),s=new this._XMLHttpRequest,s.open(e.method,e.href,!0),this._withCredentials&&(s.withCredentials=!0),y&&(y instanceof i?s.responseType="buffer":s.responseType=y),s.onreadystatechange=o;var C;for(C in E)E.hasOwnProperty(C)&&s.setRequestHeader(C,E[C]);e.xhr=s,m._timeout&&(s.timeout=m._timeout,s.ontimeout=function(){e.timedOut=!0,s.abort()}),_?s.send(_):s.send(),this._afterHook&&this._afterHook(e,s)}}},o.prototype._authFail=function(e){if(this._authCallback){var t=e.authId;if(-1!==this._rejectedAuths.indexOf(t))return;this._authValue=null,this._waitingForAuthentication=!0,this._rejectedAuths.unshift(t)>this._maxOutstanding&&(this._rejectedAuths.length=this._maxOutstanding),this._authCallback(this)}},o.prototype._checkQueue=function(){if(!this._isActive){var e=this._requestsOutstanding;this._requestsOutstanding=[],e.forEach(function(e){e.xhr&&e.xhr.abort(),e.clientRequest&&e.clientRequest.abort();var t=e.callback;if(t){e.callback=void 0;var n=new u(u.SERVICE_IS_INACTIVE,"Network request in inactive state");t(n)}});var t=this._requestQueue;return this._requestQueue=[],t.forEach(function(e){var t=new u(u.SERVICE_IS_INACTIVE,"Network request in inactive state"),n=e.callback;n&&(e.callback=void 0,n(t))}),void(this._checkQueueTimerId&&(clearTimeout(this._checkQueueTimerId),this._checkQueueTimerId=void 0,this._checkQueueTimerWhen=void 0))}for(var n,i=Date.now(),r=i+f,o=0;;){if(this._waitingForAuthentication||this._requestsOutstanding.length>=this._maxOutstanding||o>=this._requestQueue.length)break;var a=this._requestQueue[o];n=a.options.noSoonerThen||i,n&&n>r&&(n=a.options.noSoonerThen=r),i>=n?(this._requestQueue.splice(o,1),a.options.noSoonerThen=void 0,this._doRequest(a)):o++}if(!this._waitingForAuthentication&&this._requestsOutstanding.length<this._maxOutstanding&&this._requestQueue.length>0){var s,l,c=this._requestQueue.length;for(l=0;c>l;l++)n=this._requestQueue[l].options.noSoonerThen,n&&n>r&&(n=this._requestQueue[l].options.noSoonerThen=r),n&&(s=s&&n>s?s:n);if(s&&(!this._checkQueueTimerWhen||this._checkQueueTimerWhen>s)){this._checkQueueTimerId&&clearTimeout(this._checkQueueTimerId),this._checkQueueTimerWhen=s;var d=this;this._checkQueueTimerId=setTimeout(function(){d._checkQueueTimerWhen=void 0,d._checkQueueTimerId=void 0,d._checkQueue()},s-i)}}},o.prototype.abort=function(e){var t=this._requestQueue.indexOf(e);return t>=0?void this._requestQueue.splice(t,1):(t=this._requestsOutstanding.indexOf(e),void(t>=0&&(this._requestsOutstanding.splice(t,1),e.xhr&&e.xhr.abort(),e.clientRequest&&e.clientRequest.abort(),this._checkQueue())))},o.prototype.abortAllWithToken=function(e){if(e){var t;for(t=0;t<this._requestQueue.length;++t)this._requestQueue[t].token===e&&(this._requestQueue.splice(t,1),--t);for(t=0;t<this._requestsOutstanding.length;++t)if(this._requestsOutstanding[t].token===e){var n=this._requestsOutstanding[t];this._requestsOutstanding.splice(t,1),--t,n.xhr&&n.xhr.abort(),n.clientRequest&&n.clientRequest.abort()}this._checkQueue()}},o}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeSessionBase",["require","exports","module","./AdobeDCXError","./AdobeDCXUtil","./AdobeNetworkHTTPService"],function(e,t,n){"use strict";function i(e,t){this._service=e,this._server=t,t&&(this._endPoint=s.endPointOf(t)),this.SYNC_ASYNC_DEFAULT_DELAY=5,this.ASYNC_DEFAULT_DELAY=1,this.DEFAULT_POLL_DELAY=10,this._maxRedirects=5,this._authenticationWhitelist=[]}var r=e("./AdobeDCXError"),o=r.networkError,a=r.unexpectedResponse,s=e("./AdobeDCXUtil"),l=s.merge,c=e("./AdobeNetworkHTTPService"),u=s.appendPathElements,d="If-None-Match";return i.FileContent=c.FileContent,i.StreamProvider=c.StreamProvider,Object.defineProperties(i.prototype,{maxRedirects:{get:function(){return this._maxRedirects},set:function(e){if("number"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a number.");this._maxRedirects=Math.floor(e)}},authenticationWhitelist:{get:function(){return this._authenticationWhitelist},set:function(e){if(!Array.isArray(e))throw new r(r.INVALID_PARAMS,"Expecting an array.");this._authenticationWhitelist=e}}}),i.prototype.isValidHref=function(e){var t=s.endPointOf(e);return!t||t===this._endPoint},i.prototype.isDomainOnWhitelist=function(e){var t=s.parseURI(e).authority;if(!t||0===t.length)return!0;var n,i=t.length,r=this._authenticationWhitelist.length;for(n=0;r>n;n++){var o,a=this._authenticationWhitelist[n],l=a.length;if(o=i>l?t.slice(-l):t,o===a)return!0}return!1},i.prototype.getAsset=function(e,t,n,i){function c(e,t){if(e)return i(o("Error downloading an asset",e,t));var n=t.statusCode;if(200===n)i(void 0,t);else if(304===n)i(void 0,t);else if(301===n||302===n||303===n||307===n)if(!h._service.handlesRedirects&&h.maxRedirects)if(m<h.maxRedirects){var r=t.headers.location;r?f(r):i(a("Missing location header in redirect response",e,t))}else i(a("Too many redirects",e,t));else i(a("Unexpected response getting an asset",e,t));else i(a("Unexpected response getting an asset",e,t))}if(e=this._resolveUrl(e),!e)return i(new r(r.WRONG_ENDPOINT,"Wrong endpoint: "+e));var u,p={};"string"==typeof t?p[d]=t:l(p,t);var f,h=this,m=0;return f=function(t){var i={responseType:n};return t&&(m++,i.reuseRequestDesc=u,h.isDomainOnWhitelist(t)||(p.Authorization=null)),h._service.invoke("GET",t||e,p,void 0,i,c)},u=f(),u.progress=s.noOp,u},i.prototype.getAssetAsType=function(e,t,n,i){function r(e,t){if(e)return i(e);if(200===t.statusCode){var n=t.response||t.responseText;i(void 0,n,t.headers.etag,t)}else 304===t.statusCode?i(void 0,null,t.headers.etag,t):i(a("Unexpected response getting asset",e,t))}return this.getAsset(e,n,t,r)},i.prototype._resolveUrl=function(e){var t=s.endPointOf(e);if(t){if(t!==this._endPoint)return;return e}return u(this._server,e)},i.prototype._makeRelativeUrl=function(e){var t=s.endPointOf(e);if(t){if(t!==this._endPoint)return;var n=s.parseURI(e);(n.scheme||n.authority)&&(e=n.path,n.query&&(e+="?"+n.query),n.fragment&&(e+="#"+n.fragment))}return e},i.prototype._parseAsyncResponse=function(e){var t=e.responseText||e.response;if(!t)throw new r(r.INVALID_DATA,"No body data.");var n={},i=t.indexOf("\n");if(-1===i)throw new r(r.INVALID_DATA,"Could not find status line.");var o=t.slice(0,13===t.charCodeAt(i-1)?i-1:i),a=o.split(" ");if(n.statusCode=parseInt(a[1],10),!n.statusCode)throw new r(r.INVALID_DATA,"Could not find status code.");a.length>2&&(n.statusText=a[2]);var l=t.search(/\r?\n\r?\n/);-1===l&&(l=t.length);var c=t.slice(i+1,l);n.headers=s.parseHeaders(c);var u="\r"===t.charAt(l)?l+4:l+2;return n.response=t.slice(u),n},i.prototype._pollForAsyncResponse=function(e,t,n,i){var r=this,l=Date.now()+1e3*t,c={responseType:"text",reuseRequestDesc:n,noSoonerThen:l};s.log("asynchronous request - polling"),n=this._service.invoke("GET",e,void 0,void 0,c,function(t,l){if(t)return i(o("Error polling for an asynchronous reponse",t,l));var c=l.statusCode;if(202===c){s.log("asynchronous request - not yet ready");var u=l.headers["retry-after"];u&&(u=parseInt(u,10)),r._pollForAsyncResponse(e,u||r.DEFAULT_POLL_DELAY,n,i)}else if(200===c){s.log("asynchronous request - success");try{l=r._parseAsyncResponse(l)}catch(d){return i(a("Error parsing response body.",d,l))}c=l.statusCode,200===c||201===c||204===c?i(void 0,l):i(a("Unexpected response polling for an asynchronous response",t,l))}else s.log("asynchronous request - error"),i(a("Unexpected response polling for an asynchronous response",t,l))})},i.prototype._handle202Response=function(e,t,n,i){var r,o=e.responseText||e.response;try{r=JSON.parse(o)}catch(s){return i(a("Error parsing 202 response body.",s,e))}var l=r.href;if(!l)return i(a("202 response missing an href.",void 0,e));var c=e.headers["retry-after"];c=c?parseInt(c,10):n,this._pollForAsyncResponse(this._resolveUrl(l),c,t,i)},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeStorageSession",["require","exports","module","./AdobeSessionBase","./AdobeDCXError","./AdobeDCXComposite","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t,n,i){var r=[],o="";return t&&r.push("order="+t),e&&r.push("orderBy="+e),n&&r.push("start="+n),i&&r.push("limit="+i),r.length>0&&(o="?"+r.join("&")),o}function r(e,t){if(o.call(this,e,t),!this._endPoint)throw new a(a.INVALID_PARAMS,"Could not determine endpoint from: "+t);this.authenticationWhitelist=["adobe.com","adobe.io","fotolia.net"]}var o=e("./AdobeSessionBase"),a=e("./AdobeDCXError"),s=a.networkError,l=a.unexpectedResponse,c=e("./AdobeDCXComposite"),u=e("./AdobeDCXUtil"),d=u.appendPathElements,p="If-Match",f="If-None-Match",h="application/vnd.adobe.dcx-manifest+json";return r.prototype=Object.create(o.prototype),r.prototype.name="AdobeStorageSession",r.FileContent=o.FileContent,r.StreamProvider=o.StreamProvider,r.prototype.getCollection=function(e,t,n){function i(t,u){if(t)return n(s("Error retrieving a collection",t,u));if(200===u.statusCode){var d,p=u.responseText||u.response;try{d=JSON.parse(p)}catch(f){return t=new a(a.INVALID_DATA,"Invalid JSON returned by server",f),t.response=u,n(t)}r?r.children=r.children.concat(d.children):r=d;var h=u.headers["x-children-next-start"];if(h){var m=e+"&start="+h;c._service.invoke("GET",m,o,void 0,{responseType:"text"},i)}else n(void 0,r,u.headers.etag,u.headers)}else 304===u.statusCode?n(void 0,null,u.headers.etag,u.headers):n(l("Unexpected status code while getting a collection",void 0,u))}if(e=this._resolveUrl(e),!e)return n(new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+e));e+="?order=asc&orderby=name";var r,o={};t&&(o[f]=t);var c=this,u=this._service.invoke("GET",e,o,void 0,{responseType:"text"},i);return u},r.prototype.pagedGetCollection=function(e,t,n,r,o,c,u,d){function p(e,t){if(e)return d(s("Error retrieving a collection",e,t));if(200===t.statusCode){var n,i=t.responseText||t.response;try{n=JSON.parse(i)}catch(r){return e=new a(a.INVALID_DATA,"Invalid JSON returned by server",r),e.response=t,d(e)}u?u.children=u.children.concat(n.children):u=n,d(void 0,u,t.headers.etag,t.headers)}else 304===t.statusCode?d(void 0,null,t.headers.etag,t.headers):d(l("Unexpected status code while getting a collection",void 0,t))}if(e=this._resolveUrl(e),!e)return d(new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+e));e+=i(n,r,o,c);var h={};t&&(h[f]=t);var m=this._service.invoke("GET",e,h,void 0,{responseType:"text"},p);return m},r.prototype.getComponent=function(e,t,n){var i=this.getComponentHref(e,e.version);return this.getAsset(i,void 0,t,n)},r.prototype.getRenditionOfComponent=function(e,t,n,i,r){var o=this.getComponentRenditionHref(e,e.version,n);return this.getAsset(o,{accept:t},i,r)},r.prototype.getSyncGroups=function(e,t){var n=d(this._server,"assets");return this.getCollection(n,e,t)},r.prototype.getSyncGroup=function(e,t,n){var i=d(this._server,"assets",e);return this.getCollection(i,t,n)},r.prototype.getCompositeManifest=function(e,t,n){var i=e.href;return i&&(i=this._resolveUrl(i)),i?(i=d(i,"manifest"),this.getAssetAsType(i,"text",t,n)):n(new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+i))},r.prototype.headRequest=function(e,t){return this._service.invoke("HEAD",e,{},void 0,void 0,function(e,n){return e?t(e):void t(e,n)})},r.prototype.remixComposite=function(e,t,n,i,r,o){var a={compositeId:i};r&&(a.creatorTool=r);var s={href:e};return t&&(s.authorization=t),this._invokeOperation("remix",s,{href:n},a,function(e,t,n){o(e)})},r.prototype.createCompositeDirectory=function(e,t,n){function i(e,t,n){var i={"Content-Type":"application/vnd.adobe.directory+json","X-Update":"content"};t&&(i[p]="*"),r._service.invoke("PUT",o,i,void 0,void 0,function(e,t){return e?n(s("Error Creating composite directory",e,t)):409===t.statusCode?(e=new a(a.ALREADY_EXISTS,e),e.response=t,n(e)):void n(void 0,t)})}var r=this,o=this._resolveUrl(e.href);return o?void i(e,t,function(a,c){if(a)return n(a);var d=c.statusCode;if(200===d||201===d)n(void 0,c);else if(404===d){var p=u.parentDirectory(o);r._service.invoke("PUT",p,{},void 0,void 0,function(r,o){if(r)return n(s("Error creating composite directory",r,o));var a=o.statusCode;200===a||201===a||409===a?i(e,t,function(e,t){if(e)return n(e);var i=t.statusCode;200===i||201===i?n(void 0,t):n(s("Error creating composite directory",e,t))}):n(l("Unexpected response creating composite directory",r,o))})}else n(l("Unexpected response creating composite directory",a,c))}):n(new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+o))},r.prototype.deleteCompositeDirectory=function(e,t){var n=this,i=this._resolveUrl(e.href);if(!i)return t(new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+i));var r={"If-Match":"*"};i+="?recursive=true&invocation_mode=sync,async";var o=this._service.invoke("DELETE",i,r,void 0,void 0,function(e,i){if(e)return t(s("Error deleting composite directory",e,i));var r=i.statusCode;return 200===r||204===r||404===r?t(void 0,i):202===r?n._handle202Response(i,o,n.SYNC_ASYNC_DEFAULT_DELAY,t):void t(l("Unexpected response deleting composite directory",e,i))})},r.prototype.archiveCompositeDirectory=function(e,t){var n=this,i=this._makeRelativeUrl(e.href);if(!i)return t(new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+e.href));var r={"Content-Type":"application/vnd.adobe.directory+json",Link:"<"+i+">;rel=self"},o=this._resolveUrl("/archive/"+e.id)+"?invocation_mode=sync,async",c=this._service.invoke("PUT",o,r,void 0,void 0,function(e,i){if(e)return t(s("Error archiving composite directory",e,i));var r=i.statusCode;return 200===r||204===r||404===r?t(void 0,i):202===r?n._handle202Response(i,c,n.SYNC_ASYNC_DEFAULT_DELAY,t):void t(l("Unexpected response archiving composite directory",e,i))})},r.prototype.leaveSharedComposite=function(e,t){if(e.collaborationType!==c.COLLABORATION.SHARED_WITH_USER)throw new a(a.INVALID_STATE,"Composite's collaboration type must be sharedWithUser.");return this.deleteCompositeDirectory(e,t)},r.prototype.uploadComponent=function(e,t,n,i,r,o){if(!e._owner||!e._owner.compositeHref)throw new a(a.INVALID_STATE,"Component must be part of a branch of a bound composite.");return this.uploadAssetForComponentId(e.id,e.type,e._owner.compositeHref,t,n,i,r,o)},r.prototype.uploadAssetForComponentId=function(e,t,n,i,r,o,c,u){function d(e,t){e?delete m[p]:m[p]="*";var n=f._service.invoke("PUT",h,m,c,void 0,function(e,n){if(e)return t(s("Error uploading component",e,n));var i=n.statusCode;if(200===i||201===i||204===i){var r;try{r=JSON.parse(n.responseText||n.response)}catch(o){return e=new a(a.INVALID_DATA,"Invalid JSON returned by server",o),e.response=n,t(e,n,r)}t(void 0,n,r)}else 507===i?(e=new a(a.EXCEEDS_QUOTA,"Exceeds quota",e),e.response=n,t(e)):(e=l("Unexpected response uploading component",e),e.response=n,t(e))});return n.token=o,n}var f=this,h=this._constructComponentHref(n,e);r&&(h+="?intermediates=false");var m={};t&&(m["Content-Type"]=t);var g=d(i,function(e,t,n){if(e){if(t=e.response,!t)return u(e);var r=t.statusCode;return void(404===r||409===r||412===r?d(!i,u):u(e))}u(void 0,t,n)});return g},r.prototype.copyAssetToComponentId=function(e,t,n,i,r,o,c,u){function d(e,t,n){e?delete g[p]:g[p]="*";var i=h._service.invoke("PUT",m,g,void 0,{responseType:"text"},function(e,r){if(e)return n(s("Error uploading component",e,r));var o=r.statusCode;200===o||201===o||204===o?n(void 0,r,t):202===o?h._handle202Response(r,i,h.SYNC_ASYNC_DEFAULT_DELAY,function(e,i){n(e,i,t)}):n(l("Unexpected response copying a component asset",e,r),r,t)});return i.token=o,i}var f=this._makeRelativeUrl(c);if(!f)return u(new a(a.WRONG_ENDPOINT,"Cannot copy asset: "+c));var h=this,m=this._constructComponentHref(n,e);m+="?invocation_mode=sync,async",r&&(m+="&intermediates=false");var g={};t&&(g["Content-Type"]=t),g.Link="<"+f+">;rel=source";var v=function(e,t,n){var r;if(e){if(t=e.response,!t)return u(e);var o=t.statusCode;return void(n||404!==o&&409!==o&&412!==o?507===o?(e=new a(a.EXCEEDS_QUOTA,"Exceeds quota",e),e.response=t,u(e)):u(e):d(!i,!0,v))}try{r=JSON.parse(t.responseText||t.response)}catch(s){return e=new a(a.INVALID_DATA,"Invalid JSON returned by server",s),e.response=t,u(e)}u(void 0,t,r)},_=d(i,!0,v);return _},r.prototype.updateManifest=function(e,t,n,i){var r=this.getBranchManifestHref(e),o={"Content-Type":h},c=e.manifestEtag;n?o["If-Match"]="*":c&&(o["If-Match"]=c);var u=this._service.invoke("PUT",r,o,t,void 0,function(e,t){if(e)return i(s("Error updating manifest",e,t));var n=t.statusCode;!t.headers.etag||200!==n&&201!==n&&204!==n?412===n?(e=new a(a.UPDATE_CONFLICT,"Manifest has been changed"),e.response=t,i(e)):i(l("Unexpected response updating manifest",e,t)):i(void 0,t)});return u},r.prototype.getHrefForComposite=function(e,t){var n=e.type;if(!n)throw new a(a.INVALID_STATE,"Composite needs a type");if(!e.id)throw new a(a.INVALID_STATE,"Composite needs an id");if(e.href)return e.href;var i=this._resolveUrl(d("assets",t,e.id));return i},r.prototype.getHrefForCompositeWithId=function(e,t){var n=this._resolveUrl(d("assets",t,e));return n},r.prototype.getCompositeManifestHref=function(e){var t=this._resolveUrl(e.href);if(!t)throw new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+t);return d(t,"manifest")},r.prototype.getBranchManifestHref=function(e){var t=this._resolveUrl(e.compositeHref);if(!t)throw new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+t);return d(t,"manifest")},r.prototype.getComponentHref=function(e,t){var n=e._owner;if(!n||!n.compositeHref)throw new a(a.INVALID_STATE,"Component must be part of a branch of a bound composite.");var i;return n._core&&(i=n._core._getSourceHrefOfComponent(e)),i||this._constructComponentHref(n.compositeHref,e.id,t)},r.prototype.getComponentRenditionHref=function(e,t,n){var i=e._owner;if(!i||!i.compositeHref)throw new a(a.INVALID_STATE,"Component must be part of a branch of a bound composite.");if(i._core&&i._core._getSourceHrefOfComponent(e))throw new a(a.INVALID_STATE,"Getting a rendition of a source href not implemented.");return this._constructComponentRenditionHref(i.compositeHref,e,t,n)},r.prototype._constructComponentHref=function(e,t,n){var i=d(this._resolveUrl(e),t);return i&&"undefined"!=typeof n&&(i+=";version="+n),i},r.prototype._invokeOperation=function(e,t,n,i,r){var o=this,c=this._resolveUrl("/ops");c+="?invocation_mode=sync,async";var d={"Content-Type":"application/vnd.adobe.asset-operation+json"},p={op:e,id:u.generateUuid(),target:n,source:t};i&&(p.value=i),u.log("[invoke operation]: "+JSON.stringify(p,void 0,2));var f=function(e,t){var n;if(e){if(t=e.response,!t)return r(e);var i=t.statusCode;return void(507===i?(e=new a(a.EXCEEDS_QUOTA,"Exceeds quota",e),e.response=t,r(e)):r(e))}try{n=JSON.parse(t.responseText||t.response)}catch(o){return e=new a(a.INVALID_DATA,"Invalid JSON returned by server",o),e.response=t,r(e)}return n.error?(e=new a(a.UNEXPECTED_RESPONSE,"Error in operation result: "+JSON.stringify(n.error,void 0,2)),e.response=t,r(e)):void r(void 0,t,n)},h=o._service.invoke("POST",c,d,JSON.stringify(p),{responseType:"text"},function(t,n){if(t)return f(s("Error invoking operation "+e,t,n));var i=n.statusCode;200===i||201===i||204===i?f(void 0,n):202===i?o._handle202Response(n,h,o.SYNC_ASYNC_DEFAULT_DELAY,function(e,t){f(e,t)}):f(l("Unexpected response for operation "+e,t,n),n)});return h},r.prototype._constructComponentRenditionHref=function(e,t,n,i){var r=d(this._constructComponentHref(e,t.id),":rendition");return r+=";size="+(i||"full"),void 0!==n&&(r+=";version="+n),r},r}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeCommunitySession",["require","exports","module","./AdobeSessionBase","./AdobeDCXError","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t){if(r.call(this,e,t),!this._endPoint)throw new o(o.INVALID_PARAMS,"Could not determine endpoint from: "+t);this.authenticationWhitelist=["adobe.com","adobe.io","fotolia.net"]}var r=e("./AdobeSessionBase"),o=e("./AdobeDCXError"),a=e("./AdobeDCXUtil"),s=a.appendPathElements;i.prototype=Object.create(r.prototype),i.prototype.name="AdobeCommunitySession",i.FileContent=r.FileContent,i.StreamProvider=r.StreamProvider,i.prototype.getCompositeManifestHref=function(e){var t=this._resolveUrl(e.href);if(!t)throw new o(o.WRONG_ENDPOINT,"Wrong endpoint: "+t);return s(t,"manifest")},i.prototype.getComponent=function(e,t,n){var i=this.getComponentHref(e,e.version);return this.getAsset(i,void 0,t,n)},i.prototype.getRenditionOfComponent=function(e,t,n,i,r,o){var a=this.getComponentRenditionHref(e,e.version,t,n,i);return this.getAsset(a,{accept:t},r,o)},i.prototype.getCompositeManifest=function(e,t,n){var i=e.href;return i&&(i=this._resolveUrl(i)),i?(i=s(i,"manifest"),this.getAssetAsType(i,"text",t,n)):n(new o(o.WRONG_ENDPOINT,"Wrong endpoint: "+i))},i.prototype.headRequest=function(e,t){return this._service.invoke("HEAD",e,{},void 0,void 0,function(e,n){return e?t(e):void t(e,n)})},i.prototype.getComponentHref=function(e,t){var n=e._owner;if(!n||!n.compositeHref)throw new o(o.INVALID_STATE,"Component must be part of a branch of a bound composite.");var i;return n._core&&(i=n._core._getSourceHrefOfComponent(e)),i||this._constructComponentHref(n.compositeHref,e,t)},i.prototype.getComponentRenditionHref=function(e,t,n,i,r){var a=e._owner;if(!a||!a.compositeHref)throw new o(o.INVALID_STATE,"Component must be part of a branch of a bound composite.");if(a._core&&a._core._getSourceHrefOfComponent(e))throw new o(o.INVALID_STATE,"Getting a rendition of a source href not implemented.");return this._constructComponentRenditionHref(a.compositeHref,e,t,n,i,r)},i.prototype._constructComponentHref=function(e,t,n){var i=t.absolutePath.slice(1),r=s(this._resolveUrl(e),i);return r&&"undefined"!=typeof n&&(r+=this._hrefUsesContentApis(e)?"/version/"+n:"?version="+n),r};var l="/content/2/",c=/^\/?content\/2\/[^\/]+\/[^\/]+/,u=/^\/?api\/v2\/[^\/]+\/assets\/[^\/]+/,d={"image/jpeg":"jpg","image/png":"png"};return i.prototype._constructComponentRenditionHref=function(e,t,n,i,r,s){var p,f,h=t.absolutePath.slice(1),m=a.parseURI(e).path;if(m.slice(0,l.length)===l){var g=d[i];if(!g)throw new o(o.INVALID_PARAMS,"Unsupported rendition media type: "+i);if(p=c.exec(m),!(p&&p.length>0))throw new o(o.INVALID_PARAMS,"Failed to parse composite href: "+e);f=this._resolveUrl(a.appendPathElements(p[0],"rendition",h,"version",n,"format",g,"dimension",r,"size",String(s)))}else{if(p=u.exec(m),!(p&&p.length>0))throw new o(o.INVALID_PARAMS,"Failed to parse composite href: "+e);f=this._resolveUrl(a.appendPathElements(p[0],"rendition",r,String(s),h)+"?version="+n)}return f},i.prototype._hrefUsesContentApis=function(e){var t=a.parseURI(e).path;return t.slice(0,l.length)===l},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXCompositeXfer",["require","exports","module","./AdobeDCXComposite","./AdobeDCXComponent","./AdobeDCXBranch","./AdobeDCXError","./AdobeDCXPushJournal","./AdobeSessionBase","./AdobeDCXUtil","./AdobeDCXFS"],function(e,t,n){"use strict";function i(e,t,n){return f.wrapError(f.UNEXPECTED_RESPONSE,e,t,n)}function r(e,t,n){this._session=e,this._callback=t,this._cleanup=n,this._componentsPending=0,this.bytesTransfered=0,this.bytesTotal=0,this.onProgress=g.noOp;var i=this;this._reportProgress=function(e){if(e>0){i.bytesTransfered+=e;var t=i.onProgress;t&&t(i.bytesTransfered,i.bytesTotal)}}}function o(e,t,n,r,o){function a(e){e||(t.compositeHasBeenCreated=!0);var n,i=t._compositeCreationCallbacks,r=i.length;for(n=0;r>n;n++)try{i[n](e)}catch(o){}t._compositeCreationCallbacks=void 0}e.isBound||t.compositeHasBeenCreated?o():t._compositeCreationCallbacks?t._compositeCreationCallbacks.push(o):(t._compositeCreationCallbacks=[o],r.createCompositeDirectory(e,n,function(t,o){if(t){if(t.code!==f.ALREADY_EXISTS)return a(i("Unexpected response creating a composite directory",t,o));if(n)a();else{var s=r.getCompositeManifestHref(e);r.headRequest(s,function(e,t){return e?a(e):404!==t.statusCode?(e=new f(f.INVALID_STATE,"Composite already exists and overwriteExisting not specified"),a(e)):void a()})}}else a()}))}function a(e,t,n,i,r){if("number"!=typeof t)throw new f(f.UNEXPECTED_RESPONSE,"No length");var o=i.headers.etag,a=i.headers["x-latest-version"],s=r.md5;if(!o)throw new f(f.UNEXPECTED_RESPONSE,"No etag");if(!a)throw new f(f.UNEXPECTED_RESPONSE,"No version");if(!s)throw new f(f.UNEXPECTED_RESPONSE,"No md5");return new d._UploadRecord(e,o,a,s,t,n)}function s(e,t,n,i){var r=i.headers.etag,o=i.headers["x-latest-version"],a=t.md5,s=t.size;if("number"!=typeof s)throw new f(f.UNEXPECTED_RESPONSE,"No length");if(!r)throw new f(f.UNEXPECTED_RESPONSE,"No etag");if(!o)throw new f(f.UNEXPECTED_RESPONSE,"No version");if(!a)throw new f(f.UNEXPECTED_RESPONSE,"No md5");return new d._UploadRecord(e,r,o,a,s,n)}var l,c,u=e("./AdobeDCXComposite"),d=e("./AdobeDCXComponent"),p=e("./AdobeDCXBranch"),f=e("./AdobeDCXError"),h=e("./AdobeDCXPushJournal"),m=e("./AdobeSessionBase"),g=e("./AdobeDCXUtil"),v=e("./AdobeDCXFS"),_=m.FileContent,y=d.STATES,E="all",b="min",L="none";return r.prototype._callCallback=function(e,t){var n=this._callback;n&&(this._callback=void 0,n(e,t))},r.prototype._xferComplete=function(e,t){var n=this._cleanup;n?(this._cleanup=void 0,n(e,t)):this._callCallback(e,t)},r.prototype.abort=function(e){this._aborted||(this._aborted=!0,this._session._service.abortAllWithToken(this)),e||(this._callback=void 0,e=new Error("Aborted")),this._xferComplete(e)},t.pullComposite=function(e,t,n){if(!e.hasLocalStorage)throw new f(f.INVALID_PARAMS,"No local storage. Use AdobeDCXCompositeXfer.pullCompositeManifestOnly() to pull down the composite without local storage.");return this._pullComposite(e,t,E,n)},t.pullMinimumComposite=function(e,t,n){if(!e.hasLocalStorage)throw new f(f.INVALID_PARAMS,"No local storage. Use AdobeDCXCompositeXfer.pullCompositeManifestOnly() to pull down the composite without local storage.");return this._pullComposite(e,t,b,n)},t.pullCompositeManifestOnly=function(e,t,n){return this._pullComposite(e,t,L,n)},t.downloadComponents=function(e,n,i,o){function a(e){return e._owner?a(e._owner):e}var s=a(n),l=new r(i,o);return l._referenceBranch=s,t._pullComponents(l,s,e||n.allComponents()),l},t.pushComposite=function(e,n,i,o){var a,s=e._localStorage,l=function(t,n){if(a._owner&&e.hasLocalStorage&&s.unregisterInMemoryBranchOrElement(a._owner),!e.hasLocalStorage){var i=a._journal;e._pushJournal=i.isEmpty?void 0:i}a._callCallback(t,n)};a=new r(i,o,l),a._composite=e,a._overwriteExisting=n;var c=!e.isBound;if(a._compositeIsNew=c,e.hasLocalStorage)e._loadBranch(s.currentManifestPath(),!1,function(n,i){return n?a._xferComplete(n):(a._owner=i,e._localStorage.registerInMemoryBranchOrElement(i),void h.readJournal(s.pushJournalPath(),e,!0,function(n,i){return n?a._xferComplete(n):(a._journal=i,void t._pushComposite(e,a))}))});else{var u=e.href;if(!u)return a._xferComplete(new f(f.INVALID_STATE,"New composite has no href"));
a._owner=e.current.copy(),a._journal=e._pushJournal||new h(e),t._pushComposite(e,a)}return a},t.remixComposite=function(e,t,n,i,o,a,s){var l=g.parseURI(n).path;if(!l||!i||l.split("/").pop()!==i)throw new f(f.INVALID_PARAMS,"Invalid combination of params targetHref ("+n+") and compositeId ("+i+")");var c=new r(a,s),u=a.remixComposite(e,t,n,i,o,function(e){c._xferComplete(e,e?void 0:n)});return u.token=c,c},t.uploadNewComponent=function(e,t,n,i,r,o){if(n._localStorage)throw new f(f.INVALID_PARAMS,"For in-browser use only. Use composite.current.addComponent() to add a new component asset");return l(i||g.generateUuid(),t,!0,n.collaborationType===u.COLLABORATION.SHARED_WITH_USER,e,n.id,n.href,r,o)},t.uploadComponent=function(e,t,n,i,r){if(n._localStorage)throw new f(f.INVALID_PARAMS,"For in-browser use only. Use composite.current.updateComponent() to update a component asset");return l(e.id,e.type,!1,n.collaborationType===u.COLLABORATION.SHARED_WITH_USER,t,n.id,n.href,i,r)},t.copyAssetForNewComponent=function(e,t,n,i,r,o){if(n._localStorage)throw new f(f.INVALID_PARAMS,"For in-browser use only. Use composite.current.addComponent() to add a new component asset");return c(i||g.generateUuid(),t,!0,n.collaborationType===u.COLLABORATION.SHARED_WITH_USER,e,n.id,n.href,r,o)},t.getURLForComponent=function(e,t){if(e._owner._localStorage)throw new f(f.INVALID_PARAMS,"For in-browser use only.");return t.getComponentHref(e,e.version)},t._pullComposite=function(e,n,i,o){function a(t,n){if(t){var i=t.pulledBranch;return void(i?(i.compositeState=y.unmodified,i.hasLocalStorage?v.writeFileAtomically(e._localStorage.pulledManifestPath(),t.pulledBranch.localData,"utf8",function(e){s._callCallback(t)}):s._callCallback(t)):s._callCallback(t))}if(null===n)return s._callCallback(void 0,null);if(n.compositeState=y.unmodified,n.readOnly=!0,n.hasLocalStorage){var r=e._localStorage.pulledManifestPath();v.writeFileAtomically(r,n.localData,"utf8",function(e){return e?s._callCallback(e):(n.manifestPath=r,n._isDirty=!1,void s._callCallback(void 0,n))})}else e._options.xhrBaseBranchSupport&&(e._pulledBranchData=n.localData),s._callCallback(void 0,n)}if("string"!=typeof e.href)throw new f(f.INVALID_STATE,"Composite must have an href");var s,l=function(r,o){if(r)return s._xferComplete(r);var a;o?(a=o.manifestEtag,s._referenceBranch=o):e.current&&(a=e.current.manifestEtag,s._referenceBranch=e.current);var l=n.getCompositeManifest(e,a,function(n,r,a){if(n)return n.response&&404===n.response.statusCode?s._xferComplete(new f(f.NO_COMPOSITE,"Composite missing or deleted",n.underlyingError||n)):s._xferComplete(n);if(null===r&&!o)return s._xferComplete(void 0,null);var l;if(null!==r)try{if(l=(new p).parse(r),l._localStorage=e._localStorage,l.compositeHref=e.href,l._collaborationType=e.collaborationType,l._clientDataString=e.clientDataString,l.manifestEtag=a,l.compositeState===y.committedDelete||l.compositeState===y.pendingDelete)return void s._session.deleteCompositeDirectory(e,function(e){return e?s._xferComplete(new f(f.DELETED_COMPOSITE,"Error deleting composite directory",e)):s._xferComplete(new f(f.DELETED_COMPOSITE,"Composite is deleted"))});s._referenceBranch&&l.hasLocalStorage&&l._updateLocalDataFromBranch(s._referenceBranch)}catch(c){return s._xferComplete(new f(f.INVALID_JSON,"Corrupted manifest",c))}else l=o;var u,d,h=l.allComponents();for(u=0;u<h.length;++u)d=h[u],d.state===y.pendingDelete||d.state===y.committedDelete?l.removeComponent(d):d.state=y.unmodified;h=void 0,i===E?h=l.allComponents():i===b&&(d=l.getComponentWithAbsolutePath("/META-INF/metadata.xml"),d&&(h=[d])),h?t._pullComponents(s,l,h):s._xferComplete(void 0,l)});l&&(l.token=s,l.progress=s._reportProgress)};return s=new r(n,o,a),s._composite=e,e.hasLocalStorage?e.loadPulledBranch(l):l(),s},t._pullComponents=function(e,n,i){function r(t,r){if(e._componentsPending-=1,t&&(e.failedComponents=e.failedComponents||[],e.failedComponents.push({component:r,error:t})),0===e._componentsPending&&!e._aborted){var o=e.failedComponents;if(o){t=new f(f.COMPONENT_DOWNLOAD_ERROR,"Failed to download all components");var a,s=o.length;for(a=0;s>a;a++){var l=o[a].error;if(l.code===f.OUT_OF_SPACE){t=new f(l.code,l.message);break}}t.pulledBranch=n,t.failedComponents=o}n.readOnly&&n.manifestPath&&(!o||i.length>o.length)?v.writeFileAtomically(n.manifestPath,n.localData,"utf8",function(i){t=t||i,e._xferComplete(t,t?void 0:n)}):e._xferComplete(t,t?void 0:n)}}function o(n){if(!e._aborted){e.bytesTotal+=n.length||0;var i=n._owner._localStorage,o=i.tempPathForComponent(n),a=g.parentDirectory(o);v.ensureDirectoryExists(a,function(i){if(i)return e.abort(i);var a=t._pullComponent(n,o,l,r);a.progress=e._reportProgress,a.token=e})}}function a(e){n.assetOfComponent(e,function(t,n){"string"!=typeof n?o(e):r(void 0,e)})}if(!n.hasLocalStorage)throw new f(f.INVALID_PARAMS,"No local storage.");var s,l=e._session;for(e._componentsPending=i.length,s=0;s<i.length;++s){var c,u=i[s];if(e._referenceBranch){var d=e._referenceBranch.getComponentWithId(u.id);d&&(c=d.etag)}u.etag!==c?o(u):a(u)}0===e._componentsPending&&e._xferComplete(void 0,n)},t._pullComponent=function(e,t,n,r){var o=e._owner;if(!e._owner.hasLocalStorage)throw new f(f.INVALID_PARAMS,"No local storage. Use AdobeDCXCompositeXfer.pullCompositeManifestOnly() to pull down the composite without local storage.");var a=n.getComponent(e,new _(t),function(n,a){if(n)r(n,e);else if(200===a.statusCode){var s=Number(a.headers["content-length"]);void 0===e.length||null===e.length||isNaN(s)||s===e.length?o._localStorage.ingestComponentAsset(e,t,!1,o._local(),function(t){r(t,e,a.headers.etag)}):r(new f(f.UNEXPECTED_RESPONSE,"Incorrect content length",n,a))}else 304===a.statusCode?r(void 0,e,a.headers.etag):r(i("Unexpected response getting a component",n,a),e)});return a},t._pushComposite=function(e,n){function i(t,i){g?p.archiveCompositeDirectory(e,function(r,o){return r?i(r):(t.compositeArchivalState="archived",n._journal.compositeHasBeenArchived=!0,void n._journal.commitChanges(function(n){return n?i(n):void(e.hasLocalStorage?v.writeFileAtomically(e._localStorage.pushedManifestPath(),t.localData,"utf8",function(e){return e?i(e):void i(void 0,t)}):i(void 0,t))}))}):i(void 0,t)}function r(t){if(c)return n._xferComplete(t);var i=p.getCompositeManifestHref(e);p.headRequest(i,function(e,i){return e?n._xferComplete(e):404===i.statusCode?(t=new f(f.NO_COMPOSITE,"Composite does not exist; may have been deleted"),n._xferComplete(t)):n._xferComplete(t)})}var a=e.href;if(!a)return n._xferComplete(new f(f.INVALID_STATE,"New composite has no href"));var s=n._owner,l=n._journal,c=n._compositeIsNew,d=n._overwriteExisting,p=n._session,h=s.changeCount,m=s.remoteData.length+50;if(n.bytesTotal=m,s.compositeState===y.committedDelete)return n._xferComplete(new f(f.DELETED_COMPOSITE,"Attempt to push a deleted composite"));if("archived"===s.compositeArchivalState)return n._xferComplete(new f(f.DELETED_COMPOSITE,"Attempt to push an archived composite"));var g="pending"===s.compositeArchivalState;return g&&e.collaborationType===u.COLLABORATION.SHARED_WITH_USER?n._xferComplete(new f(f.INVALID_STATE,"Attempt to archive composite that is shared with this user.")):c||g||s.compositeState!==y.unmodified?s.compositeState===y.pendingDelete?c&&!d?n._xferComplete(new f(f.DELETED_COMPOSITE,"Attempt to delete unbound composite")):e.collaborationType===u.COLLABORATION.SHARED_WITH_USER?n._xferComplete(new f(f.INVALID_STATE,"Attempt to delete composite that is shared with this user.")):t._deleteComposite(n,d,function(e,t){n._xferComplete(e,t)}):void o(e,l,d,p,function(o){return o?n._xferComplete(o):void t._pushComponents(n,s,function(){var t=n.failedComponents;if(t){o=new f(f.COMPONENT_UPLOAD_ERROR,"One or more components failed to upload.");var a,c=t.length;for(a=0;c>a;a++){var u=t[a].error;if(u.code===f.EXCEEDS_QUOTA){o=new f(u.code,u.message);break}}return o.failedComponents=t,r(o)}if(s.compositeState===y.modified){s.compositeState=y.unmodified,l.manifestEtag&&l.currentBranchEtag===s.manifestEtag&&(s.manifestEtag=l.manifestEtag);var g=s.remoteData;n.bytesTotal+=g.length,n.bytesTotal-=m;var _=p.updateManifest(s,g,d,function(t,o){if(t)return r(t);var a=o.headers.etag;l.manifestEtag=a,l.currentBranchEtag=s.manifestEtag,l.changeCount=h,l.commitChanges(function(t){return t?n._xferComplete(t):(l.applyToBranch(s),s.compositeState=y.unmodified,void(e.hasLocalStorage?v.writeFileAtomically(e._localStorage.pushedManifestPath(),s.localData,"utf8",function(e){return e?n._xferComplete(e):(s._isDirty=!1,void i(s,function(e,t){n._xferComplete(e,t)}))}):(e._options.xhrBaseBranchSupport&&(e._pushedBranchData=s.localData),i(s,function(e,t){n._xferComplete(e,t)}))))})});_&&(_.progress=n._reportProgress,_.token=n)}else i(s,function(e,t){n._xferComplete(e,t)})})}):n._xferComplete()},t._deleteComposite=function(e,t,n){var i=e._composite,r=e._owner,o=e._session;r.compositeState=y.committedDelete;var a=r.remoteData;e.bytesTotal=a.length,e._journal.manifestEtag&&e._journal.currentBranchEtag===r.manifestEtag&&(r.manifestEtag=e._journal.manifestEtag),o.updateManifest(r,a,t,function(t,a){return t?n(t):void o.deleteCompositeDirectory(i,function(t,o){return t?n(t):(e._journal.compositeHasBeenDeleted=!0,void e._journal.commitChanges(function(e){return e?n(e):void(i.hasLocalStorage?v.writeFileAtomically(i._localStorage.pushedManifestPath(),r.localData,"utf8",function(e){return e?n(e):void n(void 0,r)}):n(void 0,r))}))})})},t._pushComponents=function(e,t,n){function i(t,i,r){i?d[t.id]=i:delete d[t.id],r&&(e.failedComponents=e.failedComponents||[],e.failedComponents.push({component:t,error:r})),0===Object.keys(d).length&&p.commitChanges(n)}function r(t,n,r){i(t,"uploading"),v.info(n,function(o,a){if(o)return o=new f(f.INVALID_STATE,"Component asset missing",o),void i(t,null,o);var s=a.size,c=g.filePathComponents(n).fileName,d=p.getRecordForUploadedComponent(t.id);if(d&&d.length===s&&d["storage-name"]===c)return t.etag=d.etag,t.version=d.version,t.md5=d.md5,t.length=d.length,t.state=y.unmodified,void i(t,null);e.bytesTotal+=s;var h=e._session.uploadComponent(t,r,l.collaborationType===u.COLLABORATION.SHARED_WITH_USER,e,new _(n),function(e,n,r){if(!e){var o=n.headers.etag,a=n.headers["x-latest-version"],l=r.md5;o||(e=new f(f.UNEXPECTED_RESPONSE,"No etag")),a||(e=new f(f.UNEXPECTED_RESPONSE,"No version")),l||(e=new f(f.UNEXPECTED_RESPONSE,"No md5")),e||(t.etag=o,t.version=a,t.md5=l,t.length=s,t.state=y.unmodified,p.recordUploadedComponent(t.id,o,a,l,s,c),p.commitChanges())}i(t,null,e)});h&&(h.progress=e._reportProgress,h.token=e)})}function o(n,o,a){var s=p.getRecordForUploadedComponent(n.id);if(s&&s["source-href"]===o)return n.etag=s.etag,n.version=s.version,n.md5=s.md5,n.length=s.length,void(n.state=y.unmodified);i(n,"copying");var d=e._session.copyAssetToComponentId(n.id,n.type,e._composite.href,a,l.collaborationType===u.COLLABORATION.SHARED_WITH_USER,e,o,function(e,s,l){if(e){if(c){var u=c.componentAssetPath(n,t._local());if(u)return r(n,u,a)}}else{var d=s.headers.etag,h=s.headers["x-latest-version"],m=l.md5,g=l.size;d||(e=new f(f.UNEXPECTED_RESPONSE,"No etag")),h||(e=new f(f.UNEXPECTED_RESPONSE,"No version")),m||(e=new f(f.UNEXPECTED_RESPONSE,"No md5")),g||(e=new f(f.UNEXPECTED_RESPONSE,"No length")),e||(n.etag=d,n.version=h,n.md5=m,n.length=g,n.state=y.unmodified,p.recordUploadedComponent(n.id,d,h,m,g,void 0,o),p.commitChanges())}i(n,null,e)});d&&(d.progress=e._reportProgress,d.token=e)}var a,s=t.allComponents(),l=e._composite,c=l._localStorage,d={},p=e._journal;for(a=0;a<s.length;++a){var h=s[a],m=h.state,E=h.etag,b=!E;if(m||(m=y.unmodified),b||m===y.modified){var L=t._core._getSourceHrefOfComponent(h);if(t.hasLocalStorage||L){var S=b||e._compositeIsNew;L?o(h,L,S):r(h,c.componentAssetPath(h,t._local()),S)}else{var A=new f(f.INVALID_STATE,"Component should not be modified or new without local storage");e.failedComponents=e.failedComponents||[],e.failedComponents.push({component:h,error:A})}}else m===y.unmodified?p.removeRecordForUploadedComponent(h.id):(m===y.committedDelete||m===y.pendingDelete)&&t.removeComponent(h)}0===Object.keys(d).length&&n()},l=function(e,t,n,i,o,s,l,c,u){if("function"!=typeof u)throw new f(f.INVALID_PARAMS,'Param "callback" must be a function.');var p=o.length||o.byteLength||o.size,h=new r(c,u);h.bytesTotal=p;var m=c.uploadAssetForComponentId(e,t,l,n,i,h,o,function(n,i,r){var o;if(!n)try{o=new d._UploadResults(s),p=p||m.bytesSent,o.records[e]=a(e,p,t,i,r)}catch(l){n=l,o=void 0}h._xferComplete(n,o)});return m&&(m.progress=h._reportProgress,m.token=h),h},c=function(e,t,n,i,o,a,l,c,u){if("function"!=typeof u)throw new f(f.INVALID_PARAMS,'Param "callback" must be a function.');var p=new r(c,u),h=c.copyAssetToComponentId(e,t,l,n,i,p,o,function(n,i,r){if(!p._aborted){var o;if(!n)try{o=new d._UploadResults(a),o.records[e]=s(e,r,t,i)}catch(l){n=l,o=void 0}u(n,o)}});return h&&(h.progress=p._reportProgress,h.token=p),p},t}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCX",["require","exports","module","./AdobeDCXComposite","./AdobeDCXLocalStorage","./AdobeNetworkHTTPService","./AdobeStorageSession","./AdobeCommunitySession","./AdobeDCXCompositeXfer","./AdobeDCXUtil","./AdobeDCXError","./AdobeDCXFS"],function(e,t,n){"use strict";function i(e,t){e&&d._setFS(e),this._compositeOptions=c.merge({},t),t&&t.logCallback&&c._setLogCallback(t.logCallback)}var r=e("./AdobeDCXComposite"),o=(e("./AdobeDCXLocalStorage"),e("./AdobeNetworkHTTPService")),a=e("./AdobeStorageSession"),s=e("./AdobeCommunitySession"),l=e("./AdobeDCXCompositeXfer"),c=e("./AdobeDCXUtil"),u=e("./AdobeDCXError"),d=e("./AdobeDCXFS");return i.COLLABORATION={PRIVATE:r.COLLABORATION.PRIVATE,SHARED_BY_USER:r.COLLABORATION.SHARED_BY_USER,SHARED_WITH_USER:r.COLLABORATION.SHARED_WITH_USER},i.AdobeDCXError=u,i.FileContent=o.FileContent,i.StreamProvider=o.StreamProvider,i.prototype.newEmptyComposite=function(e,t,n,i){var o=new r(e,t,null,i,null,this._compositeOptions);return n&&(o.path=n),o},i.prototype.newCompositeFromLocalStorage=function(e,t){try{if("string"!=typeof e)throw new u(u.INVALID_PARAMS,"");var n=new r(null,null,e,null,null,this._compositeOptions);n.loadCurrentFromLocalStorage(function(e,i){t(e,e?void 0:n)}),n.deleteTempFiles()}catch(i){t(i)}},i.prototype.newCompositeWithHref=function(e,t,n,i,o){var a=new r(n,o,null,i,e,this._compositeOptions);return t&&(a.path=t),a},i.prototype.newCompositeAsCopyOf=function(e,t,n,i,o,a){return r.newCompositeAsCopyOf(e,t,n,i,o,a,this._compositeOptions)},i.prototype.createHTTPService=function(e){return new o(e)},i.prototype.createStorageSession=function(e,t){return new a(e,t)},i.prototype.createCommunitySession=function(e,t){return new s(e,t)},i.prototype.compositeXfer=l,i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryServices",["require","exports","module","./components/uuid/uuid","./components/dcx-js/src/AdobeDCX"],function(e,t,n){"use strict";function i(){var e=typeof nodeRequire;"undefined"!==e&&(this.fs=nodeRequire("fs"),this.path=nodeRequire("path")),this._initDCX()}var r=e("./components/uuid/uuid"),o=e("./components/dcx-js/src/AdobeDCX");return i.prototype._initDCX=function(){var e=this;this.dcx=new o(this.fs,{preserveFileExtensions:!0,logCallback:function(t){e._log&&e._log("DCX: "+t)}})},i.prototype.uuid=function(){return r()},i.prototype.log=function(e){this._log&&this._log("CC Libraries: "+e)},i.prototype.getDisplayName=function(e){return this._getDisplayName?this._getDisplayName(e):e.name},i.prototype.hasFileSystem=function(){return void 0!==this.fs},i.prototype.setFileSystem=function(e){this.fs=e,this._initDCX()},i.prototype.getVulcanInterface=function(){var e=typeof VulcanInterface;return"undefined"!==e?VulcanInterface:void 0},i.prototype.getVulcanMessage=function(){var e=typeof VulcanMessage;return"undefined"!==e?VulcanMessage:void 0},i.prototype.hasCEPVulcan=function(){return void 0!==this.getVulcanInterface()&&void 0!==this.getVulcanMessage()},i.prototype.getNodeTunnelOptions=function(e){return this._getNodeTunnelOptions?this._getNodeTunnelOptions(e):{}},i.prototype.getPathSeparator=function(){return"/"},i.prototype.getFileNameFromPath=function(e){return-1===e.indexOf("/")&&-1!==e.indexOf("\\")&&(e=e.replace(/\\/g,"/")),e.split("/").pop()},Object.freeze(i),Object.seal(i.prototype),new i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryError",["require","exports","module"],function(e,t,n){"use strict";function i(e,t,n,r){if(Error.call(this),Error.captureStackTrace)Error.captureStackTrace(this,i);else{var o=new Error;o.name=this.name,this.stack=o.stack}this.code=e,this._message=t,this.message="["+e+"] "+t,this.libraryId=n,this.underlyingError=r}return i.prototype=Object.create(Error.prototype),i.prototype.name="AdobeLibraryError",i.INVALID_PARAMETER="INVALID_PARAMETER",i.READ_ONLY="READ_ONLY",i.NOT_IMPLEMENTED="NOT_IMPLEMENTED",i.NOT_SUPPORTED="NOT_SUPPORTED",i.REQUIRES_FILESYSTEM="REQUIRES_FILESYSTEM",i.DELETED_LOCALLY="DELETED_LOCALLY",i.NOT_ALLOWED="NOT_ALLOWED",i.FILE_TOO_LARGE="FILE_TOO_LARGE",i.EXCEEDS_MAX_LIBRARY_SIZE="EXCEEDS_MAX_LIBRARY_SIZE",i.CORRUPTED_LIBRARY="CORRUPTED_LIBRARY",i.THUMBNAIL_NOT_AVAILABLE="THUMBNAIL_NOT_AVAILABLE",i.RENDITION_NOT_AVAILABLE="RENDITION_NOT_AVAILABLE",i.FS_ERROR="FS_ERROR",i.OUT_OF_SPACE="OUT_OF_SPACE",i.LOGGED_OUT="LOGGED_OUT",i.EXCEEDS_QUOTA="EXCEEDS_QUOTA",i.RETRYABLE_SERVER_ERROR="RETRYABLE_SERVER_ERROR",i.TRANSFER_ERROR="TRANSFER_ERROR",i.TRANSFER_ABORTED="TRANSFER_ABORTED",i.NETWORK_ERROR="NETWORK_ERROR",i.ACCESS_DENIED="ACCESS_DENIED",i.URL_VALIDATION_FAILED="URL_VALIDATION_FAILED",i.NO_COMPATIBLE_APP_FOUND="NO_COMPATIBLE_APP_FOUND",i.APP_LAUNCH_FAILED="APP_LAUNCH_FAILED",Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryConfig",["require","exports","module","./AdobeLibraryError"],function(e,t,n){"use strict";function i(){this.name="config"}var r=e("./AdobeLibraryError"),o=["ROOT_DIR","POLL_INTERVAL","RENDITION_SIZES","FULL_RENDITION_CONFIG","EXTERNAL_LINK_PREFETCH","LOCALE","STORAGE_API_KEY","USER_AGENT_HEADER","SYNC_POLICY","ELEMENT_TYPE_FILTERS","AUTO_START_POLLING","SHARED_LOCAL_STORAGE","SHARED_LOCAL_STORAGE_ANALYTICS","WHITELISTED_DOMAINS","CLIENT_DESCRIPTION","DEVICE_ID","DEVICE_DESCRIPTION","APP_DESCRIPTION"];return i.prototype.VERSION=1,i.prototype.MAX_ELEMENTS=1e3,i.prototype.MAX_REMOVED_ELEMENTS=1e3,i.prototype.MAX_COMPONENT_SIZE=1073741824,i.prototype.VALID_RELATIONS=["rendition","primary","alternate"],i.prototype.VALID_LIBRARY_RENDITION_TYPES=["banner","cover"],i.prototype.VALID_SYNC_POLICIES=["manifestAndAssets","manifestOnly"],i.prototype.ELEMENT_TYPE_FILTERS=[],i.prototype.DL_NAMESPACE="library",i.prototype.DL_PREFIX=i.prototype.DL_NAMESPACE+"#",i.prototype.VERSION_KEY=i.prototype.DL_PREFIX+"version",i.prototype.RELATIONSHIP_KEY=i.prototype.DL_PREFIX+"rel",i.prototype.WIDTH_KEY=i.prototype.DL_PREFIX+"width",i.prototype.HEIGHT_KEY=i.prototype.DL_PREFIX+"height",i.prototype.LENGTH_KEY=i.prototype.DL_PREFIX+"length",i.prototype.IS_FULL_SIZE_KEY=i.prototype.DL_PREFIX+"isFullSize",i.prototype.IS_PREFERRED_THUMBNAIL_KEY=i.prototype.DL_PREFIX+"isPreferredThumbnail",i.prototype.MODIFIED_KEY=i.prototype.DL_PREFIX+"modified",i.prototype.CREATED_KEY=i.prototype.DL_PREFIX+"created",i.prototype.REMOVED_KEY=i.prototype.DL_PREFIX+"removed",i.prototype.MODIFIED_DATA_KEY=i.prototype.DL_PREFIX+"modifiedData",i.prototype.CREATED_DATA_KEY=i.prototype.DL_PREFIX+"createdData",i.prototype.REMOVED_DATA_KEY=i.prototype.DL_PREFIX+"removedData",i.prototype.LINK_TYPE_KEY=i.prototype.DL_PREFIX+"linktype",i.prototype.LINK_URL_KEY=i.prototype.DL_PREFIX+"linkurl",i.prototype.REPRESENTATION_ORDER_KEY=i.prototype.DL_PREFIX+"representationOrder",i.prototype.RENDITION_TYPE_KEY=i.prototype.DL_PREFIX+"renditiontype",i.prototype.COMPOSITE_TYPE="application/vnd.adobe.library+dcx",i.prototype.LINK_REPRESENTATION_TYPE="application/vnd.adobe.library.link+dcx",i.prototype.ELEMENTS_NAME="elements",i.prototype.REMOVED_ELEMENTS_NAME="removed_elements",i.prototype.DATA_COLLABORATION_ROLE="collaborationRole",i.prototype.ANALYTICS_ELEMENT_UPDATE_THRESHOLD=500,i.prototype.BOOKMARKS_FILENAME="bookmarks.json",i.prototype.BOOKMARKS_PATH="/bookmarks",i.prototype.BOOKMARKS_MONITOR_PATH="/sync/adobe-libraries/"+i.prototype.BOOKMARKS_FILENAME,i.prototype.PUBLIC_USER_ID="public",i.prototype.DEFAULT_CLOUD_ID="creative_cloud",i.prototype.DEFAULT_CORESYNC_CLOUD_ID="00000000-0000-0000-0000-000000000000",i.prototype.STORAGE_ASSETS_PATH="/assets/",i.prototype.LIBRARY_SYNC_GROUP="adobe-libraries",i.prototype.CP_CLOUD_ID="community-platform",i.prototype.CP_STORAGE_ASSETS_PATH="/content/2/",i.prototype.STORAGE_API_KEY="",i.prototype.USER_AGENT_HEADER=void 0,i.prototype.SYNCING_ENABLED=!0,i.prototype.VULCAN_QUERY_TIMEOUT=8e3,i.prototype.DEFAULT_MAX_SYNC_INTERVAL=1e4,i.prototype.RETRY_FAIL_MAX_SYNC_INTERVAL=6e4,i.prototype.MAX_SYNC_INTERVAL=i.prototype.DEFAULT_MAX_SYNC_INTERVAL,i.prototype.POLL_INTERVAL=1,i.prototype.AUTO_START_POLLING=!1,i.prototype.RENDITION_SIZES={},i.prototype.FULL_RENDITION_CONFIG={},i.prototype.BACKOFF_INTERVALS=[1,1,2,3,5,8,13,21,34,55],i.prototype.ERROR_RETRY_INTERVALS=[30,60,120],i.prototype.NETWORK_TIMEOUT=6e5,i.prototype.RETRY_RANDOM_SECONDS=30,i.prototype.RENDITION_MAX_RETRIES=2,i.prototype.DEFAULT_RENDITION_RETRY_INTERVAL=1e3,i.prototype.RENDITION_RETRY_INTERVAL=i.prototype.DEFAULT_RENDITION_RETRY_INTERVAL,i.prototype.DEFAULT_RENDITION_404_BACKOFF=3e5,i.prototype.RENDITION_404_BACKOFF=i.prototype.DEFAULT_RENDITION_404_BACKOFF,i.prototype.LOCAL_RENDITION_MAX_RETRIES=5,i.prototype.LOCAL_RENDITION_RETRY_INTERVAL=200,i.prototype.MAX_UPDATE_CONFLICTS=5,i.prototype.MAX_REDIRECT_FOLLOW=5,i.prototype.MAX_HEAD_REDIRECT_FOLLOW=0,i.prototype.WHITELISTED_DOMAINS=[],i.prototype.ADOBE_AUTHENTICATED_DOMAINS=["adobe.com","adobe.io","fotolia.net"],i.prototype.SYNC_POLICY="manifestAndAssets",i.prototype.REMOVED_ELEMENTS_CACHE_TIMEOUT=6e5,i.prototype.RENDITION_CACHE_FILE="cache.json",i.prototype.RENDITION_CACHE_PLACEHOLDER="<placeholder>",i.prototype.SHARED_LOCAL_STORAGE=!0,i.prototype.SHARED_LOCAL_STORAGE_VERSION=9,i.prototype.SHARED_LOCAL_STORAGE_MIN_CLIENT_VERSION=5,i.prototype.SHARED_LOCAL_STORAGE_MAX_CLIENT_VERSION=9,i.prototype.VULCAN_PREFIX="vulcan.SuiteMessage.",i.prototype.VULCAN_STARTUP_MESSAGE="cclibraries.service.Initialized",i.prototype.VULCAN_SHUTDOWN_REQUEST="cclibraries.service.TerminateServiceRequest",i.prototype.VULCAN_QUERY_REQUEST="cclibraries.service.QueryRequest",i.prototype.VULCAN_QUERY_RESPONSE="cclibraries.service.QueryResponse",i.prototype.VULCAN_LIBRARY_CHANGED_LOCAL_TYPE="cclibraries.service.LibraryChangedLocal",i.prototype.VULCAN_LIBRARY_CHANGED_REMOTE_TYPE="cclibraries.service.LibraryChangedRemote",i.prototype.VULCAN_LIBRARY_DELETED_TYPE="cclibraries.service.LibraryDeleted",i.prototype.VULCAN_COLLECTIONS_LOADED_TYPE="cclibraries.service.LibrariesLoaded",i.prototype.VULCAN_COLLECTIONS_UNLOADED_TYPE="cclibraries.service.LibrariesUnloaded",i.prototype.VULCAN_PROXY_QUERY_REQUEST="cclibraries.service.QueryProxySettingsRequest",i.prototype.VULCAN_PROXY_QUERY_RESPONSE="cclibraries.service.QueryProxySettingsResponse",i.prototype.VULCAN_PROXY_CHANGE_MESSAGE="cclibraries.service.ProxySettingsChanged",i.prototype.VULCAN_APP_READY_MESSAGE="cclibraries.accessor.AppReady",i.prototype.VULCAN_APP_SEND_ACTION_MESSAGE="cclibraries.accessor.EditElementRequest",i.prototype.VULCAN_APP_ACTION_ACCEPTED_MESSAGE="cclibraries.accessor.EditAcceptedMessage",i.prototype.ELEMENT_ACTIONS=["edit","openStock"],i.prototype.ELEMENT_ACTION_PRODUCT_MAP={types:{"application/vnd.adobe.element.image+dcx":{"application/illustrator":["ILST_EDIT","ILST_PLACE","IDSN_PLACE"],"image/svg+xml":["ILST_EDIT","ILST_PLACE"],"application/vnd.adobe.indesign-idms":["IDSN_EDIT","IDSN_PLACE"],"image/vnd.adobe.photoshop":["PHXS_EDIT","PHXS_PLACE","IDSN_PLACE"],"application/photoshop":["PHXS_EDIT","PHXS_PLACE","IDSN_PLACE"],"application/photoshop.large":["PHXS_EDIT","PHXS_PLACE","IDSN_PLACE"],"image/png":["PHXS_EDIT","PHXS_PLACE","ILST_PLACE","IDSN_PLACE","PPRO_PLACE","AEFT_PLACE"],"image/jpeg":["PHXS_EDIT","PHXS_PLACE","ILST_PLACE","IDSN_PLACE","PPRO_PLACE","AEFT_PLACE"],"image/jpg":["PHXS_EDIT","PHXS_PLACE","IDSN_PLACE","ILST_PLACE","PPRO_PLACE","AEFT_PLACE"],"image/gif":["PHXS_EDIT","PHXS_PLACE","ILST_PLACE","IDSN_PLACE","PPRO_PLACE","AEFT_PLACE"],"image/bmp":["PHXS_EDIT","PHXS_PLACE","ILST_PLACE","IDSN_PLACE","PPRO_PLACE","AEFT_PLACE"],"image/x-portable-bitmap":["PHXS_EDIT","PHXS_PLACE"],"image/x-pict":["PHXS_EDIT","PHXS_PLACE"],"image/x-pcx":["PHXS_EDIT","PHXS_PLACE"],"image/x-portable-graymap":["PHXS_EDIT","PHXS_PLACE"],"image/x-portable-anymap":["PHXS_EDIT","PHXS_PLACE"],"image/x-portable-pixmap":["PHXS_EDIT","PHXS_PLACE"],"image/x-tga":["PHXS_EDIT","PHXS_PLACE"],"image/tiff":["PHXS_EDIT","PHXS_PLACE"],"image/vnd.wap.wbmp":["PHXS_EDIT","PHXS_PLACE"]},"application/vnd.adobe.element.template+dcx":{"image/vnd.adobe.photoshop.template":["PHXS_PLACE"],"application/illustrator.template":["ILST_PLACE"],"application/vnd.adobe.indesign.template":["IDSN_PLACE"]},"application/vnd.adobe.element.3d+dcx":{"application/vnd.adobe.obj.3d+zip":["ESHR_PLACE"]},"application/vnd.adobe.element.material+dcx":{"application/vnd.adobe.mdl.material+zip":["ESHR_PLACE"]},"application/vnd.adobe.element.light+dcx":{"application/vnd.adobe.ibl.light+zip":["ESHR_PLACE"]}},products:{ILST_EDIT:{minVersion:"19.2",appCode:"ILST",appName:"Illustrator",action:"edit"},IDSN_EDIT:{minVersion:"11.2",appCode:"IDSN",appName:"InDesign",action:"edit"},PHXS_EDIT:{minVersion:"16.1.2",appCode:"PHXS",appName:"Photoshop",action:"edit"},PHXS_PLACE:{minVersion:"17.0.0",appCode:"PHXS",appName:"Photoshop",action:"openStock"},ILST_PLACE:{minVersion:"20.0.0",appCode:"ILST",appName:"Illustrator",action:"openStock"},IDSN_PLACE:{minVersion:"11.4.0",appCode:"IDSN",appName:"InDesign",action:"openStock"},PPRO_PLACE:{minVersion:"10.3.0",appCode:"PPRO",appName:"Premiere Pro",action:"openStock"},AEFT_PLACE:{minVersion:"13.8.0",appCode:"AEFT",appName:"After Effects",action:"openStock"},ESHR_PLACE:{minVersion:"0.1",appCode:"ESHR",appName:"Project Felix",action:"openStock"}},installedApps:[]},i.prototype.STOCK_NAMESPACE="adobestock",i.prototype.STOCK_DATA_KEY="trackingdata",i.prototype.STOCK_STATE_PURCHASED="purchased",i.prototype.setParameter=function(e,t){if(-1===o.indexOf(e))throw new r(r.INVALID_PARAMETER,"Parameter not configurable");if("SYNC_POLICY"===e&&-1===this.VALID_SYNC_POLICIES.indexOf(t))throw new r(r.INVALID_PARAMETER,"Invalid value for SYNC_POLICY");"POLL_INTERVAL"===e&&(t=Math.max(1,t)),this[e]=t},Object.freeze(i),Object.seal(i.prototype),new i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryLock",["require","exports","module"],function(e,t,n){"use strict";function i(){this._isLocked=!1,this._pendingContinuations=[]}return i.prototype.obtain=function(e,t){this._isLocked?this._pendingContinuations.push({continuation:e,thisObject:t}):(this._isLocked=!0,e.apply(t,[null]))},i.prototype.release=function(){if(this._pendingContinuations.length>0){var e=this._pendingContinuations.shift();setTimeout(function(){e.continuation.apply(e.thisObject,[null])})}else this._isLocked=!1},i.prototype.abortPendingOperations=function(e){var t=this._pendingContinuations;this._pendingContinuations=[],t.forEach(function(t){t.continuation.apply(t.thisObject,[e])})},i.prototype.isLocked=function(){return this._isLocked},i.prototype.hasPendingRequest=function(){return this._pendingContinuations.length>0},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryMimeTypeUtils",["require","exports","module"],function(e,t,n){"use strict";function i(e){var t=e.match(/application\/x-adobe-libraries-(.+)/);return t?[t[1]]:[]}function r(e){return["application/x-adobe-libraries-"+e]}var o={},a={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/hyperstudio":["stk"],"application/illustrator":["ai"],"application/illustrator.template":["ait"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js"],"application/json":["json"],"application/jsonml+json":["jsonml"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/photoshop":["psd"],"application/photoshop.large":["psb"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/prs.cww":["cww"],"application/pskc+xml":["pskcxml"],"application/rdf+xml":["rdf"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],
"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.animate-xfl+zip":["fla","xfl"],"application/vnd.adobe.animate-oam+zip":["oam"],"application/vnd.adobe.animate-sym+zip":["sym"],"application/vnd.adobe.animate-swf+zip":["swa"],"application/vnd.adobe.characterstyle+json":["style"],"application/vnd.adobe.characterstyle+snippet":["idms"],"application/vnd.adobe.charts+zip":["zip"],"application/vnd.adobe.color+json":["ase"],"application/vnd.adobe.colortheme+json":["ase"],"application/vnd.adobe.cube+txt":["cube"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.ibl.light+zip":["zip"],"application/vnd.adobe.indesign-idms":["idms"],"application/vnd.adobe.indesign.template":["indt"],"application/vnd.adobe.layerstyle":["asl"],"application/vnd.adobe.look+xml":["look"],"application/vnd.adobe.mdl.material+zip":["zip"],"application/vnd.adobe.muse-collection":["muse"],"application/vnd.adobe.obj.3d+zip":["zip"],"application/vnd.adobe.paragraphstyle+json":["style"],"application/vnd.adobe.paragraphstyle+snippet":["idms"],"application/vnd.adobe.ribbon.brush+zip":["brush"],"application/vnd.adobe.scatter.brush+zip":["brush"],"application/vnd.adobe.vector.brush+zip":["brush"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/voicexml+xml":["vxml"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["dmg"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-otf":["otf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-ttf":["ttf","ttc"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/font-woff":["woff"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["iso"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lzh-compressed":["lzh","lha"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdownload":["exe","dll","com","bat","msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["wmf","wmz","emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-nzb":["nzb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-research-info-systems":["ris"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-wais-source":["src"],"application/x-x509-ca-cert":["der","crt"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp4":["mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/webm":["weba"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-wav":["wav"],"audio/xm":["xm"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dng":["dng"],"image/g3fax":["g3"],"image/gif":["gif"],"image/ief":["ief"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpg":["jpg"],"image/ktx":["ktx"],"image/png":["png"],"image/prs.btif":["btif"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/tiff":["tiff","tif"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.adobe.photoshop.template":["psdt"],"image/vnd.adobe.pattern+png":["png"],"image/vnd.adobe.shape+svg":["shape"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.dvb.subtitle":["sub"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/webp":["webp"],"image/x-3ds":["3ds"],"image/x-adobe-dng":["dng"],"image/x-adobe-photoshop-brush":["abr"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-mrsid-image":["sid"],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/rfc822":["eml","mime"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.vtu":["vtu"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["x3db","x3dbz"],"model/x3d+vrml":["x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"text/cache-manifest":["appcache"],"text/calendar":["ics","ifb"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in"],"text/prs.lines.tag":["dsc"],"text/richtext":["rtx"],"text/sgml":["sgml","sgm"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-fortran":["f","for","f77","f90"],"text/x-java-source":["java"],"text/x-opml":["opml"],"text/x-pascal":["p","pas"],"text/x-nfo":["nfo"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/3gpp":["3gp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]},s={};return Object.keys(a).forEach(function(e){var t=a[e];t.forEach(function(t){s[t]=s[t]||[],s[t].push(e)})}),o.getExtensions=function(e){return e?a[e.toLowerCase()]||i(e.toLowerCase()):[]},o.getMimeTypes=function(e){return e?s[e.toLowerCase()]||r(e.toLowerCase()):[]},Object.seal(o),o}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryGeneralUtils",["require","exports","module"],function(e,t,n){"use strict";var i={};return i.wrapCallback=function(e){return function(){e&&e.apply(this,arguments)}},i.constructStringFromTemplate=function(e,t){var n=e;return Object.keys(t).forEach(function(e){n=n.replace("{{"+e+"}}",t[e])}),n},i.parseLocalisationFile=function(e){var t,n,i,r,o={},a=0,s=e.split(/\n/);for(a=0;a<s.length;a++)if(s[a]=s[a].replace(/^\s\s*/,"").replace(/\s\s*$/,""),s[a].length>0&&"#"!==s[a].match("^#")){for(t=s[a].split("="),n=t[0].replace(/^\s\s*/,"").replace(/\s\s*$/,""),i=1===t.length?"":t[1];i.match(/\\$/)&&"\\"===i.match(/\\$/).toString();)i=i.substring(0,i.length-1),i+=s[++a].replace(/\s\s*$/,"");for(r=2;r<t.length;r++)i+="="+t[r];i=i.replace(/^\s\s*/,"").replace(/\s\s*$/,""),o[n]=i}return o},i.compareVersions=function(e,t){if(e=(e||"0").toString().replace(/(\.0)*$/,"").replace(/[^\.0-9]+/gim,"."),t=(t||"0").toString().replace(/(\.0)*$/,"").replace(/[^\.0-9]+/gim,"."),(isNaN(parseInt(e,10))||parseInt(e,10)>250)&&(e="0"),(isNaN(parseInt(t,10))||parseInt(t,10)>250)&&(t="0"),e===t)return 0;var n,i,r=e.split("."),o=t.split(".");for(n=0;n<r.length&&n<o.length;n++){if(i=parseInt(r[n],10)-parseInt(o[n],10),isNaN(i))return isNaN(parseInt(r[n],10))?1:-1;if(i>0)return-1;if(0>i)return 1}return i=r.length-o.length,i>0?-1:0>i?1:0},Object.seal(i),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function n(e,n,i,r){if(n===r)return!0;if(e===i){if("http"===e)return t(n,"80")===t(r,"80");if("https"===e)return t(n,"443")===t(r,"443")}return!1}var i,r,o=["LIBS_OPEN_IN"],a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,u=c&&location.protocol&&location.protocol.replace(/\:/,""),d=c&&location.hostname,p=c&&(location.port||void 0),f={},h=e.config&&e.config()||{};return i={version:"2.0.15",strip:function(e){if(e){e=e.replace(s,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:h.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=a[t];try{e=new ActiveXObject(n)}catch(i){}if(e){a=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,o=e.lastIndexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!a||o>1)?(t=e.substring(0,o),n=e.substring(o+1)):t=e,i=n||t,o=i.indexOf("!"),-1!==o&&(r="strip"===i.substring(o+1),i=i.substring(0,o),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,r,o){var a,s,l,c=i.xdRegExp.exec(e);return c?(a=c[2],s=c[3],s=s.split(":"),l=s[1],s=s[0],(!a||a===t)&&(!s||s.toLowerCase()===r.toLowerCase())&&(!l&&!s||n(a,l,t,o))):!0},finishLoad:function(e,t,n,r){if(e.match(/.*messages.properties$/)){var a=[];n.split("\n").forEach(function(e){var t=o.every(function(t){return 0!==e.indexOf(t)});e.length>0&&t&&a.push(e)}),n=a.join("\n")}n=t?i.strip(n):n,h.isBuild&&(f[e]=n),r(n)},load:function(e,t,n,r){if(r&&r.isBuild&&!r.inlineText)return void n();h.isBuild=r&&r.isBuild;var o=i.parseName(e),a=o.moduleName+(o.ext?"."+o.ext:""),s=t.toUrl(a),l=h.useXhr||i.useXhr;return 0===s.indexOf("empty:")?void n():void(!c||l(s,u,d,p)?i.get(s,function(t){i.finishLoad(e,o.strip,t,n)},function(e){n.error&&n.error(e)}):t([a],function(e){i.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n)}))},write:function(e,t,n,r){if(f.hasOwnProperty(t)){var o=i.jsEscape(f[t]);n.asModule(e+"!"+t,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,t,n,r,o){var a=i.parseName(t),s=a.ext?"."+a.ext:"",l=a.moduleName+s,c=n.toUrl(a.moduleName+s)+".js";i.load(l,n,function(t){var n=function(e){return r(c,e)};n.asModule=function(e,t){return r.asModule(e,c,t)},i.write(e,l,n,o)},o)}},"node"===h.env||!h.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(r=nodeRequire("fs"),i.get=function(e,t,n){try{var i=r.readFileSync(e,"utf8");"\ufeff"===i[0]&&(i=i.substring(1)),t(i)}catch(o){n&&n(o)}}):("xhr"===h.env||!h.env&&i.createXhr())&&(i.get=function(e,t,n,r){var o,a=i.createXhr();if(a.open("GET",e,!0),r)for(o in r)r.hasOwnProperty(o)&&a.setRequestHeader(o.toLowerCase(),r[o]);h.onXhr&&h.onXhr(a,e),a.onreadystatechange=function(i){var r,o;4===a.readyState&&(r=a.status||0,r>399&&600>r?(o=new Error(e+" HTTP status: "+r),o.xhr=a,n&&n(o)):t(a.responseText),h.onXhrComplete&&h.onXhrComplete(a,e))},a.send(null)}),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/cs_CZ/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Moje knihovna\nLIBS_RECOVERED_LIBRARY={{name}} (obnoveno)";
}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/da_DK/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Mit bibliotek\nLIBS_RECOVERED_LIBRARY={{name}} (Gendannet)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/de_DE/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Meine Bibliothek\nLIBS_RECOVERED_LIBRARY={{name}} (Wiederhergestellt)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/en_US/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=My Library\nLIBS_RECOVERED_LIBRARY={{name}} (Recovered)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/es_ES/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Mi biblioteca\nLIBS_RECOVERED_LIBRARY={{name}} (recuperado)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/es_MX/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Mi biblioteca\nLIBS_RECOVERED_LIBRARY={{name}} (recuperado)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/fi_FI/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Oma kirjasto\nLIBS_RECOVERED_LIBRARY={{name}} (palautettu)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/fr_CA/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Ma bibliothque\nLIBS_RECOVERED_LIBRARY={{name}} (Rcupr)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/fr_FR/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Ma bibliothque\nLIBS_RECOVERED_LIBRARY={{name}} (Rcupr)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/fr_MA/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Ma bibliothque\nLIBS_RECOVERED_LIBRARY={{name}} (Rcupr)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/hu_HU/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Sajt knyvtr\nLIBS_RECOVERED_LIBRARY={{name}} (helyrelltott)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/it_IT/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Libreria personale\nLIBS_RECOVERED_LIBRARY={{name}} (recuperato)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/ja_JP/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=\nLIBS_RECOVERED_LIBRARY={{name}} ()"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/ko_KR/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME= \nLIBS_RECOVERED_LIBRARY={{name}}()"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/nb_NO/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Biblioteket mitt\nLIBS_RECOVERED_LIBRARY={{name}} (gjenopprettet)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/nl_NL/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Mijn bibliotheek\nLIBS_RECOVERED_LIBRARY={{name}} (hersteld)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/pl_PL/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Moja biblioteka\nLIBS_RECOVERED_LIBRARY={{name}} (Odzyskane)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/pt_BR/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Minha biblioteca\nLIBS_RECOVERED_LIBRARY={{name}} (Recuperado)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/ru_RU/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME= \nLIBS_RECOVERED_LIBRARY={{name}} ()"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/sv_SE/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Mitt bibliotek\nLIBS_RECOVERED_LIBRARY={{name}} (terskapet)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/tr_TR/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Kitaplm\nLIBS_RECOVERED_LIBRARY={{ad}} ((Kurtarld))"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/uk_UA/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME= \nLIBS_RECOVERED_LIBRARY={{name}} ()"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/zh_CN/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=\nLIBS_RECOVERED_LIBRARY={{name}} "}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/zh_TW/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=\nLIBS_RECOVERED_LIBRARY={{name}} ()"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryLocalisation",["require","exports","module","./AdobeLibraryServices","./utils/AdobeLibraryGeneralUtils","./third_party/text/text!../locale/cs_CZ/messages.properties","./third_party/text/text!../locale/da_DK/messages.properties","./third_party/text/text!../locale/de_DE/messages.properties","./third_party/text/text!../locale/en_US/messages.properties","./third_party/text/text!../locale/es_ES/messages.properties","./third_party/text/text!../locale/es_MX/messages.properties","./third_party/text/text!../locale/fi_FI/messages.properties","./third_party/text/text!../locale/fr_CA/messages.properties","./third_party/text/text!../locale/fr_FR/messages.properties","./third_party/text/text!../locale/fr_MA/messages.properties","./third_party/text/text!../locale/hu_HU/messages.properties","./third_party/text/text!../locale/it_IT/messages.properties","./third_party/text/text!../locale/ja_JP/messages.properties","./third_party/text/text!../locale/ko_KR/messages.properties","./third_party/text/text!../locale/nb_NO/messages.properties","./third_party/text/text!../locale/nl_NL/messages.properties","./third_party/text/text!../locale/pl_PL/messages.properties","./third_party/text/text!../locale/pt_BR/messages.properties","./third_party/text/text!../locale/ru_RU/messages.properties","./third_party/text/text!../locale/sv_SE/messages.properties","./third_party/text/text!../locale/tr_TR/messages.properties","./third_party/text/text!../locale/uk_UA/messages.properties","./third_party/text/text!../locale/zh_CN/messages.properties","./third_party/text/text!../locale/zh_TW/messages.properties"],function(e,t,n){"use strict";function i(){this.setLocale()}var r=e("./AdobeLibraryServices"),o=e("./utils/AdobeLibraryGeneralUtils"),a={},s=typeof LOCALE_ROOT,l="undefined"!==s;return r.hasFileSystem()&&l||(a={cs_CZ:e("./third_party/text/text!../locale/cs_CZ/messages.properties"),da_DK:e("./third_party/text/text!../locale/da_DK/messages.properties"),de_DE:e("./third_party/text/text!../locale/de_DE/messages.properties"),en_US:e("./third_party/text/text!../locale/en_US/messages.properties"),es_ES:e("./third_party/text/text!../locale/es_ES/messages.properties"),es_MX:e("./third_party/text/text!../locale/es_MX/messages.properties"),fi_FI:e("./third_party/text/text!../locale/fi_FI/messages.properties"),fr_CA:e("./third_party/text/text!../locale/fr_CA/messages.properties"),fr_FR:e("./third_party/text/text!../locale/fr_FR/messages.properties"),fr_MA:e("./third_party/text/text!../locale/fr_MA/messages.properties"),hu_HU:e("./third_party/text/text!../locale/hu_HU/messages.properties"),it_IT:e("./third_party/text/text!../locale/it_IT/messages.properties"),ja_JP:e("./third_party/text/text!../locale/ja_JP/messages.properties"),ko_KR:e("./third_party/text/text!../locale/ko_KR/messages.properties"),nb_NO:e("./third_party/text/text!../locale/nb_NO/messages.properties"),nl_NL:e("./third_party/text/text!../locale/nl_NL/messages.properties"),pl_PL:e("./third_party/text/text!../locale/pl_PL/messages.properties"),pt_BR:e("./third_party/text/text!../locale/pt_BR/messages.properties"),ru_RU:e("./third_party/text/text!../locale/ru_RU/messages.properties"),sv_SE:e("./third_party/text/text!../locale/sv_SE/messages.properties"),tr_TR:e("./third_party/text/text!../locale/tr_TR/messages.properties"),uk_UA:e("./third_party/text/text!../locale/uk_UA/messages.properties"),zh_CN:e("./third_party/text/text!../locale/zh_CN/messages.properties"),zh_TW:e("./third_party/text/text!../locale/zh_TW/messages.properties")}),i.prototype._getLocaleData=function(e){if(!a[e]&&r.hasFileSystem()&&l)try{var t="readFileSync";a[e]=r.fs[t](LOCALE_ROOT+e+"/messages.properties","utf8")}catch(n){}return a[e]},i.prototype._normaliseLocale=function(e){if(e){e=e.replace("-","_");var t=e.split("_");return t[0]=t[0]&&t[0].toLowerCase(),t[1]=t[1]&&t[1].toUpperCase(),t.join("_")}},i.prototype.setLocale=function(e){e=this._normaliseLocale(e),e&&this._getLocaleData(e)||(e="en_US"),this._locale=e,this._strings=o.parseLocalisationFile(this._getLocaleData(this._locale))},i.prototype.getLocale=function(){return this._locale},i.prototype.translate=function(e,t){var n=this._strings[e];return n&&t&&(n=o.constructStringFromTemplate(n,t)),n||e},Object.freeze(i),Object.seal(i.prototype),new i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryAsyncJoin",["require","exports","module","../AdobeLibraryError"],function(e,t,n){"use strict";function i(){this._operations=[],this._isRunning=!1}var r=e("../AdobeLibraryError");return i.prototype.addOperation=function(e,t,n){if(this._isRunning)throw new r(r.INVALID_PARAMETER,"Cannot add operations after calling run()");this._operations.push({operation:e,argsArray:t||[],thisObject:n})},i.prototype.run=function(e,t){function n(t,n,i){e&&e(t,n,i)}function i(e,i,d){if(e&&t&&t(e),!l){if(a=a||e,c[d])return l=!0,void n(new r(r.INVALID_PARAMETER,"Operation not valid: calls callback multiple times"));if(s++,u[d]=i,c[d]=!0,s===o){l=!0;var p=u.reduce(function(e,t){return e||t},!1)?!0:!1;n(a||null,p,u)}}}if(this._isRunning)throw new r(r.INVALID_PARAMETER,"Cannot call run() more than once");this._isRunning=!0;var o=this._operations.length;0===o&&n(null,!1,[]);var a,s=0,l=!1,c=[],u=[];this._operations.forEach(function(e,t){e.argsArray.push(function(e,n){i(e,n,t)}),e.operation.apply(e.thisObject,e.argsArray)})},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryManifestUtils",["require","exports","module","../components/dcx-js/src/AdobeDCX","../components/dcx-js/src/AdobeDCXError","../AdobeLibraryConfig","../AdobeLibraryServices","../AdobeLibraryLocalisation","../AdobeLibraryError","./AdobeLibraryAsyncJoin"],function(e,t,n){"use strict";var i=e("../components/dcx-js/src/AdobeDCX"),r=e("../components/dcx-js/src/AdobeDCXError"),o=e("../AdobeLibraryConfig"),a=e("../AdobeLibraryServices"),s=e("../AdobeLibraryLocalisation"),l=e("../AdobeLibraryError"),c=e("./AdobeLibraryAsyncJoin"),u={},d={};u.isCompatibleType=function(e,t){return e===t||e===d[t]},u.validateLibraryId=function(e,t){if(t){if(e&&e.length>=30&&e.match(/^[0-9A-Z\-]+$/i))return!0}else if(e&&e.match(/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i))return!0;return!1},u.validateLibrary=function(e){var t=e.current&&e.current.rootNode.getValue(o.VERSION_KEY);return t!==o.VERSION?!1:!0},u.areManifestsEqual=function(e,t){try{var n=JSON.parse(e),i=JSON.parse(t);if(delete n["manifest-format-version"],delete i["manifest-format-version"],JSON.stringify(n)===JSON.stringify(i))return!0}catch(r){}return!1},u.getDCXKey=function(e,t){if(!e||!("string"==typeof e||e instanceof String)||""===e)throw new l(l.INVALID_PARAMETER,"Invalid namespace");if(!t||!("string"==typeof t||t instanceof String)||""===t)throw new l(l.INVALID_PARAMETER,"Invalid key");return e+"#"+t},u.getCustomDCXData=function(e){var t=e.getCustomKeys(),n=[];return t.forEach(function(t){var i=t.split("#"),r=i.length>=2;r&&i.forEach(function(e){""===e&&(r=!1)});var a=0===t.indexOf(o.DL_PREFIX);r&&!a&&n.push({namespace:i.shift(),key:i.join("#"),value:e.getValue(t)})}),n},u.copyCustomDCXData=function(e,t){var n=u.getCustomDCXData(e);n.forEach(function(e){t.setValue(u.getDCXKey(e.namespace,e.key),e.value)});var i=[o.REPRESENTATION_ORDER_KEY,o.IS_PREFERRED_THUMBNAIL_KEY];i.forEach(function(n){var i=e.getValue(n);i&&t.setValue(n,i)})},u.checkDeletedState=function(e,t){if(e.isDeletedLocally){if(t)return t(new l(l.DELETED_LOCALLY,"deleted/orphan object")),!0;throw new l(l.DELETED_LOCALLY,"deleted/orphan object")}return!1},u.checkEncoding=function(e,t,n){if(-1===t.indexOf(e)){var i=t.join(", ");return n(new l(l.INVALID_PARAMETER,"Unsupported encoding. Supported encodings are: "+i)),!1}return!0},u.sortRepresentations=function(e){if(!(e.length<2))for(var t,n,i,r;;){for(t=!1,n=1;n<e.length;n++)i=e[n-1],r=e[n],r._getOrder()<i._getOrder()&&(e[n-1]=r,e[n]=i,t=!0);if(!t)break}},u.removeMissingComponents=function(e,t){if(e&&t){var n=0;return t.forEach(function(t){var i=t.component,r=t.error;i&&r&&r.response&&404===r.response.statusCode&&(e.removeComponent(i),n++,a.log("Removed missing component: "+i.id+" from library "+e.compositeId))}),a.log("Fixed "+n+" of "+t.length+" components that failed to download"),t.length===n?e:void 0}};var p=function(e,t){var n;return e.elements.some(function(e){return e.representations.some(function(e){return e.id===t?(n=e,!0):void 0})}),n};return u.removeMissingLocalComponents=function(e,t){if(e&&t){var n=0,i=[];t.forEach(function(t){var o=t.component,s=t.error;if(o&&s&&s.code===r.INVALID_STATE){var l=p(e,o.id);l?i.push(l):e._dcxBranch.removeComponent(o),n++,a.log("Removed missing local component: "+o.id+" from library "+e.id)}}),n>0&&(e._beginOperation(),i.forEach(function(e){e.element.removeRepresentation(e)}),e._endOperation()),a.log("Fixed "+n+" of "+t.length+" components that failed to upload")}},u.recoverReadOnlyEdits=function(e,t,n){var i=[];e.elements.forEach(function(e){var n=t&&t.getChildWithId(e.id),r=n&&n.getValue(o.MODIFIED_KEY);r!==e.modified&&i.push(e)});var r=new c;if(i.length>0){var l,u=s.translate("LIBS_RECOVERED_LIBRARY",{name:e.name});e.collection.libraries.some(function(e){return e.name===u&&e.isWritable&&"incoming"!==e.collaboration&&e.elements.length<o.MAX_ELEMENTS?(l=e,!0):void 0}),l||(l=e.collection.createLibrary(u)),i.forEach(function(t){r.addOperation(e.copyElement,[t,l],e)}),a.log("Recovering "+i.length+" elements from read-only library")}r.run(n)},u.ensureBranchDataValid=function(e){var t=[o.ELEMENTS_NAME,o.REMOVED_ELEMENTS_NAME],n=!1,i=function(i){if(-1!==t.indexOf(i.name)){var r=i.name===o.REMOVED_ELEMENTS_NAME,a=e.getChildrenOf(i);a.forEach(function(e){var t=e.getValue(o.REMOVED_KEY);!r&&t?(e.removeValue(o.REMOVED_KEY),n=!0):r&&!t&&(e.setValue(o.REMOVED_KEY,(new Date).valueOf()),n=!0)})}};return e.getChildrenOf().forEach(i),n},u.collaborationStateToDCX=function(e){return"incoming"===e?i.COLLABORATION.SHARED_WITH_USER:"outgoing"===e?i.COLLABORATION.SHARED_BY_USER:i.COLLABORATION.PRIVATE},u.collaborationStateFromDCX=function(e){return e===i.COLLABORATION.SHARED_WITH_USER?"incoming":e===i.COLLABORATION.SHARED_BY_USER?"outgoing":void 0},u.getCompositeRenditionMap=function(e){var t=e.getComponentsOf(),n={};return t&&t.forEach(function(e){if("rendition"===e.relationship){var t=e.getValue(o.RENDITION_TYPE_KEY);t&&(n[t]=e)}}),n},Object.seal(u),u}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryFileUtils",["require","exports","module","../AdobeLibraryServices","./AdobeLibraryGeneralUtils"],function(e,t,n){"use strict";var i=e("../AdobeLibraryServices"),r=e("./AdobeLibraryGeneralUtils"),o={},a=function(e){return e+".TEMP_"+i.uuid()},s=function(e){var t=e.match(/(.*)\.TEMP_[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i);return t&&t[1]?t[1]:e};return o.ensurePathExists=function(e,t){function n(e,t,i){var a=t.slice(0,e).join(r),s=function(r){e<t.length?n(e+1,t,i):i(null)};o.exists(a,function(e){e?s():o.mkdir(a,s)})}var r=i.getPathSeparator(),o=i.fs,a=e.split(r);n(2,a,t)},o.copyFile=function(e,t,n){var r=i.fs;try{var o=a(t),s=r.createWriteStream(o),l=r.createReadStream(e),c=!1;l.on("end",function(){c||r.rename(o,t,n)}),l.on("error",function(e){c=!0,n(e)}),l.pipe(s)}catch(u){n(u)}},o.normaliseTempFileName=function(e){return s(e)},o.getFileExtension=function(e){var t=e&&e.replace(/^.*[\\\/]/,""),n=t?t.lastIndexOf("."):-1;return-1!==n?t.substr(n+1).toLowerCase():void 0},o.recursiveDeleteDirectory=function(e,t){var n=i.getPathSeparator(),r=i.fs,a=function(e){e&&"ENOENT"===e.code&&(e=null),t&&t(e)};r.exists(e,function(t){t?r.readdir(e,function(t,i){function s(t){t&&"ENOENT"===t.code&&(t=null),l=l||t,c++,c===i.length&&(l?a(l):r.rmdir(e,a))}if(t)return void a(t);if(!i||0===i.length)return void r.rmdir(e,a);var l=null,c=0;i.forEach(function(t){var i=e+n+t;r.stat(i,function(e,t){l=l||e,t&&t.isDirectory()?o.recursiveDeleteDirectory(i,s):r.unlink(i,s)})})}):a(null)})},o.moveLibrary=function(e,t,n){var r=i.fs;if(t===e.id)return void n(null);var o=e._collection._getCompositeDir(t),a=e._getCompositeDir(),s=e._collection._getRenditionCacheDir(t),l=e._getRenditionCacheDir();r.rename(o,a,function(t){return t?void n(t):(e._dcxComposite.path=a,void r.rename(s,l,n))})},o.readLibraryDirectory=function(e,t){var n=i.fs,r=e._getTempDir();o.recursiveDeleteDirectory(r,function(){var i=e._getCompositeDir();n.readdir(i,t)})},o.doesRootDirExist=function(e,t){var n=i.fs,r=e._getCompositeDir();n.exists(r,function(e){t(null,e)})},o.deleteLibraryFromDisk=function(e,t,n){var a=r.wrapCallback(n);if(!i.hasFileSystem())return void a(null);var s=e._getCompositeDir(t),l=e._getRenditionCacheDir(t);o.recursiveDeleteDirectory(s,function(){o.recursiveDeleteDirectory(l,a)})},o.writeJSONData=function(e,t,n,r){var a=i.fs;o.ensurePathExists(e,function(o){if(o)return void r(o);var s=e+i.getPathSeparator()+t,l=s+".TEMP_"+i.uuid();a.writeFile(l,JSON.stringify(n,void 0,2),"utf8",function(e){return e?void r(e):void a.rename(l,s,r)})})},o.readJSONData=function(e,t){var n=i.fs;n.readFile(e,"utf8",function(e,n){if(e){if("ENOENT"===e.code)return t(null)}else try{n=n&&JSON.parse(n)}catch(i){n=void 0,e=i}t(e,n)})},Object.seal(o),o}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryErrorUtils",["require","exports","module","../components/dcx-js/src/AdobeDCXError","../AdobeLibraryError"],function(e,t,n){"use strict";var i=e("../components/dcx-js/src/AdobeDCXError"),r=e("../AdobeLibraryError"),o={};return o.getErrorStatusCode=function(e){if(e){var t=e.code===i.UNEXPECTED_RESPONSE&&e.response&&e.response.statusCode;return t?t:e.underlyingError?o.getErrorStatusCode(e.underlyingError):void 0}},o.getSyncError=function(e,t,n){if(e){var a,s=o.getErrorStatusCode(e);return a=e.code===i.SERVICE_IS_INACTIVE?new r(r.LOGGED_OUT,"no access token: call updateAccessToken() and try again",t,e):e.code===i.NETWORK_ERROR?new r(r.NETWORK_ERROR,"error connecting to server",t,e):e.code===i.EXCEEDS_QUOTA?new r(r.EXCEEDS_QUOTA,"push failed due to insufficient remaining quota",t,e):e.code===i.OUT_OF_SPACE?new r(r.OUT_OF_SPACE,"not enough disk space",t,e):e.code===i.NOT_IMPLEMENTED?new r(r.NOT_IMPLEMENTED,"tried to call an API not implemented on the server",t,e):e.code===i.RETRYABLE_SERVER_ERROR?new r(r.RETRYABLE_SERVER_ERROR,"intermittent server failure - can retry later",t,e):e.code===i.INVALID_DATA||e.code===i.INVALID_JSON?new r(r.CORRUPTED_LIBRARY,"unable to read manifest",t,e):s&&n&&n[s]?new r(n[s],"server returned "+s+"response",t,e):new r(r.TRANSFER_ERROR,"something went wrong during a push/pull operation",t,e)}},o.getCommitError=function(e,t,n){if(e){var o,a=n?" - "+n:"";return o=e.code===i.INVALID_DATA||e.code===i.INVALID_JSON?new r(r.CORRUPTED_LIBRARY,"unable to read manifest"+a,t,e):e.code===i.OUT_OF_SPACE?new r(r.OUT_OF_SPACE,"not enough disk space"+a,t,e):new r(r.FS_ERROR,"filesystem error"+a,t,e)}},o.getErrorPriority=function(e){var t=[r.EXCEEDS_MAX_LIBRARY_SIZE,r.THUMBNAIL_NOT_AVAILABLE,r.RENDITION_NOT_AVAILABLE,r.URL_VALIDATION_FAILED,r.CORRUPTED_LIBRARY,r.TRANSFER_ABORTED,r.TRANSFER_ERROR,r.NETWORK_ERROR,r.EXCEEDS_QUOTA,r.RETRYABLE_SERVER_ERROR,r.LOGGED_OUT,r.FILE_TOO_LARGE,r.FS_ERROR,r.OUT_OF_SPACE,r.ACCESS_DENIED,r.NOT_ALLOWED,r.DELETED_LOCALLY,r.REQUIRES_FILESYSTEM,r.NOT_SUPPORTED,r.NOT_IMPLEMENTED,r.INVALID_PARAMETER,r.READ_ONLY],n=e&&e.code&&t.indexOf(e.code);return void 0!==n?n:-1},o.errorToString=function(e){var t="";return e&&(e.message&&(t+=e.message),e.libraryId&&(t+=" library: "+e.libraryId),e.underlyingError?t+="\n<- "+o.errorToString(e.underlyingError):e.response&&e.response.statusCode&&(t+=": "+e.response.statusCode),e.failedComponents&&(t+="\n<- Failed Components:",e.failedComponents.forEach(function(e){var n=e.component&&e.component.id,i=e.error,r=i&&i.message,o=i&&i.response&&i.response.statusCode;t+="\n    ["+n+"] "+r+(o?": "+o:"")}))),t},o.isErrorCode=function(e){return e?r.hasOwnProperty(e)&&r[e]===e:!1},Object.seal(o),o}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibrarySyncUtils",["require","exports","module","../AdobeLibraryConfig","../AdobeLibraryError","../components/dcx-js/src/AdobeDCXUtil"],function(e,t,n){"use strict";var i=e("../AdobeLibraryConfig"),r=e("../AdobeLibraryError"),o=e("../components/dcx-js/src/AdobeDCXUtil"),a={};a.getBackoffTicks=function(e){var t=i.BACKOFF_INTERVALS,n=Math.max(0,Math.min(e,t.length-1));return t[n]-1},a.getRetryAfterHeader=function(e){if(e){var t=e["retry-after"]||e["Retry-After"];if(t)try{var n=parseInt(t,10);if(n)return Math.max(0,n);var r=Date.parse(t);if(r){var o=(new Date).valueOf(),a=Math.max(0,r-o)/1e3,s=Math.floor(Math.random()*i.RETRY_RANDOM_SECONDS);return a+s}}catch(l){}}return 0},a.getLocationHeader=function(e){if(e){var t=e.location||e.Location;if(t)return t}},a.getContentTypeHeader=function(e){if(e){var t=e["content-type"]||e["Content-Type"];if(t){var n=t.indexOf(";");return n>0&&(t=t.substring(0,n)),t}}},a.getContentLengthHeader=function(e){if(e){var t=e["content-length"]||e["Content-Length"];return Number(t)||void 0}},a.isUnrecoverableClientError=function(e,t){return e?e>=400&&500>e&&(401!==e||!!t)&&407!==e&&408!==e:!1},a.isRedirect=function(e){return 301===e||302===e||303===e||307===e};var s=function(e,t){return t.some(function(t){if(e===t)return!0;var n=e.indexOf("."+t);return-1!==n&&n===e.length-t.length-1})};return a.isAdobeDomain=function(e){return e?s(e,i.ADOBE_AUTHENTICATED_DOMAINS):!1},a.validateURL=function(e){if(!e)return new r(r.URL_VALIDATION_FAILED,"URL not specified");var t=o.parseURI(e);if("https"!==t.scheme)return new r(r.URL_VALIDATION_FAILED,"URL must be https://");var n=a.isAdobeDomain(t.authority),l=n||s(t.authority,i.WHITELISTED_DOMAINS);return l?null:new r(r.URL_VALIDATION_FAILED,"URL domain not in whitelist")},Object.seal(a),a}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryRepresentation",["require","exports","module","./AdobeLibraryServices","./AdobeLibraryConfig","./AdobeLibraryError","./utils/AdobeLibraryLock","./utils/AdobeLibraryMimeTypeUtils","./utils/AdobeLibraryManifestUtils","./utils/AdobeLibraryFileUtils","./utils/AdobeLibraryErrorUtils","./utils/AdobeLibrarySyncUtils"],function(e,t,n){"use strict";function i(e,t,n){this._element=e,t?this._setDCXNode(t):this._setDCXComponent(n),this._lock=new s,this._pendingDownloadCallbacks=[]}var r=e("./AdobeLibraryServices"),o=e("./AdobeLibraryConfig"),a=e("./AdobeLibraryError"),s=e("./utils/AdobeLibraryLock"),l=e("./utils/AdobeLibraryMimeTypeUtils"),c=e("./utils/AdobeLibraryManifestUtils"),u=e("./utils/AdobeLibraryFileUtils"),d=e("./utils/AdobeLibraryErrorUtils"),p=e("./utils/AdobeLibrarySyncUtils");return i.prototype._setDCXNode=function(e){this._dcxNode=e,delete this._dcxComponent,this._deletedLocally=!1},i.prototype._setDCXComponent=function(e,t){this._dcxComponent=e,delete this._dcxNode,t||(this._deletedLocally=!1)},i.prototype._markDeletedLocally=function(e){this._deletedLocally=e},i.prototype._toJSON=function(){var e={id:this.id,type:this.type,relationship:this.relationship};return r.hasFileSystem()&&(e._componentPath=this._getComponentPath()),e},i.prototype._getOrder=function(){return this._getDCXElement().getValue(o.REPRESENTATION_ORDER_KEY)||0},i.prototype._setComponentInBrowser=function(e,t,n){var i=this,r=this._element._library._collection._syncManager;r.uploadNewComponentForRepresentation(e,t,this,function(e,t){if(c.checkDeletedState(i,n))return void n(e);if(e)return void n(e);c.copyCustomDCXData(i._dcxNode,t);var r=i._element._library._dcxBranch;r.removeChild(i._dcxNode),i._setDCXComponent(t,!0),i._commit(),n(null)})},i.prototype._setComponentFromPath=function(e,t,n){var i=r.fs,s=this,l=e&&r.getFileNameFromPath(e),d=u.getFileExtension(l),p=this.id+"."+d;i.stat(e,function(i,u){return u&&u.size>o.MAX_COMPONENT_SIZE?void n(new a(a.FILE_TOO_LARGE,"File exceeds maximum size for a representation")):void r.storageInterface.notifyStartWrite(s._element._library,[],function(){var i=s._element._library._dcxBranch;i.addComponent(l,s.type,s.relationship,p,e,t,void 0,s._element._dcxNode,s.id,function(e,t){if(!c.checkDeletedState(s,n)){if(e)return void n(e);c.copyCustomDCXData(s._dcxNode,t),i.removeChild(s._dcxNode),s._setDCXComponent(t,!0),s._commit(),n(null)}})})})},i.prototype._setComponent=function(e,t,n,i){function o(e){return c.checkDeletedState(f,i)?void 0:e?void i(d.getCommitError(e,f._element._library.id,"error writing representation contents")):void f._setComponentFromPath(s,!1,i)}function a(){"buffer"===t?p.writeFile(s,e,o):p.writeFile(s,e,t,o)}var s,p=r.fs,f=this,h=this.element.library.collection._getTempDir();u.ensurePathExists(h,function(e){if(!c.checkDeletedState(f,i)){if(e)return void i(d.getCommitError(e,f._element._library.id,"error creating temp directory"));if(!n){var t=l.getExtensions(f.type)[0];n=f.id+"."+t}s=h+r.getPathSeparator()+n,a()}})},i.prototype._getCurrentComponentPath=function(){return this._dcxComponent?this._element._library._dcxBranch.assetOfComponent(this._dcxComponent):void 0},i.prototype._getComponentPath=function(e,t){var n=this;if(!e)return this._getCurrentComponentPath();if(this.isExternalLink)n._lock.obtain(function(){n._getExternalLinkPath(function(t,i){n._lock.release(),e(t,i)})});else if(this._dcxComponent){var i=this._getCurrentComponentPath();if(i||t)e(null,i);else{var r=this._element._library;r._networkLock.obtain(function(t){if(t)return void e(t);if(c.checkDeletedState(n,e))return void r._networkLock.release();r._setSyncState("downloading");var i=r._collection._syncManager;i.downloadRepresentation(n,function(t){if(r._networkLock.release(),r._setSyncState(),!c.checkDeletedState(n,e)){if(t)return void e(d.getSyncError(t,n._element._library.id));r._commit(!0,!0),n._getComponentPath(e,!0)}})})}}else e(null)},i.prototype._setRenditionCache=function(e,t,n,i){var r=this.element;r._lock.obtain(function(){r._setRenditionCache(e,t,n),r._lock.release(),i()})},i.prototype._getCachedExternalLinkPath=function(e){var t=null,n=this.element._lookupRenditionPath(this.id);if(e||n!==o.RENDITION_CACHE_PLACEHOLDER||(n=void 0),d.isErrorCode(n)&&(t=new a(n,"Broken link, or access denied",this.element.library.id),n=void 0),!t&&!n){var i=this._dcxNode.getValue(o.LINK_URL_KEY);t=p.validateURL(i)}return{err:t,path:n}},i.prototype._getExternalLinkPath=function(e){var t=this,n=this.element.library,i=n.collection,s=i._getTempDir(),u=this._getCachedExternalLinkPath();if(u.err||u.path)return void e(u.err,u.path);if(o.SHARED_LOCAL_STORAGE)return void r.storageInterface.downloadExternalLink(t,e);if(this._pendingDownloadCallbacks.push(e),!(this._pendingDownloadCallbacks.length>1)){var f=function(e,n){var i=t._pendingDownloadCallbacks;t._pendingDownloadCallbacks=[],i.forEach(function(t){t(e,n)})},h=function(e,n,r){i._updateExternalLinkDownloadProgress(t,e,n,r)},m=function(e,i){var o=function(t,n){h(void 0,void 0,e),f(t,n)};return e?void o(e):d.isErrorCode(i)?void t._setRenditionCache(t.id,i,!0,function(){o(new a(i,"Broken link, or access denied",n.id))}):void t.element.setThumbnailCache(t.id,i,function(e,n){r.storageInterface.notifyDownloadRendition(t.element),o(e,n)})},g=this._dcxNode.getValue(o.LINK_URL_KEY),v=(new Date).valueOf();r.log("Downloading from external URL: "+g),i._syncManager.getAssetFromURL(g,{},s,h,function(e,n,o,s){if(r.log("Finished downloading from external URL: "+((new Date).valueOf()-v)+"ms"),!c.checkDeletedState(t,m)){var u=e&&e.response&&e.response.statusCode;if(p.isUnrecoverableClientError(u,i.isPublic))return void m(null,a.RENDITION_NOT_AVAILABLE);if(e)return void m(d.getSyncError(e));var f=p.getContentTypeHeader(s&&s.headers)||t.type,h=l.getExtensions(f)[0]||"data",g=n+"."+h;r.fs.rename(n,g,function(e){return e?void m(d.getCommitError(e)):void m(null,g)})}})}},i.prototype._testExternalLink=function(e){var t=this,n=this._getCachedExternalLinkPath(!0);if(n.err)return void e(null,!1);if(n.path)return void e(null,!0);var i=this.element.library.collection,s=this._dcxNode.getValue(o.LINK_URL_KEY);i._updateExternalLinkDownloadProgress(this,0,1);var l=function(n,r){i._updateExternalLinkDownloadProgress(t),e(n,r)},c=(new Date).valueOf();r.log("HEAD request of external URL: "+s),r.storageInterface.doHeadRequestOfURL(i,s,function(e,n){if(r.log("Finished HEAD request of external URL: "+((new Date).valueOf()-c)+"ms"),e)return void l(null,!0);var s=n&&n.statusCode;p.isUnrecoverableClientError(s,i.isPublic)?t._setRenditionCache(t.id,a.RENDITION_NOT_AVAILABLE,!0,function(){l(null,!1)}):s&&s>=200&&400>s?t._setRenditionCache(t.id,o.RENDITION_CACHE_PLACEHOLDER,!1,function(){l(null,!0)}):l(null,!0)})},i.prototype._getDCXElement=function(){return this._dcxComponent||this._dcxNode},i.prototype._commit=function(){this._element._commit()},i.prototype._getMissingLocalComponents=function(){return r.hasFileSystem()&&this._dcxComponent&&!this._getCurrentComponentPath()?[this._dcxComponent]:[]},i.prototype.jasmineToString=function(){return this.toString()},Object.defineProperties(i.prototype,{id:{get:function(){
return this._getDCXElement().id},set:function(e){throw new a(a.READ_ONLY,"Cannot change the id of an existing representation",this._element._library.id)}},element:{get:function(){return this._element},set:function(e){throw new a(a.READ_ONLY,"element is a read-only property",this._element._library.id)}},isWritable:{get:function(){return this._element.isWritable},set:function(){throw new a(a.READ_ONLY,"isWritable is a read-only property",this._element._library.id)}},type:{get:function(){var e=this._getDCXElement().type;return e===o.LINK_REPRESENTATION_TYPE&&(e=this._getDCXElement().getValue(o.LINK_TYPE_KEY)),e},set:function(e){throw new a(a.READ_ONLY,"Cannot change the content type of an existing representation",this._element._library.id)}},relationship:{get:function(){return this._dcxComponent?this._dcxComponent.relationship:this._dcxNode.getValue(o.RELATIONSHIP_KEY)||this._dcxNode.getValue("relationship")},set:function(e){this._element._validateRelationship(e,this),this._dcxComponent?this._dcxComponent.relationship=e:this._dcxNode.setValue(o.RELATIONSHIP_KEY,e)}},width:{get:function(){return this._dcxComponent?this._dcxComponent.getValue("width"):this._dcxNode.getValue(o.WIDTH_KEY)},set:function(e){if(c.checkDeletedState(this),!this.isWritable)throw new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id);if(!this._dcxComponent&&!this.isExternalLink)throw new a(a.INVALID_PARAMETER,"Cannot set width on a representation without contents",this._element._library.id);if("number"!=typeof e||0>e)throw new a(a.INVALID_PARAMETER,"Invalid width",this._element._library.id);this._dcxComponent?this._dcxComponent.setValue("width",e):this._dcxNode.setValue(o.WIDTH_KEY,e),this._commit()}},height:{get:function(){return this._dcxComponent?this._dcxComponent.getValue("height"):this._dcxNode.getValue(o.HEIGHT_KEY)},set:function(e){if(c.checkDeletedState(this),!this.isWritable)throw new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id);if(!this._dcxComponent&&!this.isExternalLink)throw new a(a.INVALID_PARAMETER,"Cannot set height on a representation without contents",this._element._library.id);if("number"!=typeof e||0>e)throw new a(a.INVALID_PARAMETER,"Invalid height",this._element._library.id);this._dcxComponent?this._dcxComponent.setValue("height",e):this._dcxNode.setValue(o.HEIGHT_KEY,e),this._commit()}},isFullSize:{get:function(){return this._getDCXElement().getValue(o.IS_FULL_SIZE_KEY)},set:function(e){if(c.checkDeletedState(this),!this.isWritable)throw new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id);if(!this._dcxComponent&&!this.isExternalLink)throw new a(a.INVALID_PARAMETER,"Cannot set isFullSize on a representation without contents",this._element._library.id);if("boolean"!=typeof e)throw new a(a.INVALID_PARAMETER,"Invalid isFullSize",this._element._library.id);this._getDCXElement().setValue(o.IS_FULL_SIZE_KEY,e),this._commit()}},isPreferredThumbnail:{get:function(){return this._getDCXElement().getValue(o.IS_PREFERRED_THUMBNAIL_KEY)||!1},set:function(e){if(c.checkDeletedState(this),!this.isWritable)throw new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id);if("boolean"!=typeof e)throw new a(a.INVALID_PARAMETER,"Invalid isPreferredThumbnail",this._element._library.id);this._getDCXElement().setValue(o.IS_PREFERRED_THUMBNAIL_KEY,e),this._commit()}},contentLength:{get:function(){if(this.isExternalLink)return this._dcxNode.getValue(o.LENGTH_KEY);if(this._dcxComponent){if(void 0===this._dcxComponent.length&&r.hasFileSystem()){var e=this._getCurrentComponentPath(),t="statSync";try{var n=r.fs[t](e);return n&&n.size}catch(i){}}return this._dcxComponent.length}},set:function(e){if(!this.isExternalLink)throw new a(a.READ_ONLY,"setContentLength can only be used for an externally-linked representation",this._element._library.id);if("number"!=typeof e||0>e)throw new a(a.INVALID_PARAMETER,"Invalid content length",this._element._library.id);this._dcxNode.setValue(o.LENGTH_KEY,e),this._commit()}},isDeletedLocally:{get:function(){return this._deletedLocally},set:function(e){throw new a(a.READ_ONLY,"isDeletedLocally is a read-only property",this._element._library.id)}},isExternalLink:{get:function(){return void 0!==this._dcxNode&&this._dcxNode.type===o.LINK_REPRESENTATION_TYPE},set:function(e){throw new a(a.READ_ONLY,"isExternalLink is a read-only property",this._element._library.id)}}}),i.prototype.isCompatibleType=function(e){if(this._dcxComponent){var t=u.getFileExtension(this._dcxComponent.path),n=l.getExtensions(e);if(-1===n.indexOf(t))return!1}return c.isCompatibleType(e,this.type)},i.prototype.toString=function(){return JSON.stringify(this._toJSON())},i.prototype.getValue=function(e,t){if(e===o.DL_NAMESPACE)throw new a(a.INVALID_PARAMETER,"Reserved namespace",this._element._library.id);var n=c.getDCXKey(e,t);return this._getDCXElement().getValue(n)},i.prototype.getValues=function(){return c.getCustomDCXData(this._getDCXElement())},i.prototype.setValue=function(e,t,n){if(c.checkDeletedState(this),!this.isWritable)throw new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id);if(e===o.DL_NAMESPACE)throw new a(a.INVALID_PARAMETER,"Reserved namespace",this._element._library.id);var i,r=c.getDCXKey(e,t);try{i=JSON.parse(JSON.stringify(n))}catch(s){throw new a(a.INVALID_PARAMETER,"Value cannot be serialized to JSON",this._element._library.id)}this._getDCXElement().setValue(r,i),this._commit()},i.prototype.setContent=function(e,t,n,i){if(!c.checkDeletedState(this,i)){if(!this.isWritable)return void i(new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id));if(this._dcxComponent||this.isExternalLink)return void i(new a(a.INVALID_PARAMETER,"Cannot modify representation content once set",this._element._library.id));if(r.hasFileSystem()){if(!c.checkEncoding(t,["utf8","ascii","base64","buffer"],i))return;this._setComponent(e,t,n,i)}else{if(void 0!==t)return void i(new a(a.INVALID_PARAMETER,"Encoding parameter not supported in-browser"));this._setComponentInBrowser(e,n,i)}}},i.prototype.setContentFromPath=function(e,t,n){return"function"==typeof t&&(n=t,t=!1),r.hasFileSystem()?c.checkDeletedState(this,n)?void 0:this.isWritable?this._dcxComponent||this.isExternalLink?void n(new a(a.INVALID_PARAMETER,"Cannot modify representation content once set",this._element._library.id)):void this._setComponentFromPath(e,!t,n):void n(new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id)):void n(new a(a.REQUIRES_FILESYSTEM,"path-based APIs require a filesystem",this._element._library.id))},i.prototype.setContentFromURL=function(e,t,n,i){if(!r.hasFileSystem()&&!e)return void i(new a(a.NOT_IMPLEMENTED,"not yet implemented setContentFromURL without a filesystem",this._element._library.id));if(!c.checkDeletedState(this,i)){if(!this.isWritable)return void i(new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id));if("boolean"!=typeof e)return void i(new a(a.INVALID_PARAMETER,"Invalid createLink parameter: must be Boolean",this._element._library.id));if(this._dcxComponent||this.isExternalLink)return void i(new a(a.INVALID_PARAMETER,"Cannot modify representation content once set",this._element._library.id));if(e)return this._dcxNode.setValue(o.LINK_TYPE_KEY,this._dcxNode.type),this._dcxNode.type=o.LINK_REPRESENTATION_TYPE,this._dcxNode.setValue(o.LINK_URL_KEY,t),this._commit(),void i(null);var s=this,u=this.element.library.collection,f=u._getTempDir();r.storageInterface.getAssetFromURL(u,t,n,f,function(e,t,n,o){if(e)return void i(d.getSyncError(e));if(!c.checkDeletedState(s,i)){var a=p.getContentTypeHeader(o&&o.headers);if(a){var u=l.getExtensions(a)[0],f=t+"."+u;r.fs.rename(t,f,function(e){return e?void i(d.getCommitError(e)):void s._setComponentFromPath(f,!1,i)})}else s._setComponentFromPath(t,!1,i)}})}},i.prototype.getContentPath=function(e){return r.hasFileSystem()?void(c.checkDeletedState(this,e)||this._getComponentPath(e)):void e(new a(a.REQUIRES_FILESYSTEM,"path-based APIs require a filesystem",this._element._library.id))},i.prototype.getCachedContentPath=function(){if(r.hasFileSystem()){if(this.isExternalLink){var e=this._getCachedExternalLinkPath();return e.path}return this._dcxComponent?this._getCurrentComponentPath()||void 0:void 0}},i.prototype.getContent=function(e,t){var n=r.fs,i=this;if(!c.checkDeletedState(this,t))if(r.hasFileSystem()){if(!c.checkEncoding(e,["utf8","ascii","base64","buffer"],t))return;this._getComponentPath(function(r,o){if(r||!o)return void t(r);if(!c.checkDeletedState(i,t)){var a=function(e,n){e&&d.getCommitError(e,i._element._library.id,"error reading content from disk"),t(e,n)};"buffer"===e?n.readFile(o,a):n.readFile(o,e,a)}})}else{if(!c.checkEncoding(e,["text","blob","arraybuffer"],t))return;if(!this._dcxComponent)return void t(null);var o=this._element._library._collection._syncManager;o.getSharedCloudContent(this,e,t)}},i.prototype.getContentURL=function(){if(this.isExternalLink)return this._dcxNode.getValue(o.LINK_URL_KEY);if(this._dcxComponent){var e=this._element._library._collection._syncManager;return e.getSharedCloudContentURL(this._dcxComponent)}},i.prototype.getAuthenticatedContentURL=function(e){var t=this.getContentURL(),n=this._element._library._collection._syncManager;n.appendAccessTokenToURL(t,e)},i.prototype.testExternalLink=function(e){var t=this;return this.isExternalLink&&this.getContentURL()?void t._lock.obtain(function(){t._testExternalLink(function(n,i){t._lock.release(),e(n,i)})}):void e(new a(a.INVALID_PARAMETER,"Not an external link",this._element._library.id))},i.prototype.getCachedExternalLinkError=function(){if(!this.isExternalLink||!this.getContentURL())return new a(a.INVALID_PARAMETER,"Not an external link",this._element._library.id);var e=this._getCachedExternalLinkPath();return e.err},i.prototype.getExternalLinkDownloadProgress=function(){return this.isExternalLink?this.element.library.collection._getExternalLinkDownloadProgress(this):void 0},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryAnalytics",["require","exports","module","./AdobeLibraryServices","./AdobeLibraryConfig"],function(e,t,n){"use strict";function i(e){if(e.type){var t=e.type.match(/application\/vnd\.adobe\.element\.(.*)\+dcx/);return t&&2===t.length?t[1]:e.type}return null}function r(e){if(!e)return{};var t={libraryID:e.id,libraryElementCount:e._elements.length};return e.collection.isPublic?t.libraryShared="incoming-public":e.collaboration&&(t.libraryShared=e.collaboration,e.isWritable||(t.libraryShared+="-readonly")),t}function o(e){var t=null;return e.getValues().forEach(function(e){"trackingdata"===e.key&&(t||(t={}),t[e.namespace]=e.value)}),t}function a(e){if(!e)return{};var t=r(e._library);t.elementID=e.id,t.elementType=i(e);var n=e.getPrimaryRepresentation();if(n){var a=o(n);a&&(t.trackingData=JSON.stringify(a)),t.elementPrimaryType=n.type}return t}function s(e){if(!e)return{};var t=a(e._element);return t.representationType=e.type,t}function l(e){if(!e)return{};var t=a(e.element);return t.appCode=e.appCode,t.elementAction=e.id,t}function c(){return null!==p.analytics&&void 0!==p.analytics}var u,d,p=e("./AdobeLibraryServices"),f=e("./AdobeLibraryConfig"),h={};return h.reportError=function(e){c()&&e&&p.analytics.reportError(e.code+(e.underlyingError?":"+e.underlyingError.code:""))},h.reportCreateLibrary=function(e){c()&&p.analytics.reportEvent("createLibrary",{libraryID:e.id})},h.reportDeleteLibrary=function(e){c()&&p.analytics.reportEvent("deleteLibrary",r(e))},h.reportCreateElement=function(e){c()&&(u=e,d=Date.now(),p.analytics.reportEvent("createElement",a(e)))},h.reportUpdateElement=function(e,t){if(c()){if(e===u&&Date.now()-d<f.ANALYTICS_ELEMENT_UPDATE_THRESHOLD)return;u=e,d=Date.now();var n=a(e);n.updateType=t?"info":"representation",p.analytics.reportEvent("updateElement",n)}},h.reportUseElement=function(e,t,n){if(c()){var i=s(e);i.opType=t,i.details=n,p.analytics.reportEvent("useElement",i)}},h.reportCheckoutElement=function(e,t,n){if(c()){var i=a(e);i.opType=t,i.details=n,p.analytics.reportEvent("checkoutElement",i)}},h.reportDeleteElement=function(e,t){if(c()){var n=a(e);n.isPermanent=!!t,p.analytics.reportEvent("deleteElement",n)}},h.reportRestoreElement=function(e){c()&&p.analytics.reportEvent("restoreElement",a(e))},h.reportCopyElement=function(e,t){if(c()){u=e,d=Date.now();var n=a(e);n.oldLibraryID=t._library.id,n.oldElementID=t.id,p.analytics.reportEvent("copyElement",n)}},h.reportMoveElement=function(e,t){if(c()){u=e,d=Date.now();var n=a(e);n.oldLibraryID=t._library.id,n.oldElementID=t.id,p.analytics.reportEvent("moveElement",n)}},h.reportCollisionElement=function(e){c()&&p.analytics.reportEvent("collisionLibrary",a(e))},h.reportCreateLink=function(e,t){if(c()){var n=a(e);n.opType=t,p.analytics.reportEvent("createLink",n)}},h.reportShareElementLink=function(e){c()&&p.analytics.reportEvent("shareElementLink",a(e))},h.reportShareLibraryLink=function(e){c()&&p.analytics.reportEvent("shareLibraryLink",r(e))},h.reportElementActionInvoked=function(e){c()&&p.analytics.reportEvent("elementActionInvoked",l(e))},h.reportElementActionSuccessful=function(e,t){if(c()){var n=l(e);n.appVersion=t&&t.version,n.appLaunchStatus=t?t.isAlreadyRunning?"Running":"Launched":"Unknown",p.analytics.reportEvent("elementActionSuccessful",n)}},h.reportElementActionFailed=function(e,t){if(c()){var n=l(e);n.error=t?t.code+":"+t.message:"",p.analytics.reportEvent("elementActionFailed",n)}},h.reportUnexpectedState=function(e,t){if(c()){var n=r(e);n.details=t,n.logs=!0,p.analytics.reportEvent("unexpectedState",n)}},Object.seal(h),h}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryElementAction",["require","exports","module","./AdobeLibraryError","./utils/AdobeLibraryGeneralUtils","./AdobeLibraryConfig","./AdobeLibraryServices","./AdobeLibraryAnalytics"],function(e,t,n){"use strict";function i(e,t){this._element=e,this._id=t.action,this._appCode=t.appCode,this._appName=t.appName,this._minVersion=t.minVersion,this._installedVersions=a.ELEMENT_ACTION_PRODUCT_MAP.installedApps.filter(function(e){return e.code===t.appCode}).map(function(e){return e.version}).sort(o.compareVersions),this._invokable=this._installedVersions.length>0&&o.compareVersions(t.minVersion,this._installedVersions[0])>=0,Object.freeze(this._installedVersions)}var r=e("./AdobeLibraryError"),o=e("./utils/AdobeLibraryGeneralUtils"),a=e("./AdobeLibraryConfig"),s=e("./AdobeLibraryServices"),l=e("./AdobeLibraryAnalytics");return Object.defineProperties(i.prototype,{id:{get:function(){return this._id},set:function(e){throw new r(r.READ_ONLY,"Cannot change the id of an existing element action",this._id)}},element:{get:function(){return this._element},set:function(e){throw new r(r.READ_ONLY,"element is a read-only property",this._element.id)}},appCode:{get:function(){return this._appCode},set:function(){throw new r(r.READ_ONLY,"Cannot change the app code of an element action",this._appCode)}},appName:{get:function(){return this._appName},set:function(){throw new r(r.READ_ONLY,"Cannot change the app name of an element action",this._appName)}},minAppVersion:{get:function(){return this._minVersion},set:function(){throw new r(r.READ_ONLY,"Cannot change the min version of an element action",this._minVersion)}},installedVersions:{get:function(){return this._installedVersions},set:function(){throw new r(r.READ_ONLY,"Cannot change the installed versions of an element action")}},isCompatibleVersionInstalled:{get:function(){return!!this._invokable},set:function(){throw new r(r.READ_ONLY,"Cannot change the compatibility of an element action")}}}),i.prototype.invoke=function(e){var t=o.wrapCallback(e);return this.isCompatibleVersionInstalled?(l.reportElementActionInvoked(this),void s.storageInterface.sendElementAction(this,function(e,n){e?(e=-1!==["APP_NOT_INSTALLED","NO_COMPATIBLE_VERSION"].indexOf(e)?new r(r.NO_COMPATIBLE_APP_FOUND,"A compatible version of application is needed for this action:"+e):new r(r.APP_LAUNCH_FAILED,"Launching the app failed:"+e),l.reportElementActionFailed(this,e)):l.reportElementActionSuccessful(this,n),t(e,n)})):void t(new r(r.NO_COMPATIBLE_APP_FOUND,"A compatible version of application is needed for this action",this._appCode))},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryRenditionUtils",["require","exports","module","../AdobeLibraryConfig","../AdobeLibraryServices","./AdobeLibraryAsyncJoin","./AdobeLibraryFileUtils","./AdobeLibraryErrorUtils","./AdobeLibraryGeneralUtils"],function(e,t,n){"use strict";var i=e("../AdobeLibraryConfig"),r=e("../AdobeLibraryServices"),o=e("./AdobeLibraryAsyncJoin"),a=e("./AdobeLibraryFileUtils"),s=e("./AdobeLibraryErrorUtils"),l=e("./AdobeLibraryGeneralUtils"),c={},u={"application/x-indesign":!0,"application/postscript":!0,"application/illustrator":!0,"application/pdf":!0,"application/vnd.adobe.psremix":!0,"application/vnd.adobe.pstouch":!0,"application/vnd.adobe.ideas":!0,"application/vnd.adobe.ase":!0,"image/jpeg":!0,"image/jpg":!0,"image/pjpeg":!0,"image/tiff":!0,"image/gif":!0,"image/bmp":!0,"image/x-ms-bmp":!0,"image/svg+xml":!0,"image/png":!0,"image/x-png":!0,"image/jp2":!0,"image/psd":!0,"image/vnd.adobe.photoshop":!0,"application/photoshop":!0,"application/x-photoshop":!0,"image/raw":!0,"image/dng":!0,"image/x-adobe-dng":!0,"video/mp4":!0,"video/mpeg":!0,"video/x-ms-wmv":!0,"video/3gpp":!0,"video/3gpp2":!0,"video/quicktime":!0,"video/x-msvideo":!0,"video/x-flv":!0,"video/x-ms-asf":!0,"video/x-m4v":!0,"video/mp2t":!0,"application/mxf":!0,"application/x-shockwave-flash":!0,"application/vnd.adobe.brushes.brush+ucf":!0,"application/vnd.adobe.collage":!0,"application/vnd.adobe.proto":!0,"application/msword":!0,"application/msexcel":!0,"application/mspowerpoint":!0,"application/vnd.ms-publisher":!0,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":!0,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":!0,"application/vnd.openxmlformats-officedocument.presentationml.presentation":!0,"application/vnd.adobe.charts+zip":!0,"text/plain":!0,"text/rtf":!0},d=function(e,t){var n=r.fs;n.stat(e,function(i,r){return i?void t(i):void(r&&r.isDirectory()?a.recursiveDeleteDirectory(e,t):n.unlink(e,t))})},p=function(e,t,n){var s=r.getPathSeparator(),l=r.fs;if(!e._dcxComposite.autoRemoveUnusedLocalFiles)return void n(null);var c={};Object.keys(t.renditions).forEach(function(n){var i=t.renditions[n];Object.keys(i).forEach(function(t){var n=i[t];c[n]=!0,delete e._pendingRenditionCacheItems[n]})});var u=e._getRenditionCacheDir();l.readdir(u,function(t,r){if(t)return void n(t);var l=new o;r.forEach(function(t){var n=a.normaliseTempFileName(t);t===i.RENDITION_CACHE_FILE||c[t]||e._pendingRenditionCacheItems[n]||l.addOperation(d,[u+s+t])}),l.run(n)})};return c.readRenditionCacheData=function(e,t){var n=r.getPathSeparator(),o=e._getRenditionCacheDir();a.readJSONData(o+n+i.RENDITION_CACHE_FILE,function(e,n){var i=n||{};i.renditions=i.renditions||{},t(null,i)})},c.writeRenditionCacheData=function(e,t,n){var r=e._getRenditionCacheDir();a.writeJSONData(r,i.RENDITION_CACHE_FILE,t,function(i){return i?void n(i):void p(e,t,n)})},c.copyRenditionCache=function(e,t,n,a){var l=t._library._getRenditionCacheDir()+r.getPathSeparator(),c=new o,u=n||{};Object.keys(u).forEach(function(n){var r=u[n],o=t.getRepresentationById(n);if(o&&!e.getRepresentationById(n)){var a=t.representations.indexOf(o);if(a>=0&&a<e.representations.length){var d=e.representations[a];n=d.id}}r===i.RENDITION_CACHE_PLACEHOLDER||s.isErrorCode(r)?e._renditionCache[n]=r:c.addOperation(e.setThumbnailCache,[n,l+r],e)}),i.SHARED_LOCAL_STORAGE?(c.run(),a(null)):c.run(a)},c.canComputeRenditionFromMimeType=function(e){return u[e]?!0:!1},c.canComputeRendition=function(e){var t=void 0!==e._dcxComponent;return t&&c.canComputeRenditionFromMimeType(e.type)?!0:!1},c.shouldPrefetchFullRendition=function(e){var t=i.FULL_RENDITION_CONFIG||{},n=t[e.type];if(!n)return!1;var r=!1;return Object.keys(n).forEach(function(t){var i=n[t];if("IF_NO_MATCHING_REPRESENTATION"===i.condition&&i.types){var o=e.representations.every(function(e){return-1===i.types.indexOf(e.type)});r=r||o}}),r},c.shouldPrefetchExternalLink=function(e){if(!e.isExternalLink)return!1;var t=i.EXTERNAL_LINK_PREFETCH||{},n=t[e.element.type];return void 0!==n?n:!0},c.prefetchRenditionsForElement=function(e,t){var n=l.wrapCallback(t);if(!r.hasFileSystem())return void n(null);var a=new o,s=i.RENDITION_SIZES||{},u=s[e.type]||s["*"]||[];u.forEach(function(t){a.addOperation(e.getThumbnailPath,[t],e)}),c.shouldPrefetchFullRendition(e)&&a.addOperation(e.getThumbnailPath,[void 0],e),e.representations.forEach(function(e){c.shouldPrefetchExternalLink(e)?a.addOperation(e.getContentPath,[],e):e.isExternalLink&&a.addOperation(e.testExternalLink,[],e)}),a.run(n)},c.prefetchRenditions=function(e,t){var n=l.wrapCallback(t);if(!r.hasFileSystem())return void n(null);var i=new o;e.elements.forEach(function(e){i.addOperation(c.prefetchRenditionsForElement,[e],c)}),i.run(n)},c.addToRenditionSizeConfig=function(e){var t=i.RENDITION_SIZES,n=t["*"]||[];n=JSON.parse(JSON.stringify(n));var r=e["*"]||[];Object.keys(t).forEach(function(n){if(!e[n]){var i=t[n];r.forEach(function(e){-1===i.indexOf(e)&&i.push(e)}),t[n]=i}}),Object.keys(e).forEach(function(i){var r=t[i]||JSON.parse(JSON.stringify(n)),o=e[i];o.forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),t[i]=r}),i.setParameter("RENDITION_SIZES",t)},c.addToFullRenditionConfig=function(e){var t=i.FULL_RENDITION_CONFIG;Object.keys(e).forEach(function(n){var i=t[n]||{},r=e[n];r.forEach(function(e){e.id&&(i[e.id]=e)}),t[n]=i}),i.setParameter("FULL_RENDITION_CONFIG",t)},c.addToPendingSetRenditionCache=function(e,t,n,i,r){e=e||{data:[],callbacks:[]};var o=[];return e.data.forEach(function(i,r){e.callbacks[r]||i.element!==t.id||i.size!==n||"CLEAR"!==i.path||o.unshift(r)}),o.forEach(function(t){e.data.splice(t,1),e.callbacks.splice(t,1)}),e.data.push({element:t.id,size:n,path:i}),e.callbacks.push(r),e},Object.seal(c),c}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryFeatureUtils",["require","exports","module","../AdobeLibraryServices","../AdobeLibraryConfig"],function(e,t,n){"use strict";var i=e("../AdobeLibraryServices"),r=e("../AdobeLibraryConfig"),o={};return o.supportsClearRenditionCache=function(){var e=i.storageInterface.getServiceInfo(),t=e?e.apiVersion:0;return t>=7},o.updateElementActionMap=function(e){var t=i.storageInterface.getServiceInfo();if(t){var n=t.apiVersion||0;if(9>n){var o=e.types;e.types=r.ELEMENT_ACTION_PRODUCT_MAP.types,e.types["application/vnd.adobe.element.image+dcx"]=o}r.ELEMENT_ACTION_PRODUCT_MAP=e}},o.formatElementActionMapForClient=function(e){return 9>e?{types:r.ELEMENT_ACTION_PRODUCT_MAP.types["application/vnd.adobe.element.image+dcx"],products:r.ELEMENT_ACTION_PRODUCT_MAP.products,installedApps:r.ELEMENT_ACTION_PRODUCT_MAP.installedApps}:r.ELEMENT_ACTION_PRODUCT_MAP},Object.seal(o),o}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryListenerManager",["require","exports","module","../AdobeLibraryServices","../AdobeLibraryError"],function(e,t,n){"use strict";function i(e){this._restrictedTypes=e,this._listeners={}}var r=e("../AdobeLibraryServices"),o=e("../AdobeLibraryError");return i.prototype._checkType=function(e){if(this._restrictedTypes&&-1===this._restrictedTypes.indexOf(e)){var t="["+this._restrictedTypes.join(", ")+"]";throw new o(o.INVALID_PARAMETER,e+" is not allowed. Should be one of: "+t)}},i.prototype.add=function(e,t){this._checkType(e),this._listeners[e]=this._listeners[e]||[],this._listeners[e].push(t)},i.prototype.remove=function(e,t){this._checkType(e);var n=this._listeners[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},i.prototype.removeAll=function(e){e?(this._checkType(e),delete this._listeners[e]):this._listeners={}},i.prototype.notify=function(e,t){this._checkType(e);var n=this._listeners[e];n&&n.slice(0).forEach(function(e){try{e.apply(void 0,t||[])}catch(n){r.log("Error in listener callback: "+(n?n.toString():"")),n&&n.stack&&r.log(n.stack)}})},i.prototype.hasListeners=function(e){this._checkType(e);var t=this._listeners[e];return t&&t.length>0?!0:!1},i.prototype.forEach=function(e){var t=this._listeners;Object.keys(t).forEach(function(n){t[n].forEach(function(t){e(n,t)})})},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryElement",["require","exports","module","./AdobeLibraryServices","./AdobeLibraryConfig","./AdobeLibraryRepresentation","./AdobeLibraryAnalytics","./AdobeLibraryError","./AdobeLibraryElementAction","./utils/AdobeLibraryLock","./utils/AdobeLibraryManifestUtils","./utils/AdobeLibraryFileUtils","./utils/AdobeLibraryRenditionUtils","./utils/AdobeLibraryErrorUtils","./utils/AdobeLibraryFeatureUtils","./utils/AdobeLibraryListenerManager"],function(e,t,n){"use strict";function i(e,t){this._library=e,this._renditionCache={},this._lock=new u,this._listenerManager=new g(["change"]),this._transactionCount=0,this._setDCXNode(t)}var r=e("./AdobeLibraryServices"),o=e("./AdobeLibraryConfig"),a=e("./AdobeLibraryRepresentation"),s=e("./AdobeLibraryAnalytics"),l=e("./AdobeLibraryError"),c=e("./AdobeLibraryElementAction"),u=e("./utils/AdobeLibraryLock"),d=e("./utils/AdobeLibraryManifestUtils"),p=e("./utils/AdobeLibraryFileUtils"),f=e("./utils/AdobeLibraryRenditionUtils"),h=e("./utils/AdobeLibraryErrorUtils"),m=e("./utils/AdobeLibraryFeatureUtils"),g=e("./utils/AdobeLibraryListenerManager");return i.prototype._setDCXNode=function(e,t,n){var i=this,r={};this._representations&&this._representations.forEach(function(e){r[e.id]=e}),this._dcxNode=e,this._representations=[],this._deletedLocally=!1;var o=this._library._dcxBranch.getChildrenOf(e);o.forEach(function(e){var t=r[e.id];t?(t._setDCXNode(e),delete r[e.id]):t=new a(i,e),i._representations.push(t)});var s=this._library._dcxBranch.getComponentsOf(e);s.forEach(function(e){var t=r[e.id];t?(t._setDCXComponent(e),delete r[e.id]):t=new a(i,void 0,e),i._representations.push(t)}),d.sortRepresentations(this._representations),n||this._clearRenditionCache(t,!1),this._displayName=void 0},i.prototype._markDeletedLocally=function(e){this._deletedLocally=e,this._representations.forEach(function(t){t._markDeletedLocally(e)}),e&&this._listenerManager.removeAll()},i.prototype._removeAllListeners=function(){this._listenerManager.removeAll()},i.prototype._toJSON=function(){var e={id:this.id,name:this.name,type:this.type,representations:[]};return this._representations.forEach(function(t){e.representations.push(t._toJSON())}),e.representations.sort(function(e,t){return e.type>t.type?1:e.type<t.type?-1:0}),e},i.prototype._addRepresentation=function(e,t){void 0!==t?this._representations.splice(t,0,e):this._representations.push(e)},i.prototype._removeRepresentation=function(e){var t=this._representations.indexOf(e);-1!==t&&this._representations.splice(t,1)},i.prototype._validateRelationship=function(e,t){if(-1===o.VALID_RELATIONS.indexOf(e))throw new l(l.INVALID_PARAMETER,"Unsupported relationship",this._library.id);if(this._representations.length>0&&"primary"===e){var n=this;this._representations.forEach(function(t){if(t!==e&&"primary"===t.relationship)throw new l(l.INVALID_PARAMETER,"Cannot have more than one primary representation",n._library.id)})}},i.prototype._doCreateRepresentation=function(e,t,n){var i=this._library._dcxBranch.addChild(void 0,void 0,void 0,this._dcxNode);if(i.type=e,i.setValue(o.RELATIONSHIP_KEY,t),void 0===n){var r=this.representations[this.representations.length-1],s=Math.max(this.representations.length,r?r._getOrder()+1:0);i.setValue(o.REPRESENTATION_ORDER_KEY,s)}else i.setValue(o.REPRESENTATION_ORDER_KEY,n),this._representations.forEach(function(e,t){if(t>=n){var i=e._getDCXElement(),r=i.getValue(o.REPRESENTATION_ORDER_KEY);void 0!==r&&i.setValue(o.REPRESENTATION_ORDER_KEY,r+1)}});var l=new a(this,i);return this._addRepresentation(l,n),l},i.prototype._lookupRenditionPath=function(e){var t="existsSync",n=r.getPathSeparator(),i=this._renditionCache[e];if(i){if(i===o.RENDITION_CACHE_PLACEHOLDER||h.isErrorCode(i))return i;var a=this._library._getRenditionCacheDir()+n+i;if(o.SHARED_LOCAL_STORAGE||r.fs[t](a))return a}},i.prototype._getNewRenditionPath=function(e,t){var n=this,i=r.getPathSeparator(),o=this._library._getRenditionCacheDir();p.ensurePathExists(o,function(a){if(!d.checkDeletedState(n,t)){var s=r.uuid()+"."+(e||"png"),l=o+i+s;t(a,l,s)}})},i.prototype._getEventData=function(e,t){var n=t?!1:{},i=this._dcxNode.getValue(o[e+"_DATA_KEY"])||n;if("CREATED"!==e){var r=this._dcxNode.getValue(o[e+"_KEY"]);r&&r===i.time||(i=n)}return i},i.prototype._isLocalEvent=function(e){var t=this._getEventData(e).deviceId;return t&&o.DEVICE_ID?t===o.DEVICE_ID:void 0},i.prototype._getEventContext=function(e){var t=JSON.parse(JSON.stringify(this._getEventData(e)));return delete t.time,delete t.deviceId,delete t.userId,t},i.prototype._clearEventData=function(e){this._dcxNode.getValue(o[e+"_DATA_KEY"])&&this._dcxNode.removeValue(o[e+"_DATA_KEY"])},i.prototype._setEventData=function(e,t){if(!o.DEVICE_ID)return void this._clearEventData(e);var n={userId:this.library.collection.userId,deviceId:o.DEVICE_ID};o.DEVICE_DESCRIPTION&&(n.device=o.DEVICE_DESCRIPTION),o.APP_DESCRIPTION&&(n.app=o.APP_DESCRIPTION),t&&(n.time=t),this._dcxNode.setValue(o[e+"_DATA_KEY"],n)},i.prototype._updateModifiedTime=function(){var e=(new Date).valueOf();this._dcxNode.setValue(o.MODIFIED_KEY,e),this._setEventData("MODIFIED",e)},i.prototype._updateCreatedTime=function(){var e=(new Date).valueOf();this._dcxNode.setValue(o.CREATED_KEY,e),this._dcxNode.setValue(o.MODIFIED_KEY,e),this._setEventData("CREATED"),this._setEventData("MODIFIED",e)},i.prototype._updateTimestampOnRemove=function(e){var t=e||(new Date).valueOf();this._dcxNode.setValue(o.REMOVED_KEY,t),this._setEventData("REMOVED",t)},i.prototype._updateTimestampOnRestore=function(){this._dcxNode.removeValue(o.REMOVED_KEY),this._clearEventData("REMOVED")},i.prototype._ensureRemovedDataValid=function(e){this.removed&&!this._getEventData("REMOVED",!0)?e?this._setEventData("REMOVED",this.removed):this._clearEventData("REMOVED"):this.removed||this._clearEventData("REMOVED")},i.prototype._ensureModifiedDataValid=function(e){this._getEventData("MODIFIED",!0)||(e?this._setEventData("MODIFIED",this.modified):this._clearEventData("MODIFIED")),this._ensureRemovedDataValid(e)},i.prototype._ensureCreatedDataValid=function(e){e&&!this._getEventData("CREATED",!0)&&this._setEventData("CREATED"),this._ensureModifiedDataValid(e)},i.prototype._clearRenditionCache=function(e,t){var n=this,i=this._renditionCache;this._renditionCache={};var a=t&&o.SHARED_LOCAL_STORAGE&&m.supportsClearRenditionCache();Object.keys(i).forEach(function(t){!e&&!n.getRepresentationById(t)||h.isErrorCode(i[t])?a&&r.storageInterface.setRenditionCache(n,t,"CLEAR"):n._renditionCache[t]=i[t]})},i.prototype._commit=function(e){this._displayName=void 0,this._updateModifiedTime(),this._clearRenditionCache(!0,!0),this._library._commit(),this._listenerManager.notify("change"),s.reportUpdateElement(this,e)},i.prototype._commitRenditionCache=function(){this._library._commit(!0,!0),this._listenerManager.notify("change")},i.prototype._setRenditionCache=function(e,t,n){this._renditionCache[e]=t,this._commitRenditionCache(),n&&(r.storageInterface.notifyDownloadRendition(this),this._listenerManager.notify("change"))},i.prototype._wrapOperation=function(e,t){var n=this._library._wrapOperation(function(){var n=this._library._wrapOperation(e,t);return this._updateModifiedTime(),
n},this);return this._listenerManager.notify("change"),n},i.prototype._getMissingLocalComponents=function(){var e=[];return this._representations.forEach(function(t){e=e.concat(t._getMissingLocalComponents())}),e},i.prototype._shouldGCLocalData=function(){var e=(new Date).valueOf();return this.removed&&e-this.removed>=o.REMOVED_ELEMENTS_CACHE_TIMEOUT},i.prototype.jasmineToString=function(){return this.toString()},Object.defineProperties(i.prototype,{id:{get:function(){return this._dcxNode.id},set:function(e){throw new l(l.READ_ONLY,"Cannot change the id of an existing element",this._library.id)}},library:{get:function(){return this._library},set:function(e){throw new l(l.READ_ONLY,"library is a read-only property",this._library.id)}},isWritable:{get:function(){return this._library.isWritable},set:function(){throw new l(l.READ_ONLY,"isWritable is a read-only property",this.id)}},name:{get:function(){return this._dcxNode.name||""},set:function(e){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this._library.id);this._dcxNode.name=e,this._commit(!0)}},displayName:{get:function(){return void 0===this._displayName&&(this._displayName=r.getDisplayName(this)||""),this._displayName},set:function(e){throw new l(l.READ_ONLY,"displayName is a read-only property",this._library.id)}},type:{get:function(){return this._dcxNode.type},set:function(e){throw new l(l.READ_ONLY,"Cannot change the type of an existing element",this._library.id)}},tags:{get:function(){return this._dcxNode.getValue("tags")||[]},set:function(e){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this._library.id);if(!e||e.constructor!==Array)throw new l(l.INVALID_PARAMETER,"tags must be an array",this._library.id);var t=e.every(function(e){return"string"==typeof e});if(!t)throw new l(l.INVALID_PARAMETER,"tags must be an array of strings",this._library.id);this._dcxNode.setValue("tags",e),this._commit()}},modified:{get:function(){return this._dcxNode.getValue(o.MODIFIED_KEY)},set:function(){throw new l(l.READ_ONLY,"Cannot change the modified timestamp of an element directly",this._library.id)}},modifiedBy:{get:function(){return this._getEventData("MODIFIED").userId},set:function(){throw new l(l.READ_ONLY,"Cannot change the modifiedBy property of an element directly",this._library.id)}},modifiedContext:{get:function(){return this._getEventContext("MODIFIED")},set:function(){throw new l(l.READ_ONLY,"Cannot change the modifiedContext property of an element directly",this._library.id)}},wasModifiedLocally:{get:function(){return this._isLocalEvent("MODIFIED")},set:function(){throw new l(l.READ_ONLY,"Cannot change the wasModifiedLocally property of an element directly",this._library.id)}},created:{get:function(){return this._dcxNode.getValue(o.CREATED_KEY)},set:function(){throw new l(l.READ_ONLY,"Cannot change the created timestamp of an element directly",this._library.id)}},createdBy:{get:function(){return this._getEventData("CREATED").userId},set:function(){throw new l(l.READ_ONLY,"Cannot change the createdBy property of an element directly",this._library.id)}},createdContext:{get:function(){return this._getEventContext("CREATED")},set:function(){throw new l(l.READ_ONLY,"Cannot change the createdContext property of an element directly",this._library.id)}},wasCreatedLocally:{get:function(){return this._isLocalEvent("CREATED")},set:function(){throw new l(l.READ_ONLY,"Cannot change the wasCreatedLocally property of an element directly",this._library.id)}},removed:{get:function(){return this._dcxNode.getValue(o.REMOVED_KEY)},set:function(){throw new l(l.READ_ONLY,"Cannot change the removed timestamp of an element directly",this._library.id)}},removedBy:{get:function(){return this._getEventData("REMOVED").userId},set:function(){throw new l(l.READ_ONLY,"Cannot change the removedBy property of an element directly",this._library.id)}},removedContext:{get:function(){return this._getEventContext("REMOVED")},set:function(){throw new l(l.READ_ONLY,"Cannot change the removedContext property of an element directly",this._library.id)}},wasRemovedLocally:{get:function(){return this._isLocalEvent("REMOVED")},set:function(){throw new l(l.READ_ONLY,"Cannot change the wasRemovedLocally property of an element directly",this._library.id)}},representations:{get:function(){return this._representations},set:function(){throw new l(l.READ_ONLY,"Cannot modify representation list directly",this._library.id)}},isDeletedLocally:{get:function(){return this._deletedLocally},set:function(){throw new l(l.READ_ONLY,"isDeletedLocally is a read-only property",this._library.id)}}}),i.prototype.toString=function(){return JSON.stringify(this._toJSON())},i.prototype.addChangeListener=function(e){d.checkDeletedState(this),this._listenerManager.add("change",e)},i.prototype.removeChangeListener=function(e){this._listenerManager.remove("change",e)},i.prototype.beginOperation=function(){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id);this._transactionCount++,this._library._beginOperation()},i.prototype.endOperation=function(e){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id);this._transactionCount>0&&(this._transactionCount--,this._library._endOperation()),e&&this._library._waitForCommit(e,!0)},i.prototype.createRepresentation=function(e,t,n,i){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this._library.id);return this._wrapOperation(function(){if(e===o.LINK_REPRESENTATION_TYPE)throw new l(l.INVALID_PARAMETER,"Cannot create external link representation directly - use setContentFromURL instead",this._library.id);if(void 0!==n&&(0>n||n>this._representations.length))throw new l(l.INVALID_PARAMETER,"Invalid index",this._library.id);this._validateRelationship(t);var r=this._doCreateRepresentation(e,t,n);return i||this._clearRenditionCache(!1,!0),r},this)},i.prototype.removeRepresentation=function(e){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this._library.id);return this._wrapOperation(function(){this._removeRepresentation(e),e._dcxComponent?this._library._dcxBranch.removeComponent(e._dcxComponent):this._library._dcxBranch.removeChild(e._dcxNode),this._clearRenditionCache(!1,!0),e._markDeletedLocally(!0)},this)},i.prototype.removeAllRepresentations=function(){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this._library.id);return this._wrapOperation(function(){for(;this._representations[0];)this.removeRepresentation(this._representations[0])},this)},i.prototype.getPrimaryRepresentation=function(){var e;return this._representations.forEach(function(t){e||"primary"!==t.relationship||(e=t)}),e},i.prototype.getValue=function(e,t){if(e===o.DL_NAMESPACE)throw new l(l.INVALID_PARAMETER,"Reserved namespace",this._library.id);var n=d.getDCXKey(e,t);return this._dcxNode.getValue(n)},i.prototype.getValues=function(){return d.getCustomDCXData(this._dcxNode)},i.prototype.setValue=function(e,t,n){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this._library.id);if(e===o.DL_NAMESPACE)throw new l(l.INVALID_PARAMETER,"Reserved namespace",this._library.id);var i,r=d.getDCXKey(e,t);try{i=JSON.parse(JSON.stringify(n))}catch(a){throw new l(l.INVALID_PARAMETER,"Value cannot be serialized to JSON",this._library.id)}this._dcxNode.setValue(r,i),this._commit()},i.prototype._getRenditionCandidate=function(e){var t,n,i,r,o,a,s,l,c=0;for(n=0;n<this._representations.length&&(i=this._representations[n],r=Math.max(i.width||0,i.height||0),o=i.isFullSize?Number.POSITIVE_INFINITY:r,a="primary"===i.relationship,s="rendition"===i.relationship,l=!t||i.isPreferredThumbnail&&!t.isPreferredThumbnail||a&&"primary"!==t.relationship||s&&"primary"!==t.relationship&&"rendition"!==t.relationship||s&&"rendition"===t.relationship&&o>c,l&&f.canComputeRendition(i)&&(t=i,c=o),!s||"image/png"!==i.type||!e||r!==e);n++);return t},i.prototype.getThumbnailURL=function(e,t){var n=this;d.checkDeletedState(this,t)||this._library._waitForCommit(function(){if(!d.checkDeletedState(n,t)){var i=n._getRenditionCandidate(e);if(i){var r=n._library._collection._syncManager;return void r.getSharedCloudRenditionUrl(i,e,t)}t(new l(l.THUMBNAIL_NOT_AVAILABLE,"no representation that can be converted into a thumbnail",n._library.id))}})},i.prototype.getThumbnailPath=function(e,t){var n=this;return r.hasFileSystem()?void(d.checkDeletedState(this,t)||this._library._waitForCommit(function(){if(!d.checkDeletedState(n,t)){if(o.SHARED_LOCAL_STORAGE)return void r.storageInterface.getRenditionPath(n,e,t);var i=function(e,i){n._lock.release(),t(e,i)};n._lock.obtain(function(){if(!d.checkDeletedState(n,i)){var t=this._lookupRenditionPath(e||"full");if(t)return void i(null,t);var o=this._getRenditionCandidate(e);if(o){if("rendition"===o.relationship&&"image/png"===o.type&&e&&Math.max(o.width||0,o.height||0)===e)return void o.getContentPath(i);var a=this._library._collection._syncManager;return void a.getSharedCloudRendition(o,e,function(t,o){return d.checkDeletedState(n,i)?void 0:t?void i(new l(l.THUMBNAIL_NOT_AVAILABLE,"error generating thumbnail from shared cloud",n._library.id,t)):void n._getNewRenditionPath(void 0,function(t,a,s){if(!d.checkDeletedState(n,i)){if(t)return void i(h.getCommitError(t,n._library.id,"unable to create thumbnail cache directory"));n._library._pendingRenditionCacheItems[s]=!0,r.fs.rename(o,a,function(t){if(!d.checkDeletedState(n,i)){if(t)return void i(h.getCommitError(t,n._library.id,"unable to write thumbnail to cache"));n._setRenditionCache(e||"full",s,!0),i(null,a)}})}})})}i(new l(l.THUMBNAIL_NOT_AVAILABLE,"no representation that can be converted into a thumbnail",n._library.id))}},n)}})):void t(new l(l.REQUIRES_FILESYSTEM,"path-based APIs require a filesystem",this._library.id))},i.prototype.setThumbnailCache=function(e,t,n){if("string"!=typeof t)return void n(new l(l.INVALID_PARAMETER,"path must be a string",this._library.id));if(!r.hasFileSystem())return void n(new l(l.REQUIRES_FILESYSTEM,"path-based APIs require a filesystem",this._library.id));if(!d.checkDeletedState(this,n)){if(o.SHARED_LOCAL_STORAGE)return void r.storageInterface.setRenditionCache(this,e,t,n);var i=this,a=function(e,t){i._lock.release(),n(e,t)};this._lock.obtain(function(){d.checkDeletedState(i,a)||this._getNewRenditionPath(p.getFileExtension(t),function(n,r,o){if(!d.checkDeletedState(i,a)){if(n)return void a(h.getCommitError(n,i._library.id,"unable to create thumbnail cache directory"));i._library._pendingRenditionCacheItems[o]=!0,p.copyFile(t,r,function(t){if(!d.checkDeletedState(i,a)){if(t)return void a(h.getCommitError(t,i._library.id,"unable to write thumbnail to cache"));i._setRenditionCache(e||"full",o,!1),a(null,r)}})}})},this)}},i.prototype._getActions=function(e){var t=this.getPrimaryRepresentation();if(!t)return[];var n=o.ELEMENT_ACTION_PRODUCT_MAP,i=n.types[this.type]||{},r=i[t.type]||[],a=[];r.forEach(function(t){!n.products[t]||e&&e!==n.products[t].action||a.push(new c(this,n.products[t]))}.bind(this));var s=a.map(function(e,t){return{i:t,v:e}});return s.sort(function(e,t){return e.v.isCompatibleVersionInstalled&&!t.v.isCompatibleVersionInstalled?-1:t.v.isCompatibleVersionInstalled&&!e.v.isCompatibleVersionInstalled?1:e.i-t.i}),s.map(function(e){return e.v})},i.prototype.getActions=function(e){if(!o.SHARED_LOCAL_STORAGE)throw new l(l.NOT_SUPPORTED,"getActions() not supported without shared local storage");if(e&&-1===o.ELEMENT_ACTIONS.indexOf(e))throw new l(l.INVALID_PARAMETER,"Unknown id supplied. Potential ids are",o.ELEMENT_ACTIONS.join(", "));return this._getActions(e)},i.prototype.getReference=function(){return"cloud-asset://"+this._library._collection._syncManager.getElementRefDomain()+this._library._collection._syncManager.getElementRefPath()+"/"+this._library.id+";node="+this.id},i.prototype.getRepresentationById=function(e){var t;return this.representations.forEach(function(n){n.id===e&&(t=n)}),t},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryFolder",["require","exports","module","./components/dcx-js/src/AdobeDCXError","./AdobeLibraryElement","./AdobeLibraryConfig","./AdobeLibraryAnalytics","./AdobeLibraryError","./AdobeLibraryServices","./AdobeLibraryLocalisation","./utils/AdobeLibraryAsyncJoin","./utils/AdobeLibraryLock","./utils/AdobeLibraryRenditionUtils","./utils/AdobeLibraryManifestUtils","./utils/AdobeLibraryErrorUtils","./utils/AdobeLibraryFileUtils","./utils/AdobeLibraryGeneralUtils","./utils/AdobeLibraryMimeTypeUtils","./utils/AdobeLibraryListenerManager"],function(e,t,n){"use strict";function i(e,t){this._collection=e,this._dcxComposite=t,this._dcxBranch=t.current,this._listenerManager=new y(["change"]),this._writable=!0,this._filterCache={},this._transactionCount=0,this._commitInProgress=!1,this._pendingCommit=!1,this._onCommitCallbacks=[],this._dcxLock=new p,this._renditionCacheLock=new p,this._pendingRenditionCacheItems={},this._networkLock=new p,this._syncState=void 0,this._deletedLocally=!1,this._deletedFromServer=!1,this._waitForSyncToFinishCallbacks=[],this._errors=[],this._pushFailedDueToQuota=!1,this._numUpdateConflicts=0;var n=this._dcxBranch.getChildrenOf();n.forEach(function(e){e.name===a.ELEMENTS_NAME&&(this._dcxElementsNode=e),e.name===a.REMOVED_ELEMENTS_NAME&&(this._dcxRemovedElementsNode=e)},this),this._dcxElementsNode||(this._dcxElementsNode=this._dcxBranch.addChild(a.ELEMENTS_NAME)),this._dcxCompositeRenditionMap=h.getCompositeRenditionMap(this._dcxBranch),this._elements=[],this._removedElements=[];var i=this._dcxBranch.getChildrenOf(this._dcxElementsNode);if(i.forEach(function(e){var t=new o(this,e);this._addElementToFilter(t),this._elements.push(t)},this),this._dcxRemovedElementsNode){var r=this._dcxBranch.getChildrenOf(this._dcxRemovedElementsNode);r.forEach(function(e){var t=new o(this,e);this._removedElements.push(t)},this),this._sortRemovedElements()}c.hasFileSystem()||(this._dcxBaseBranch=this._dcxBranch.copy())}var r=e("./components/dcx-js/src/AdobeDCXError"),o=e("./AdobeLibraryElement"),a=e("./AdobeLibraryConfig"),s=e("./AdobeLibraryAnalytics"),l=e("./AdobeLibraryError"),c=e("./AdobeLibraryServices"),u=e("./AdobeLibraryLocalisation"),d=e("./utils/AdobeLibraryAsyncJoin"),p=e("./utils/AdobeLibraryLock"),f=e("./utils/AdobeLibraryRenditionUtils"),h=e("./utils/AdobeLibraryManifestUtils"),m=e("./utils/AdobeLibraryErrorUtils"),g=e("./utils/AdobeLibraryFileUtils"),v=e("./utils/AdobeLibraryGeneralUtils"),_=e("./utils/AdobeLibraryMimeTypeUtils"),y=e("./utils/AdobeLibraryListenerManager");return i.prototype._getRemovedElementsNode=function(){return this._dcxRemovedElementsNode||(this._dcxRemovedElementsNode=this._dcxBranch.addChild(a.REMOVED_ELEMENTS_NAME)),this._dcxRemovedElementsNode},i.prototype._markDeletedLocally=function(e){this._deletedLocally=e,this._elements.forEach(function(t){t._markDeletedLocally(e)}),e&&this._listenerManager.removeAll()},i.prototype._removeAllListeners=function(){this._listenerManager.removeAll(),this._elements.forEach(function(e){e._removeAllListeners()})},i.prototype._toJSON=function(){var e={id:this.id,name:this.name,elements:[],renditionCache:{}};return this._elements.forEach(function(t){e.elements.push(t._toJSON()),e.renditionCache[t.id]=JSON.parse(JSON.stringify(t._renditionCache))}),e},i.prototype._getRenditionCache=function(){var e={},t=function(t){e[t.id]=JSON.parse(JSON.stringify(t._renditionCache))};return this._elements.forEach(t),this._removedElements.forEach(t),e},i.prototype._setRenditionCache=function(e){var t=function(t){e[t.id]&&(t._renditionCache=e[t.id])};this._elements.forEach(t),this._removedElements.forEach(t)},i.prototype._loadRenditionCache=function(e){var t=this;f.readRenditionCacheData(this,function(n,i){!n&&i&&t._setRenditionCache(i.renditions),e(null)})},i.prototype._saveRenditionCache=function(e){var t=this;if(!c.hasFileSystem()||a.SHARED_LOCAL_STORAGE)return void(e&&e(null));var n=function(n){t._renditionCacheLock.release(),e&&e(n)};this._renditionCacheLock.obtain(function(){var e={};e.renditions=this._getRenditionCache(),f.writeRenditionCacheData(this,e,n)},this)},i.prototype._doCommit=function(e){function t(){if(e&&!a.SHARED_LOCAL_STORAGE){if(r._deletedLocally)return;r._collection._clearSyncErrors(),r._push(),r._collection._resetPollBackoff()}}function n(e){var n=r._onCommitCallbacks;r._onCommitCallbacks=[],n.forEach(function(t){t.waitForSuccess&&!e?r._onCommitCallbacks.push(t):r._waitForCommit(t.callback)}),t()}function i(e,t){e&&(e=m.getCommitError(e,r.id,t)),r._collection._reportCommitError(e)}var r=this;return c.hasFileSystem()?this._commitInProgress?void(this._pendingCommit=!0):(this._commitInProgress=!0,void c.storageInterface.commitManifest(this,function(t,o){i(t,"Failed to write composite to disk"),r._saveRenditionCache(function(t){i(t,"Failed to write rendition cache to disk"),r._commitInProgress=!1,r._pendingCommit?(r._pendingCommit=!1,0===r._transactionCount&&r._doCommit(e)):n(o)})})):void n()},i.prototype._waitForCommit=function(e,t){this._commitInProgress||this._transactionCount>0?this._onCommitCallbacks.push({callback:e,waitForSuccess:t}):e()},i.prototype._notifyChange=function(){this._listenerManager.notify("change"),this._collection._notifyChange()},i.prototype._commit=function(e,t){0===this._transactionCount&&(t||(this._updateModifiedTime(),this._notifyChange()),this._doCommit(!e))},i.prototype._wrapOperation=function(e,t){this._beginOperation();var n;try{n=e.call(t)}catch(i){throw this._transactionCount--,i}return this._endOperation(),n},i.prototype._beginOperation=function(){this._transactionCount++},i.prototype._endOperation=function(){this._transactionCount--,this._commit()},i.prototype._updateModifiedTime=function(){var e=(new Date).valueOf();this._dcxBranch.rootNode.setValue(a.MODIFIED_KEY,e)},i.prototype._updateCreatedTime=function(){var e=(new Date).valueOf();this._dcxBranch.rootNode.setValue(a.CREATED_KEY,e),this._dcxBranch.rootNode.setValue(a.MODIFIED_KEY,e)},i.prototype._getMissingLocalComponents=function(){var e=[];return this._elements.forEach(function(t){e=e.concat(t._getMissingLocalComponents())}),e},i.prototype._gcLocalData=function(e){var t=[],n=[];return this._removedElements.forEach(function(e){e._shouldGCLocalData()&&(t.push(e),e.representations.forEach(function(e){var t=e._dcxComponent,i=e._getCurrentComponentPath();t&&i&&t.etag&&"modified"!==t.state&&n.push(t.id)}))}),0===t.length?void e(null):(t.forEach(function(e){e._renditionCache={}}),void this._dcxComposite.removeLocalFilesForComponentsWithIDs(n,e))},i.prototype._checkRenditionType=function(e,t){if(!e||-1===a.VALID_LIBRARY_RENDITION_TYPES.indexOf(e)){if(t)return t(new l(l.INVALID_PARAMETER,"composite rendition type not supported: "+e)),!1;throw new l(l.INVALID_PARAMETER,"composite rendition type not supported: "+e)}return!0},i.prototype._setRenditionFromPath=function(e,t,n,i){if(!h.checkDeletedState(this,i)){var r=this._dcxCompositeRenditionMap[e],o=c.fs,s=this,u=t&&c.getFileNameFromPath(t),d=g.getFileExtension(u),p=c.uuid()+"."+d;o.stat(t,function(o,d){return o?void i(o):d&&d.size>a.MAX_COMPONENT_SIZE?void i(new l(l.FILE_TOO_LARGE,"File exceeds maximum size for a thumbnail")):void c.storageInterface.notifyStartWrite(s,[],function(){s._dcxBranch.addComponent(u,n,"rendition",p,t,!0,void 0,s._dcxBranch.rootNode,void 0,function(t,n){return t?void i(t):void(h.checkDeletedState(s,i)||(n.setValue(a.MODIFIED_KEY,(new Date).valueOf()),n.setValue(a.RENDITION_TYPE_KEY,e),r&&s._dcxBranch.removeComponent(r),s._dcxCompositeRenditionMap=h.getCompositeRenditionMap(s._dcxBranch),s._commit(),i(null)))})})})}},i.prototype._setRendition=function(e,t,n,i,r){function o(t){return t?void r(m.getCommitError(t,u.id,"error writing library rendition")):void(h.checkDeletedState(u,r)||u._setRenditionFromPath(e,s,i,r))}function a(){"buffer"===n?l.writeFile(s,t,o):l.writeFile(s,t,n,o)}var s,l=c.fs,u=this,d=this.collection._getTempDir();g.ensurePathExists(d,function(e){if(e)return void r(m.getCommitError(e,u.id,"error creating temp directory"));if(!h.checkDeletedState(u,r)){var t=_.getExtensions(i)[0],n=c.uuid()+"."+t;s=d+c.getPathSeparator()+n,a()}})},i.prototype._setRenditionInBrowser=function(e,t,n,i){var r=this,o=this._dcxCompositeRenditionMap[e],s=this._collection._syncManager,l=c.uuid();s.uploadNewComponentForLibrary(t,l,n,"rendition",this,function(t,n){return t?void i(t):void(h.checkDeletedState(r,i)||(n.setValue(a.MODIFIED_KEY,(new Date).valueOf()),n.setValue(a.RENDITION_TYPE_KEY,e),o&&r._dcxBranch.removeComponent(o),r._dcxCompositeRenditionMap=h.getCompositeRenditionMap(r._dcxBranch),r._commit(),i(null)))})},i.prototype._getFilterKey=function(e){var t=e&&-1!==a.ELEMENT_TYPE_FILTERS.indexOf(e);return t?e:"*"},i.prototype._removeElementFromFilter=function(e){var t=this._getFilterKey(e.type);if(this._filterCache[t]){var n=this._filterCache[t].indexOf(e);-1!==n&&this._filterCache[t].splice(n,1)}},i.prototype._addElementToFilter=function(e){var t=this._getFilterKey(e.type);this._filterCache[t]=this._filterCache[t]||[],this._filterCache[t].push(e)},i.prototype._doCreateElement=function(e,t){var n=this._dcxBranch.addChild(e,void 0,void 0,this._dcxElementsNode);n.path=n.id,n.type=t;var i=new o(this,n);return i._updateCreatedTime(),this._elements.push(i),this._addElementToFilter(i),i},i.prototype._doRemoveElement=function(e,t){var n=this._elements.indexOf(e);-1!==n&&this._elements.splice(n,1),n=this._removedElements.indexOf(e),-1!==n&&this._removedElements.splice(n,1),this._removeElementFromFilter(e),t&&this._dcxBranch.removeChild(e._dcxNode),e._markDeletedLocally(!0)},i.prototype._ensureRemovedElementsSpace=function(){for(;this.removedElements.length>=a.MAX_REMOVED_ELEMENTS;)this._doRemoveElement(this.removedElements[0],!0)},i.prototype._sortRemovedElements=function(){this._removedElements.sort(function(e,t){return e.removed-t.removed})},i.prototype._doMarkElementRemoved=function(e,t){var n=this._elements.indexOf(e);-1!==n&&(this._ensureRemovedElementsSpace(),this._elements.splice(n,1),this._removeElementFromFilter(e),this._removedElements.push(e),this._sortRemovedElements(),t&&(e._dcxNode=this._dcxBranch.moveChild(e._dcxNode,void 0,this._getRemovedElementsNode()),e._updateTimestampOnRemove()))},i.prototype._doRestoreElement=function(e,t){var n=this._removedElements.indexOf(e);-1!==n&&(this._removedElements.splice(n,1),this._elements.push(e),this._addElementToFilter(e),t&&(e._dcxNode=this._dcxBranch.moveChild(e._dcxNode,void 0,this._dcxElementsNode),e._updateTimestampOnRestore()))},i.prototype._doCopyDCXElement=function(e,t,n,i,r){var a=this;t._beginOperation(),c.storageInterface.notifyStartWrite(t,[this],function(){t._dcxBranch.copyChild(e._dcxNode,t._dcxElementsNode,void 0,i,i,function(i,s){if(!h.checkDeletedState(a,r)){if(i)return t._endOperation(),void r(i);var l=new o(t,s);t._addElementToFilter(l),t._elements.push(l);var u=function(){h.checkDeletedState(a,r)||(t._endOperation(),n&&a._wrapOperation(function(){a._doRemoveElement(e,!0)}),r(null,l))};c.hasFileSystem()?f.copyRenditionCache(l,e,e._renditionCache,u):u()}})})},i.prototype._doCopyElement=function(e,t,n,i){if(t._elements.length>=a.MAX_ELEMENTS)return void i(new l(l.EXCEEDS_MAX_LIBRARY_SIZE,"Library cannot have more than "+a.MAX_ELEMENTS+" elements",this.id));var r=e.id,o=t._elements.every(function(e){return e.id!==r})&&t._removedElements.every(function(e){return e.id!==r});o||(r=c.uuid()),this._doCopyDCXElement(e,t,n,r,i)},i.prototype.jasmineToString=function(){return this.toString()},i.prototype._setSyncState=function(e){this._syncState!==e&&(this._syncState=e,this._collection._updateSyncState(),this._checkSyncFinishedAndNotify())},i.prototype._isSyncing=function(){return void 0!==this._syncState},i.prototype._checkSyncFinishedAndNotify=function(){if(!this._isSyncing()){var e=this._waitForSyncToFinishCallbacks;this._waitForSyncToFinishCallbacks=[],e.forEach(function(e){e()})}},i.prototype._waitForSyncToFinish=function(e){this._waitForSyncToFinishCallbacks.push(e),this._checkSyncFinishedAndNotify()},i.prototype._getClientData=function(){var e={};if(this._dcxComposite.clientDataString)try{e=JSON.parse(this._dcxComposite.clientDataString)}catch(t){}return e},i.prototype._getClientDataValue=function(e){var t=this._getClientData();return t[e]},i.prototype._setClientDataValue=function(e,t){var n=this._getClientData();n[e]=t,this._dcxComposite.clientDataString=JSON.stringify(n)},i.prototype._setCollaboration=function(e){var t=e&&e.collaboration&&e.collaboration.toLowerCase(),n=e&&e.collaboration_role&&e.collaboration_role.toLowerCase(),i=this._getClientDataValue(a.DATA_COLLABORATION_ROLE);if(this.collaboration!==t||i!==n){var r=h.collaborationStateToDCX(t);this._dcxComposite.collaborationType=r,this._setClientDataValue(a.DATA_COLLABORATION_ROLE,n),this._commit(!0,!0),this._notifyChange(),this._revertLocalChangesIfNecessary()}},i.prototype._isDeletedError=function(e){var t=e&&(e.code===r.NO_COMPOSITE||e.code===r.DELETED_COMPOSITE),n=e&&e.code===r.UNEXPECTED_RESPONSE&&e.response&&401===e.response.statusCode;return t||this.collection.isPublic&&n},i.prototype._isAlreadyExistsError=function(e){var t=e&&e.code===r.ALREADY_EXISTS,n=e&&e.code===r.UNEXPECTED_RESPONSE&&e.response&&409===e.response.statusCode;return t||n},i.prototype._isReadOnlyError=function(e){if("incoming"!==this.collaboration)return!1;var t=!1;return!e||e.code!==r.COMPONENT_UPLOAD_ERROR&&e.code!==r.UNEXPECTED_RESPONSE||(e.code===r.UNEXPECTED_RESPONSE&&e.response&&403===e.response.statusCode&&(t=!0),e.code===r.COMPONENT_UPLOAD_ERROR&&Array.isArray(e.failedComponents)&&e.failedComponents.length>0&&(t=!0,e.failedComponents.forEach(function(e){e.error&&e.error.code===r.UNEXPECTED_RESPONSE&&e.error.response&&403===e.error.response.statusCode||(t=!1)}))),t},i.prototype._mergeAndSwitchToBranch=function(e,t,n){function i(t,i){if(!h.checkDeletedState(r,n)){if(t)return void n(m.getCommitError(t,r.id));c.log("Starting merge "+(l?"(local)":"(remote)")),i.name!==r.name&&(e.name=r.name);var p=e.rootNode.getValue(a.MODIFIED_KEY),g=Math.max(p||0,r.modified||0);i!==r._dcxBranch&&g&&p!==g&&e.rootNode.setValue(a.MODIFIED_KEY,g);var v=h.getCompositeRenditionMap(e),_=h.getCompositeRenditionMap(i);Object.keys(r._dcxCompositeRenditionMap).forEach(function(t){var n=r._dcxCompositeRenditionMap[t],i=_[t],o=v[t];if(!i||n.id!==i.id)if(o){var s=n.getValue(a.MODIFIED_KEY)||0,l=o.getValue(a.MODIFIED_KEY)||0;s>l&&(e.removeComponent(o),e.copyComponent(n,e.rootNode))}else e.copyComponent(n,e.rootNode)}),Object.keys(_).forEach(function(t){var n=r._dcxCompositeRenditionMap[t],i=_[t],o=v[t];!n&&o&&o.id===i.id&&e.removeComponent(o)});var y,E,b=e.getChildrenOf();b.forEach(function(e){e.name===a.ELEMENTS_NAME&&(y=e),e.name===a.REMOVED_ELEMENTS_NAME&&(E=e)}),y||(y=e.addChild(a.ELEMENTS_NAME));var L=function(){E||(E=e.addChild(a.REMOVED_ELEMENTS_NAME))},S={},A=[],T=[],C=[],I=[],D=[],w=new d,O=function(t){var n=t.id,u=t._dcxNode,d=t.modified,p=t.removed,h=e.getChildWithId(n),m=h&&h.getValue(a.MODIFIED_KEY),g=h&&h.getValue(a.REMOVED_KEY),v=i&&i.getChildWithId(n),_=v&&v.getValue(a.MODIFIED_KEY),b=v&&v.getValue(a.REMOVED_KEY);r._dcxBranch=e;var O=function(){return p?(L(),E):y},R=function(){return!p&&t.removed?(I.push(t),!0):p&&!t.removed?(D.push(t),!0):!1};if(!_&&!m||_&&!m&&d!==_){c.log("1: created locally");var x=e.copyChild(u,O(),void 0,void 0,void 0);t._setDCXNode(x,!0)}else if(_&&!m&&d===_)c.log("2: deleted on server"),C.push(t);else if(_===d&&_===m)c.log("3: no changes to modified time"),t._setDCXNode(h,!0,!0),b!==p&&(b===g?p&&!g?(c.log("3a: removed locally"),L(),t._dcxNode=e.moveChild(t._dcxNode,void 0,E),t._updateTimestampOnRemove(p)):g&&!p&&(c.log("3b: restored locally"),t._dcxNode=e.moveChild(t._dcxNode,void 0,y),t._updateTimestampOnRestore()):p||(c.log("3c: remove/restore conflict - local restore wins"),t._dcxNode=e.moveChild(t._dcxNode,void 0,y),t._updateTimestampOnRestore())),R()&&A.push(t),t._ensureRemovedDataValid(l&&!a.SHARED_LOCAL_STORAGE);else if(_===d&&_!==m)c.log("4: updated on server"),t._setDCXNode(h,l),A.push(t),R(),t._ensureModifiedDataValid(l&&!a.SHARED_LOCAL_STORAGE);else if(_!==d&&_===m){c.log("5: updated locally");var N=e.replaceChild(u,void 0,void 0);t._setDCXNode(N,!0),(p&&!g||g&&!p)&&(t._dcxNode=e.moveChild(t._dcxNode,void 0,O()))}else if(_!==d&&_!==m){c.log("6: updated locally and on server (conflict)");var P=t._renditionCache;t._setDCXNode(h),A.push(t),R(),t._ensureModifiedDataValid(l&&!a.SHARED_LOCAL_STORAGE);var k=c.uuid(),M=e.copyChild(u,O(),void 0,k,k),U=new o(r,M);T.push(U),S[U.id]=!0,c.hasFileSystem()&&w.addOperation(f.copyRenditionCache,[U,t,P]),s.reportCollisionElement(t)}else c.log("ERROR: unexpected merge case: base="+_+", current="+d+", pulled="+m);r._dcxBranch=r._dcxComposite.current,S[n]=!0};r._elements.forEach(O),r._removedElements.forEach(O);var R=function(e){e.removed?r._removedElements.push(e):(r._addElementToFilter(e),r._elements.push(e))};T.forEach(R),r._sortRemovedElements(),C.forEach(function(e){r._doRemoveElement(e,!1)}),I.forEach(function(e){r._doMarkElementRemoved(e,!1)}),D.forEach(function(e){r._doRestoreElement(e,!1)}),r._dcxBranch=e,r._dcxElementsNode=y,r._dcxRemovedElementsNode=E,r._dcxCompositeRenditionMap=h.getCompositeRenditionMap(e);var x=function(t){if(!S[t.id]){var n=t.getValue(a.MODIFIED_KEY),s=i&&i.getChildWithId(t.id),u=s&&s.getValue(a.MODIFIED_KEY);if(u&&n&&u===n)c.log("7: deleted locally"),e.removeChild(t);else{c.log("8: created on server");var d=new o(r,t);R(d),d._ensureCreatedDataValid(l&&!a.SHARED_LOCAL_STORAGE)}}},N=r._dcxBranch.getChildrenOf(r._dcxElementsNode),P=r._dcxRemovedElementsNode?r._dcxBranch.getChildrenOf(r._dcxRemovedElementsNode):[];N.forEach(x),P.forEach(x),r._transactionCount++,w.run(function(){h.checkDeletedState(r,n)||(r._transactionCount--,c.storageInterface.resolvePullWithBranch(r,e,u,l,function(t){if(!h.checkDeletedState(r,n)){if(t)return void n(m.getCommitError(t,r.id));c.hasFileSystem()||(r._dcxBaseBranch=e.copy()),a.SHARED_LOCAL_STORAGE||l||f.prefetchRenditions(r),n(null),A.forEach(function(e){e._listenerManager.notify("change")}),r._notifyChange()}}))})}}var r=this,l=void 0!==t,u=e.localData;this._waitForCommit(function(){h.checkDeletedState(r,n)||(t?i(null,t):"unmodified"===r._dcxBranch.compositeState?i(null,r._dcxBranch):r._loadBaseBranch(i))})},i.prototype._pull=function(e){var t=this;if(!this._dcxComposite.href||!this._dcxBranch.isBound)return void e(null,!1);if(this._deletedFromServer)return void e(null,!1);var n=function(n,i){h.checkDeletedState(t,e)||(n&&t._collection._reportSyncError(n),t._setSyncState(),t._networkLock.release(),e(n,i))};this._networkLock.obtain(function(i){return i?void e(null):void(h.checkDeletedState(t,e)||(this._setSyncState("downloading"),this._collection._syncManager.pullComposite(this._dcxComposite,this._collection,function(i,r){return h.checkDeletedState(t,e)?void 0:t._isDeletedError(i)?void(c.hasFileSystem()&&"modified"===t._dcxBranch.compositeState&&"incoming"!==t.collaboration?(t._doRebindToServer(!1,e),t._networkLock.release()):(t._deletedFromServer=!0,t._notifyChange(),n(null,!0))):i?void n(m.getSyncError(i,t.id)):r?void t._mergeAndSwitchToBranch(r,void 0,function(i){h.checkDeletedState(t,e)||n(i,!0)}):void n(null,!1)})))},this)},i.prototype._pushWithParameters=function(e,t){var n=this,i=function(e,n){t&&t(null,n)};if(!a.SYNCING_ENABLED)return void i(null,!1);if(this._collection._retryTimeoutId)return void i(null,!1);if(this._dcxBranch.isBound&&"modified"!==this._dcxBranch.compositeState)return void i(null,!1);if(this._deletedFromServer)return void i(null,!1);
if(!this.isWritable)return void i(null,!1);if(this._pushPending)return void i(null,!1);var o=function(e,r){h.checkDeletedState(n,i)||(n._pushFailedDueToQuota=!1,e&&(n._collection._reportSyncError(e),e.code===l.EXCEEDS_QUOTA&&(n._pushFailedDueToQuota=!0)),n._setSyncState(),n._collection._syncManager.pullMissingComponents(n,function(e){h.checkDeletedState(n,t)||(n._networkLock.release(),f.prefetchRenditions(n),i(null,r))}))};this._pushPending=!0,this._networkLock.obtain(function(t){return t?void i(null,!1):void this._waitForCommit(function(){if(!h.checkDeletedState(n,i)){n._pushPending=!1;var t;c.hasFileSystem()||(t=n._dcxBranch.copy()),n._setSyncState("uploading"),n._collection._syncManager.pushComposite(n._dcxComposite,n._collection,e,function(e){if(!h.checkDeletedState(n,i)){if(n._isDeletedError(e))return void(c.hasFileSystem()&&"modified"===n._dcxBranch.compositeState&&"incoming"!==n.collaboration?(n._doRebindToServer(!1,i),n._networkLock.release()):(n._deletedFromServer=!0,n._notifyChange(),o(null,!0)));if(n._isAlreadyExistsError(e))return n._dcxComposite.name=u.translate("LIBS_RECOVERED_LIBRARY",{name:n._dcxComposite.name}),n._doRebindToServer(!0,i),void n._networkLock.release();if(n._isReadOnlyError(e))return c.log("Push failed due to read only. Reverting: "+n.id),n._setClientDataValue(a.DATA_COLLABORATION_ROLE,"viewer"),void n._revertLocalChangesIfNecessary(function(e){o(e,!1)});if(e&&e.code===l.TRANSFER_ABORTED)return void o(null,!0);if(e&&e.code===r.UPDATE_CONFLICT){if(c.log("Push failed due to conflict: "+n.id),n._numUpdateConflicts++,n._numUpdateConflicts<=a.MAX_UPDATE_CONFLICTS)return n._sync(!1,i),void n._networkLock.release();s.reportUnexpectedState(n,"updateConflict"),c.log("Reached maximum number of update-conflict retries: "+n.id)}return n._numUpdateConflicts=0,e&&e.code===r.COMPONENT_UPLOAD_ERROR&&(c.log("Push failed due to component upload failure: "+n.id),h.removeMissingLocalComponents(n,e.failedComponents)),e?void o(m.getSyncError(e,n.id)):void c.storageInterface.acceptPush(n,function(e){if(!h.checkDeletedState(n,i)){if(e)return void o(m.getCommitError(e,n.id),!0);c.hasFileSystem()||(n._dcxBaseBranch=t),o(null,!0)}})}})}})},this)},i.prototype._loadBaseBranch=function(e){var t=this;c.hasFileSystem()?t._dcxComposite.loadBaseBranch(function(n,i){t._waitForCommit(function(){e(n,i)})}):e(null,t._dcxBaseBranch)},i.prototype._revertLocalChangesIfNecessary=function(e){var t=this,n=v.wrapCallback(e);return this.isWritable||"modified"!==this._dcxBranch.compositeState?void n(null):void this._loadBaseBranch(function(e,i){t._transactionCount++,h.recoverReadOnlyEdits(t,i,function(e){e&&c.log("Error recovering library changes: "+e),t._transactionCount--;var r=i.copy(),o=t.collaboration,s=t._getClientDataValue(a.DATA_COLLABORATION_ROLE);t._mergeAndSwitchToBranch(r,t._dcxBranch,function(e){if(e)c.log("Error Reverting: "+t.id),n(e);else{var i=h.collaborationStateToDCX(o);t._dcxComposite.collaborationType=i,t._setClientDataValue(a.DATA_COLLABORATION_ROLE,s),t._commit(!0,!0),t._waitForCommit(function(){t._notifyChange(),n(null)})}})})})},i.prototype._push=function(e){this._pushWithParameters(!1,e)},i.prototype._abortPushOrPull=function(){this._networkLock.abortPendingOperations(new l(l.TRANSFER_ABORTED)),this._collection._syncManager.abortPushOrPull(this.id)},i.prototype._deleteFromServer=function(e,t){var n=this;if(!this._dcxComposite.href||!this._dcxBranch.isBound)return void t(null);if(this._deletedFromServer)return void t(null);this._deletingFromServerInProgress||this._abortPushOrPull(),this._deletingFromServerInProgress=!0;var i=function(e){n._deletingFromServerInProgress=!1,n._networkLock.release(),t(e)};this._networkLock.obtain(function(o){return o?void t(null):this._deletedFromDisk?void i(null):(this._setSyncState("uploading"),this._dcxBranch.compositeState="pendingDelete",this._commit(!0,!0),void this._waitForCommit(function(){return n._deletedFromDisk?void i(null):void n._collection._syncManager.pushDeletedComposite(n._dcxComposite,n._collection,n.collaboration,e,function(t){t?n._isDeletedError(t)?t=null:(e||t.code!==r.UPDATE_CONFLICT)&&(t=m.getSyncError(t,n.id),n._collection._reportSyncError(t)):n._deletedFromServer=!0,n._setSyncState(),i(t)})}))},this)},i.prototype._doRebindToServer=function(e,t){var n=this;this._deletedFromServer=!1;var i=e||"incoming"===this.collaboration?"resetIdentity":"resetBinding",r=this.id;this._dcxComposite[i](function(e){if(!h.checkDeletedState(n,t)){if(e)return void t(e);n._transactionCount++,n.id!==r&&(n._collection._libraryIdMap[n.id]=n,delete n._collection._libraryIdMap[r]),g.moveLibrary(n,r,function(e){if(!h.checkDeletedState(n,t)){if(n._transactionCount--,e)return void t(e);n._collection._syncManager.prepareCompositeForPush(n._dcxComposite),n._setCollaboration(),n._commit(!1,!0),n._pushWithParameters(!0,t)}})}})},i.prototype._sync=function(e,t){function n(e,n){t&&r._waitForSyncToFinish(function(){t(e,n)})}function i(e,t){return h.checkDeletedState(r,n)?void 0:e?void n(e,t):void r._push(function(e,i){h.checkDeletedState(r,n)||n(e,t||i)})}var r=this;return a.SHARED_LOCAL_STORAGE||!a.SYNCING_ENABLED?void n(null,!1):this._collection._retryTimeoutId?void n(null,!1):(this._collection._clearSyncErrors(this.id),void(e?i(null,!1):this._pull(i)))},i.prototype._getCompositeDir=function(){return this._collection._getCompositeDir(this.id)},i.prototype._getRenditionCacheDir=function(){return this._collection._getRenditionCacheDir(this.id)},Object.defineProperties(i.prototype,{id:{get:function(){return this._publicId||this._dcxComposite.id},set:function(e){throw new l(l.READ_ONLY,"Cannot change the id of an existing library",this.id)}},collection:{get:function(){return this._collection},set:function(e){throw new l(l.READ_ONLY,"collection is a read-only property",this.id)}},isWritable:{get:function(){var e=this._getClientDataValue(a.DATA_COLLABORATION_ROLE);return this._writable&&"viewer"!==e},set:function(e){throw new l(l.READ_ONLY,"isWritable is a read-only property",this.id)}},name:{get:function(){return this._dcxComposite.name||""},set:function(e){if(h.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id);this._dcxComposite.name=e,this._commit()}},modified:{get:function(){return this._dcxBranch.rootNode.getValue(a.MODIFIED_KEY)},set:function(e){throw new l(l.READ_ONLY,"Cannot change the modified timestamp of a library directly",this.id)}},created:{get:function(){return this._dcxBranch.rootNode.getValue(a.CREATED_KEY)},set:function(e){throw new l(l.READ_ONLY,"Cannot change the created timestamp of a library directly",this.id)}},elements:{get:function(){return this._elements},set:function(){throw new l(l.READ_ONLY,"Cannot modify elements list directly",this.id)}},removedElements:{get:function(){return this._removedElements},set:function(){throw new l(l.READ_ONLY,"Cannot modify removed elements list directly",this.id)}},isDeletedFromServer:{get:function(){return this._deletedFromServer},set:function(){throw new l(l.READ_ONLY,"isDeletedFromServer is a read-only property",this.id)}},isDeletedLocally:{get:function(){return this._deletedLocally},set:function(e){throw new l(l.READ_ONLY,"isDeletedLocally is a read-only property",this.id)}},isQuotaExceeded:{get:function(){return this._pushFailedDueToQuota},set:function(){throw new l(l.READ_ONLY,"isQuotaExceeded is a read-only property",this.id)}},collaboration:{get:function(){var e=this._dcxComposite.collaborationType;return h.collaborationStateFromDCX(e)},set:function(){throw new l(l.READ_ONLY,"collaboration is a read-only property",this.id)}},syncState:{get:function(){return this._syncState},set:function(){throw new l(l.READ_ONLY,"syncState is a read-only property")}},syncProgress:{get:function(){var e=this._collection._syncProgressMap[this.id];return e&&e.progress},set:function(){throw new l(l.READ_ONLY,"syncProgress is a read-only property")}}}),i.prototype.toString=function(){return JSON.stringify(this._toJSON())},i.prototype.addChangeListener=function(e){h.checkDeletedState(this),this._listenerManager.add("change",e)},i.prototype.removeChangeListener=function(e){this._listenerManager.remove("change",e)},i.prototype.createElement=function(e,t){if(h.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id);if(this._elements.length>=a.MAX_ELEMENTS)throw new l(l.EXCEEDS_MAX_LIBRARY_SIZE,"Library cannot have more than "+a.MAX_ELEMENTS+" elements",this.id);return this._wrapOperation(function(){var n=this._doCreateElement(e,t);return s.reportCreateElement(n),n.beginOperation(),n},this)},i.prototype.removeElement=function(e,t){if(h.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id);if(!e)throw new l(l.INVALID_PARAMETER,"No element specified",this.id);if(-1===this._elements.indexOf(e)){if(-1===this._removedElements.indexOf(e))throw new l(l.INVALID_PARAMETER,"Element not in this library",this.id);if(!t)throw new l(l.INVALID_PARAMETER,"Element already removed",this.id)}return this._wrapOperation(function(){for(;e._transactionCount>0;)e.endOperation();t?this._doRemoveElement(e,!0):this._doMarkElementRemoved(e,!0),s.reportDeleteElement(e,t)},this)},i.prototype.restoreElement=function(e){if(h.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id);if(!e)throw new l(l.INVALID_PARAMETER,"No element specified",this.id);if(-1===this._removedElements.indexOf(e)){if(-1===this._elements.indexOf(e))throw new l(l.INVALID_PARAMETER,"Element not in this library",this.id);throw new l(l.INVALID_PARAMETER,"Element already restored",this.id)}if(this._elements.length>=a.MAX_ELEMENTS)throw new l(l.EXCEEDS_MAX_LIBRARY_SIZE,"Library cannot have more than "+a.MAX_ELEMENTS+" elements",this.id);return this._wrapOperation(function(){this._doRestoreElement(e,!0),s.reportRestoreElement(e)},this)},i.prototype.copyElement=function(e,t,n){return h.checkDeletedState(this,n)?void 0:e?-1===this._elements.indexOf(e)&&-1===this._removedElements.indexOf(e)?void n(new l(l.INVALID_PARAMETER,"Element not in this library",this.id)):t?t.isWritable?this._doCopyElement(e,t,!1,function(t,i){return t?void n(t):(s.reportCopyElement(i,e),void n(null,i))}):void n(new l(l.NOT_ALLOWED,"you do not have write access to the destination library",t.id)):void n(new l(l.INVALID_PARAMETER,"No destination library specified",this.id)):void n(new l(l.INVALID_PARAMETER,"No element specified",this.id))},i.prototype.moveElement=function(e,t,n){return h.checkDeletedState(this,n)?void 0:this.isWritable?e?-1===this._elements.indexOf(e)&&-1===this._removedElements.indexOf(e)?void n(new l(l.INVALID_PARAMETER,"Element not in this library",this.id)):t?this===t?void n(new l(l.INVALID_PARAMETER,"Move must have a different destination library",this.id)):t.isWritable?this._doCopyElement(e,t,!0,function(t,i){return t?void n(t):(s.reportMoveElement(i,e),void n(null,i))}):void n(new l(l.NOT_ALLOWED,"you do not have write access to the destination library",t.id)):void n(new l(l.INVALID_PARAMETER,"No destination library specified",this.id)):void n(new l(l.INVALID_PARAMETER,"No element specified",this.id)):void n(new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id))},i.prototype.getRenditionPath=function(e,t){if(!c.hasFileSystem())return void t(new l(l.REQUIRES_FILESYSTEM,"path-based APIs require a filesystem",this.id));if(!h.checkDeletedState(this,t)&&this._checkRenditionType(e,t)){var n=this._dcxCompositeRenditionMap[e];if(!n)return t(null);var i=this._dcxBranch.assetOfComponent(n);if(i)return t(null,i);var r=this;this._networkLock.obtain(function(e){if(e)return void t(e);if(h.checkDeletedState(r,t))return void r._networkLock.release();r._setSyncState("downloading");var i=r._collection._syncManager;i.downloadComponent(r._dcxBranch,n,function(e){return r._networkLock.release(),r._setSyncState(),e?void t(m.getSyncError(e,r.id)):void(h.checkDeletedState(r,t)||(r._commit(!0,!0),t(null,r._dcxBranch.assetOfComponent(n))))})})}},i.prototype.getRenditionURL=function(e){h.checkDeletedState(this),this._checkRenditionType(e);var t=this._dcxCompositeRenditionMap[e];if(t){var n=this._collection._syncManager;return n.getSharedCloudContentURL(t)}},i.prototype.getAuthenticatedRenditionURL=function(e,t){if(!h.checkDeletedState(this,t)&&this._checkRenditionType(e,t)){var n=this.getRenditionURL(e);if(!n)return t(null);var i=this._collection._syncManager;i.appendAccessTokenToURL(n,t)}},i.prototype.setRendition=function(e,t,n,i,r){if(!h.checkDeletedState(this,r)&&this._checkRenditionType(e,r)){if(!t)return void r(new l(l.INVALID_PARAMETER,"content must exist",this.id));if(!this.isWritable)return void r(new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id));if(c.hasFileSystem()){if(!h.checkEncoding(n,["utf8","ascii","base64","buffer"],r))return;this._setRendition(e,t,n,i,r)}else{if(void 0!==n)return void r(new l(l.INVALID_PARAMETER,"Encoding parameter not supported in-browser"));this._setRenditionInBrowser(e,t,i,r)}}},i.prototype.setRenditionFromPath=function(e,t,n,i){return!h.checkDeletedState(this,i)&&this._checkRenditionType(e,i)?"string"!=typeof t?void i(new l(l.INVALID_PARAMETER,"path must be a string",this.id)):c.hasFileSystem()?this.isWritable?void this._setRenditionFromPath(e,t,n,i):void i(new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id)):void i(new l(l.REQUIRES_FILESYSTEM,"path-based APIs require a filesystem",this.id)):void 0},i.prototype.removeRendition=function(e){if(h.checkDeletedState(this),this._checkRenditionType(e),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id);var t=this._dcxCompositeRenditionMap[e];return t?this._wrapOperation(function(){this._dcxBranch.removeComponent(t),this._dcxCompositeRenditionMap=h.getCompositeRenditionMap(this._dcxBranch),this._commit()},this):void 0},i.prototype.getFilteredElements=function(e){if(!e)throw new l(l.INVALID_PARAMETER,"must specify element type to filter",this.id);if("*"!==e&&-1===a.ELEMENT_TYPE_FILTERS.indexOf(e))throw new l(l.INVALID_PARAMETER,"must specify '*', or an element type in config.ELEMENT_TYPE_FILTERS",this.id);var t=this._getFilterKey(e);return this._filterCache[t]=this._filterCache[t]||[],this._filterCache[t]},i.prototype.sync=function(e){h.checkDeletedState(this,e)||this._sync(!1,e)},i.prototype.rebindToServer=function(e){if(!c.hasFileSystem())return void e(new l(l.REQUIRES_FILESYSTEM,"rebindToServer requires a filesystem",this.id));if(!h.checkDeletedState(this,e))return this.isWritable?this._deletedFromServer?void this._doRebindToServer(!1,e):void e(null):void e(new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id))},i.prototype.getElementById=function(e,t){var n;return this.elements.forEach(function(t){t.id===e&&(n=t)}),n||t||this.removedElements.forEach(function(t){t.id===e&&(n=t)}),n},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibrarySyncManager",["require","exports","module","./components/dcx-js/src/AdobeStorageSession","./components/dcx-js/src/AdobeDCXCompositeXfer","./components/dcx-js/src/AdobeDCXUtil","./components/dcx-js/src/AdobeDCXError","./AdobeLibraryConfig","./AdobeLibraryError","./AdobeLibraryServices","./utils/AdobeLibrarySyncUtils","./utils/AdobeLibraryErrorUtils","./utils/AdobeLibraryFileUtils","../src/utils/AdobeLibraryGeneralUtils","./utils/AdobeLibraryManifestUtils","./utils/AdobeLibraryMimeTypeUtils"],function(e,t,n){"use strict";function i(e,t){this._collection=e,this._isPublic=t.IS_PUBLIC,this._storageHost=t.STORAGE_HOSTNAME,this._collaborationHost=t.COLLABORATION_HOSTNAME,this._storageAssetsPath=this._isPublic?t.STORAGE_ASSETS_PATH:l.STORAGE_ASSETS_PATH,this._apiKey=l.STORAGE_API_KEY,this._syncGroup=this._isPublic?t.SYNC_GROUP:l.LIBRARY_SYNC_GROUP,this._XHR=t.XHR,this._requiresCommunitySession=t.REQUIRES_COMMUNITY_SESSION,this._getAccessToken=t.getAccessToken,this._httpServices=[],this._storageService=this._createStorageSession(),this._renditionStorageService=this._createStorageSession(),this._temporaryStorageServices={},this._lastSyncGroupState={},this._hasSetAuthToken=!1,this._authToken=void 0,this._inProgressSyncMap={},l.SHARED_LOCAL_STORAGE||this._isPublic||this._updateAuthToken()}var r=e("./components/dcx-js/src/AdobeStorageSession"),o=e("./components/dcx-js/src/AdobeDCXCompositeXfer"),a=e("./components/dcx-js/src/AdobeDCXUtil"),s=e("./components/dcx-js/src/AdobeDCXError"),l=e("./AdobeLibraryConfig"),c=e("./AdobeLibraryError"),u=e("./AdobeLibraryServices"),d=e("./utils/AdobeLibrarySyncUtils"),p=e("./utils/AdobeLibraryErrorUtils"),f=e("./utils/AdobeLibraryFileUtils"),h=e("../src/utils/AdobeLibraryGeneralUtils"),m=e("./utils/AdobeLibraryManifestUtils"),g=e("./utils/AdobeLibraryMimeTypeUtils");return i.prototype._getCommonRequestHeaders=function(){var e={};return l.USER_AGENT_HEADER&&(e["User-Agent"]=l.USER_AGENT_HEADER),e},i.prototype._setAuthToken=function(e){this._hasSetAuthToken=!0,this._authToken=e,this._httpServices.forEach(function(t){e?(t.isActive=!0,t.setAuthToken(e)):t.isActive=!1})},i.prototype._updateAuthToken=function(e){var t=this,n=h.wrapCallback(e);this._getAccessToken(this._authToken,function(e,i){!e&&i?t._setAuthToken(i):(e&&e.code===c.ACCESS_DENIED&&(t._collection._reportSyncError(e),t._collection._updateSyncState()),t._setAuthToken()),n(null,i)})},i.prototype._getAuthToken=function(e){this._isPublic?e(null,void 0):this._hasSetAuthToken?e(null,this._authToken):this._updateAuthToken(e)},i.prototype._authHandler=function(){this._updateAuthToken()},i.prototype._createStorageSession=function(){var e;return this._isPublic?e=u.dcx.createHTTPService():(e=u.dcx.createHTTPService(this._authHandler.bind(this)),this._httpServices.push(e)),e.setApiKey(this._apiKey),e.setTimeout(l.NETWORK_TIMEOUT),e.setAdditionalNodeOptions(u.getNodeTunnelOptions(this.getStorageHost())),e.setAdditionalHeaders(this._getCommonRequestHeaders()),this._XHR&&e._forceXhr(this._XHR),this._requiresCommunitySession?u.dcx.createCommunitySession(e,this.getStorageHost()):u.dcx.createStorageSession(e,this.getStorageHost())},i.prototype._createTemporaryStorageSession=function(e,t){var n;return t&&this._getAccessToken?(n=u.dcx.createHTTPService(this._authHandler.bind(this)),n.setApiKey(this._apiKey),n.setAdditionalHeaders(this._getCommonRequestHeaders()),n.setAuthToken(this._authToken),this._httpServices.push(n)):n=u.dcx.createHTTPService(),n.setTimeout(l.NETWORK_TIMEOUT),n.setAdditionalNodeOptions(u.getNodeTunnelOptions(e)),this._XHR&&n._forceXhr(this._XHR),u.dcx.createStorageSession(n,e)},i.prototype._getTemporaryStorageSession=function(e){var t=a.parseURI(e),n=t.scheme+"://"+t.authority,i=d.isAdobeDomain(t.authority);return this._temporaryStorageServices[n]||(this._temporaryStorageServices[n]=this._createTemporaryStorageSession(n,i)),this._temporaryStorageServices[n]},i.prototype.getServerComposites=function(e){var t=this,n=this._lastSyncGroupState.etag;this._storageService.getCollection(this.getSyncGroupPath(),n,function(n,i,r,o){if(n)return void(n.response&&404===n.response.statusCode?e(null,[]):e(n));if(!i){var a=Math.max(l.DEFAULT_MAX_SYNC_INTERVAL,1e3*d.getRetryAfterHeader(o));return l.MAX_SYNC_INTERVAL=a,void e(null,[])}l.MAX_SYNC_INTERVAL=l.DEFAULT_MAX_SYNC_INTERVAL;var s=t._lastSyncGroupState.compositeEtags||{},c={},u=[],p={},f=i.children||[];f.forEach(function(e){e&&m.validateLibraryId(e.name,!1)&&(e.isUnmodified=e.etag&&s[e.name]===e.etag,u.push(e),p[e.name]=e,c[e.name]=e.etag)}),t._lastSyncGroupState={etag:r,compositeEtags:c},e(null,u,p)})},i.prototype.clearSyncGroupCache=function(){this._lastSyncGroupState={}},i.prototype.doHeadRequest=function(e,t){var n;try{n=this._storageService.getCompositeManifestHref(e)}catch(i){return void t(i)}this._storageService.headRequest(n,t)},i.prototype.hasCompositeChangedOnServer=function(e,t){this.doHeadRequest(e,function(n,i){if(n)return void t(!0);var r=i&&i.headers&&i.headers.etag,o=e.current&&e.current.manifestEtag;t(r!==o)})},i.prototype.downloadComponent=function(e,t,n){o.downloadComponents([t],e,this._storageService,n)},i.prototype.downloadRepresentation=function(e,t){var n=e._dcxComponent,i=e.element.library._dcxBranch;this.downloadComponent(i,n,t)},i.prototype.abortPushOrPull=function(e){this._inProgressSyncMap[e]&&(this._inProgressSyncMap[e].abort(new c(c.TRANSFER_ABORTED,"abort push or pull operation")),delete this._inProgressSyncMap[e])},i.prototype._isManifestOnly=function(){return"manifestOnly"===l.SYNC_POLICY||!u.hasFileSystem()},i.prototype._pullCompositeComponents=function(e,t,n,i,r){if(this._isManifestOnly())return void r(null);var a=o.downloadComponents(e,t,this._storageService,r);this._inProgressSyncMap[i]=a,a.onProgress=function(e,t){0!==t&&n._updateProgress(i,e,t)}},i.prototype._pullComposite=function(e,t,n,i){var r=this;this._inProgressSyncMap[n]=o.pullCompositeManifestOnly(e,this._storageService,function(e,o){if(e||!o)return void i(e,o);var a=o.getComponentsOf();o.getChildrenOf().forEach(function(e){e.name===l.ELEMENTS_NAME&&o.getChildrenOf(e).forEach(function(e){a=a.concat(o.getComponentsOf(e))})}),r._pullCompositeComponents(a,o,t,n,function(e){i(e,o)})})},i.prototype.pullComposite=function(e,t,n){var i=this,r=e.id;if(!r&&e.href){var o=e.href.split("/");r=o&&o[o.length-1]}u.log("Started pulling: "+r+(this._isManifestOnly()?" (manifest only)":""));var a=(new Date).valueOf();t._updateProgress(r),this._pullComposite(e,t,r,function(o,l){var d=(new Date).valueOf()-a;return u.log("Finished pulling: "+r+(o?" ["+o.code+"]":"")+" duration="+d),delete i._inProgressSyncMap[r],t._updateProgress(r),l&&(l=l.copy(),m.ensureBranchDataValid(l)),o&&o.code===s.COMPONENT_DOWNLOAD_ERROR?void i.doHeadRequest(e,function(e,t){var i=!e&&t&&200===t.statusCode;if(i){var r=m.removeMissingComponents(o.pulledBranch.copy(),o.failedComponents);if(r)return void n(null,r)}n(o,l)}):o&&o.code===c.TRANSFER_ABORTED?void n(null,void 0):void n(o,l)})},i.prototype.pullMissingComponents=function(e,t){var n=this,i=e.id,r=e.collection,o=e._getMissingLocalComponents();if(this._isManifestOnly()||0===o.length)return void t(null);e._setSyncState("downloading"),u.log("Started pulling missing components: "+i);var a=(new Date).valueOf();r._updateProgress(i),this._pullCompositeComponents(o,e._dcxBranch,r,i,function(o){var s=(new Date).valueOf()-a;return u.log("Finished pulling missing components: "+i+(o?" ["+o.code+"]":"")+" duration="+s),delete n._inProgressSyncMap[i],r._updateProgress(i),e._setSyncState(),o&&o.code===c.TRANSFER_ABORTED?void t(null):void t(o)})},i.prototype.pushComposite=function(e,t,n,i){var r=this,a=e.id;u.log("Started pushing: "+a);var s=(new Date).valueOf();t._updateProgress(a),this._inProgressSyncMap[a]=o.pushComposite(e,n,this._storageService,function(e){var n=(new Date).valueOf()-s;u.log("Finished pushing: "+a+(e?" ["+e.code+"]":"")+" duration="+n),delete r._inProgressSyncMap[a],t._updateProgress(a),i(e)});var l=this._inProgressSyncMap[a];l.onProgress=function(e,n){0!==n&&t._updateProgress(a,e,n)}},i.prototype.pushDeletedComposite=function(e,t,n,i,r){var o=this;"incoming"===n?(u.log("Deleting incoming collaboration without pushing: "+e.id),this._storageService.deleteCompositeDirectory(e,r)):(u.log("Pushing deleted composite: "+e.id),this.pushComposite(e,t,i,function(n){if(n){if(n.code===s.UNEXPECTED_RESPONSE&&n.response&&404===n.response.statusCode)return void o._storageService.deleteCompositeDirectory(e,r);if(n.code===s.UPDATE_CONFLICT){var i=n;return void o.pullComposite(e,t,function(t){return t&&t.code===s.NO_COMPOSITE?void o._storageService.deleteCompositeDirectory(e,r):t&&t.code===s.DELETED_COMPOSITE?void r(null):t?void r(t):void r(i)})}}r(n)}))},i.prototype.getStorageHost=function(){return"https://"+this._storageHost},i.prototype.getSyncGroupPath=function(){var e=this.getStorageHost()+(this._storageAssetsPath||"");return this._syncGroup?a.appendPathElements(e,this._syncGroup):e},i.prototype.getCompositePath=function(e){return a.appendPathElements(this.getSyncGroupPath(),e)},i.prototype.getComponentPath=function(e,t){return a.appendPathElements(this.getSyncGroupPath(),e,t)},i.prototype.getElementRefDomain=function(){return this._requiresCommunitySession?l.CP_CLOUD_ID:this._storageHost},i.prototype.getElementRefPath=function(){return l.STORAGE_ASSETS_PATH+l.LIBRARY_SYNC_GROUP},i.prototype.getElementRefDomainPath=function(){return this.getElementRefDomain()+this.getElementRefPath()},i.prototype.getCollaborationHost=function(){return"https://"+this._collaborationHost},i.prototype._getSharedCloudRenditionUrl=function(e,t,n,i){if(!e._dcxComponent)return void i("representation must be a component to generate a rendition");try{var r;if(this._requiresCommunitySession)r=this._storageService.getComponentRenditionHref(e._dcxComponent,e._dcxComponent.version,"image/png","width",t||"full");else if(r=this._storageService.getComponentRenditionHref(e._dcxComponent,e._dcxComponent.version,t||"full"),n){var o=this._apiKey;return void this._getAuthToken(function(e,t){r+="?accept=image/png&api_key="+o+(t?"&user_token="+t:""),i(null,r)})}i(null,r)}catch(a){i(a)}},i.prototype._getAssetAsType=function(e,t,n,i,o,a){var s=this;a=a||0;var c=function(){s._getAssetAsType(e,t,n,i,o,a)};if(a>0&&"uploading"===e.element.library.syncState)return void setTimeout(c,l.RENDITION_RETRY_INTERVAL);var f=n+u.getPathSeparator()+u.uuid()+".png",h=new r.FileContent(f);this._renditionStorageService.getAssetAsType(t,h,i,function(t){var n=t&&t.response&&t.response.headers,i=1e3*d.getRetryAfterHeader(n);if(l.RENDITION_RETRY_INTERVAL=Math.max(l.DEFAULT_RENDITION_RETRY_INTERVAL,i),l.RENDITION_404_BACKOFF=Math.max(l.DEFAULT_RENDITION_404_BACKOFF,i),404===p.getErrorStatusCode(t)){if(a<l.RENDITION_MAX_RETRIES)return u.log("404 fetching rendition: retrying"),a++,void setTimeout(c,l.RENDITION_RETRY_INTERVAL);u.log("404 fetching rendition: reached maximum retries"),u.log("Backing off rendition fetch of "+e.id+" for "+l.RENDITION_404_BACKOFF+"ms"),e._lastRendition404=(new Date).valueOf()}o(t,f)})},i.prototype.getSharedCloudRenditionUrl=function(e,t,n){var i=l.SHARED_LOCAL_STORAGE?!1:!0;this._getSharedCloudRenditionUrl(e,t,i,n)},i.prototype.getSharedCloudRendition=function(e,t,n){var i=this;if(e.element.library.isDeletedFromServer)return u.log("Error: Trying to fetch rendition from deleted library."),void n("Error: library deleted");var r=(new Date).valueOf(),o=r-(e._lastRendition404||0);return o<l.RENDITION_404_BACKOFF?void n("Error: got 404 on last rendition attempt - backing off"):void this._getSharedCloudRenditionUrl(e,t,!1,function(t,r){if(t)return void n(t);var o={Accept:"image/png"},a=e.element.library.collection._getTempDir();f.ensurePathExists(a,function(t){return t?void n(t):void i._getAssetAsType(e,r,a,o,n)})})},i.prototype.getSharedCloudContentURL=function(e){return this._storageService.getComponentHref(e,e.version)},i.prototype.appendAccessTokenToURL=function(e,t){if(!e)return void t(null,void 0);var n=this._apiKey;this._getAuthToken(function(i,r){e+="?api_key="+n+(r?"&user_token="+r:""),t(null,e)})},i.prototype.getSharedCloudContent=function(e,t,n){var i=this._storageService.getComponentHref(e._dcxComponent,e._dcxComponent.version),r={};this._storageService.getAssetAsType(i,t,r,function(e,t){return e?void n(e):void n(null,t)})},i.prototype.getAssetFromURL=function(e,t,n,i,o,a){var c=this;u.log("getAssetFromURL: "+e);var p=this._getTemporaryStorageSession(e),h=n+u.getPathSeparator()+u.uuid(),m=new r.FileContent(h);a=a||0,t=t||{},f.ensurePathExists(n,function(r){if(r)return void o(r);var f=p.getAssetAsType(e,m,t,function(r,p,m,g){if(f&&delete f.progress,r&&r.code===s.UNEXPECTED_RESPONSE){var v=r.response&&r.response.statusCode;if(u.log("getAssetFromURL: Unexpected Response "+v+" from "+e),d.isRedirect(v)){var _=d.getLocationHeader(r.response.headers);if(_&&a<l.MAX_REDIRECT_FOLLOW)return u.log("getAssetFromURL: Redirecting to "+_),void c.getAssetFromURL(_,t,n,i,o,a+1);r.response.statusCode=404}}o(r,h,m,g)});if(f&&i){var g,v=0;f.progress=function(e){v+=e,!g&&f.response&&f.response.headers&&(g=d.getContentLengthHeader(f.response.headers)),i(v,g||1)},i(0,1)}})},i.prototype.doHeadRequestOfURL=function(e,t,n){var i=this;n=n||0;var r=this._getTemporaryStorageSession(e);r.headRequest(e,function(r,o){var a=o?o.statusCode:r;if(u.log("doHeadRequestOfURL: "+e+" -> "+a),o&&d.isRedirect(o.statusCode)){var s=d.getLocationHeader(o.headers);if(s&&n<l.MAX_HEAD_REDIRECT_FOLLOW)return u.log("doHeadRequestOfURL: Redirecting to "+s),void i.doHeadRequestOfURL(s,t,n+1);n>0&&(o.statusCode=404)}t(r,o)})},i.prototype.prepareCompositeForPush=function(e){e.href=this.getCompositePath(e.id)},i.prototype.updateAccessToken=function(e){this._setAuthToken(e)},i.prototype.isLoggedIn=function(){return this._isPublic||this._httpServices[0].isActive},i.prototype.uploadNewComponentForRepresentation=function(e,t,n,i){var r=n._element._library._dcxComposite;o.uploadNewComponent(e,n.type,r,n.id,this._storageService,function(e,o){if(e)return void i(e);var a=t?t.lastIndexOf("."):-1,s=-1!==a&&t.substr(a+1).toLowerCase(),l=n.id+"."+s,c=r.current.addComponentWithUploadResults(t,n.relationship,l,n._element._dcxNode,o);i(null,c)})},i.prototype.uploadNewComponentForLibrary=function(e,t,n,i,r,a){var s=r._dcxComposite;o.uploadNewComponent(e,n,s,t,this._storageService,function(e,r){if(e)return void a(e);var o=g.getExtensions(n)[0],l=t+"."+o,c=s.current.addComponentWithUploadResults(l,i,l,s,r);a(null,c)})},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryBookmark",["require","exports","module","./AdobeLibraryError"],function(e,t,n){"use strict";function i(e,t){this._id=e,this._url=t}var r=e("./AdobeLibraryError");return Object.defineProperties(i.prototype,{id:{get:function(){return this._id},set:function(e){throw new r(r.READ_ONLY,"Cannot change the id of an existing bookmark")}},url:{get:function(){return this._url},set:function(e){throw new r(r.READ_ONLY,"Cannot change the url of an existing bookmark")}}}),Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryBookmarkManager",["require","exports","module","./AdobeLibraryBookmark","./AdobeLibraryServices","./AdobeLibraryConfig","./utils/AdobeLibraryLock","./utils/AdobeLibraryFileUtils","./utils/AdobeLibraryErrorUtils"],function(e,t,n){"use strict";function i(e){this._collection=e,this._bookmarks=[],this._bookmarksEtag=void 0,this._bookmarksBase=void 0,this._syncModified=!1,this._lock=new u,this._service=e._syncManager._createTemporaryStorageSession(e._syncManager.getCollaborationHost(),!0)._service,this._bookmarksURL=e._syncManager.getCollaborationHost()+c.BOOKMARKS_PATH}function r(e,t){var n;return e.some(function(e){return e.id===t?(n=e,!0):void 0}),n}function o(e){var t=[];return e.forEach(function(e){t.push({id:e.id,url:e.url})}),t}function a(e){var t=[];return e&&e.forEach(function(e){t.push(new s(e.id,e.url))}),t}var s=e("./AdobeLibraryBookmark"),l=e("./AdobeLibraryServices"),c=e("./AdobeLibraryConfig"),u=e("./utils/AdobeLibraryLock"),d=e("./utils/AdobeLibraryFileUtils"),p=e("./utils/AdobeLibraryErrorUtils");return i.prototype._getBookmarksDir=function(){return this._collection._getBaseDir()},i.prototype._saveBookmarks=function(e){if(l.hasFileSystem()){var t={bookmarks:o(this._bookmarks),etag:this._bookmarksEtag};this._bookmarksBase&&(t.bookmarks_base=this._bookmarksBase),d.writeJSONData(this._getBookmarksDir(),c.BOOKMARKS_FILENAME,t,function(t){t&&(t=p.getCommitError(t,null,"bookmarks could not be saved")),e(t)})}else e(null)},i.prototype._loadBookmarks=function(e){if(l.hasFileSystem()){var t=this,n=this._getBookmarksDir()+l.getPathSeparator()+c.BOOKMARKS_FILENAME;d.readJSONData(n,function(n,i){
return n?(n=p.getCommitError(n,null,"bookmarks could not be loaded"),e(n)):(i&&(t._bookmarks=a(i.bookmarks),t._bookmarksEtag=i.etag,t._bookmarksBase=i.bookmarks_base&&a(i.bookmarks_base)),void e(null))})}else e(null)},i.prototype._pullBookmarks=function(e){function t(t,n){if(t)return e(t);if(200===n.statusCode)try{var r=JSON.parse(n.response);i._syncModified=!0,e(null,a(r.bookmarks),n.headers.etag)}catch(o){e("Cannot parse data: "+n.response)}else 304===n.statusCode||404===n.statusCode?e(null,void 0,n.headers.etag):e("Unexpected response getting bookmarks: "+n.statusCode)}l.log("Pulling bookmarks");var n={},i=this;this._bookmarksEtag&&(n["If-None-Match"]=this._bookmarksEtag),this._service.invoke("GET",this._bookmarksURL,n,void 0,{responseType:"text"},t)},i.prototype._mergeBookmarks=function(e,t){if(l.log("Merging bookmarks"),e){if(this._bookmarksBase){var n=this;e.forEach(function(t){var i=r(n._bookmarks,t.id),o=r(n._bookmarksBase,t.id);!i&&o&&e.splice(e.indexOf(t),1)}),this._bookmarks.forEach(function(t){var i=r(e,t.id),o=r(n._bookmarksBase,t.id);i||o||e.push(t)})}this._bookmarks=e}this._bookmarksEtag=t},i.prototype._pushBookmarks=function(e){l.log("Pushing bookmarks");var t={"Content-Type":"application/json"};this._bookmarksEtag&&(t["If-Match"]=this._bookmarksEtag);var n=this,i=JSON.stringify({bookmarks:o(this._bookmarks)});this._service.invoke("PUT",this._bookmarksURL,t,i,void 0,function(t,i){if(t)return e(t);var r=i.statusCode;!i.headers.etag||200!==r&&201!==r&&204!==r?409===r||412===r?n._pullBookmarks(function(t,i,r){return t?e(t):(n._mergeBookmarks(i,r),void n._pushBookmarks(e))}):e("Unexpected response updating bookmarks: "+r):e(null,i.headers.etag)})},i.prototype._commit=function(e){l.log("Commiting bookmarks");var t=this;this._lock.obtain(function(){t._saveBookmarks(function(n){return t._lock.release(),n?void t._collection._reportCommitError(n):void(e&&t.sync(function(e){e&&t._collection._reportSyncError(e)}))})})},i.prototype._sync=function(e){var t=this;this._bookmarksBase?t._pushBookmarks(function(n,i){return n?e(n):(t._bookmarksEtag=i,t._bookmarksBase=void 0,t._commit(),void e(null))}):t._pullBookmarks(function(n,i,r){return n?e(n):(i&&(t._bookmarks=i,t._bookmarksEtag=r,t._bookmarksBase=void 0,t._commit()),void e(null))})},i.prototype._createBase=function(){this._bookmarksBase||(this._bookmarksBase=this._bookmarks.slice())},i.prototype.load=function(e){l.log("Loading bookmarks");var t=this;this._lock.obtain(function(){t._loadBookmarks(function(n){t._lock.release(),e(n)})})},i.prototype.sync=function(e){l.log("Syncing bookmarks");var t=this;this._lock.obtain(function(){t._syncModified=!1,t._sync(function(n){return t._lock.release(),n?(n=p.getSyncError(n,null),e(n)):(e(null),void(t._syncModified&&t._collection._notifyChange(!0)))})})},i.prototype.createBookmark=function(e,t,n){if(c.SHARED_LOCAL_STORAGE)return void l.storageInterface.createBookmark(this._collection,e,t,n);l.log("Creating bookmark: "+e+" url: "+t);var i=this;this._lock.obtain(function(){var o=r(i._bookmarks,e),a=!1;o||(i._createBase(),o=new s(e,t),i._bookmarks.push(o),a=!0),i._lock.release(),n(null,o,a),a&&(i._commit(c.SYNCING_ENABLED),i._collection._notifyChange(!0))})},i.prototype.removeBookmark=function(e,t){if(c.SHARED_LOCAL_STORAGE)return void l.storageInterface.removeBookmark(this._collection,e,t);l.log("Removing bookmark: "+e.id+" url: "+e.id);var n=this;this._lock.obtain(function(){e=r(n._bookmarks,e.id),e&&(n._createBase(),n._bookmarks.splice(n._bookmarks.indexOf(e),1)),n._lock.release(),t(null),e&&(n._commit(c.SYNCING_ENABLED),n._collection._notifyChange(!0))})},i.prototype.getBookmarks=function(){return this._bookmarks.slice()},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryCollection",["require","exports","module","./components/dcx-js/src/AdobeDCXError","./AdobeLibraryFolder","./AdobeLibraryServices","./AdobeLibraryConfig","./AdobeLibrarySyncManager","./AdobeLibraryBookmarkManager","./AdobeLibraryAnalytics","./AdobeLibraryError","./AdobeLibraryLocalisation","./utils/AdobeLibraryAsyncJoin","./utils/AdobeLibraryFileUtils","./utils/AdobeLibraryManifestUtils","./utils/AdobeLibraryErrorUtils","./utils/AdobeLibrarySyncUtils","./utils/AdobeLibraryGeneralUtils","./utils/AdobeLibraryRenditionUtils","./utils/AdobeLibraryListenerManager"],function(e,t,n){"use strict";function i(e){this._rootDir=s.ROOT_DIR,this._userId=e.USER_ID,this._cloudId=e.CLOUD_ID,this._cloudInfo=e.CLOUD_INFO||{},this._syncManager=new l(this,e),this._libraries=[],this._syncState="syncing",this._syncProgressMap={},this._externalLinkDownloadProgressMap={},this._initialSyncInProgress=!1,this._syncErrors=[],this._listenerManager=new E(["change","deepchange","sync","commitError"]),this._libraryIdMap={},this._pendingDeletes=[],this._loaded=!1,this._syncing=!1,this._lastSyncTime=0,this._pendingSyncs=[],this._backoffTicks=0,this._numBackoffs=0,this._numRetries=0,this.isPublic||(this._bookmarkManager=new c(this))}var r=e("./components/dcx-js/src/AdobeDCXError"),o=e("./AdobeLibraryFolder"),a=e("./AdobeLibraryServices"),s=e("./AdobeLibraryConfig"),l=e("./AdobeLibrarySyncManager"),c=e("./AdobeLibraryBookmarkManager"),u=e("./AdobeLibraryAnalytics"),d=e("./AdobeLibraryError"),p=e("./AdobeLibraryLocalisation"),f=e("./utils/AdobeLibraryAsyncJoin"),h=e("./utils/AdobeLibraryFileUtils"),m=e("./utils/AdobeLibraryManifestUtils"),g=e("./utils/AdobeLibraryErrorUtils"),v=e("./utils/AdobeLibrarySyncUtils"),_=e("./utils/AdobeLibraryGeneralUtils"),y=e("./utils/AdobeLibraryRenditionUtils"),E=e("./utils/AdobeLibraryListenerManager");return i.prototype._removeAllListeners=function(){this._listenerManager.removeAll(),this._libraries.forEach(function(e){e._removeAllListeners()})},i.prototype._notifyChange=function(e){this._listenerManager.notify("deepchange"),e&&this._listenerManager.notify("change")},i.prototype._load=function(e){if(this._loaded)return void e(null);this._loaded=!0;var t=this;h.readLibraryDirectory(this,function(n,i){function r(e,n){if(m.validateLibraryId(e,t.isPublic)){var i=t._getCompositeDir(e);a.dcx.newCompositeFromLocalStorage(i,function(i,r){if(i)return a.log("Load error: DCX error loading composite for "+e),void n(g.getCommitError(i,e));if(!r||!r.current)return a.log("Load error: composite/branch not loaded for "+e),h.deleteLibraryFromDisk(t,e),void n(null);if(!m.validateLibrary(r))return a.log("Load error: failed validation for "+e),void n(null);if(!t.isPublic&&r.id!==e)return a.log("Load error: library id "+r.id+"doesn't match folder on disk "+e),void n(null);var s=new o(t,r);t.isPublic&&(s._publicId=e,s._writable=!1),"pendingDelete"===r.current.compositeState?(t._pendingDeletes.push(s),n(null)):(t._libraries.push(s),t._libraryIdMap[s.id]=s,s._loadRenditionCache(n))})}else n(null)}if(n||!i)return void e(null);var s=new f;i.forEach(function(e){s.addOperation(r,[e])}),t.isPublic||s.addOperation(t._bookmarkManager.load,[],t._bookmarkManager),s.run(function(n){a.log("Loaded "+t._libraries.length+" libraries and "+t._pendingDeletes.length+" pending deletes"),e(null)},function(e){t._reportCommitError(e)})})},i.prototype._removeFromPendingDeletes=function(e){var t=this._pendingDeletes.indexOf(e);-1!==t&&this._pendingDeletes.splice(t,1)},i.prototype._handlePendingDeletes=function(e){var t=this,n=new f;this._pendingDeletes.forEach(function(e){n.addOperation(function(n){e._deleteFromServer(!1,function(i){return i&&i.code===r.UPDATE_CONFLICT?(t._removeFromPendingDeletes(e),t._libraries.push(e),t._libraryIdMap[e.id]=e,e._markDeletedLocally(!1),t._updateSyncState(),t._notifyChange(!0),void n(null,!0)):i?void n(i):(t._removeFromPendingDeletes(e),e._deletedFromDisk=!0,void h.deleteLibraryFromDisk(t,e.id,function(e){n(e,!0)}))})})}),n.run(e)},i.prototype._doesLibraryExist=function(e){if(this._libraryIdMap[e])return!0;var t;for(t=0;t<this._pendingDeletes.length;t++)if(this._pendingDeletes[t].id===e)return!0;return!1},i.prototype._syncNewLibrary=function(e,t,n,i){var s=this,l=t||this._syncManager.getCompositePath(e),c=a.hasFileSystem()&&this._getCompositeDir(e),u=a.dcx.newCompositeWithHref(l,c);s._libraryIdMap[e]="pending",s._updateSyncState(),s._syncManager.pullComposite(u,s,function(t,a){return t||!a?(delete s._libraryIdMap[e],s._updateSyncState(),t=t?t.code===r.NO_COMPOSITE||t.code===r.DELETED_COMPOSITE?null:g.getSyncError(t,e):new d(d.NETWORK_ERROR,"No pulled branch"),void i(t,!0)):void u.resolvePullWithBranch(a,function(t){if(t||!s.isPublic&&u.id!==e)return delete s._libraryIdMap[e],s._updateSyncState(),t=t?g.getCommitError(t,e):new d(d.CORRUPTED_LIBRARY,"Library id does not match sync group id"),void i(t,!0);var r=new o(s,u);s.isPublic&&(r._publicId=e,r._writable=!1),s._libraries.push(r),s._libraryIdMap[r.id]=r,s._updateSyncState(),r._setCollaboration(n),y.prefetchRenditions(r),s._notifyChange(!0),i(null,!0)})})},i.prototype._syncNewLibraries=function(e,t){var n=this,i=new f;if(this._loadingHint){var r=[];e.forEach(function(e){-1!==n._loadingHint.indexOf(e.name)&&r.push(e)}),e.forEach(function(e){-1===n._loadingHint.indexOf(e.name)&&r.push(e)}),e=r}e.forEach(function(e){var t=e.name;n._doesLibraryExist(e.name)||i.addOperation(n._syncNewLibrary,[t,void 0,e],n)}),i.run(t)},i.prototype._syncExistingLibraries=function(e,t,n){var i=this,r=new f;this._libraries.forEach(function(n){var o=e&&e[n.id];if(o&&(n._setCollaboration(o),n._deletedFromServer&&(n._deletedFromServer=!1,n._notifyChange())),t)return void((t[n.id]||o&&!o.isUnmodified)&&r.addOperation(n._sync,[!1],n));var a=!e||o&&o.isUnmodified;void 0===n.collaboration?r.addOperation(n._sync,[a],n):a?r.addOperation(function(e){i._syncManager.hasCompositeChangedOnServer(n._dcxComposite,function(t){n._sync(!t,e)})}):r.addOperation(n._sync,[!1],n)}),r.run(n)},i.prototype._dosync=function(e,t){var n=this;this._clearSyncErrors(),this._syncManager.getServerComposites(function(i,r,o){if(i)return i=g.getSyncError(i,void 0,{403:d.ACCESS_DENIED}),n._reportSyncError(i),void t(null,!1);var a=new f;a.addOperation(n._syncNewLibraries,[r],n),a.addOperation(n._syncExistingLibraries,[o,e],n),a.addOperation(n._handlePendingDeletes,[],n),e||a.addOperation(n._bookmarkManager.sync,[],n._bookmarkManager),a.run(function(e,n){t(null,n)},function(e){n._reportSyncError(e)})})},i.prototype._reportSyncError=function(e){e&&(a.log("Sync error: "+g.errorToString(e)),this._syncErrors.push(e))},i.prototype._clearSyncErrors=function(e){if(e){var t=[];this._syncErrors.forEach(function(n){n.libraryId!==e&&t.push(n)}),this._syncErrors=t}else this._syncErrors=[]},i.prototype._reportCommitError=function(e){this._lastCommitError=e,e&&(a.log("Commit error: "+g.errorToString(e)),this._listenerManager.notify("commitError",[e]))},i.prototype._updateRetryState=function(){if(!this._retryTimeoutId&&"syncing"!==this._syncState){if("error"===this._syncState){var e=this.getPrimarySyncError();if(e&&e.code===d.RETRYABLE_SERVER_ERROR){if(this._numRetries++,this._numRetries>s.ERROR_RETRY_INTERVALS.length)return this._retryTime="never",a.log("Retry Failed"),void(s.MAX_SYNC_INTERVAL=s.RETRY_FAIL_MAX_SYNC_INTERVAL);a.log("Retry "+this._numRetries);var t=e.underlyingError&&e.underlyingError.response&&e.underlyingError.response.headers,n=1e3*v.getRetryAfterHeader(t);n>0?(this._numRetries=s.ERROR_RETRY_INTERVALS.length,a.log("Got Retry-After header")):n=1e3*s.ERROR_RETRY_INTERVALS[this._numRetries-1],a.log("Retrying after "+n+"ms"),this._retryTime=(new Date).valueOf()+n;var i=this;return void(this._retryTimeoutId=setTimeout(function(){i._retryTimeoutId=void 0,i._retryTime=void 0,a.log("Starting retry"),i._syncWithParameters(!1)},n))}if(e&&e.code===d.EXCEEDS_QUOTA)return s.MAX_SYNC_INTERVAL=s.RETRY_FAIL_MAX_SYNC_INTERVAL,this._numRetries=s.ERROR_RETRY_INTERVALS.length+1,void(this._retryTime="never")}this._numRetries=0,this._retryTime=void 0}},i.prototype._updateSyncState=function(){var e=this,t=this._initialSyncInProgress;Object.keys(this._libraryIdMap).forEach(function(n){var i=e._libraryIdMap[n],r="pending"===i||i._isSyncing();t=t||r});var n;t?n="syncing":(this._syncErrors.length>0?(n="error",e._syncManager.clearSyncGroupCache(),u.reportError(this.getPrimarySyncError())):n="ok",this._syncProgressMap={},this._syncProgress=void 0);var i=this._syncState;this._syncState=n,this._updateRetryState(),(i!==n||"error"===this._syncState)&&this._listenerManager.notify("sync"),e._ensureDefaultLibrary()},i.prototype._updateProgress=function(e,t,n){n?this._syncProgressMap[e]={bytesLoaded:t||0,bytesTotal:n}:this._syncProgressMap[e]?(0===this._syncProgressMap[e].bytesTotal&&(this._syncProgressMap[e].bytesTotal=1e4),this._syncProgressMap[e].bytesLoaded=this._syncProgressMap[e].bytesTotal):this._syncProgressMap[e]={bytesLoaded:0,bytesTotal:0};var i=!1,r=t||0,o=n||0,a=o>0?Math.max(0,Math.min(100,Math.round(r/n*100))):void 0;this._syncProgressMap[e].progress!==a&&(this._syncProgressMap[e].progress=a,i=!0);var s=0,l=0,c=0,u=0,d=this._syncProgressMap;Object.keys(d).forEach(function(e){s++,d[e].bytesTotal>0&&l++,c+=d[e].bytesLoaded,u+=d[e].bytesTotal});var p=u>0?c*l/(u*s):0,f=Math.max(0,Math.min(100,Math.round(100*p)));(!this._syncProgress||this._syncProgress<f||100===this._syncProgress&&100>f)&&(this._syncProgress=f,i=!0),i&&this._listenerManager.notify("sync")},i.prototype._updateExternalLinkDownloadProgress=function(e,t,n,i){var r,o=e.element.library.id+"."+e.element.id+"."+e.id;n?(t=t||0,r=Math.max(0,Math.min(100,Math.round(t/n*100)))):i&&(r=-1),r!==this._externalLinkDownloadProgressMap[o]&&(void 0===r?delete this._externalLinkDownloadProgressMap[o]:this._externalLinkDownloadProgressMap[o]=r,this._listenerManager.notify("sync"))},i.prototype._getExternalLinkDownloadProgress=function(e){var t=e.element.library.id+"."+e.element.id+"."+e.id;return this._externalLinkDownloadProgressMap[t]},i.prototype._setInitialSyncState=function(e,t){this._initialSyncInProgress=e,this._loadingHint=t,this._updateSyncState()},i.prototype._resetPollBackoff=function(){this._backoffTicks=0,this._numBackoffs=0},i.prototype._getBaseDir=function(){var e=a.getPathSeparator(),t=this._userId.replace(/@/g,"_"),n=this._rootDir+e+t;return this._isPublic&&t!==s.PUBLIC_USER_ID&&(n+=e+s.PUBLIC_USER_ID),n+e+this._cloudId},i.prototype._getCompositeDir=function(e){var t=a.getPathSeparator(),n=this._getBaseDir()+t+"dcx";return e&&(n+=t+e),n},i.prototype._getTempDir=function(){var e=a.getPathSeparator();return this._getBaseDir()+e+".tmp"},i.prototype._getRenditionCacheDir=function(e){var t=a.getPathSeparator(),n=this._getBaseDir()+t+"renditions";return e&&(n+=t+e),n},i.prototype._ensureDefaultLibrary=function(){var e="ok"===this.syncState&&!this.isInitialSyncInProgress&&s.SYNCING_ENABLED,t=0;if(this.libraries.forEach(function(e){e.isDeletedLocally||e.isDeletedFromServer||t++}),!this.isPublic&&e&&0===t){var n=p.translate("LIBS_DEFAULT_LIBRARY_NAME");a.log("Creating default library: "+n),this.createLibrary(n)}},i.prototype._doRemoveLibrary=function(e,t){var n=this,i=_.wrapCallback(t),r=this._libraries.indexOf(e);-1!==r&&(this._libraries.splice(r,1),delete this._libraryIdMap[e.id]),e._removeAllListeners(),s.SHARED_LOCAL_STORAGE?(e._dcxBranch.compositeState="pendingDelete",e._commit(!1,!0),e._markDeletedLocally(!0),i(null)):(n._pendingDeletes.push(e),s.SYNCING_ENABLED?e._deleteFromServer(!0,function(t){return e._markDeletedLocally(!0),t?void i(null):(n._removeFromPendingDeletes(e),e._deletedFromDisk=!0,void h.deleteLibraryFromDisk(n,e.id,i))}):(e._dcxBranch.compositeState="pendingDelete",e._commit(!0,!0),e._markDeletedLocally(!0),i(null))),this._notifyChange(!0)},Object.defineProperties(i.prototype,{libraries:{get:function(){return this._libraries},set:function(){throw new d(d.READ_ONLY,"Cannot modify libraries list directly")}},commitError:{get:function(){return this._lastCommitError},set:function(){throw new d(d.READ_ONLY,"commitError is a read-only property")}},syncState:{get:function(){return this._syncState},set:function(){throw new d(d.READ_ONLY,"syncState is a read-only property")}},syncErrors:{get:function(){return this._syncErrors},set:function(){throw new d(d.READ_ONLY,"syncErrors is a read-only property")}},syncProgress:{get:function(){return this._syncProgress},set:function(){throw new d(d.READ_ONLY,"syncProgress is a read-only property")}},isInitialSyncInProgress:{get:function(){return this._initialSyncInProgress},set:function(){throw new d(d.READ_ONLY,"isInitialSyncInProgress is a read-only property")}},isPolling:{get:function(){return void 0!==this._pollTimerId},set:function(){throw new d(d.READ_ONLY,"isPolling is a read-only property")}},isLoggedIn:{get:function(){return s.SHARED_LOCAL_STORAGE?void 0:this._syncManager.isLoggedIn()},set:function(){throw new d(d.READ_ONLY,"isLoggedIn is a read-only property")}},retryTime:{get:function(){return"never"!==this._retryTime?this._retryTime:void 0},set:function(){throw new d(d.READ_ONLY,"retryTime is a read-only property")}},userId:{get:function(){return this._userId},set:function(){throw new d(d.READ_ONLY,"userId is a read-only property")}},cloudId:{get:function(){return this._cloudId},set:function(){throw new d(d.READ_ONLY,"cloudId is a read-only property")}},cloudInfo:{get:function(){return this._cloudInfo},set:function(){throw new d(d.READ_ONLY,"cloudInfo is a read-only property")}},isPublic:{get:function(){return!1},set:function(){throw new d(d.READ_ONLY,"isPublic is a read-only property")}},bookmarks:{get:function(){return this._bookmarkManager.getBookmarks()},set:function(){throw new d(d.READ_ONLY,"bookmarks is a read-only property")}}}),i.prototype.addChangeListener=function(e){this._listenerManager.add("change",e)},i.prototype.removeChangeListener=function(e){this._listenerManager.remove("change",e)},i.prototype.addDeepChangeListener=function(e){this._listenerManager.add("deepchange",e)},i.prototype.removeDeepChangeListener=function(e){this._listenerManager.remove("deepchange",e)},i.prototype.createLibrary=function(e){var t=a.uuid(),n=s.COMPOSITE_TYPE,i=this._getCompositeDir(t),r=a.dcx.newEmptyComposite(e,n,i,t);r.current.rootNode.setValue(s.VERSION_KEY,s.VERSION),this._syncManager.prepareCompositeForPush(r);var l=new o(this,r);return l._updateCreatedTime(),this._libraries.push(l),this._libraryIdMap[l.id]=l,this._notifyChange(!0),l._commit(!1,!0),u.reportCreateLibrary(l),l},i.prototype.removeLibrary=function(e,t){this._doRemoveLibrary(e,t),u.reportDeleteLibrary(e)},i.prototype.removeDeletedLibraries=function(e,t){function n(e,t){var n=i._libraries.indexOf(e);-1!==n&&(i._libraries.splice(n,1),delete i._libraryIdMap[e.id]),e._deletedFromDisk=!0,h.deleteLibraryFromDisk(i,e.id,t),e._markDeletedLocally(!0)}var i=this,r=_.wrapCallback(t);"function"==typeof e&&(r=e,e=void 0);var o=e&&e.exclude||[],a=new f,s=!1;this._libraries.forEach(function(e){if(e.isDeletedFromServer){var t=!0;o.forEach(function(n){t=t&&e!==n}),t&&(s=!0,a.addOperation(n,[e]))}}),a.run(function(e){s&&i._notifyChange(!0),r(e)})},i.prototype.sync=function(e){this._syncWithParameters(!1,!1,void 0,e)},i.prototype.syncChanges=function(e,t){e=e||[];var n={};e.forEach(function(e){n[e]=!0}),this._syncWithParameters(!1,!1,n,t)},i.prototype.syncFull=function(e){this._syncManager.clearSyncGroupCache(),this._syncWithParameters(!1,!1,void 0,e)},i.prototype.syncBookmarks=function(e){var t=function(t){e&&e(t)};this._bookmarkManager.sync(t)},i.prototype._syncWithParameters=function(e,t,n,i){var r=this,o=function(){i&&i(null)};if(s.SHARED_LOCAL_STORAGE)return a.storageInterface.sync(this),void o();if(!s.SYNCING_ENABLED)return void o();if(this._retryTimeoutId)return void o();if(e||this._resetPollBackoff(),this.isPolling){if(this._syncing)return void o()}else if(this._syncing)return void r._pendingSyncs.push(o);var l=(new Date).valueOf();return l<this._lastSyncTime+s.MAX_SYNC_INTERVAL?t?void o():void setTimeout(function(){r._syncWithParameters(e,!0,n,o)},s.MAX_SYNC_INTERVAL):(a.log("Start Sync: "+this.cloudId+(e?" [polling]":"")),this._syncing=!0,this._lastSyncTime=(new Date).valueOf(),void this._dosync(n,function(e,t){if(r._syncing=!1,r._updateSyncState(),a.log("End Sync: "+r.cloudId),t&&(r._backoffTicks=0,r._numBackoffs=0),r._pendingSyncs.length>0){var n=r._pendingSyncs;r._pendingSyncs=[],r.sync(function(){n.forEach(function(e){e()})})}o()}))},i.prototype.addSyncListener=function(e){this._listenerManager.add("sync",e)},i.prototype.removeSyncListener=function(e){this._listenerManager.remove("sync",e)},i.prototype.getPrimarySyncError=function(){var e=this._syncErrors[0];return this._syncErrors.forEach(function(t){var n=g.getErrorPriority(t),i=g.getErrorPriority(e);n>i?e=t:n===i&&e.code===t.code&&e.libraryId!==t.libraryId&&(e=new d(e.code,"multiple errors (see libraryCollection.syncErrors)",void 0))}),e},i.prototype.getNewLibrarySyncProgress=function(){var e=this;if(this._newLibraryProgress)return this._newLibraryProgress;var t=[];return Object.keys(this._libraryIdMap).forEach(function(n){"pending"===e._libraryIdMap[n]&&t.push({id:n,progress:e._syncProgressMap[n]&&e._syncProgressMap[n].progress})}),t},i.prototype.addCommitErrorListener=function(e){this._listenerManager.add("commitError",e)},i.prototype.removeCommitErrorListener=function(e){this._listenerManager.remove("commitError",e)},i.prototype.startPolling=function(){if(s.SHARED_LOCAL_STORAGE)throw new d(d.NOT_SUPPORTED,"startPolling() not supported with shared local storage");if(!this.isPolling){var e=this,t=6e4*s.POLL_INTERVAL;this._pollTimerId=setInterval(function(){if("never"!==e._retryTime){if(e._backoffTicks>0)return void e._backoffTicks--;0===e._backoffTicks&&(e._numBackoffs++,e._backoffTicks=v.getBackoffTicks(e._numBackoffs)),e._syncWithParameters(!0)}},t)}},i.prototype.stopPolling=function(){if(s.SHARED_LOCAL_STORAGE)throw new d(d.NOT_SUPPORTED,"stopPolling() not supported with shared local storage");this.isPolling&&(clearInterval(this._pollTimerId),delete this._pollTimerId),this._retryTimeoutId&&(clearTimeout(this._retryTimeoutId),delete this._retryTimeoutId)},i.prototype.createBookmark=function(e,t,n){this._bookmarkManager.createBookmark(e,t,n)},i.prototype.removeBookmark=function(e,t){this._bookmarkManager.removeBookmark(e,t)},i.prototype.findBookmark=function(e){var t;return this.bookmarks&&this.bookmarks.some(function(n){return n.url===e._dcxComposite.href?(t=n,!0):void 0}),t},i.prototype.getDefaultLibrary=function(){var e;return this.libraries.forEach(function(t){"incoming"!==t.collaboration&&(!e||(e.created||0)>(t.created||0))&&(e=t)}),e},i.prototype.getLibraryById=function(e){var t;return this.libraries.forEach(function(n){n.id===e&&(t=n)}),t},i.prototype.updateAccessToken=function(e){if(s.SHARED_LOCAL_STORAGE)throw new d(d.NOT_SUPPORTED,"updateAccessToken() not supported with shared local storage");this._syncManager.updateAccessToken(e),a.log("defined")},i.prototype.getTempDir=function(e){if(!a.hasFileSystem())return void e(new d(d.REQUIRES_FILESYSTEM,"getTempDir only supported when you have a filesystem"));var t=this._getTempDir();h.ensurePathExists(t,function(n){e(n,t)})},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryPublicCollection",["require","exports","module","./AdobeLibraryCollection","./AdobeLibraryError","./AdobeLibraryConfig","./AdobeLibraryServices","./utils/AdobeLibraryAsyncJoin","./utils/AdobeLibraryFileUtils"],function(e,t,n){"use strict";function i(e){e.IS_PUBLIC=!0,e.USER_ID=e.USER_ID||a.PUBLIC_USER_ID,this._newLibrariesLoading={},r.call(this,e)}var r=e("./AdobeLibraryCollection"),o=e("./AdobeLibraryError"),a=e("./AdobeLibraryConfig"),s=e("./AdobeLibraryServices"),l=e("./utils/AdobeLibraryAsyncJoin"),c=e("./utils/AdobeLibraryFileUtils");return Object.keys(r.prototype).forEach(function(e){0===e.indexOf("_")&&(i.prototype[e]=r.prototype[e])}),i.prototype._dosync=function(e,t){var n=this;this._clearSyncErrors();var i=new l;this._libraries.forEach(function(e){i.addOperation(function(t){n._syncManager.hasCompositeChangedOnServer(e._dcxComposite,function(n){e._sync(!n,t)})})}),i.run(function(e,n){t(null,n)},function(e){n._reportSyncError(e)})},Object.defineProperties(i.prototype,{libraries:{get:function(){return this._libraries},set:function(){throw new o(o.READ_ONLY,"Cannot modify libraries list directly")}},commitError:{get:function(){return this._lastCommitError},set:function(){throw new o(o.READ_ONLY,"commitError is a read-only property")}},syncState:{get:function(){return this._syncState},set:function(){throw new o(o.READ_ONLY,"syncState is a read-only property")}},syncErrors:{get:function(){return this._syncErrors},set:function(){throw new o(o.READ_ONLY,"syncErrors is a read-only property")}},syncProgress:{get:function(){return this._syncProgress},set:function(){throw new o(o.READ_ONLY,"syncProgress is a read-only property")}},isPolling:{get:function(){return void 0!==this._pollTimerId},set:function(){throw new o(o.READ_ONLY,"isPolling is a read-only property")}},retryTime:{get:function(){return"never"!==this._retryTime?this._retryTime:void 0},set:function(){throw new o(o.READ_ONLY,"retryTime is a read-only property")}},userId:{get:function(){return this._userId},set:function(){throw new o(o.READ_ONLY,"userId is a read-only property")}},cloudId:{get:function(){return this._cloudId},set:function(){throw new o(o.READ_ONLY,"cloudId is a read-only property")}},cloudInfo:{get:function(){return this._cloudInfo},set:function(){throw new o(o.READ_ONLY,"cloudInfo is a read-only property")}},isPublic:{get:function(){return!0},set:function(){throw new o(o.READ_ONLY,"isPublic is a read-only property")}}}),i.prototype.addChangeListener=function(e){r.prototype.addChangeListener.call(this,e)},i.prototype.removeChangeListener=function(e){r.prototype.removeChangeListener.call(this,e)},i.prototype.addDeepChangeListener=function(e){r.prototype.addDeepChangeListener.call(this,e)},i.prototype.removeDeepChangeListener=function(e){r.prototype.removeDeepChangeListener.call(this,e)},i.prototype.canLoadLibrary=function(e){var t=new RegExp(this._syncManager.getSyncGroupPath()+"/(.+)");return e.match(t)?!0:!1},i.prototype.loadLibrary=function(e,t,n){function i(t,n){var i=r._newLibrariesLoading[e];delete r._newLibrariesLoading[e],i.forEach(function(e){e(t,n)})}var r=this,l=this.getLibraryById(e);if(l)return void n(null,l);if(t&&!this.canLoadLibrary(t))return void n(new o(o.INVALID_PARAMETER,"Invalid library url"));var c=this._newLibrariesLoading[e];return c?void c.push(n):(this._newLibrariesLoading[e]=[n],a.SHARED_LOCAL_STORAGE?void s.storageInterface.loadPublicLibrary(this,e,t,i):void this._syncNewLibrary(e,t,void 0,function(t){return t?void i(t):(l=r.getLibraryById(e),l&&(l._loadedExternally=!0),void i(null,l))}))},i.prototype.unloadLibrary=function(e,t){var n=this._libraries.indexOf(e);return-1===n?void t(null):(this._libraries.splice(n,1),delete this._libraryIdMap[e.id],e._markDeletedLocally(!0),a.SHARED_LOCAL_STORAGE?s.storageInterface.unloadPublicLibrary(e,t):(e._deletedFromDisk=!0,c.deleteLibraryFromDisk(this,e.id,t)),void this._listenerManager.notify("change"))},i.prototype.removeDeletedLibraries=function(e,t){r.prototype.removeDeletedLibraries.call(this,e,t)},i.prototype.sync=function(e){r.prototype.sync.call(this,e)},i.prototype.addSyncListener=function(e){r.prototype.addSyncListener.call(this,e)},i.prototype.removeSyncListener=function(e){r.prototype.removeSyncListener.call(this,e)},i.prototype.getPrimarySyncError=function(){return r.prototype.getPrimarySyncError.call(this)},i.prototype.getNewLibrarySyncProgress=function(){return r.prototype.getNewLibrarySyncProgress.call(this)},i.prototype.addCommitErrorListener=function(e){r.prototype.addCommitErrorListener.call(this,e)},i.prototype.removeCommitErrorListener=function(e){r.prototype.removeCommitErrorListener.call(this,e)},i.prototype.startPolling=function(){r.prototype.startPolling.call(this)},i.prototype.stopPolling=function(){r.prototype.stopPolling.call(this)},i.prototype.getLibraryById=function(e){return r.prototype.getLibraryById.call(this,e)},i.prototype.getTempDir=function(e){r.prototype.getTempDir.call(this,e)},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryCollectionManager",["require","exports","module","./utils/AdobeLibraryListenerManager"],function(e,t,n){"use strict";function i(){this._collections=[],this._listenerManager=new r(["change"])}var r=e("./utils/AdobeLibraryListenerManager");return i.prototype.getLibraryCollection=function(e,t){var n;return this._collections.forEach(function(i){i.isPublic||i.userId!==e||i.cloudId!==t||(n=i)}),n},i.prototype.getPublicLibraryCollection=function(e){var t;return this._collections.forEach(function(n){n.isPublic&&n.cloudId===e&&(t=n)}),t},i.prototype.addLibraryCollection=function(e){this._collections.push(e),this._listenerManager.notify("change")},i.prototype.removeLibraryCollection=function(e){var t=this._collections.indexOf(e);-1!==t&&(this._collections.splice(t,1),this._listenerManager.notify("change"))},i.prototype.removeAllLibraryCollections=function(){this._collections=[],this._listenerManager.notify("change")},i.prototype.getLoadedCollections=function(){return this._collections},i.prototype.addLoadedCollectionsListener=function(e){this._listenerManager.add("change",e)},i.prototype.removeLoadedCollectionsListener=function(e){this._listenerManager.remove("change",e)},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryMessageChannel",["require","exports","module","./AdobeLibraryServices","./utils/AdobeLibraryListenerManager"],function(e,t,n){"use strict";function i(e){this._socket=e,this._listenerManager=new l,this._socketListenerManager=new l,this._pendingWriteState={},this._pendingWriteDependencyMap={},this._init()}function r(e){return e+"_req"}function o(e){return e+"_res"}function a(e,t,n){return e+"#"+t+"#"+n}var s=e("./AdobeLibraryServices"),l=e("./utils/AdobeLibraryListenerManager");return i.prototype._init=function(){var e=this;this._addSocketListener("message",function(t){var n=JSON.parse(t);e._logReceive(n.type),e._listenerManager.notify(n.type,[n.data])})},i.prototype._addSocketListener=function(e,t){this._socketListenerManager.add(e,t),this._socket.addListener(e,t)},i.prototype._removeSocketListeners=function(){var e=this;this._socketListenerManager.forEach(function(t,n){e._socket.removeListener(t,n)}),this._socketListenerManager.removeAll()},i.prototype._logSend=function(e){this._logCallback&&this._logCallback("SEND "+e)},i.prototype._logReceive=function(e){this._logCallback&&this._logCallback("RECEIVE "+e)},i.prototype._logError=function(e){this._logCallback&&this._logCallback("ERROR "+e)},i.prototype.setPendingWriteState=function(e,t,n){var i=a(e,t,n);this._pendingWriteState[i]=!0},i.prototype.setPendingWriteDependency=function(e,t,n,i,r,o){var s=a(e,t,n),l=a(i,r,o);s!==l&&(this._pendingWriteDependencyMap[s]=this._pendingWriteDependencyMap[s]||{},this._pendingWriteDependencyMap[s][l]={userId:i,cloudId:r,id:o})},i.prototype.clearPendingWriteState=function(e,t,n){var i=a(e,t,n),r=[];return Object.keys(this._pendingWriteDependencyMap[i]||{}).forEach(function(e){r.push(this._pendingWriteDependencyMap[i][e])},this),delete this._pendingWriteState[i],delete this._pendingWriteDependencyMap[i],r},i.prototype.getPendingWriteState=function(e,t,n,i){var r=a(e,t,n),o=!1;return!i&&this._pendingWriteState[r]&&(o=this._pendingWriteState[r]),Object.keys(this._pendingWriteDependencyMap).forEach(function(e){var t=this._pendingWriteDependencyMap[e];t[r]&&(o=this._pendingWriteState[e]||o)},this),o},i.prototype.setLogCallback=function(e){this._logCallback=e},i.prototype.addListener=function(e,t){this._listenerManager.add(e,t)},i.prototype.removeListener=function(e,t){this._listenerManager.remove(e,t)},i.prototype.send=function(e,t){try{this._logSend(e),this._socket.send(JSON.stringify({type:e,data:t}))}catch(n){this._logError(n),
this._socketListenerManager.notify("error",[n])}},i.prototype.addCallListener=function(e,t){var n=this;this.addListener(r(e),function(i){var r=i.id;t(i.data,function(t){n.send(o(e),{id:r,data:t})})})},i.prototype.removeCallListener=function(e,t){this.removeListener(r(e),t)},i.prototype.call=function(e,t,n){var i=this,a=s.uuid(),l=function(t){t.id===a&&(i.removeListener(o(e),l),n(t.data))};this.addListener(o(e),l),this.send(r(e),{id:a,data:t})},i.prototype.onOpen=function(e){this._addSocketListener("open",e)},i.prototype.onClose=function(e){this._addSocketListener("close",e)},i.prototype.onError=function(e){this._addSocketListener("error",e)},i.prototype.shutdown=function(){var e=this;this._addSocketListener("close",function(){e._removeSocketListeners(),e._listenerManager.removeAll()}),this._socket.close()},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryWebSocket",["require","exports","module","./AdobeLibraryConfig","./utils/AdobeLibraryListenerManager"],function(e,t,n){"use strict";function i(e,t){var n="ws://127.0.0.1:"+e+"/?version="+r.SHARED_LOCAL_STORAGE_VERSION;t&&(n+="&token="+t),this._socket=new WebSocket(n),this._socket.onopen=this._onSocketOpen.bind(this),this._socket.onclose=this._onSocketClose.bind(this),this._socket.onmessage=this._onSocketMessage.bind(this),this._socket.onerror=this._onSocketError.bind(this),this._listenerManager=new o(["open","close","message","error"])}var r=e("./AdobeLibraryConfig"),o=e("./utils/AdobeLibraryListenerManager");return i.prototype._onSocketOpen=function(e){this._listenerManager.notify("open")},i.prototype._onSocketClose=function(e){this._listenerManager.notify("close")},i.prototype._onSocketMessage=function(e){this._listenerManager.notify("message",[e.data])},i.prototype._onSocketError=function(e){this._listenerManager.notify("error",[e])},i.prototype.send=function(e){this._socket.send(e)},i.prototype.addListener=function(e,t){this._listenerManager.add(e,t)},i.prototype.removeListener=function(e,t){this._listenerManager.remove(e,t)},i.prototype.close=function(){this._socket.close(),this._socket.onopen=void 0,this._socket.onclose=void 0,this._socket.onmessage=void 0,this._socket.onerror=void 0,this._listenerManager.removeAll()},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryStorageInterfaceFS",["require","exports","module","./AdobeLibraryError","./utils/AdobeLibraryGeneralUtils"],function(e,t,n){"use strict";function i(e){this._storageInterface=e}var r=e("./AdobeLibraryError"),o=e("./utils/AdobeLibraryGeneralUtils"),a={rename:!0,renameSync:!1,ftruncate:!1,ftruncateSync:!1,truncate:!1,truncateSync:!1,chown:!1,chownSync:!1,fchown:!1,fchownSync:!1,lchown:!1,lchownSync:!1,chmod:!1,chmodSync:!1,fchmod:!1,fchmodSync:!1,lchmod:!1,lchmodSync:!1,stat:!0,lstat:!1,fstat:!1,statSync:!1,lstatSync:!1,fstatSync:!1,link:!1,linkSync:!1,symlink:!1,symlinkSync:!1,readlink:!1,readlinkSync:!1,realpath:!1,realpathSync:!1,unlink:!0,unlinkSync:!1,rmdir:!0,rmdirSync:!1,mkdir:!0,mkdirSync:!1,readdir:!0,readdirSync:!1,close:!1,closeSync:!1,open:!1,openSync:!1,utimes:!0,utimesSync:!1,futimes:!1,futimesSync:!1,fsync:!1,fsyncSync:!1,write:!1,writeSync:!1,read:!1,readSync:!1,readFile:!0,readFileSync:!1,writeFile:!0,writeFileSync:!1,appendFile:!1,appendFileSync:!1,watchFile:!1,unwatchFile:!1,watch:!1,exists:!0,existsSync:!1,createReadStream:!1,createWriteStream:!1};return i.prototype._fsCall=function(e,t,n){var i=o.wrapCallback(n),r={method:e,args:t};this._storageInterface._channel.call("fscall",r,function(e){i.apply(null,e)})},i.prototype._pipeCall=function(e,t,n,i){var r=o.wrapCallback(i),a={readStream:{path:e,options:t},writeStream:n};this._storageInterface._channel.call("fspipe",a,r)},Object.keys(a).forEach(function(e){a[e]?i.prototype[e]=function(){var t,n=Array.prototype.slice.call(arguments);"function"==typeof n[n.length-1]&&(t=n.pop()),this._fsCall(e,n,t)}:i.prototype[e]=function(){var t=new r(r.NOT_IMPLEMENTED,e+" is not implemented in shared local storage"),n=arguments[arguments.length-1];if("function"==typeof n)return void n(t);throw t}}),i.prototype.createReadStream=function(e,t){var n=this,i={};return i.on=function(e,t){i[e]=t},i.pipe=function(t,r){n._pipeCall(e,r,t,function(e){i[e.event]&&i[e.event].apply(null,e.args)})},i},i.prototype.createWriteStream=function(e,t){return{path:e,options:t}},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryStorageInterface",["require","exports","module","./components/dcx-js/src/AdobeDCXComposite","./components/dcx-js/src/AdobeDCXBranch","./AdobeLibraryCollection","./AdobeLibraryPublicCollection","./AdobeLibraryFolder","./AdobeLibraryBookmark","./AdobeLibraryError","./AdobeLibraryConfig","./AdobeLibraryServices","./AdobeLibraryMessageChannel","./AdobeLibraryWebSocket","./AdobeLibraryStorageInterfaceFS","./utils/AdobeLibraryAsyncJoin","./utils/AdobeLibraryManifestUtils","./utils/AdobeLibraryRenditionUtils","./utils/AdobeLibraryGeneralUtils","./utils/AdobeLibraryFeatureUtils"],function(e,t,n){"use strict";function i(e){this._collectionManager=e,this._acceptPushedBranchListeners=[],this._downloadRenditionListeners=[],this._rootListeners=[],this._baseBranches={},this._pendingSetRenditionCache={},this._portDiagnosis="UNKNOWN",this._logIndex=0,d.SHARED_LOCAL_STORAGE&&(this._connect(),this.fs=new m(this),p.hasFileSystem()||p.setFileSystem(this.fs))}var r=e("./components/dcx-js/src/AdobeDCXComposite"),o=e("./components/dcx-js/src/AdobeDCXBranch"),a=e("./AdobeLibraryCollection"),s=e("./AdobeLibraryPublicCollection"),l=e("./AdobeLibraryFolder"),c=e("./AdobeLibraryBookmark"),u=e("./AdobeLibraryError"),d=e("./AdobeLibraryConfig"),p=e("./AdobeLibraryServices"),f=e("./AdobeLibraryMessageChannel"),h=e("./AdobeLibraryWebSocket"),m=e("./AdobeLibraryStorageInterfaceFS"),g=e("./utils/AdobeLibraryAsyncJoin"),v=e("./utils/AdobeLibraryManifestUtils"),_=e("./utils/AdobeLibraryRenditionUtils"),y=e("./utils/AdobeLibraryGeneralUtils"),E=e("./utils/AdobeLibraryFeatureUtils");return i.prototype._getBase=function(e){var t=this._baseBranches[e];return t&&t.base},i.prototype._setBase=function(e,t){this._baseBranches[e]=this._baseBranches[e]||{},this._baseBranches[e].base=t},i.prototype._getLogIndex=function(){return this._logIndex++},i.prototype._getServicePort=function(e){function t(t){var n;try{n=JSON.parse(t)}catch(i){}return n?void e(null,n):void e("NO_DATA")}var n=d.VULCAN_PREFIX+d.VULCAN_QUERY_REQUEST,i=d.VULCAN_PREFIX+d.VULCAN_QUERY_RESPONSE;if(p.vulcanCall)p.vulcanCall(n,"",i,t);else if(p.hasCEPVulcan()){var r,o=p.getVulcanInterface(),a=p.getVulcanMessage(),s=function(n){return o.removeMessageListener(i,s),clearTimeout(r),n?void t(o.getPayload(n)):void e("NO_VULCAN_MESSAGE")};o.addMessageListener(i,s),r=setTimeout(s,d.VULCAN_QUERY_TIMEOUT);var l=new a(n);l.setPayload(""),o.dispatchMessage(l)}},i.prototype._connectToPort=function(e,t){var n=t&&t.port,i=t&&t.token;if(this._portDiagnosis=t?t.portdiagnosis:"UNKNOWN",this._connectionPort=n,!this._isConnected&&n&&"SIMPLE_HOSTNAME_GOING_TO_PROXY"!==this._portDiagnosis){try{var r=new h(n,i);this._channel=new f(r),this._isConnected=!0}catch(o){}this._isConnected&&(this._channel.addListener("environmentinfo",this._onEnvironmentInfo.bind(this)),this._channel.addListener("collectionadded",this._onCollectionAdded.bind(this)),this._channel.addListener("collectionremoved",this._onCollectionRemoved.bind(this)),this._channel.addListener("clearcollections",this._onClearCollections.bind(this)),this._channel.addListener("syncstate",this._onSyncState.bind(this)),this._channel.addListener("librarychange",this._onLibraryChange.bind(this)),this._channel.addListener("renditioncachechange",this._onRenditionCacheChange.bind(this)),this._channel.addListener("librarydeleted",this._onLibraryDeleted.bind(this)),this._channel.addListener("bookmarkschanged",this._onBookmarksChanged.bind(this)),this._channel.onOpen(this._sendConfiguration.bind(this)),this._channel.onClose(this._onDisconnect.bind(this)))}},i.prototype._connect=function(){this._getServicePort(this._connectToPort.bind(this))},i.prototype.shutdown=function(){this._collectionManager.removeAllLibraryCollections(),this._isConnected&&this._onDisconnect()},i.prototype._onDisconnect=function(){this._isConnected=!1,this._collectionManager.removeAllLibraryCollections(),this._channel.shutdown(),this._channel=void 0},i.prototype._sendConfiguration=function(){this._channel.send("configure",{CLIENT_DESCRIPTION:d.CLIENT_DESCRIPTION,RENDITION_SIZES:d.RENDITION_SIZES,FULL_RENDITION_CONFIG:d.FULL_RENDITION_CONFIG,SHARED_LOCAL_STORAGE_ANALYTICS:d.SHARED_LOCAL_STORAGE_ANALYTICS})},i.prototype._onEnvironmentInfo=function(e){this._serviceInfo=e,e.whitelistedDomains&&(d.WHITELISTED_DOMAINS=e.whitelistedDomains),e.elementActionProductMap&&E.updateElementActionMap(e.elementActionProductMap),e.deviceId&&(d.DEVICE_ID=e.deviceId),e.deviceDescription&&(d.DEVICE_DESCRIPTION=e.deviceDescription),this._collectionManager._collections.forEach(function(e){e._listenerManager.notify("sync")})},i.prototype._onCollectionAdded=function(e){var t=this;d.ROOT_DIR=e.rootDir;var n,i=new g,r={USER_ID:e.userId,CLOUD_ID:e.cloudId,CLOUD_INFO:e.cloudInfo,STORAGE_HOSTNAME:e.storageHost,COLLABORATION_HOSTNAME:e.collaborationHost,REQUIRES_COMMUNITY_SESSION:e.requiresCommunitySession};n=e.isPublic?new s(r):new a(r),e.libraries.forEach(function(e){i.addOperation(t.loadExistingLibrary,[n,e.id,e.path,e.manifest,e.deletedFromServer,e.renditionCache],t)}),i.run(function(){t._collectionManager.addLibraryCollection(n)})},i.prototype._getLibraryCollection=function(e){return e.isPublic?this._collectionManager.getPublicLibraryCollection(e.cloudId):this._collectionManager.getLibraryCollection(e.userId,e.cloudId)},i.prototype._onCollectionRemoved=function(e){var t=this._getLibraryCollection(e);t&&this._collectionManager.removeLibraryCollection(t)},i.prototype._onClearCollections=function(){this._collectionManager.removeAllLibraryCollections()},i.prototype._onSyncState=function(e){var t=this._getLibraryCollection(e);t&&(t._syncState=e.state,t._syncProgress=e.progress,t._syncProgressMap=e.progressMap,t._externalLinkDownloadProgressMap=e.externalLinkDownloadProgressMap||{},t._newLibraryProgress=e.newLibraryProgress,t._initialSyncInProgress=e.initialSyncInProgress,t._syncErrors=[],e.errors.forEach(function(e){t._syncErrors.push(new u(e.code,e.message,e.libraryId))}),e.libraryStates.forEach(function(e){var n=t.getLibraryById(e.id);n&&(n._syncState=e.state)}),t._listenerManager.notify("sync"))},i.prototype._onLibraryChange=function(e){var t=this._getLibraryCollection(e);if(t){var n=t.getLibraryById(e.id);n?(n._deletedFromServer=e.deletedFromServer,e.renditionCache=e.renditionCache||{},n._setRenditionCache(e.renditionCache),this.updateExistingLibrary(t,n,e.manifest,void 0,function(){n._setRenditionCache(e.renditionCache)})):this.loadExistingLibrary(t,e.id,e.path,e.manifest,e.deletedFromServer,e.renditionCache)}},i.prototype._onRenditionCacheChange=function(e){var t=this._getLibraryCollection(e),n=t&&t.getLibraryById(e.id),i=n&&n.getElementById(e.elementId);i&&e.renditionCache&&(i._renditionCache=e.renditionCache)},i.prototype._onLibraryDeleted=function(e){var t=this._getLibraryCollection(e);t&&this._deleteLibrary(t,e.id)},i.prototype._onBookmarksChanged=function(e){var t=this._getLibraryCollection(e);if(t&&e.bookmarks){var n=[];e.bookmarks.forEach(function(e){n.push(new c(e._id,e._url))}),t._bookmarkManager._bookmarks=n}},i.prototype.isConnected=function(){return this._isConnected},i.prototype.reconnect=function(){this._isConnected||this._connect()},i.prototype.getServiceInfo=function(){return this._serviceInfo?{updateRequired:this._serviceInfo.updateRequired,version:this._serviceInfo.codeVersion,buildNumber:this._serviceInfo.buildNumber,apiVersion:this._serviceInfo.version,environment:this._serviceInfo.environment,syncingEnabled:this._serviceInfo.syncingEnabled,portDiagnosis:this._portDiagnosis,connectionPort:this._connectionPort}:{portDiagnosis:this._portDiagnosis,connectionPort:this._connectionPort}},i.prototype.updateConfiguration=function(){d.SHARED_LOCAL_STORAGE&&this._isConnected&&this._channel&&this._sendConfiguration()},i.prototype.sync=function(e){this._channel.send("sync",{isPublic:e.isPublic,userId:e.userId,cloudId:e.cloudId})},i.prototype.setSyncEnabled=function(e){this._channel.send("configuresync",{enable:e})},i.prototype.commitManifest=function(e,t){var n=this;if(d.SHARED_LOCAL_STORAGE){var i=e._dcxBranch.localData,r=this._pendingSetRenditionCache[e.id]||{data:[],callbacks:[]};delete this._pendingSetRenditionCache[e.id];var o={isPublic:e.collection.isPublic,userId:e.collection.userId,cloudId:e.collection.cloudId,id:e.id,current:i,base:this._getBase(e.id),renditions:r.data};p.log("Start commit"),this._channel.call("commit",o,function(o){p.log("Finish commit: "+(o.success?"success":"fail")),o.success?(p.log("Update base after commit"),n._setBase(e.id,i),o.renditions&&o.renditions.forEach(function(t,n){if(t){var i=t.split("/").pop(),o=r.data[n],a=e.getElementById(o.element);a&&(a._renditionCache=a._renditionCache||{},a._renditionCache[o.size]=i);var s=r.callbacks[n];s&&s(null,t)}})):(n._pendingSetRenditionCache[e.id]=r,e._waitForCommit(function(){n.notifyStartWrite(e,[],function(){e._deletedFromServer=o.deletedFromServer,n.updateExistingLibrary(e.collection,e,o.manifest,void 0,function(){e._commit(!0,!0)})})})),t(null,o.success)})}else e._dcxLock.obtain(function(){e._gcLocalData(function(){e._dcxComposite.commitChanges(function(n){e._dcxLock.release(),t(n,!0)})})})},i.prototype.resolvePullWithBranch=function(e,t,n,i,r){p.log("resolvePullWithBranch"),d.SHARED_LOCAL_STORAGE?(e._dcxComposite._current=t,this._setBase(e.id,n),p.log("Finished resolvePullWithBranch: shared local storage"),r()):i?e._dcxLock.obtain(function(){e._dcxComposite._current=t,e._dcxLock.release(),p.log("Finished resolvePullWithBranch: local merge"),r()}):e._dcxLock.obtain(function(){e._dcxComposite.resolvePullWithBranch(t,function(t,n){e._dcxLock.release(),e._commit(!0,!0),e._waitForCommit(function(){p.log("Finished resolvePullWithBranch: remote merge"),r(t,n)})})})},i.prototype.acceptPush=function(e,t){var n=this;p.log("acceptPush"),e._dcxLock.obtain(function(){e._dcxComposite.acceptPush(function(i){e._dcxLock.release(),p.log("Finished acceptPush"),n._acceptPushedBranchListeners.forEach(function(t){t(e)}),t(i)})})},i.prototype.onAcceptPushedBranch=function(e){this._acceptPushedBranchListeners.push(e)},i.prototype.removeOnAcceptPushedBranchListeners=function(){this._acceptPushedBranchListeners=[]},i.prototype._deleteLibrary=function(e,t,n){p.log("deleteLibrary");var i=e.getLibraryById(t);if(i){var r=e._libraries.indexOf(i);-1!==r&&(e._libraries.splice(r,1),delete e._libraryIdMap[i.id]),i._markDeletedLocally(!0),e._notifyChange(!0)}},i.prototype._loadBranch=function(e,t,n){var i;try{i=new o(void 0,n).parse(t),i._localStorage=e._localStorage}catch(r){}return i},i.prototype._addLibrary=function(e,t,n,i,o){n=n||e._getCompositeDir(t);var a=new r(null,null,n,null,null,{preserveFileExtensions:!0}),s=this._loadBranch(a,i,!1);if(!s)return void o(new u(u.CORRUPTED_LIBRARY,"Library corrupted in local storage",t));if("pendingDelete"===s.compositeState)return void o(null);a._current=s,this._setBase(t,i);var c=new l(e,a);e.isPublic&&(c._publicId=t,c._writable=!1),e._libraries.push(c),e._libraryIdMap[c.id]=c,e._notifyChange(!0),o(null,c)},i.prototype.createNewLibrary=function(e,t,n,i){var r=y.wrapCallback(i);p.log("createNewLibrary"),this._addLibrary(e,t,void 0,n,function(e,t){return e||!t?void r(e):(t._commit(!1,!0),void t._waitForCommit(r))})},i.prototype.loadExistingLibrary=function(e,t,n,i,r,o,a){var s=y.wrapCallback(a);p.log("loadExistingLibrary"),this._addLibrary(e,t,void 0,i,function(e,t){return e||!t?void s(e):(t._deletedFromServer=r,o&&t._setRenditionCache(o),void s(null,t))})},i.prototype.updateExistingLibrary=function(e,t,n,i,r){var o=this,a=y.wrapCallback(r),s="updateExistingLibrary["+this._getLogIndex()+"]: ";if(v.areManifestsEqual(t._dcxBranch.localData,n))return p.log(s+"already up-to-date"),void a();p.log(s+"changes to update");var l=this._loadBranch(t._dcxComposite,n,!1);if(!l)return void a(new u(u.CORRUPTED_LIBRARY,"Invalid manifest",t.id));var c=v.ensureBranchDataValid(l);p.log(s+"fixed branch data: "+c),"pendingDelete"===l.compositeState?(e._doRemoveLibrary(t),a()):t._waitForCommit(function(){if(i){if(!v.areManifestsEqual(t._dcxBranch.localData,i))return p.log(s+"Commit aborting: something changed and it's no longer a fast-forward"),void a(!0)}else i=o._getBase(t.id);var e=o._loadBranch(t._dcxComposite,i,!0)||l;p.log(s+"base "+e.changeCount+" -> updated "+l.changeCount),t._mergeAndSwitchToBranch(l,e,function(){p.log(s+"finished merge"),d.SHARED_LOCAL_STORAGE?a(null):(t._commit(!1,!0),t._waitForCommit(a))})})},i.prototype.setRenditionCache=function(e,t,n,i){var r=this._pendingSetRenditionCache[e.library.id],o=_.addToPendingSetRenditionCache(r,e,t,n,i);this._pendingSetRenditionCache[e.library.id]=o},i.prototype.getRenditionPath=function(e,t,n,i){i=i||0;var r=this,o=y.wrapCallback(n),a=e._lookupRenditionPath(t||"full");if(a)return void o(null,a);var s={isPublic:e.library.collection.isPublic,userId:e.library.collection.userId,cloudId:e.library.collection.cloudId,id:e.library.id,element:e.id,size:t};p.log("Get rendition path from CCLibrary process"),this._channel.call("getrenditionpath",s,function(a){return!a&&i<d.LOCAL_RENDITION_MAX_RETRIES?(p.log("getrenditionpath: rendition not found"),void setTimeout(function(){r.getRenditionPath(e,t,n,i+1)},d.LOCAL_RENDITION_RETRY_INTERVAL)):void o(null,a)})},i.prototype.notifyDownloadRendition=function(e){this._downloadRenditionListeners.forEach(function(t){t(e)})},i.prototype.onDownloadRendition=function(e){this._downloadRenditionListeners.push(e)},i.prototype.removeOnDownloadRenditionListeners=function(){this._downloadRenditionCacheListeners=[]},i.prototype.notifyStartWrite=function(e,t,n){var i=y.wrapCallback(n);if(!d.SHARED_LOCAL_STORAGE)return void i(null);var r={userId:e.collection.userId,cloudId:e.collection.cloudId,id:e.id,dependencies:[]};t.forEach(function(e){r.dependencies.push({userId:e.collection.userId,cloudId:e.collection.cloudId,id:e.id})}),this._channel.call("startcomponentwrite",r,function(){i(null)})},i.prototype.loadPublicLibrary=function(e,t,n,i){var r=y.wrapCallback(i),o={isPublic:e.isPublic,cloudId:e.cloudId,id:t,url:n};this._channel.call("loadpubliclibrary",o,function(){r(null)})},i.prototype.unloadPublicLibrary=function(e,t){var n=y.wrapCallback(t),i={isPublic:e.collection.isPublic,cloudId:e.collection.cloudId,id:e.id};this._channel.call("unloadpubliclibrary",i,function(){n(null)})},i.prototype.getAssetFromURL=function(e,t,n,i,r){if(d.SHARED_LOCAL_STORAGE){var o={isPublic:e.isPublic,userId:e.userId,cloudId:e.cloudId,url:t,headers:n,tempDir:i};this._channel.call("downloadfile",o,function(e){r(e.err,e.tempFilePath,e.etag,{headers:e.responseHeaders})})}else e._syncManager.getAssetFromURL(t,n,i,void 0,r)},i.prototype.doHeadRequestOfURL=function(e,t,n){d.SHARED_LOCAL_STORAGE?n(null):e._syncManager.doHeadRequestOfURL(t,n)},i.prototype.downloadExternalLink=function(e,t){var n={isPublic:e.element.library.collection.isPublic,userId:e.element.library.collection.userId,cloudId:e.element.library.collection.cloudId,id:e.element.library.id,element:e.element.id,representation:e.id};p.log("Download external link from CCLibrary process"),this._channel.call("downloadexternallink",n,function(e){t(e.err,e.path)})},i.prototype.createBookmark=function(e,t,n,i){var r=y.wrapCallback(i),o={isPublic:e.isPublic,cloudId:e.cloudId,userId:e.userId,id:t,url:n};this._channel.call("createBookmark",o,function(e){var t=e&&e.err,n=e&&e.bookmark;n&&(n=new c(n._id,n._url)),r(t,n)})},i.prototype.removeBookmark=function(e,t,n){var i=y.wrapCallback(n),r={isPublic:e.isPublic,cloudId:e.cloudId,userId:e.userId,id:t.id};this._channel.call("removeBookmark",r,function(e){i(e)})},i.prototype.sendElementAction=function(e,t){var n=y.wrapCallback(t),i={isPublic:e.element.library.collection.isPublic,userId:e.element.library.collection.userId,cloudId:e.element.library.collection.cloudId,libraryId:e.element.library.id,elementId:e.element.id,appCode:e.appCode,minVersion:e.minAppVersion,action:e.id};this._channel.call("performElementAction",i,function(e){n(e.err,e.data)})},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryExternalUtils",["require","exports","module","./AdobeLibraryServices","./utils/AdobeLibraryMimeTypeUtils","./utils/AdobeLibraryRenditionUtils"],function(e,t,n){"use strict";var i=e("./AdobeLibraryServices"),r=e("./utils/AdobeLibraryMimeTypeUtils"),o=e("./utils/AdobeLibraryRenditionUtils"),a={};return a.mimeTypeToExtensions=function(e){return r.getExtensions(e)},a.extensionToMimeTypes=function(e){return r.getMimeTypes(e)},a.canGenerateRenditionFromMimeType=function(e){return o.canComputeRenditionFromMimeType(e)},a.generateUuid=function(){return i.uuid()},Object.seal(a),a}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryExternalAnalyticsUtils",["require","exports","module","./AdobeLibraryAnalytics"],function(e,t,n){"use strict";var i=e("./AdobeLibraryAnalytics"),r={};return r.reportUseElement=function(e,t,n){i.reportUseElement(e,t,n)},r.reportCheckoutElement=function(e,t,n){i.reportCheckoutElement(e,t,n)},r.reportCreateLink=function(e,t){i.reportCreateLink(e,t)},r.reportShareElementLink=function(e){i.reportShareElementLink(e)},r.reportShareLibraryLink=function(e){i.reportShareLibraryLink(e)},Object.seal(r),r}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/main",["require","exports","module","./AdobeLibraryServices","./AdobeLibraryConfig","./AdobeLibraryCollection","./AdobeLibraryPublicCollection","./AdobeLibraryCollectionManager","./AdobeLibraryError","./AdobeLibraryLocalisation","./AdobeLibraryStorageInterface","./AdobeLibraryExternalUtils","./AdobeLibraryExternalAnalyticsUtils","./utils/AdobeLibraryFileUtils","./utils/AdobeLibraryManifestUtils"],function(e,t,n){"use strict";function i(e,t,n){var i=e+"/"+t,r=void 0!==_[i];return _[i]=_[i]||[],_[i].push(n),r}function r(e,t){var n;n=e===a.PUBLIC_USER_ID?v.getPublicLibraryCollection(t):v.getLibraryCollection(e,t);var i=e+"/"+t,r=_[i];r&&(delete _[i],r.forEach(function(e){e(null,n)}))}var o=e("./AdobeLibraryServices"),a=e("./AdobeLibraryConfig"),s=e("./AdobeLibraryCollection"),l=e("./AdobeLibraryPublicCollection"),c=e("./AdobeLibraryCollectionManager"),u=e("./AdobeLibraryError"),d=e("./AdobeLibraryLocalisation"),p=e("./AdobeLibraryStorageInterface"),f=e("./AdobeLibraryExternalUtils"),h=e("./AdobeLibraryExternalAnalyticsUtils"),m=e("./utils/AdobeLibraryFileUtils"),g=e("./utils/AdobeLibraryManifestUtils"),v=new c,_={},y={};return y.configure=function(e,t){if(o.hasFileSystem()||void 0!==t.SHARED_LOCAL_STORAGE||(t.SHARED_LOCAL_STORAGE=!1),o.hasFileSystem()&&!t.ROOT_DIR&&t.SHARED_LOCAL_STORAGE===!1)throw new u(u.INVALID_PARAMETER,"Missing ROOT_DIR option");if(o.hasFileSystem()&&t.ROOT_DIR&&t.SHARED_LOCAL_STORAGE!==!1)throw new u(u.INVALID_PARAMETER,"ROOT_DIR option doesn't apply when using shared local storage");if(!o.hasFileSystem()&&t.ROOT_DIR)throw new u(u.REQUIRES_FILESYSTEM,"ROOT_DIR option only applies when you have a filesystem");if(t.SHARED_LOCAL_STORAGE===!1&&!t.STORAGE_API_KEY)throw new u(u.INVALID_PARAMETER,"Missing STORAGE_API_KEY option");if(t.SHARED_LOCAL_STORAGE===!1&&!t.DEVICE_ID)throw new u(u.INVALID_PARAMETER,"Missing DEVICE_ID option");if(t.SHARED_LOCAL_STORAGE!==!1&&!o.hasCEPVulcan()&&!e.vulcanCall)throw new u(u.INVALID_PARAMETER,"Shared local storage requires either the CEP VulcanInterface/VulcanMessage as globals, or for you to pass in the vulcanCall dependency");if(!t.APP_DESCRIPTION)throw new u(u.INVALID_PARAMETER,'Missing APP_DESCRIPTION option - should be a string of the form <name>-<version>, e.g. "PHXS-16.0".');if(t.ROOT_DIR)for(;-1!==["/","\\"].indexOf(t.ROOT_DIR.substr(-1));)t.ROOT_DIR=t.ROOT_DIR.slice(0,-1);t.LOCALE&&(d.setLocale(t.LOCALE),delete t.LOCALE),Object.keys(t).forEach(function(e){a.setParameter(e,t[e])}),o.analytics=e.analytics,o.vulcanCall=e.vulcanCall,o._log=e.log,o._getDisplayName=e.getDisplayName,o._getNodeTunnelOptions=e.getNodeTunnelOptions,o.storageInterface&&o.storageInterface.shutdown(),o.storageInterface=new p(v),o.log("Configure: "+(a.SHARED_LOCAL_STORAGE?"<shared local storage>":a.ROOT_DIR))},y.setOption=function(e,t){var n=["ROOT_DIR","SHARED_LOCAL_STORAGE","ELEMENT_TYPE_FILTERS","STORAGE_API_KEY"];if(-1!==n.indexOf(e))throw new u(u.INVALID_PARAMETER,"Cannot reconfigure "+e);a.setParameter(e,t),o.storageInterface.updateConfiguration()},y.getLoadedCollections=function(){return v.getLoadedCollections().slice(0)},y.getLoadedCollectionById=function(e,t){return v.getLibraryCollection(e,t)},y.getLoadedPublicCollectionById=function(e){return v.getPublicLibraryCollection(e)},y.addLoadedCollectionsListener=function(e){v.addLoadedCollectionsListener(e)},y.removeLoadedCollectionsListener=function(e){v.removeLoadedCollectionsListener(e)},y.getRootDir=function(){if(!o.hasFileSystem())throw new u(u.REQUIRES_FILESYSTEM,"ROOT_DIR option only applies when you have a filesystem");return a.ROOT_DIR},y.getLocale=function(){return d.getLocale()},y.unloadLibraryCollection=function(e){if(a.SHARED_LOCAL_STORAGE)throw new u(u.NOT_SUPPORTED,"unloadLibraryCollection() not supported with shared local storage");e.stopPolling(),e._removeAllListeners(),v.removeLibraryCollection(e)},y.loadLibraryCollection=function(e,t){function n(){v.addLibraryCollection(l),a.AUTO_START_POLLING&&l.startPolling(),r(e.USER_ID,e.CLOUD_ID)}if("function"==typeof e)return t=e,void t(new u(u.INVALID_PARAMETER,"options argument not specified"));if(a.SHARED_LOCAL_STORAGE)return void t(new u(u.NOT_SUPPORTED,"loadLibraryCollection() not supported with shared local storage"));if(o.hasFileSystem()&&!a.SHARED_LOCAL_STORAGE&&!a.ROOT_DIR)return void t(new u(u.INVALID_PARAMETER,"ROOT_DIR not configured. Make sure you call CCLibraries.configure()"));if(e=e||{},o.hasFileSystem()&&!e.USER_ID)return void t(new u(u.INVALID_PARAMETER,"Missing USER_ID option"));if(e.CLOUD_ID=e.CLOUD_ID||a.DEFAULT_CLOUD_ID,!e.STORAGE_HOSTNAME)return void t(new u(u.INVALID_PARAMETER,"Missing STORAGE_HOSTNAME option"));if(!e.COLLABORATION_HOSTNAME)return void t(new u(u.INVALID_PARAMETER,"Missing COLLABORATION_HOSTNAME option"));var l=v.getLibraryCollection(e.USER_ID,e.CLOUD_ID),c=i(e.USER_ID,e.CLOUD_ID,t);if(l&&!c)return void r(e.USER_ID,e.CLOUD_ID);if(!c)if(l=new s(e),o.hasFileSystem())m.doesRootDirExist(l,function(e,t){l._load(function(){t||l._setInitialSyncState(!0),l.sync(function(){l._setInitialSyncState(!1)}),n()})});else if("all"===e.WAIT_FOR)l._setInitialSyncState(!0),l.sync(function(){l._setInitialSyncState(!1),n()});else if(g.validateLibraryId(e.WAIT_FOR,!1)){l._setInitialSyncState(!0,[e.WAIT_FOR]),l.sync(function(){l._setInitialSyncState(!1)});var d=function(){("syncing"!==l.syncState||"pending"!==l._libraryIdMap[e.WAIT_FOR])&&(l.removeChangeListener(d),l.removeSyncListener(d),n())};l.addChangeListener(d),l.addSyncListener(d)}else l._setInitialSyncState(!0),l.sync(function(){l._setInitialSyncState(!1)}),n()},y.loadPublicLibraryCollection=function(e,t){function n(){v.addLibraryCollection(s),a.AUTO_START_POLLING&&s.startPolling(),r(a.PUBLIC_USER_ID,e.CLOUD_ID)}if("function"==typeof e)return t=e,void t(new u(u.INVALID_PARAMETER,"options argument not specified"));if(a.SHARED_LOCAL_STORAGE)return void t(new u(u.NOT_SUPPORTED,"loadPublicLibraryCollection() not supported with shared local storage"));if(o.hasFileSystem()&&!a.SHARED_LOCAL_STORAGE&&!a.ROOT_DIR)return void t(new u(u.INVALID_PARAMETER,"ROOT_DIR not configured. Make sure you call CCLibraries.configure()"));if(e=e||{},e.CLOUD_ID=e.CLOUD_ID||a.DEFAULT_CLOUD_ID,!e.STORAGE_HOSTNAME)return void t(new u(u.INVALID_PARAMETER,"Missing STORAGE_HOSTNAME option"));var s=v.getPublicLibraryCollection(e.CLOUD_ID),c=i(a.PUBLIC_USER_ID,e.CLOUD_ID,t);return s&&!c?void r(a.PUBLIC_USER_ID,e.CLOUD_ID):void(c||(s=new l(e),o.hasFileSystem()?s._load(function(){s.sync(),n()}):n()))},y.isConnected=function(){if(!a.SHARED_LOCAL_STORAGE)throw new u(u.NOT_SUPPORTED,"isConnected() is only applicable if using shared local storage");return o.storageInterface&&o.storageInterface.isConnected()},y.reconnect=function(){if(!a.SHARED_LOCAL_STORAGE)throw new u(u.NOT_SUPPORTED,"reconnect() is only applicable if using shared local storage");o.storageInterface&&o.storageInterface.reconnect()},y.getServiceInfo=function(){if(!a.SHARED_LOCAL_STORAGE)throw new u(u.NOT_SUPPORTED,"getServiceInfo() is only applicable if using shared local storage");return o.storageInterface&&o.storageInterface.getServiceInfo()},y.isSyncingEnabled=function(){if(a.SHARED_LOCAL_STORAGE){var e=y.getServiceInfo();return e&&e.syncingEnabled?!0:!1}return a.SYNCING_ENABLED},y.enableSyncing=function(){return a.SHARED_LOCAL_STORAGE?void o.storageInterface.setSyncEnabled(!0):(a.SYNCING_ENABLED=!0,void y.getLoadedCollections().forEach(function(e){e.sync()}))},y.disableSyncing=function(){return a.SHARED_LOCAL_STORAGE?void o.storageInterface.setSyncEnabled(!1):void(a.SYNCING_ENABLED=!1)},y.resolveElementReference=function(e){e=e||"";var t,n=new RegExp("cloud-asset://(.+)/([A-Za-z0-9-]+);node=([A-Za-z0-9-]+)"),i=e.match(n);if(i){var r=i[1],o=i[2],a=i[3];y.getLoadedCollections().every(function(e){if(r===e._syncManager.getElementRefDomainPath()){var n=e.getLibraryById(o);return n&&(t=n.getElementById(a)),!1}return!0})}return t},y.errors=u,y.utils=f,y.analyticsUtils=h,Object.seal(y),y}),define("angular-cc-libraries-api-js/main",["require","exports","module","angular","./components/cc-libraries-api-js/src/main","./components/cc-libraries-api-js/src/AdobeLibraryCollection","./components/cc-libraries-api-js/src/AdobeLibraryPublicCollection","./components/cc-libraries-api-js/src/AdobeLibraryFolder","./components/cc-libraries-api-js/src/AdobeLibraryElement","./components/cc-libraries-api-js/src/AdobeLibraryRepresentation"],function(e,t,n){"use strict";var i=e("angular"),r=e("./components/cc-libraries-api-js/src/main"),o=e("./components/cc-libraries-api-js/src/AdobeLibraryCollection"),a=e("./components/cc-libraries-api-js/src/AdobeLibraryPublicCollection"),s=e("./components/cc-libraries-api-js/src/AdobeLibraryFolder"),l=e("./components/cc-libraries-api-js/src/AdobeLibraryElement"),c=e("./components/cc-libraries-api-js/src/AdobeLibraryRepresentation"),u=10,d=["$q","$rootScope",function(e,t){function n(t,n,i){i=i||[];var r=e.defer();return i.push(function(e,t){function n(){e?r.reject(e):r.resolve(t)}n(),h()}),n.apply(t,i),r.promise}function d(e,t,r){var o=e[t];e[t]=function(){for(var e=Array.prototype.slice.call(arguments);e.length<r;)e.push(void 0);var t=e[r];return i.isFunction(t)?o.apply(this,e):n(this,o,e)}}var p,f=0,h=function(){if(!p){var e=(new Date).valueOf();if(u>e-f)return void(p=setTimeout(function(){p=void 0,h()},u));f=e,t.$$phase||t.$apply()}};d(o.prototype,"sync",0),d(o.prototype,"removeDeletedLibraries",1),d(o.prototype,"getTempDir",0),d(o.prototype,"createBookmark",2),d(o.prototype,"removeBookmark",1),d(a.prototype,"sync",0),d(a.prototype,"removeDeletedLibraries",1),d(a.prototype,"getTempDir",0),d(a.prototype,"loadLibrary",2),d(a.prototype,"unloadLibrary",1),d(s.prototype,"rebindToServer",0),d(s.prototype,"copyElement",2),d(s.prototype,"moveElement",2),d(s.prototype,"getRenditionPath",1),d(s.prototype,"getAuthenticatedRenditionURL",1),d(s.prototype,"setRendition",4),d(s.prototype,"setRenditionFromPath",3),d(l.prototype,"getThumbnailURL",1),d(l.prototype,"getThumbnailPath",1),d(l.prototype,"setThumbnailCache",2),d(l.prototype,"endOperation",0),d(c.prototype,"setContent",3),
d(c.prototype,"setContentFromPath",2),d(c.prototype,"setContentFromURL",3),d(c.prototype,"getContentPath",0),d(c.prototype,"getContent",1),d(c.prototype,"getAuthenticatedContentURL",0),d(c.prototype,"testExternalLink",0),this.getLoadedCollections=function(){return r.getLoadedCollections()},this.addLoadedCollectionsListener=function(e){return r.addLoadedCollectionsListener(e)},this.removeLoadedCollectionsListener=function(e){return r.removeLoadedCollectionsListener(e)},this.loadLibraryCollection=function(e){return n(r,r.loadLibraryCollection,[e])},this.unloadLibraryCollection=function(e){r.unloadLibraryCollection(e)},this.configure=function(e,t){r.configure(e,t)},this.setOption=function(e,t){r.setOption(e,t)},this.getRootDir=function(){return r.getRootDir()},this.getLocale=function(){return r.getLocale()},this.isConnected=function(){return r.isConnected()},this.getServiceInfo=function(){return r.getServiceInfo()},this.reconnect=function(){r.reconnect()},this.resolveElementReference=function(e){return r.resolveElementReference(e)},this.isSyncingEnabled=function(){return r.isSyncingEnabled()},this.enableSyncing=function(){r.enableSyncing()},this.disableSyncing=function(){r.disableSyncing()},this.utils=r.utils,this.analyticsUtils=r.analyticsUtils,this.errors=r.errors,this.setCustomDigestTrigger=function(e){h=e}}];i.module("adobe.ccLibraries",[]).service("ccLibraries",d)}),define("angular-cc-libraries-api-js",["angular-cc-libraries-api-js/main"],function(e){return e}),function(e,t){"function"==typeof define&&define.amd?define("tether",t):"object"==typeof exports?module.exports=t(require,exports,module):e.Tether=t()}(this,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){var t=e.getBoundingClientRect(),n={};for(var i in t)n[i]=t[i];if(e.ownerDocument!==document){var o=e.ownerDocument.defaultView.frameElement;if(o){var a=r(o);n.top+=a.top,n.bottom+=a.top,n.left+=a.left,n.right+=a.left}}return n}function o(e){var t=getComputedStyle(e)||{},n=t.position,i=[];if("fixed"===n)return[e];for(var r=e;(r=r.parentNode)&&r&&1===r.nodeType;){var o=void 0;try{o=getComputedStyle(r)}catch(a){}if("undefined"==typeof o||null===o)return i.push(r),i;var s=o,l=s.overflow,c=s.overflowX,u=s.overflowY;/(auto|scroll)/.test(l+u+c)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(o.position)>=0)&&i.push(r)}return i.push(e.ownerDocument.body),e.ownerDocument!==document&&i.push(e.ownerDocument.defaultView),i}function a(){T&&document.body.removeChild(T),T=null}function s(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var n=t.documentElement,i=r(e),o=D();return i.top-=o.top,i.left-=o.left,"undefined"==typeof i.width&&(i.width=document.body.scrollWidth-i.left-i.right),"undefined"==typeof i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=t.body.clientWidth-i.width-i.left,i.bottom=t.body.clientHeight-i.height-i.top,i}function l(e){return e.offsetParent||document.documentElement}function c(){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");u(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;n===i&&(i=t.clientWidth),document.body.removeChild(t);var r=n-i;return{width:r,height:r}}function u(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}function d(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var n=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),i=h(e).replace(n," ");m(e,i)}}function p(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{d(e,t);var n=h(e)+(" "+t);m(e,n)}}function f(e,t){if("undefined"!=typeof e.classList)return e.classList.contains(t);var n=h(e);return new RegExp("(^| )"+t+"( |$)","gi").test(n)}function h(e){return e.className instanceof e.ownerDocument.defaultView.SVGAnimatedString?e.className.baseVal:e.className}function m(e,t){e.setAttribute("class",t)}function g(e,t,n){n.forEach(function(n){-1===t.indexOf(n)&&f(e,n)&&d(e,n)}),t.forEach(function(t){f(e,t)||p(e,t)})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+n>=t&&t>=e-n}function y(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function E(){for(var e={top:0,left:0},t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];return n.forEach(function(t){var n=t.top,i=t.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof i&&(i=parseFloat(i,10)),e.top+=n,e.left+=i}),e}function b(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e}function L(e,t){return"scrollParent"===t?t=e.scrollParents[0]:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),"undefined"!=typeof t.nodeType&&!function(){var e=t,n=s(t),i=n,r=getComputedStyle(t);if(t=[i.left,i.top,n.width+i.left,n.height+i.top],e.ownerDocument!==document){var o=e.ownerDocument.defaultView;t[0]+=o.pageXOffset,t[1]+=o.pageYOffset,t[2]+=o.pageXOffset,t[3]+=o.pageYOffset}z.forEach(function(e,n){e=e[0].toUpperCase()+e.substr(1),"Top"===e||"Left"===e?t[n]+=parseFloat(r["border"+e+"Width"]):t[n]-=parseFloat(r["border"+e+"Width"])})}(),t}var S=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),A=void 0;"undefined"==typeof A&&(A={modules:[]});var T=null,C=function(){var e=0;return function(){return++e}}(),I={},D=function(){var e=T;e||(e=document.createElement("div"),e.setAttribute("data-tether-id",C()),u(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),T=e);var t=e.getAttribute("data-tether-id");return"undefined"==typeof I[t]&&(I[t]=r(e),O(function(){delete I[t]})),I[t]},w=[],O=function(e){w.push(e)},R=function(){for(var e=void 0;e=w.pop();)e()},x=function(){function e(){i(this,e)}return S(e,[{key:"on",value:function(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:i})}},{key:"once",value:function(e,t,n){this.on(e,t,n,!0)}},{key:"off",value:function(e,t){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[e])if("undefined"==typeof t)delete this.bindings[e];else for(var n=0;n<this.bindings[e].length;)this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):++n}},{key:"trigger",value:function(e){if("undefined"!=typeof this.bindings&&this.bindings[e]){for(var t=0,n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];for(;t<this.bindings[e].length;){var o=this.bindings[e][t],a=o.handler,s=o.ctx,l=o.once,c=s;"undefined"==typeof c&&(c=this),a.apply(c,i),l?this.bindings[e].splice(t,1):++t}}}}]),e}();A.Utils={getActualBoundingClientRect:r,getScrollParents:o,getBounds:s,getOffsetParent:l,extend:u,addClass:p,removeClass:d,hasClass:f,updateClasses:g,defer:O,flush:R,uniqueId:C,Evented:x,getScrollBarSize:c,removeUtilElements:a};var N=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),P=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}};if("undefined"==typeof A)throw new Error("You must include the utils.js file before tether.js");var k=A.Utils,o=k.getScrollParents,s=k.getBounds,l=k.getOffsetParent,u=k.extend,p=k.addClass,d=k.removeClass,g=k.updateClasses,O=k.defer,R=k.flush,c=k.getScrollBarSize,a=k.removeUtilElements,M=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<t.length;++n){var i=t[n];if(void 0!==e.style[i])return i}}(),U=[],$=function(){U.forEach(function(e){e.position(!1)}),R()};!function(){var e=null,t=null,n=null,i=function r(){return"undefined"!=typeof t&&t>16?(t=Math.min(t-16,250),void(n=setTimeout(r,250))):void("undefined"!=typeof e&&y()-e<10||(null!=n&&(clearTimeout(n),n=null),e=y(),$(),t=y()-e))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,i)})}();var F={center:"center",left:"right",right:"left"},Y={middle:"middle",top:"bottom",bottom:"top"},V={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},B=function(e,t){var n=e.left,i=e.top;return"auto"===n&&(n=F[t.left]),"auto"===i&&(i=Y[t.top]),{left:n,top:i}},j=function(e){var t=e.left,n=e.top;return"undefined"!=typeof V[e.left]&&(t=V[e.left]),"undefined"!=typeof V[e.top]&&(n=V[e.top]),{left:t,top:n}},H=function(e){var t=e.split(" "),n=N(t,2),i=n[0],r=n[1];return{top:i,left:r}},q=H,W=function(e){function t(e){var n=this;i(this,t),P(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.position=this.position.bind(this),U.push(this),this.history=[],this.setOptions(e,!1),A.modules.forEach(function(e){"undefined"!=typeof e.initialize&&e.initialize.call(n)}),this.position()}return v(t,e),S(t,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return"undefined"!=typeof t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],i={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=u(i,e);var r=this.options,a=r.element,s=r.target,l=r.targetModifier;if(this.element=a,this.target=s,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if("undefined"==typeof t[e])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),p(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&p(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=q(this.options.targetAttachment),this.attachment=q(this.options.attachment),this.offset=H(this.options.offset),this.targetOffset=H(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=o(this.target),this.options.enabled!==!1&&this.enable(n)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return s(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var e=s(this.target),t={height:e.height,width:e.width,top:e.top,left:e.left};return t.height=Math.min(t.height,e.height-(pageYOffset-e.top)),t.height=Math.min(t.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),t.height=Math.min(innerHeight,t.height),t.height-=2,t.width=Math.min(t.width,e.width-(pageXOffset-e.left)),t.width=Math.min(t.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),t.width=Math.min(innerWidth,t.width),t.width-=2,t.top<pageYOffset&&(t.top=pageYOffset),t.left<pageXOffset&&(t.left=pageXOffset),t}if("scroll-handle"===this.targetModifier){var e=void 0,n=this.target;n===document.body?(n=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=s(n);var i=getComputedStyle(n),r=n.scrollWidth>n.clientWidth||[i.overflow,i.overflowX].indexOf("scroll")>=0||this.target!==document.body,o=0;r&&(o=15);var a=e.height-parseFloat(i.borderTopWidth)-parseFloat(i.borderBottomWidth)-o,t={width:15,height:.975*a*(a/n.scrollHeight),left:e.left+e.width-parseFloat(i.borderLeftWidth)-15},l=0;408>a&&this.target===document.body&&(l=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(t.height=Math.max(t.height,24));var c=this.target.scrollTop/(n.scrollHeight-a);return t.top=c*(a-t.height-l)+e.top+parseFloat(i.borderTopWidth),this.target===document.body&&(t.height=Math.max(t.height,24)),t}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.options.addTargetClasses!==!1&&p(this.target,this.getClass("enabled")),p(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var e=this;this.disable(),U.forEach(function(t,n){t===e&&U.splice(n,1)}),0===U.length&&a()}},{key:"updateAttachClasses",value:function(e,t){var n=this;e=e||this.attachment,t=t||this.targetAttachment;var i=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;e.top&&r.push(this.getClass("element-attached")+"-"+e.top),e.left&&r.push(this.getClass("element-attached")+"-"+e.left),t.top&&r.push(this.getClass("target-attached")+"-"+t.top),t.left&&r.push(this.getClass("target-attached")+"-"+t.left);var o=[];i.forEach(function(e){o.push(n.getClass("element-attached")+"-"+e),o.push(n.getClass("target-attached")+"-"+e)}),O(function(){"undefined"!=typeof n._addAttachClasses&&(g(n.element,n._addAttachClasses,o),n.options.addTargetClasses!==!1&&g(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];if(this.enabled){this.clearCache();var n=B(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var i=this.cache("element-bounds",function(){return s(e.element)}),r=i.width,o=i.height;if(0===r&&0===o&&"undefined"!=typeof this.lastSize){var a=this.lastSize;r=a.width,o=a.height}else this.lastSize={width:r,height:o};var u=this.cache("target-bounds",function(){return e.getTargetBounds()}),d=u,p=b(j(this.attachment),{width:r,height:o}),f=b(j(n),d),h=b(this.offset,{width:r,height:o}),m=b(this.targetOffset,d);p=E(p,h),f=E(f,m);for(var g=u.left+f.left-p.left,v=u.top+f.top-p.top,_=0;_<A.modules.length;++_){var y=A.modules[_],L=y.position.call(this,{left:g,top:v,targetAttachment:n,targetPos:u,elementPos:i,offset:p,targetOffset:f,manualOffset:h,manualTargetOffset:m,scrollbarSize:I,attachment:this.attachment});if(L===!1)return!1;"undefined"!=typeof L&&"object"==typeof L&&(v=L.top,g=L.left)}var S={page:{top:v,left:g},viewport:{top:v-pageYOffset,bottom:pageYOffset-v-o+innerHeight,left:g-pageXOffset,right:pageXOffset-g-r+innerWidth}},T=this.target.ownerDocument,C=T.defaultView,I=void 0;return T.body.scrollWidth>C.innerWidth&&(I=this.cache("scrollbar-size",c),S.viewport.bottom-=I.height),T.body.scrollHeight>C.innerHeight&&(I=this.cache("scrollbar-size",c),S.viewport.right-=I.width),(-1===["","static"].indexOf(T.body.style.position)||-1===["","static"].indexOf(T.body.parentElement.style.position))&&(S.page.bottom=T.body.scrollHeight-v-o,S.page.right=T.body.scrollWidth-g-r),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var t=e.cache("target-offsetparent",function(){return l(e.target)}),n=e.cache("target-offsetparent-bounds",function(){return s(t)}),i=getComputedStyle(t),r=n,o={};if(["Top","Left","Bottom","Right"].forEach(function(e){o[e.toLowerCase()]=parseFloat(i["border"+e+"Width"])}),n.right=T.body.scrollWidth-n.left-r.width+o.right,n.bottom=T.body.scrollHeight-n.top-r.height+o.bottom,S.page.top>=n.top+o.top&&S.page.bottom>=n.bottom&&S.page.left>=n.left+o.left&&S.page.right>=n.right){var a=t.scrollTop,c=t.scrollLeft;S.offset={top:S.page.top-n.top+a-o.top,left:S.page.left-n.left+c-o.left}}}(),this.move(S),this.history.unshift(S),this.history.length>3&&this.history.pop(),t&&R(),!0}}},{key:"move",value:function(e){var t=this;if("undefined"!=typeof this.element.parentNode){var n={};for(var i in e){n[i]={};for(var r in e[i]){for(var o=!1,a=0;a<this.history.length;++a){var s=this.history[a];if("undefined"!=typeof s[i]&&!_(s[i][r],e[i][r])){o=!0;break}}o||(n[i][r]=!0)}}var c={top:"",left:"",right:"",bottom:""},d=function(e,n){var i="undefined"!=typeof t.options.optimizations,r=i?t.options.optimizations.gpu:null;if(r!==!1){var o=void 0,a=void 0;e.top?(c.top=0,o=n.top):(c.bottom=0,o=-n.bottom),e.left?(c.left=0,a=n.left):(c.right=0,a=-n.right),c[M]="translateX("+Math.round(a)+"px) translateY("+Math.round(o)+"px)","msTransform"!==M&&(c[M]+=" translateZ(0)")}else e.top?c.top=n.top+"px":c.bottom=n.bottom+"px",e.left?c.left=n.left+"px":c.right=n.right+"px"},p=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(c.position="absolute",d(n.page,e.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(c.position="fixed",d(n.viewport,e.viewport)):"undefined"!=typeof n.offset&&n.offset.top&&n.offset.left?!function(){c.position="absolute";var i=t.cache("target-offsetparent",function(){return l(t.target)});l(t.element)!==i&&O(function(){t.element.parentNode.removeChild(t.element),i.appendChild(t.element)}),d(n.offset,e.offset),p=!0}():(c.position="absolute",d({top:!0,left:!0},e.page)),!p){for(var f=!0,h=this.element.parentNode;h&&1===h.nodeType&&"BODY"!==h.tagName;){if("static"!==getComputedStyle(h).position){f=!1;break}h=h.parentNode}f||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var m={},g=!1;for(var r in c){var v=c[r],y=this.element.style[r];y!==v&&(g=!0,m[r]=v)}g&&O(function(){u(t.element.style,m),t.trigger("repositioned")})}}}]),t}(x);W.modules=[],A.position=$;var G=u(W,A),N=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=A.Utils,s=k.getBounds,u=k.extend,g=k.updateClasses,O=k.defer,z=["left","top","right","bottom"];A.modules.push({position:function(e){var t=this,n=e.top,i=e.left,r=e.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",function(){return s(t.element)}),a=o.height,l=o.width;if(0===l&&0===a&&"undefined"!=typeof this.lastSize){var c=this.lastSize;l=c.width,a=c.height}var d=this.cache("target-bounds",function(){return t.getTargetBounds()}),p=d.height,f=d.width,h=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,n=e.pinnedClass;t&&h.push(t),n&&h.push(n)}),h.forEach(function(e){["left","top","right","bottom"].forEach(function(t){h.push(e+"-"+t)})});var m=[],v=u({},r),_=u({},this.attachment);return this.options.constraints.forEach(function(e){var o=e.to,s=e.attachment,c=e.pin;"undefined"==typeof s&&(s="");var u=void 0,d=void 0;if(s.indexOf(" ")>=0){var h=s.split(" "),g=N(h,2);d=g[0],u=g[1]}else u=d=s;var y=L(t,o);("target"===d||"both"===d)&&(n<y[1]&&"top"===v.top&&(n+=p,v.top="bottom"),n+a>y[3]&&"bottom"===v.top&&(n-=p,v.top="top")),"together"===d&&("top"===v.top&&("bottom"===_.top&&n<y[1]?(n+=p,v.top="bottom",n+=a,_.top="top"):"top"===_.top&&n+a>y[3]&&n-(a-p)>=y[1]&&(n-=a-p,v.top="bottom",_.top="bottom")),"bottom"===v.top&&("top"===_.top&&n+a>y[3]?(n-=p,v.top="top",n-=a,_.top="bottom"):"bottom"===_.top&&n<y[1]&&n+(2*a-p)<=y[3]&&(n+=a-p,v.top="top",_.top="top")),"middle"===v.top&&(n+a>y[3]&&"top"===_.top?(n-=a,_.top="bottom"):n<y[1]&&"bottom"===_.top&&(n+=a,_.top="top"))),("target"===u||"both"===u)&&(i<y[0]&&"left"===v.left&&(i+=f,v.left="right"),i+l>y[2]&&"right"===v.left&&(i-=f,v.left="left")),"together"===u&&(i<y[0]&&"left"===v.left?"right"===_.left?(i+=f,v.left="right",i+=l,_.left="left"):"left"===_.left&&(i+=f,v.left="right",i-=l,_.left="right"):i+l>y[2]&&"right"===v.left?"left"===_.left?(i-=f,v.left="left",i-=l,_.left="right"):"right"===_.left&&(i-=f,v.left="left",i+=l,_.left="left"):"center"===v.left&&(i+l>y[2]&&"left"===_.left?(i-=l,_.left="right"):i<y[0]&&"right"===_.left&&(i+=l,_.left="left"))),("element"===d||"both"===d)&&(n<y[1]&&"bottom"===_.top&&(n+=a,_.top="top"),n+a>y[3]&&"top"===_.top&&(n-=a,_.top="bottom")),("element"===u||"both"===u)&&(i<y[0]&&("right"===_.left?(i+=l,_.left="left"):"center"===_.left&&(i+=l/2,_.left="left")),i+l>y[2]&&("left"===_.left?(i-=l,_.left="right"):"center"===_.left&&(i-=l/2,_.left="right"))),"string"==typeof c?c=c.split(",").map(function(e){return e.trim()}):c===!0&&(c=["top","left","right","bottom"]),c=c||[];var E=[],b=[];n<y[1]&&(c.indexOf("top")>=0?(n=y[1],E.push("top")):b.push("top")),n+a>y[3]&&(c.indexOf("bottom")>=0?(n=y[3]-a,E.push("bottom")):b.push("bottom")),i<y[0]&&(c.indexOf("left")>=0?(i=y[0],E.push("left")):b.push("left")),i+l>y[2]&&(c.indexOf("right")>=0?(i=y[2]-l,E.push("right")):b.push("right")),E.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),m.push(e),E.forEach(function(t){m.push(e+"-"+t)})}(),b.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),m.push(e),b.forEach(function(t){m.push(e+"-"+t)})}(),(E.indexOf("left")>=0||E.indexOf("right")>=0)&&(_.left=v.left=!1),(E.indexOf("top")>=0||E.indexOf("bottom")>=0)&&(_.top=v.top=!1),(v.top!==r.top||v.left!==r.left||_.top!==t.attachment.top||_.left!==t.attachment.left)&&(t.updateAttachClasses(_,v),t.trigger("update",{attachment:_,targetAttachment:v}))}),O(function(){t.options.addTargetClasses!==!1&&g(t.target,m,h),g(t.element,m,h)}),{top:n,left:i}}});var k=A.Utils,s=k.getBounds,g=k.updateClasses,O=k.defer;A.modules.push({position:function(e){var t=this,n=e.top,i=e.left,r=this.cache("element-bounds",function(){return s(t.element)}),o=r.height,a=r.width,l=this.getTargetBounds(),c=n+o,u=i+a,d=[];n<=l.bottom&&c>=l.top&&["left","right"].forEach(function(e){var t=l[e];(t===i||t===u)&&d.push(e)}),i<=l.right&&u>=l.left&&["top","bottom"].forEach(function(e){var t=l[e];(t===n||t===c)&&d.push(e)});var p=[],f=[],h=["left","top","right","bottom"];return p.push(this.getClass("abutted")),h.forEach(function(e){p.push(t.getClass("abutted")+"-"+e)}),d.length&&f.push(this.getClass("abutted")),d.forEach(function(e){f.push(t.getClass("abutted")+"-"+e)}),O(function(){t.options.addTargetClasses!==!1&&g(t.target,f,p),g(t.element,f,p)}),!0}});var N=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return A.modules.push({position:function(e){var t=e.top,n=e.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:t,left:n}));var r=void 0,o=void 0;if("string"==typeof i){i=i.split(" "),i[1]=i[1]||i[0];var a=i,s=N(a,2);r=s[0],o=s[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=i.top,o=i.left;return t+=r,n+=o,{top:t,left:n}}}}),G}),Visitor.getInstance=function(e,t){var n,i,r=window.s_c_il;if(0>e.indexOf("@")&&(e+="@AdobeOrg"),r)for(i=0;i<r.length;i++)if((n=r[i])&&"Visitor"==n._c&&(n.marketingCloudOrgID==e||t&&n.namespace==t))return n;return new Visitor(e,t)},define("visitor-api",function(){}),s=new AppMeasurement,s.visitorNamespace="adobecorp",s.trackInlineStats=!0,s.trackDownloadLinks=!0,s.trackExternalLinks=!0,s.linkLeaveQueryString=!1,s.linkTrackEvents="None",s.linkTrackVars="None",s.trackingServer="stats.adobe.com",s.trackingServerSecure="sstats.adobe.com",AppMeasurement.getInstance=s_gi,window.s_objectID||(window.s_objectID=0),s_pgicq(),define("app-measurement",["visitor-api"],function(){}),CSXSWindowType._PANEL="Panel",CSXSWindowType._MODELESS="Modeless",CSXSWindowType._MODAL_DIALOG="ModalDialog",EvalScript_ErrMessage="EvalScript error.",Version.MAX_NUM=999999999,CSEvent.prototype.data="",SystemPath.USER_DATA="userData",SystemPath.COMMON_FILES="commonFiles",SystemPath.MY_DOCUMENTS="myDocuments",SystemPath.APPLICATION="application",SystemPath.EXTENSION="extension",SystemPath.HOST_APPLICATION="hostApplication",ColorType.RGB="rgb",ColorType.GRADIENT="gradient",ColorType.NONE="none",CSInterface.THEME_COLOR_CHANGED_EVENT="com.adobe.csxs.events.ThemeColorChanged",CSInterface.prototype.hostEnvironment=JSON.parse(window.__adobe_cep__.getHostEnvironment()),CSInterface.prototype.getHostEnvironment=function(){return this.hostEnvironment=JSON.parse(window.__adobe_cep__.getHostEnvironment()),this.hostEnvironment},CSInterface.prototype.closeExtension=function(){window.__adobe_cep__.closeExtension()},CSInterface.prototype.getSystemPath=function(e){var t=decodeURI(window.__adobe_cep__.getSystemPath(e)),n=this.getOSInformation();return n.indexOf("Windows")>=0?t=t.replace("file:///",""):n.indexOf("Mac")>=0&&(t=t.replace("file://","")),t},CSInterface.prototype.evalScript=function(e,t){(null===t||void 0===t)&&(t=function(e){}),window.__adobe_cep__.evalScript(e,t)},CSInterface.prototype.getApplicationID=function(){var e=this.hostEnvironment.appId;return e},CSInterface.prototype.getHostCapabilities=function(){var e=JSON.parse(window.__adobe_cep__.getHostCapabilities());return e},CSInterface.prototype.dispatchEvent=function(e){"object"==typeof e.data&&(e.data=JSON.stringify(e.data)),window.__adobe_cep__.dispatchEvent(e)},CSInterface.prototype.addEventListener=function(e,t,n){window.__adobe_cep__.addEventListener(e,t,n)},CSInterface.prototype.removeEventListener=function(e,t,n){window.__adobe_cep__.removeEventListener(e,t,n)},CSInterface.prototype.requestOpenExtension=function(e,t){window.__adobe_cep__.requestOpenExtension(e,t)},CSInterface.prototype.getExtensions=function(e){var t=JSON.stringify(e),n=window.__adobe_cep__.getExtensions(t),i=JSON.parse(n);return i},CSInterface.prototype.getNetworkPreferences=function(){var e=window.__adobe_cep__.getNetworkPreferences(),t=JSON.parse(e);return t},CSInterface.prototype.initResourceBundle=function(){for(var e=JSON.parse(window.__adobe_cep__.initResourceBundle()),t=document.querySelectorAll("[data-locale]"),n=0;n<t.length;n++){var i=t[n],r=i.getAttribute("data-locale");if(r)for(var o in e)if(0===o.indexOf(r)){var a=e[o];if(o.length==r.length)i.innerHTML=a;else if("."==o.charAt(r.length)){var s=o.substring(r.length+1);i[s]=a}}}return e},CSInterface.prototype.dumpInstallationInfo=function(){return window.__adobe_cep__.dumpInstallationInfo()},CSInterface.prototype.getOSInformation=function(){var e=navigator.userAgent;if("Win32"==navigator.platform||"Windows"==navigator.platform){var t="Windows",n="";return e.indexOf("Windows")>-1&&(e.indexOf("Windows NT 5.0")>-1?t="Windows 2000":e.indexOf("Windows NT 5.1")>-1?t="Windows XP":e.indexOf("Windows NT 5.2")>-1?t="Windows Server 2003":e.indexOf("Windows NT 6.0")>-1?t="Windows Vista":e.indexOf("Windows NT 6.1")>-1?t="Windows 7":e.indexOf("Windows NT 6.2")>-1?t="Windows 8":e.indexOf("Windows NT 6.3")>-1?t="Windows 8.1":e.indexOf("Windows NT 10")>-1&&(t="Windows 10"),n=e.indexOf("WOW64")>-1?" 64-bit":" 32-bit"),t+n}if("MacIntel"==navigator.platform||"Macintosh"==navigator.platform){var i="Mac OS X";return e.indexOf("Mac OS X")>-1&&(i=e.substring(e.indexOf("Mac OS X"),e.indexOf(")")),i=i.replace(/_/g,".")),i}return"Unknown Operation System"},CSInterface.prototype.openURLInDefaultBrowser=function(e){return cep.util.openURLInDefaultBrowser(e)},CSInterface.prototype.getExtensionID=function(){return window.__adobe_cep__.getExtensionId()},CSInterface.prototype.getScaleFactor=function(){return window.__adobe_cep__.getScaleFactor()},CSInterface.prototype.setScaleFactorChangedHandler=function(e){window.__adobe_cep__.setScaleFactorChangedHandler(e)},CSInterface.prototype.getCurrentApiVersion=function(){var e=JSON.parse(window.__adobe_cep__.getCurrentApiVersion());return e},CSInterface.prototype.setPanelFlyoutMenu=function(e){"string"==typeof e&&window.__adobe_cep__.invokeSync("setPanelFlyoutMenu",e)},CSInterface.prototype.updatePanelMenuItem=function(e,t,n){var i=!1;if(this.getHostCapabilities().EXTENDED_PANEL_MENU){var r=new MenuItemStatus(e,t,n);i=window.__adobe_cep__.invokeSync("updatePanelMenuItem",JSON.stringify(r))}return i},CSInterface.prototype.setContextMenu=function(e,t){"string"==typeof e&&window.__adobe_cep__.invokeAsync("setContextMenu",e,t)},CSInterface.prototype.setContextMenuByJSON=function(e,t){"string"==typeof e&&window.__adobe_cep__.invokeAsync("setContextMenuByJSON",e,t)},CSInterface.prototype.updateContextMenuItem=function(e,t,n){var i=new ContextMenuItemStatus(e,t,n);ret=window.__adobe_cep__.invokeSync("updateContextMenuItem",JSON.stringify(i))},CSInterface.prototype.isWindowVisible=function(){return window.__adobe_cep__.invokeSync("isWindowVisible","")},CSInterface.prototype.resizeContent=function(e,t){window.__adobe_cep__.resizeContent(e,t)},CSInterface.prototype.registerInvalidCertificateCallback=function(e){
return window.__adobe_cep__.registerInvalidCertificateCallback(e)},CSInterface.prototype.registerKeyEventsInterest=function(e){return window.__adobe_cep__.registerKeyEventsInterest(e)},CSInterface.prototype.setWindowTitle=function(e){window.__adobe_cep__.invokeSync("setWindowTitle",e)},CSInterface.prototype.getWindowTitle=function(){return window.__adobe_cep__.invokeSync("getWindowTitle","")},define("libs/CSInterface",function(){}),IMSInterface.prototype.addEventListener=function(e,t){window.__adobe_cep__.addEventListener(e,t)},IMSInterface.prototype.removeEventListener=function(e,t){window.__adobe_cep__.removeEventListener(e,t)},IMSInterface.prototype.imsConnect=function(){var e=window.__adobe_cep__.imsConnect();return e},IMSInterface.prototype.imsDisconnect=function(e){window.__adobe_cep__.imsDisconnect(e)},IMSInterface.prototype.imsFetchAccounts=function(e,t){var n=window.__adobe_cep__.imsFetchAccounts(e,t);return n},IMSInterface.prototype.imsFetchAccessToken=function(e,t,n,i,r,o){return window.__adobe_cep__.imsFetchAccessToken(e,t,n,i,r,o)},IMSInterface.prototype.imsRevokeDeviceToken=function(e,t,n,i,r){return window.__adobe_cep__.imsFetchAccessToken(e,t,n,i,r,"REVOKE")},IMSInterface.prototype.imsSetProxyCredentials=function(e,t){window.__adobe_cep__.imsSetProxyCredentials(e,t)},IMSInterface.prototype.showAAM=function(e,t,n,i,r,o){return window.__adobe_cep__.showAAM(e,t,n,i,r,o)},IMSInterface.prototype.imsGetCurrentUserId=function(){var e=window.__adobe_cep__.getCurrentImsUserId();return e},IMSInterface.prototype.imsGetCurrentUserIdHelper=function(e){var t=JSON.parse(window.__adobe_cep__.getHostEnvironment()),n=t.appName;if("ILST"===n)window.__adobe_cep__.evalScript("app.userGUID",function(t){e(t)});else if("IDSN"===n)window.__adobe_cep__.evalScript("app.userGuid",function(t){e(t)});else if("PHSP"===n||"PHXS"===n)window.__adobe_cep__.evalScript("var getUserIdPhotoshop = function() {var userId = '';try {var bhnc = app.charIDToTypeID('bhnc');var ref = new ActionReference();ref.putProperty(app.charIDToTypeID('Prpr'), bhnc);ref.putEnumerated(app.charIDToTypeID('capp'), app.charIDToTypeID('Ordn'), app.charIDToTypeID('Trgt'));var appDesc = app.executeActionGet(ref);if (appDesc.hasKey(bhnc)) {userId = appDesc.getString(bhnc);}} catch (e) {}return userId;};",function(t){window.__adobe_cep__.evalScript("getUserIdPhotoshop()",function(t){e(t)})});else{var i=window.__adobe_cep__.getCurrentImsUserId();e(i)}},IMSInterface.prototype.imsConnectWithEndpoint=function(e){var t={};return t.imsEndpoint=void 0===e||null===e||""===e?"undefined":e,JSON.parse(window.__adobe_cep__.invokeSync("imsConnectWithEndpoint",JSON.stringify(t))).result},IMSInterface.prototype.imsFetchContinueToken=function(e,t,n,i,r,o,a){(void 0===i||null===i)&&(i=""),(void 0===r||null===r)&&(r=""),(void 0===o||null===o)&&(o=""),(void 0===a||null===a)&&(a="");var s={};return s.imsRef=e,s.bearerToken=t,s.targetClientId=n,s.redirectUri=i,s.scope=r,s.responseType=o,s.locale=a,JSON.parse(window.__adobe_cep__.invokeSync("imsFetchContinueToken",JSON.stringify(s))).result},IMSInterface.prototype.imsLogoutUser=function(e,t,n){var i={};return i.imsRef=e,i.userAccountGuid=t,i.clientId=n,JSON.parse(window.__adobe_cep__.invokeSync("imsLogoutUser",JSON.stringify(i))).result},IMSInterface.prototype.imsFetchUserProfileData=function(e,t){var n={};return n.imsRef=e,n.userAccountGuid=t,window.__adobe_cep__.invokeSync("imsFetchUserProfileData",JSON.stringify(n))},IMSInterface.prototype.imsAttemptSSOJumpWorkflows=function(e,t,n,i,r,o,a,s,l,c,u){e||(e=!1),(void 0===i||null===i)&&(i=""),(void 0===r||null===r)&&(r=""),(void 0===o||null===o)&&(o=""),(void 0===s||null===s)&&(s=""),(void 0===l||null===l)&&(l=""),(void 0===c||null===c)&&(c=""),(void 0===n||null===n)&&(n=""),(void 0===a||null===a)&&(a="");var d={};return d.imsRef=n,d.openBrowser=e,d.url=t,d.clientId=i,d.clientSecret=r,d.scope=o,d.userAccountGuid=a,d.targetClientId=s,d.targetScope=l,d.targetResponseType=c,d.targetLocale=u,JSON.parse(window.__adobe_cep__.invokeSync("imsAttemptSSOJumpWorkflows",JSON.stringify(d))).result},IMSInterface.events={imsFetchAccessTokenWithStatus:"com.adobe.csxs.events.internal.ims.FetchAccessTokenWithStatus",imsFetchAccessToken:"com.adobe.csxs.events.internal.ims.FetchAccessToken",imsRevokeAccessToken:"com.adobe.csxs.events.internal.ims.FetchAccessTokenWithStatus",imsFetchContinueToken:"com.adobe.csxs.events.internal.ims.FetchAccessTokenWithStatus",imsAAMIMSStatus:"vulcan.SuiteMessage.com.adobe.aam.AAMIMSStatus",imsLogoutUser:"com.adobe.csxs.events.internal.ims.LogoutUser",imsSSOStatus:"com.adobe.csxs.events.internal.ims.SSOStatus"},IMSInterface.status={IMS_SUCCESS:"0",IMS_ERROR_FAILURE:"1",IMS_ERROR_INVALID_ARGUMENTS:"2",IMS_ERROR_CANCEL:"20",IMS_ERROR_TIMEOUT:"21",IMS_ERROR_HTTPFAILURE:"22",IMS_ERROR_SSLFAILURE:"23",IMS_ERROR_AUTH_PROXY_REQUIRED:"24",IMS_ERROR_AUTH_PROXY_FAILED:"25",IMS_ERROR_IN_ACCESS_IDP:"26",IMS_ERROR_ANOTHER_REQUEST_IN_PROCESS:"40",IMS_ERROR_IN_READ_USER_DATA:"60",IMS_ERROR_IN_SAVE_USER_DATA:"61",IMS_ERROR_IN_REMOVE_USER_DATA:"62",IMS_ERROR_USER_DATA_NOT_PRESENT:"63",IMS_ERROR_IN_READ_DEVICE_TOKEN:"64",IMS_ERROR_IN_SAVE_DEVICE_TOKEN:"65",IMS_ERROR_IN_REMOVE_DEVICE_TOKEN:"66",IMS_ERROR_DEVICE_TOKEN_NOT_PRESENT:"67",IMS_ERROR_INVALID_DEVICE_TOKEN:"68",IMS_ERROR_CLIENTID_NOT_PRESENT:"69",IMS_ERROR_IN_FETCH_USER_ACCOUNTS:"70",IMS_ERROR_IN_SAVE_USER_FOR_CLIENTID:"71",IMS_ERROR_DEVICE_ID_NOT_PRESENT:"72",IMS_ERROR_DEFAULT_USER_FOR_CLIENTID_NOT_PRESENT:"73",IMS_ERROR_NO_USER_RECORDS_PRESENT:"74",IMS_ERROR_ACCESS_DENIED:"80",IMS_ERROR_INVALID_REQUEST:"81",IMS_ERROR_INVALID_CLIENT:"82",IMS_ERROR_INVALID_GRANT:"83",IMS_ERROR_UNAUTHORIZED_CLIENT:"84",IMS_ERROR_UNSUPPORTED_RESPONSE_TYPE:"85",IMS_ERROR_INVALID_SCOPE:"86",IMS_ERROR_UNSUPPORTED_GRANT_TYPE:"87",IMS_ERROR_BAD_REQUEST:"88",IMS_ERROR_INVALID_CREDENTIALS:"89",IMS_ERROR_IN_GET_AUTH_DATA_FROM_IDP:"100",IMS_ERROR_IN_GET_DEVICE_TOKEN_FROM_IDP:"101",IMS_ERROR_IN_GET_REFRESH_TOKEN_FROM_IDP:"102",IMS_ERROR_IN_GET_ACCESS_TOKEN_FROM_IDP:"103",IMS_ERROR_IN_GET_PROFILE_DATA_FROM_IDP:"104",IMS_ERROR_TOU_CHANGED:"120",IMS_ERROR_IN_REVOKE_DEVICE_TOKEN:"121",IMS_ERROR_TOU_NOT_CURRENT:"122",IMS_ERROR_EVS_INVALID:"123",IMS_ERROR_ACCT_ACT_REQ:"124",IMS_ERROR_ACCT_DISABLED:"125",IMS_ERROR_SUBS_ACT_REQ:"126",IMS_ERROR_SUBS_NO_SUB:"127",IMS_ERROR_NO_BUDDY_GROUP_FOR_CLIENT:"150",IMS_ERROR_CLIENT_REGISTERED_FOR_OTHER_GROUP:"151",IMS_ERROR_GROUP_ENTRY_NOT_PRESENT:"152",IMS_ERROR_IN_SAVE_GROUP_DATA:"153",IMS_ERROR_CNAME_ENTRY_NOT_PRESENT:"154",IMS_ERROR_IN_SAVE_BACKOFF_DATA:"155",IMSMANAGER_ERROR_EXCEPTION:"3000",IMSMANAGER_ERROR_ENCODING:"3001",IMSMANAGER_SUCCESS_BROWSER_OPENED:"3002",IMSMANAGER_ERROR_BROWSER_FAILED_TO_OPEN:"3003",IMS_UNKNOWN_ERROR:"0xFFFF"},IMSInterface.prototype.events=IMSInterface.events,define("libs/IMSInterface",function(){}),Vulcan.prototype.getTargetSpecifiers=function(){var e={};return JSON.parse(window.__adobe_cep__.invokeSync("vulcanGetTargetSpecifiers",JSON.stringify(e)))},Vulcan.prototype.launchApp=function(e,t,n){if(!requiredParamsValid(e))return!1;var i={};return i.targetSpecifier=e,i.focus=t?"true":"false",i.cmdLine=void 0===n||null===n?"":n,JSON.parse(window.__adobe_cep__.invokeSync("vulcanLaunchApp",JSON.stringify(i))).result},Vulcan.prototype.isAppRunning=function(e){if(!requiredParamsValid(e))return!1;var t={};return t.targetSpecifier=e,JSON.parse(window.__adobe_cep__.invokeSync("vulcanIsAppRunning",JSON.stringify(t))).result},Vulcan.prototype.isAppInstalled=function(e){if(!requiredParamsValid(e))return!1;var t={};return t.targetSpecifier=e,JSON.parse(window.__adobe_cep__.invokeSync("vulcanIsAppInstalled",JSON.stringify(t))).result},Vulcan.prototype.getAppPath=function(e){if(!requiredParamsValid(e))return"";var t={};return t.targetSpecifier=e,JSON.parse(window.__adobe_cep__.invokeSync("vulcanGetAppPath",JSON.stringify(t))).result},Vulcan.prototype.addMessageListener=function(e,t,n){if(requiredParamsValid(e,t)&&strStartsWith(e,VulcanMessage.TYPE_PREFIX)){var i={};i.type=e,window.__adobe_cep__.invokeAsync("vulcanAddMessageListener",JSON.stringify(i),t,n)}},Vulcan.prototype.removeMessageListener=function(e,t,n){if(requiredParamsValid(e,t)&&strStartsWith(e,VulcanMessage.TYPE_PREFIX)){var i={};i.type=e,window.__adobe_cep__.invokeAsync("vulcanRemoveMessageListener",JSON.stringify(i),t,n)}},Vulcan.prototype.dispatchMessage=function(e){if(requiredParamsValid(e)&&strStartsWith(e.type,VulcanMessage.TYPE_PREFIX)){var t={},n=new VulcanMessage(e.type);n.initialize(e),t.vulcanMessage=n,window.__adobe_cep__.invokeSync("vulcanDispatchMessage",JSON.stringify(t))}},Vulcan.prototype.getPayload=function(e){if(!requiredParamsValid(e)||!strStartsWith(e.type,VulcanMessage.TYPE_PREFIX))return null;var t=new VulcanMessage(e.type);return t.initialize(e),t.getPayload()};var VulcanInterface=new Vulcan;VulcanMessage.TYPE_PREFIX="vulcan.SuiteMessage.",VulcanMessage.SCOPE_SUITE="GLOBAL",VulcanMessage.DEFAULT_APP_ID="UNKNOWN",VulcanMessage.DEFAULT_APP_VERSION="UNKNOWN",VulcanMessage.DEFAULT_DATA="<data><payload></payload></data>",VulcanMessage.dataTemplate="<data>{0}</data>",VulcanMessage.payloadTemplate="<payload>{0}</payload>",VulcanMessage.prototype.initialize=function(e){this.type=e.type,this.scope=e.scope,this.appId=e.appId,this.appVersion=e.appVersion,this.data=e.data},VulcanMessage.prototype.xmlData=function(){if(void 0===this.data){var e="";e=String.format(VulcanMessage.payloadTemplate,e),this.data=String.format(VulcanMessage.dataTemplate,e)}return this.data},VulcanMessage.prototype.setPayload=function(e){var t=cep.encoding.convertion.utf8_to_b64(e);t=String.format(VulcanMessage.payloadTemplate,t),this.data=String.format(VulcanMessage.dataTemplate,t)},VulcanMessage.prototype.getPayload=function(){var e=GetValueByKey(this.data,"payload");return null!==e?cep.encoding.convertion.b64_to_utf8(e):null},VulcanMessage.prototype.toString=function(){var e="type="+this.type;return e+=", scope="+this.scope,e+=", appId="+this.appId,e+=", appVersion="+this.appVersion,e+=", data="+this.xmlData()},String.format=function(e){if(0===arguments.length)return null;var t=Array.prototype.slice.call(arguments,1);return e.replace(/\{(\d+)\}/g,function(e,n){return t[n]})},define("libs/Vulcan",function(){}),define("services/config/configuration",["require","exports","module","angular"],function(e,t){"use strict";var n=e("angular"),i=[function(){this.EXTENSION_ID="com.adobe.DesignLibraries.angular",this.PURCHASE_EXTENSION_ID="com.adobe.inapp.purchase",this.strTempFolder="",this.locale="en-US",this.showTooltips=!0,this.DRAGDROP_ID="com.adobe.cep.dnd.pasteboardtype",this.DRAGDROP_SOURCE="com.adobe.designlibrary",this.isAirPanel=!1,this.nativeProxy=void 0,this.localRoot="/Adobe/Creative Cloud Libraries/",this.SYNC_NOTIFICATIONS_AVAILABLE=!1,this.APP_NAME="",this.SUPPORTED_PRODUCTS=[],this.currentProduct=void 0,this.LEARN_MORE_URL_ROOT="https://www.adobe.com/go/cclibraries_help",this.SERVICE_ERROR_URL_ROOT="https://www.adobe.com/go/process_error",this.INSTALL_CC_APP_URL_ROOT="https://www.adobe.com/go/cc_install",this.UPDATE_CC_APP_URL_ROOT="https://www.adobe.com/go/process_update",this.UPDATE_CC_LIBRARIES_URL_ROOT="https://www.adobe.com/go/panel_update",this.AVAILABLE_HELP_LANGUAGES={ae:!0,cz:!0,dk:!0,de:!0,en:!0,es:!0,fi:!0,fr:!0,hu:!0,il:!0,it:!0,jp:!0,kr:!0,no:!0,nl:!0,pl:!0,br:!0,ru:!0,se:!0,tr:!0,ua:!0,cn:!0,tw:!0},this.DEFAULT_HELP_LANGUAGE="en",this.CCWEB_ELEMENT_URL="https://ZZZZ/assets/libraries/YYYY/XXXX",this.CCWEB_LIBRARIES_URL="https://ZZZZ/assets/libraries/YYYY",this.CCWEB_LIBRARIES_ARCHIVE_URL="https://ZZZZ/assets/libraries/YYYY?filter=archive",this.CREATIVE_CLOUD_ID="creative_cloud",this.IMAGE_ELEMENT_TYPE="application/vnd.adobe.element.image+dcx",this.COLOR_ELEMENT_TYPE="application/vnd.adobe.element.color+dcx",this.COLOR_THEME_ELEMENT_TYPE="application/vnd.adobe.element.colortheme+dcx",this.BRUSH_ELEMENT_TYPE="application/vnd.adobe.element.brush+dcx",this.CHARACTER_STYLE_ELEMENT_TYPE="application/vnd.adobe.element.characterstyle+dcx",this.PARAGRAPH_STYLE_ELEMENT_TYPE="application/vnd.adobe.element.paragraphstyle+dcx",this.LAYER_STYLE_ELEMENT_TYPE="application/vnd.adobe.element.layerstyle+dcx",this.LOOK_ELEMENT_TYPE="application/vnd.adobe.element.look+dcx",this.VIDEO_ELEMENT_TYPE="application/vnd.adobe.element.video+dcx",this.THREE_D_ELEMENT_TYPE="application/vnd.adobe.element.3d+dcx",this.PATTERN_ELEMENT_TYPE="application/vnd.adobe.element.pattern+dcx",this.TEMPLATE_ELEMENT_TYPE="application/vnd.adobe.element.template+dcx",this.TEXT_ELEMENT_TYPE="application/vnd.adobe.element.text+dcx",this.ANIMATION_ELEMENT_TYPE="application/vnd.adobe.element.animation+dcx",this.IMAGE_RENDITION_SIZE=202,this.LOOK_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.VIDEO_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.THREE_D_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.BRUSH_RENDITION_SIZE=124,this.CHARACTER_STYLE_RENDITION_SIZE=104,this.PARAGRAPH_STYLE_RENDITION_SIZE=this.CHARACTER_STYLE_RENDITION_SIZE,this.LAYER_STYLE_RENDITION_SIZE=108,this.PATTERN_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.TEMPLATE_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.TEXT_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.ANIMATION_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.STOCK_NAMESPACE="adobestock",this.STOCK_DATA_KEY="trackingdata",this.STOCK_CLIENT_ID="AdobeStockClient2",this.STOCK_TARGET_SCOPE="AdobeID,openid,creative_cloud,read_organizations,gnav,additional_info.address.mail_to,sao.stock",this.STOCK_GET_USER_PROFILE_PATH="/Rest/Libraries/1/Member/Profile?locale=ZZZZ&content_id=YYYY&license=LLLL",this.STOCK_LICENSE_PATH="/Rest/Libraries/1/Content/License?content_id=ZZZZ&license=LLLL",this.STOCK_INFO_PATH="/Rest/Libraries/1/Content/Info?content_id=ZZZZ",this.STOCK_SEARCH_PATH="/Search",this.STOCK_SEARCH_API_PATH="/Rest/Media/1/Search/Files",this.STOCK_ABANDON_TRANSACTION_PATH="/Rest/Libraries/1/Member/Abandon?&state=ZZZZ&content_id=YYYY&license=LLLL",this.STOCK_LICENSE_TYPE_STANDARD="Standard",this.STOCK_LICENSE_TYPE_EXTENDED="Extended",this.STOCK_VIDEO_LICENSE_TYPE_HD={label:"HD",field:"Video_HD"},this.STOCK_VIDEO_LICENSE_TYPE_4K={label:"4K",field:"Video_4K"},this.STOCK_VIDEO_LICENSE_TYPES=[this.STOCK_VIDEO_LICENSE_TYPE_4K,this.STOCK_VIDEO_LICENSE_TYPE_HD],this.STOCK_STATE_PURCHASED="purchased",this.STOCK_STATE_NOT_PURCHASED="not_purchased",this.STOCK_STATE_CANCELLED="cancelled",this.STOCK_SEARCH_RESULT_SIZE=50,this.STOCK_SEARCH_TIMEOUT=3e4,this.STOCK_SIMILARITY_RENDITION_SIZE=500,this.STOCK_SEARCH_OPTION_PHOTO={label:"DL_STOCK_SEARCH_OPTION_PHOTO",param:"photo"},this.STOCK_SEARCH_OPTION_ILLUSTRATION={label:"DL_STOCK_SEARCH_OPTION_ILLUSTRATION",param:"illustration"},this.STOCK_SEARCH_OPTION_VECTOR={label:"DL_STOCK_SEARCH_OPTION_VECTOR",param:"vector"},this.STOCK_SEARCH_OPTION_VIDEO={label:"DL_STOCK_SEARCH_OPTION_VIDEO",param:"video"},this.STOCK_SEARCH_OPTION_TEMPLATE={label:"DL_STOCK_SEARCH_OPTION_TEMPLATE",param:"template"},this.STOCK_SEARCH_OPTIONS=[this.STOCK_SEARCH_OPTION_PHOTO,this.STOCK_SEARCH_OPTION_ILLUSTRATION,this.STOCK_SEARCH_OPTION_VECTOR,this.STOCK_SEARCH_OPTION_VIDEO,this.STOCK_SEARCH_OPTION_TEMPLATE],this.STOCK_CORE_CONTENT_LEVEL_ID=0,this.STOCK_FREE_CONTENT_LEVEL_ID=1,this.STOCK_PREMIUM_CONTENT_LEVEL_IDS=[2,3,4],this.COLOR_NAMESPACE="color",this.COLOR_DATA_KEY="data",this.COLOR_REPRESENTATION_TYPE="application/vnd.adobe.color+json",this.THREE_D_NAMESPACE="3d",this.THREE_D_DATA_KEY="data",this.TEXT_REPRESENTATION_JSON_TYPE="application/vnd.adobe.text+json",this.TEXT_NAMESPACE="text",this.TEXT_DATA_KEY="data",this.MAX_ELEMENTS=1e3,this.MAX_COMPONENT_SIZE=1073741824,this.DEFAULT_ELEMENTS_PER_CATEGORY=50,this.SHOW_MORE_STAGGER_INTERVAL=3,this.CONTEXT_MENUS_ENABLED=!0,this.IS_APP_IN_TOUCH_MODE=!1,this.RECENTS_LIST_LIMIT=6,this.RECENTS_LIST_LIBRARY_MIN=12,this.UNDO_TOAST_TIMEOUT=5e3,this.ANALYTICS_PROJECT="cclib-panel",this.ANALYTICS_INGEST_TYPE="dunamis",this.ANALYTICS_MAX_QUEUED_EVENTS=50,this.ANALYTICS_DEBOUNCE=15e3,this.getElementType=function(e){return"application/vnd.adobe.element."+e+"+dcx"}}];t.attach=function(e){n.module(e).service("configuration",i)}}),define("services/config/localSettings",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$window","csInterface","configuration","fileUtils",function(e,t,n,i){function r(e,t){if(this._path=e,this._fileName=t,this._writing=!1,this._pendingWrite=!1,o){var n="readFileSync";try{this._settings=JSON.parse(o[n](e+t))}catch(i){this._settings={}}}else try{this._settings=JSON.parse(localStorage.getItem("panelSettings"))||{}}catch(r){this._settings={}}}var o=nodeRequire("fs");r.prototype._write=function(){if(!o)return void localStorage.setItem("panelSettings",JSON.stringify(this._settings));var e=this;if(this._writing)return void(this._pendingWrite=!0);this._writing=!0;var t=function(){e._writing=!1,e._pendingWrite&&(e._pendingWrite=!1,e._write())};i.ensurePathExists(e._path,function(n){return n?(console.log(n),e._pendingWrite=!1,void t()):void o.writeFile(e._path+e._fileName,JSON.stringify(e._settings,void 0,2),function(n){n&&(console.log(n),e._pendingWrite=!1),t()})})},r.prototype.get=function(e){return this._settings[e]},r.prototype.set=function(e,t){this._settings[e]=t,this._write()};var a,s=new r(t.getLocalRoot(),"settings.json"),l="existsSync";o&&o[l](t.getGlobalRoot()+"debug")&&(a=new r(t.getGlobalRoot(),"debug")),this.setValue=function(e,t){s.set(e,t)},this.getValue=function(e){return s.get(e)},this.setDebugValue=function(e,t){a&&a.set(e,t)},this.getDebugValue=function(e){return a?a.get(e):void 0},this.hasDebugSettings=function(){return void 0!==a},this.showDebugMenu=function(){return this.hasDebugSettings()}}];t.attach=function(e){i.module(e).service("localSettings",r)}});var PRODUCT_CODES=["PHXS","ILST","IDSN","AEFT","PPRO","FLPR","DRWV","MUSE"],applications=PRODUCT_CODES.map(function(e){"use strict";return"applications/"+e+"/js/index"}),overrides=PRODUCT_CODES.map(function(e){"use strict";return"applications/"+e+"/js/configuration/main"}),reqs=["require","angular"].concat(applications).concat(overrides);define("services/config/products",reqs,function(e){"use strict";var t=e("angular"),n=new CSInterface,i=n.hostEnvironment.appName,r=["$injector","configuration",function(e,t){var n=PRODUCT_CODES.map(function(n){var r=e.get(n);return n===i&&(t.currentProduct=r,t.APP_NAME=i),r});t.SUPPORTED_PRODUCTS=n.map(function(e){return e.config})}],o=function(n){PRODUCT_CODES.forEach(function(t,r){e(applications[r]).attach(n),i===t&&e(overrides[r]).attach(n)}),t.module(n).service("products",r)};return{attach:o}}),define("services/config/main",["require","exports","module","./configuration","./localSettings","./products"],function(e,t,n){"use strict";function i(t){e("./configuration").attach(t),e("./localSettings").attach(t),e("./products").attach(t)}return{attach:i}}),define("services/designlibrary/designLibraryAppRequestManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){var e,t={};this.setEditRequestRef=function(e,n){e&&(t[e]=n)},this.getEditRequestRef=function(e){return t[e]},this.clearEditRequestRef=function(e){delete t[e]},this.setChooseRequestRef=function(t){e=t},this.getChooseRequestRef=function(){return e}}];t.attach=function(e){i.module(e).service("designLibraryAppRequestManager",r)}}),define("services/designlibrary/designLibraryArchiveUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["designLibraryManager",function(e){this.getRemovedElements=function(t){var n;n=t?[t]:e.getLibraries();var i=[];return n.forEach(function(e){var t={};e.removedElements.forEach(function(n){var r=1e3*Math.round(n.removed/1e3),o=t[r];o?o.elements.push(n):(t[r]={time:r,library:e,elements:[n]},i.push(t[r]))})}),i}}];t.attach=function(e){i.module(e).service("designLibraryArchiveUtils",r)}}),define("services/designlibrary/designLibraryCEPEventEmitters",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["csInterface","fileUtils","designLibraryElements","designLibraryAppRequestManager","adobeStockUtils","$q",function(e,t,n,i,r,o){function a(e,i){var r=n.findRepresentation(e,t.getUsableTypes(e.type));return r?r.getContentPath().then(function(e){i(e)}):e.getThumbnailPath().then(function(e){i(e)})}this.sendElementCreated=function(t,i){var r=o.defer();return a(t,function(o){var a=new CSEvent("com.adobe.DesignLibraries.events.ElementCreated","APPLICATION"),s={elementRef:t.getReference(),name:t.name,libraryName:t.library.name,modifiedTime:n.getElementModifiedTime(t),creationTime:t.created,data:[o],appMetadata:i};i&&(i.documentId&&(s.documentId=i.documentId),i.layerIds&&(s.layerIds=i.layerIds)),a.data=JSON.stringify(s),e.dispatchEvent(a),r.resolve()}),r.promise},this.sendElementChosen=function(t){a(t,function(o){var a=new CSEvent("com.adobe.DesignLibraries.events.ElementChosen","APPLICATION"),s={requestRef:i.getChooseRequestRef(),elementRef:t.getReference(),name:t.name,libraryName:t.library.name,modifiedTime:n.getElementModifiedTime(t),creationTime:t.created,data:[o]};r.isStockAsset(t)&&(s.adobeStock={id:r.getStockId(t),license:r.isLicensed(t)}),a.data=JSON.stringify(s),e.dispatchEvent(a)})},this.elementChooseCancelled=function(){var t=new CSEvent("com.adobe.DesignLibraries.events.ElementChooseCancelled","APPLICATION");t.data=JSON.stringify({requestRef:i.getChooseRequestRef()}),e.dispatchEvent(t)},this.sendElementUpdated=function(t){if(t){var o=t.element,a=o.getReference();t.getContentPath().then(function(t){var s=new CSEvent("com.adobe.DesignLibraries.events.ElementUpdated","APPLICATION"),l={requestRef:i.getEditRequestRef(a),elementRef:a,name:o.name,libraryName:o.library.name,modifiedTime:n.getElementModifiedTime(o),creationTime:o.created,data:[t]};r.isStockAsset(o)&&(l.adobeStock={id:r.getStockId(o),license:r.isLicensed(o)}),s.data=JSON.stringify(l),e.dispatchEvent(s)})}},this.sendElementLicensed=function(t){if(t){var i=t.element,o=i.getReference();t.getContentPath().then(function(t){var a=new CSEvent("com.adobe.DesignLibraries.events.ElementLicensed","APPLICATION");a.data=JSON.stringify({elementRef:o,name:i.name,libraryName:i.library.name,modifiedTime:n.getElementModifiedTime(i),creationTime:i.created,data:[t],adobeStock:{id:r.getStockId(i),license:r.isLicensed(i)}}),e.dispatchEvent(a)})}}}];t.attach=function(e){i.module(e).service("designLibraryCEPEventEmitters",r)}}),define("services/designlibrary/designLibraryCEPEventHandlers",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["digestUtils","csInterface","designLibraryManager","designLibraryElements","designLibraryElementUtils","designLibraryUtils","designLibrarySelection","designLibraryAppRequestManager","metrics","configuration","designLibraryViewState","$translate","listenerUtils",function(e,t,n,i,r,o,a,s,l,c,u,d,p){var f,h=p.addListenerManager(this,["elementDropped"]),m=!1,g=function(t){if(t&&t.data){var i,r=t.data,o=r.operation,l=r.elementName,p=r.elementRef,f=r.elementType;if(s.setChooseRequestRef(r.requestRef),p&&(i=n.resolveElementReference(p),i&&!l&&(l=i.name)),"place"===o)u.setRelinkMode({message:d.instant("DL_RELINK_PLACE_MESSAGE"),actionMessage:d.instant("DL_PLACE"),missing:!1,overlayMessage:d.instant("DL_RELINK_PLACE_OVERLAY_MESSAGE")},f);else{var h=d.instant("DL_RELINK_"+o.toUpperCase()+"_MESSAGE",{elementName:l});u.setRelinkMode({message:h,actionMessage:d.instant("DL_RELINK"),missing:p?!i:void 0,overlayMessage:d.instant("DL_RELINK_RELINK_OVERLAY_MESSAGE")},f)}var m=a.getSelection();(m.length>1||1===m.length&&m[0].type!==c.IMAGE_ELEMENT_TYPE)&&a.clearSelection(),e.triggerDigest()}},v=function(t){u.resetMode(),e.triggerDigest()},_=function(e){if(e&&e.data){var t=e.data,r=t.elementRef,a=t.requestRef,l=n.resolveElementReference(r);if(l&&o.checkElementWritable(l)){a&&s.setEditRequestRef(r,a);var c,u=i.getEditOperations(l);u.forEach(function(e){e.onDoubleClick&&(c=e)}),c&&c.apply()}}},y=function(e){if(e&&e.data){var t=e.data,i=t.elementRef,o=n.resolveElementReference(i);r.revealElement(o)}},E=function(e){var t=e?e.data:void 0;if(t&&t.elementRef){var i=n.resolveElementReference(t.elementRef);if(i){var r=t.cause||"createElement";l.reportCreateLink(i,r)}}};this.setDraggedElements=function(e){f=e};var b=function(e){var t=e?e.data:void 0;if(h.notify("elementDropped",t),t&&t.elementRef){var r=n.resolveElementReference(t.elementRef);if(r){var o=i.findUsableRepresentation(r);if(o){l.reportUseElement(o,"dragDrop",t.details);var a=!1;a="boolean"==typeof t.linked?t.linked:"string"==typeof t.linked?"true"===t.linked.toLowerCase():!1,a===!0&&l.reportCreateLink(r,"dragDrop")}}}else f&&f.forEach(function(e){e.usedRepresentation&&l.reportUseElement(e.usedRepresentation,"dragDrop")})},L=function(e){if(e&&e.data){var i,r=e.data,o=r.name;if(o||(o=d.instant("DL_DEFAULT_LIBRARY_NAME")),r.enforceUniqueName===!0){var a=[];n.getLibraries().forEach(function(e){e.isDeletedFromServer||a.push(e.name)});for(var s,l=2;-1!==a.indexOf(o);)s||(s=o),o=s+" "+l++}i=n.createLibrary(o),i&&r.makeCurrent===!0&&(u.hideDialogs(),u.resetMode(),n.setCurrentLibrary(i));var c=new CSEvent("com.adobe.DesignLibraries.events.CreateLibraryResponse","APPLICATION");c.data=JSON.stringify({success:i?!0:!1,libraryName:i?i.name:"",libraryId:i?i.id:""}),t.dispatchEvent(c)}},S=function(e){var t=e.data;t&&t.libraryId&&n.waitForInitialLoad().then(function(){var e=n.getLibraryById(t.libraryId);e&&(u.resetMode(),n.setCurrentLibrary(e))})};this.elementEditCompleted=function(e){var t=e.getReference();s.clearEditRequestRef(t)},this.startListening=function(){m||(t.addEventListener("dlElementOpenForEdit",_),t.addEventListener("dlElementReveal",y),t.addEventListener("dlElementChoose",g),t.addEventListener("dlElementChooseCancel",v),t.addEventListener("dlElementLinkCreated",E),t.addEventListener("dlElementDropped",b),t.addEventListener("dlCreateLibrary",L),t.addEventListener("dlSetCurrentLibrary",S),m=!0)},this.stopListening=function(){m=!1,t.removeEventListener("dlElementOpenForEdit",_),t.removeEventListener("dlElementReveal",y),t.removeEventListener("dlElementChoose",g),t.removeEventListener("dlElementChooseCancel",v),t.removeEventListener("dlElementLinkCreated",E),t.removeEventListener("dlElementDropped",b),t.removeEventListener("dlCreateLibrary",L),t.removeEventListener("dlSetCurrentLibrary",S)}}];t.attach=function(e){i.module(e).service("designLibraryCEPEventHandlers",r)}}),define("services/designlibrary/designLibraryContextMenu",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$window","$filter","$timeout","$translate","mediator","menuManager","designLibraryManager","designLibraryElements","designLibrarySelection","designLibraryViewState","adobeStockUtils","adobeStockLicenseUtils","adobeStockUpdateUtils","linkUtils","localSettings","configuration",function(e,t,n,r,o,a,s,l,c,u,d,p,f,h,m,g,v){function _(e){return function(){a.emit("dlItemRenameRequest",e)}}function y(e){return function(){u.clearSelectionForItems(e),l.deleteElements(e)}}function E(e){return function(){m.openShareElementLinkURL(e)}}function b(e){return function(){var t=p.getStockId(e);f.showLicenseDialog(e,t)}}function L(e){d.setSearchMode({text:o.instant("DL_STOCK_FIND_SIMILAR_PLACEHOLDER"),type:"stock"}),r(function(){d.getState().modeParams.findSimilarId=p.getStockId(e),d.getState().modeParams.findSimilarUrl=void 0,d.notifySearchRequest()})}function S(e){e.getThumbnailURL(v.STOCK_SIMILARITY_RENDITION_SIZE,function(e,t){t+="?accept=image/jpeg",d.setSearchMode({text:o.instant("DL_STOCK_FIND_SIMILAR_PLACEHOLDER"),type:"stock"}),r(function(){d.getState().modeParams.findSimilarId=void 0,d.getState().modeParams.findSimilarUrl=t,d.notifySearchRequest()})})}function A(e){return function(){p.isStockAsset(e)?L(e):S(e)}}function T(e){return function(){d.resetMode(),t.setTimeout(function(){l.setCurrentLibrary(e.library),u.setSelection(e,!0)})}}function C(t,r,o,a){return function(){var s=function(e){i.isArray(e)&&!t&&o===a&&u.setSelection(e)},l=n("orderBy")(r,d.getSortFunction("modified"),!0),c=[];l.forEach(function(e){t?c.push(o.moveElement(e,a)):c.push(o.copyElement(e,a))}),e.all(c).then(s,s)}}function I(e,t){var i={copy:[],move:[]},r=l.getLibraries();return r=n("orderBy")(r,d.getState().librarySortFunction),r.forEach(function(n){var r=n.elements.length+e.length<=v.MAX_ELEMENTS;i.copy.push({label:n.name,enableMenu:n.id!==t.id&&r&&n.isWritable,checked:n.id===t.id,onClick:C(!1,e,t,n)}),i.move.push({label:n.name,enableMenu:n.id!==t.id&&r&&n.isWritable&&t.isWritable,checked:n.id===t.id,onClick:C(!0,e,t,n)})}),i}this.showContextMenu=function(e,t,n){if(!d.isContextMenuEnabled())return void s.setContextMenu([]);var i=[t];u.isSelected(t)&&(i=[],u.getSelection().forEach(function(e){i.push(e)}));var r=[],o=e.collection.cloudId===v.CREATIVE_CLOUD_ID;if(1===i.length){d.isLibrariesSearchMode()&&(r.push({label:"DL_REVEAL_ITEM",onClick:T(i[0])}),r.push({divider:!0}));var a=!1;p.isStockAsset(i[0])&&(p.isLicensed(i[0])||(r.push({label:"DL_STOCK_LICENSE_MENU"+p.getLocalizationSuffix(i[0]),onClick:b(i[0])}),a=!0)),(p.isStockAsset(i[0])||i[0].type===v.IMAGE_ELEMENT_TYPE)&&(r.push({label:"DL_STOCK_FIND_SIMILAR_MENU",onClick:A(i[0])}),a=!0),a&&r.push({divider:!0});var l=c.getApplyOperations(i[0],e,n);l.forEach(function(e){e.displayInMenu&&r.push({label:e.name,onClick:e.apply})});var f=c.getEditOperations(i[0]);f.forEach(function(t){r.push({label:t.name,onClick:t.apply,enableMenu:!t.disabled&&e.isWritable})}),o&&r.push({label:"DL_SHARE_LINK",onClick:E(i[0])}),r.length>0&&r.push({divider:!0})}else{var h=c.getApplyOperations(i,e);h.forEach(function(e){e.displayInMenu&&r.push({label:e.name,onClick:e.apply})})}r.push({label:i.length>1?"DL_DUPLICATE_SELECTED_ITEMS":"DL_DUPLICATE_ITEM",enableMenu:e.isWritable&&e.elements.length+i.length<=v.MAX_ELEMENTS,onClick:C(!1,i,e,e)});var m=I(i,e);r.push({label:i.length>1?"DL_COPY_SELECTED_ITEMS":"DL_COPY_ITEM",menuItems:m.copy}),r.push({label:i.length>1?"DL_MOVE_SELECTED_ITEMS":"DL_MOVE_ITEM",enableMenu:e.isWritable,menuItems:e.isWritable?m.move:[]}),r.push({divider:!0}),1===i.length&&r.push({label:"DL_RENAME",enableMenu:e.isWritable,onClick:_(i[0])}),r.push({label:"DL_DELETE",enableMenu:e.isWritable,onClick:y(i)}),s.setContextMenu(r)}}];t.attach=function(e){i.module(e).service("designLibraryContextMenu",r)}}),define("services/designlibrary/designLibraryDragUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$translate","fileUtils","configuration","layerSelectionManager","designLibraryManager","designLibraryUtils","designLibraryElements","designLibrarySelection",function(e,t,n,i,r,o,a,s,l){var c=function(e){var t=function(e){var t=o.getCurrentLibrary(),r=e.name,a=e.path;if(n.isUploadableFile(r)){var s=n.getFileNameWithoutExtension(r),l=t.createElement(s,i.IMAGE_ELEMENT_TYPE),c=n.fileNameToContentType(r),u=l.createRepresentation(c,"primary"),d=u.setContentFromPath(a,!1);d.then(function(){l.endOperation()},function(){t.removeElement(l,!0)})}},r=0;for(r;r<e.length;r++)t(e[r])},u=function(e,t){return!t||e.type===i.getElementType(t)},d=function(e,t){var n,i,o=r.getLayerInfo(),a=s.getAddOperations(o,t);for(n=0;n<a.length;n++)if(a[n].dropSupport&&u(a[n],e)){i=a[n];break}return i},p=function(e){var t;e.assetList.length>0&&(t=e.assetList[0].data);var n=o.getCurrentLibrary(),i=e.assetList[0].type,r=d(i,n);r&&n&&r.apply(n,"dragToPanel",t).then(function(e){l.setSelection(e,!0)})};this.addElementsFromDropData=function(e){var t=e.data,n=e.files;t&&t.assetList?p(t):n&&c(n)},this.getNamesFromDropData=function(e,i){var r=e.data,o=e.files,s=[];if(r){var l=r.assetList[0].type,c=d(l,i),u=function(e){c.getDropLabel&&(e=c.getDropLabel(e)),s.push(e)};r.assetList[0].hasOwnProperty("name")?u(r.assetList[0].name):a.getLayerName(i).then(function(e){u(e)})}else if(o){var p=0,f=3,h=0;for(p=0;p<o.length;p++)n.isUploadableFile(o[p].name)&&(h++,s.length<f&&s.push(o[p].name));
h>f&&(s[f-1]=t.instant("DL_DROP_MORE_FILES",{count:h-f+1}))}return s}}];t.attach=function(e){i.module(e).service("designLibraryDragUtils",r)}}),define("services/designlibrary/designLibraryElements",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){return function(){e.map(function(e){e()})}}var r=e("angular"),o=["$q","$window","designLibraryUtils","fileUtils","localSettings","configuration","adobeStockUtils","ccLibraries","digestUtils","$translate","csInterface","metrics",function(e,t,n,o,a,s,l,c,u,d,p,f){var h={},m={};this.register=function(e){var t=e.type;m[t]&&r.extend(e,m[t]),h[t]?console.log("Warning: Attempting to register element type "+t+" more than once."):h[t]=e},this.registerOverride=function(e){var t=e.type;return m[t]=e,h[t]?void r.extend(h[t],e):void(m[t]=e)};var g=function(e){return h[e]||h["*"]};this.getApplyOperations=function(e,t,n){var o=c.utils.generateUuid();if(e instanceof Array&&1===e.length&&(e=e[0]),e instanceof Array){var a=e.length;if(0===a)return[];var s=e.every(function(t){return t.type===e[0].type});if(!s)return[];var l={};e.forEach(function(e,i){var s=g(e.type),c=r.isFunction(s.getApplyOperations)?s.getApplyOperations(e,t,n,i+1,a,o):[];c.forEach(function(e){e.allowMultiple&&(l[e.name]?l[e.name].apply.push(e.apply):(l[e.name]=e,l[e.name].apply=[e.apply]))})});var u=[];return Object.keys(l).forEach(function(t){var n=l[t];n.apply.length===e.length&&(n.apply=i(n.apply),u.push(n))}),u}var d=g(e.type);return r.isFunction(d.getApplyOperations)?d.getApplyOperations(e,t,n,1,1,o):[]},this.getEditOperations=function(e){var t=g(e.type);if(r.isFunction(t.getEditOperations))return t.getEditOperations(e);var n=this.getDefaultEditOperation(e);return n?[n]:[]},this.getOnClickApplyOperation=function(e,t){var n,i=this.getApplyOperations(e,t);return i.forEach(function(e){e.onClick&&(n=e)}),n},this.getOnDoubleClickApplyOperation=function(e,t){var n,i=this.getApplyOperations(e,t);return i.forEach(function(e){e.onDoubleClick&&(n=e)}),n};var v=function(e,t,n){t||(t="DL_ERROR_INVALID_FILE_FORMAT_"+s.currentProduct.config.translationSuffix);var i=d.instant(t,n);p.showError(i)},_=function(e){return e.getActions("edit").length>0},y=function(e){var t=e.getActions("edit");if(0===t.length)return void v(e);var n=t[0];return 0===n.installedVersions.length?void v(e,"DL_ERROR_INSTALL_NEEDED",{app:n.appName}):n.isCompatibleVersionInstalled?void n.invoke(function(t){t&&("APP_LAUNCH_TIMEOUT"===t.underlyingError||"APP_LAUNCH_FAILED"===t.underlyingError?v(e,"DL_ERROR_APP_LAUNCH_TAKING_TIME"):"APP_SEND_ACTION_FAILED"===t.underlyingError?v(e,"DL_ERROR_EDIT_FAILED"):v(e))}):void v(e,"DL_ERROR_UPDATE_NEEDED",{app:n.appName})};this.isElementEditable=function(e,t,n){var i=e.getPrimaryRepresentation();if(!i)return!1;var r=o.getEditableTypes(e.type),a=this.isRepresentationCompatible(i,r,n);return t&&!a&&(a=_(e)),a},this.getDefaultEditOperation=function(e){var t=this,n=g(e.type);return n.defaultEditOperation?{name:"DL_EDIT_ITEM",disabled:!this.isElementEditable(e,!0),apply:function(){var i=n.defaultEditOperation(e);if(i===!1){var r=l.getStockEditError(e);t.isElementEditable(e,!0,!0)&&r?v(void 0,r):_(e)?y(e):v(e)}},onDoubleClick:!0}:_(e)?{name:"DL_EDIT_ITEM",disabled:!this.isElementEditable(e,!0),apply:function(){y(e)},onDoubleClick:!0}:void 0},this.getAddOperations=function(e,t){var i=[];return this.getElementTypes().forEach(function(o){var a=h[o],s=a.getAddOperations(e);r.isFunction(a.transformAddOperations)&&(s=a.transformAddOperations(s,e)),s.forEach(function(e){t&&!n.canAddElement(t)&&(e.disabled=!0,e.toolTip="DL_DESIGN_LIBRARY_HAS_LIMIT"),e.type=o,i.push(e)})}),i};var E;this.getElementTypes=function(){return E||(E=s.currentProduct.config.elementOrder,Object.keys(h).forEach(function(e){-1===E.indexOf(e)&&(console.log("Warning: No order specified for element type "+e),E.push(e))})),E},this.getDirective=function(e){var t=g(e);return t&&t.directive},this.getDisplayName=function(e){var t=g(e);return t&&t.displayName},this.getElementFilter=function(e){var t=g(e);return t&&t.elementFilter},this.getOrder=function(e){var t=g(e);return t?(void 0===t.order&&(t.order=this.getElementTypes().indexOf(t.type),void 0===t.order&&(console.log("Warning: order not defined for element type "+t.type),t.order=Number.POSITIVE_INFINITY)),t.order):void 0},this.getRenditionUrl=function(e){var t=g(e.type),n=t&&t.renditionSize;return t.getRenditionUrl?t.getRenditionUrl(e):e.getThumbnailPath(n).then(function(e){return e&&(e=window.noFileSystemAccess?"http://localhost:3001"+e:"file://"+e+"?cachebuster="+Math.random()),e})},this.isDraggable=function(e){if(!e||!e.type)return!1;var t=g(e.type);if(!t)return!1;if(!t.allowDragWithoutUsableRepresentation){var n=this.findUsableRepresentation(e);if(!n)return!1}return r.isFunction(t.isDraggable)?t.isDraggable():t.isDraggable},this.getDragType=function(e){var t=g(e.type);return t.dragType||e.type},this.findUsableRepresentation=function(e){var t=o.getUsableTypes(e.type);return this.findRepresentation(e,t)},this.getCommonDragData=function(e){var t=this.getDragType(e),n={name:e.name,libraryName:e.library.name,type:t,elementRef:e.getReference(),modifiedTime:this.getElementModifiedTime(e),creationTime:e.created};return l.isStockAsset(e)&&(n.adobeStock={id:l.getStockId(e),license:l.isLicensed(e)}),n},this.getDragData=function(e){var t=g(e.type);return t.getDragData?t.getDragData(e):void 0},this.findRepresentation=function(e,t){t=t instanceof Array?t:[t];var n=e.getPrimaryRepresentation();if(n&&this.isRepresentationCompatible(n,t))return n;var i,r;for(i=0;i<e.representations.length;i++)if(r=e.representations[i],this.isRepresentationCompatible(r,t))return r},this.isDownloadInProgress=function(e){var t=e.getPrimaryRepresentation();if(t&&t.isExternalLink){var n=g(e.type)||{};if(t.getCachedExternalLinkError())return!1;if(n.autoDownloadExternalLinks!==!1&&!t.getCachedContentPath())return!0}return!1},this.isRepresentationCompatible=function(e,t,n){if(!n&&e.isExternalLink){var i=g(e.element.type)||{};if(e.getCachedExternalLinkError())return!1;if(i.autoDownloadExternalLinks!==!1&&!e.getCachedContentPath())return!1}var r;for(r=0;r<t.length;r++)if(e.isCompatibleType(t[r]))return!0;return!1},this.getDisplayText=function(e){var t=g(e.type);return t&&t.getDisplayText?t.getDisplayText(e):e.name},this.getRenditionSizes=function(){var e={};return this.getElementTypes().forEach(function(t){var n=h[t];n.renditionSize&&(e[n.type]=[n.renditionSize])}),e},this.getFullRenditionConfig=function(){var e={};return this.getElementTypes().forEach(function(t){var n=h[t];n.fullRenditionConfig&&(e[n.type]=n.fullRenditionConfig())}),e},this.getRenditionSize=function(e){var t=g(e.type);return t?t.renditionSize:void 0},this.setRendition=function(t,n,i){var r=t.representations.some(function(e){return c.utils.canGenerateRenditionFromMimeType(e.type)}),a=[];if(!r){var s=t.createRepresentation("image/png","rendition");a.push(s.setContentFromPath(i))}var l=function(){o.deleteFile(i)};return t.setThumbnailCache(n,i).then(l,l),e.all(a)},this.getTruncatedElementName=function(e){return e&&e.name?n.truncateName(e.name,150):void 0};var b,L=[];this.setLoadingTimeout=function(e){L.push(e),b||(b=t.setTimeout(function(){var e=L;L=[],b=void 0;var t=!1;e.forEach(function(e){t=e()||t}),t&&u.triggerDigest()},1e3))},this.isRepresentationDownloadPending=function(e){return e.isExternalLink?!e.getCachedContentPath()&&!e.getCachedExternalLinkError():!1},this.isElementDownloadPending=function(e){var t=this;return e.representations.some(function(e){return t.isRepresentationDownloadPending(e)})},this.getElementDownloadProgress=function(e){var t;return e.representations.forEach(function(e){void 0===t&&(t=e.getExternalLinkDownloadProgress())}),t},this.getElementModifiedTime=function(e){return this.isElementDownloadPending(e)?e.modified-1:e.modified},this.retryElementDownload=function(e){var t=this;e.representations.forEach(function(e){t.isRepresentationDownloadPending(e)&&e.getContentPath()})}}];t.attach=function(e){r.module(e).service("designLibraryElements",o)}}),define("services/designlibrary/designLibraryElementUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","fileUtils","digestUtils","configuration","designLibraryUtils","designLibraryManager","designLibraryElements","designLibraryCEPEventEmitters","designLibrarySelection","designLibraryViewState","metrics",function(e,t,n,i,r,o,a,s,l,c,u){var d=function(n,i,o,a,s,l,c){n=n||"";var u,d=e.defer(),p=[];p.push(d.promise);var f;if(t.existsFile(o.path)||(f="Could not add new element: no primary representation file specified"),f||t.existsFile(a)||(f="Could not add new element: no rendition path specified"),f||l||(f="Could not add new element: no library"),f||r.checkLibraryWritable(l)||(f="Could not create element: library is read-only"),f)return d.reject(f),d.promise;u=r.createElementExtraMetrics(l,n,i,{opType:c}),p.push(u.createRepresentation(o.type||t.fileNameToContentType(o.path),"primary").setContentFromPath(o.path)),p.push(u.createRepresentation(t.fileNameToContentType(a),"rendition").setContentFromPath(a)),d.resolve(u);var h=function(){return t.existsFile(a)&&u.setThumbnailCache(s,a).then(function(){t.deleteFile(a)}),t.existsFile(o.path)&&t.deleteFile(o.path),u.endOperation(),u},m=function(e){throw l.removeElement(u,!0),e};return e.all(p).then(h,m)},p=function(n,o,l,c,u,d,p,f){var h=e.defer();if(l=l||[],!r.checkFileSizes(l,!0))return h.reject("Could not create element: one or more files exceed 1GB limit"),h.promise;if(!r.checkLibraryWritable(u))return h.reject("Could not create element: library is read-only"),h.promise;o=r.getCuratedName(u,o);var m=r.createElementExtraMetrics(u,o,n,{opType:d}),g=[];if(l.forEach(function(e,n){var i=t.fileNameToContentType(e.path);if(i){var r=m.createRepresentation(i,e.relationship),o=r.setContentFromPath(e.path,e.moveFile).then(function(){e.dimensions&&(r.width=e.dimensions.width,r.height=e.dimensions.height),e.moveFile||t.deleteFile(e.path)});g.push(o)}else console.log("Could not create representation: path cannot end with '.': "+e.path)}),c){var v=a.setRendition(m,i.IMAGE_RENDITION_SIZE,c);g.push(v)}return f&&f.forEach(function(e,t){m.setValue(e.namespace,e.key,e.value)}),e.all(g).then(function(){m.endOperation(),h.resolve(m),s.sendElementCreated(m,p)},function(){u.removeElement(m,!0),h.reject("Could not create element.")}),h.promise};this.addGraphicElement=function(e,t,n,r,o,a,s){return p(i.IMAGE_ELEMENT_TYPE,e,t,n,r,o,a,s)},this.addAnimationElement=function(e,t,n,r,o,a,s){return p(i.ANIMATION_ELEMENT_TYPE,e,t,n,r,o,a,s)},this.addLayerStyleElement=function(e,t,n,r,o){return d(e,i.LAYER_STYLE_ELEMENT_TYPE,t,n,i.LAYER_STYLE_RENDITION_SIZE,r,o)},this.addBrushElement=function(e,t,n,r,o){return d(e,i.BRUSH_ELEMENT_TYPE,t,n,i.BRUSH_RENDITION_SIZE,r,o)},this.revealElement=function(e){e&&(c.resetMode(),o.setCurrentLibrary(e.library),setTimeout(function(){l.setSelection(e,!0),n.triggerDigest()}),n.triggerDigest())}}];t.attach=function(e){i.module(e).service("designLibraryElementUtils",r)}}),define("services/designlibrary/designLibraryFlyoutMenu",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$translate","metrics","linkUtils","csInterface","imsInterface","localSettings","menuManager","versionManager","designLibraryManager","designLibraryElements","designLibrarySelection","designLibraryUtils","designLibraryViewState","listenerUtils","adobeStockUtils","configuration","importExport","debugUtils",function(e,t,n,r,o,a,s,l,c,u,d,p,f,h,m,g,v,_,y){function E(e){e.push({divider:!0}),e.push({label:i.BUILT?"v"+c.getPluginVersion():"DEV",enableMenu:!1}),a.getEnvironment().overrides&&a.getEnvironment().overrides.forEach(function(t){e.push({label:t+": "+a.getEnvironment()[t],enableMenu:!1})}),e.push({label:"Panel Information",onClick:function(){o.showError("Panel Information\nPath:\n"+o.getPluginPath()+"\n\nAnalytics State:\n"+(n.getRepositories()||"Disabled"))}}),e.push({label:"Save Debug Info",onClick:function(){y.saveDebugInfo()}}),e.push({label:"View Library Info",enableMenu:void 0!==u.getCurrentLibrary(),onClick:y.viewLibraryInfo}),e.push({label:"View Element Info",enableMenu:void 0!==u.getCurrentLibrary(),onClick:y.viewElementInfo}),e.push({label:"View All Libraries Info",enableMenu:void 0!==u.getCurrentLibrary(),onClick:y.viewLibrariesInfo}),e.push({label:"Show Logs Folder",enableMenu:!0,onClick:y.showLogFolder}),e.push({divider:!0}),e.push({label:"Export Library...",enableMenu:void 0!==u.getCurrentLibrary(),onClick:function(){_.exportLibrary(u.getCurrentLibrary())}}),e.push({label:"Import Library...",enableMenu:void 0!==u.getPrivateLibraryCollection(),onClick:function(){_.importLibrary()}}),e.push({label:"Show Relink Mode",enableMenu:void 0!==u.getCurrentLibrary(),onClick:function(){h.setRelinkMode({message:"This relink mode was shown by the debug menu item",actionMessage:t.instant("DL_RELINK"),missing:!1,overlayMessage:t.instant("DL_RELINK_RELINK_OVERLAY_MESSAGE")})}}),e.push({label:"Show Deleted Items in Panel...",enableMenu:void 0!==u.getCurrentLibrary(),onClick:function(){T.notify("showArchive")}}),e.push({divider:!0});var r=s.getDebugValue("dragDropFiles");e.push({label:"Enable Native File Drag and Drop",checked:r,onClick:function(){s.setDebugValue("dragDropFiles",!r),window.location.reload()}}),e.push({divider:!0}),e.push({label:"Enable Analytics Logging",checked:s.getDebugValue("logMetrics"),onClick:function(){var e=s.getDebugValue("logMetrics");s.setDebugValue("logMetrics",!e),b()}}),e.push({label:"Enable Stock Simulation CM Items",checked:s.getDebugValue("stockSimulationMenuItems"),onClick:function(){var e=s.getDebugValue("stockSimulationMenuItems");s.setDebugValue("stockSimulationMenuItems",!e),b()}});var l=s.getDebugValue("stockSimulationTargetAppCode");l||(l=v.currentProduct.config.code,s.setDebugValue("stockSimulationTargetAppCode",l)),e.push({label:"Set Stock Simulation Target App ["+l+"]...",checked:!1,onClick:function(){var e=prompt("Please enter code for target app, e.g.:\n\nPHXS for Photoshop\nILST for Illustrator\nIDSN for InDesign",s.getDebugValue("stockSimulationTargetAppCode"));s.setDebugValue("stockSimulationTargetAppCode",e),b()}}),e.push({divider:!0});var d=u.getServiceInfo(),p=d&&d.environment,f=d&&d.version+(d.buildNumber?"-"+d.buildNumber:"");e.push({label:"Production",checked:"Production"===p,enableMenu:!1}),e.push({label:"Staging",checked:"Staging"===p,enableMenu:!1}),e.push({divider:!0}),e.push({label:u.isConnected()?"Connected To: v"+f:"Not Connected",enableMenu:!1}),u.isConnected()||e.push({label:"Reconnect",onClick:function(){u.reconnectToService()}})}function b(){var e=!!u.isConnected(),t=u.getPrivateLibraryCollection(),n=u.getCurrentLibrary(),o=t&&t.cloudInfo.switchingEnabled,a=n&&n.collection.cloudId===v.CREATIVE_CLOUD_ID,c=[];if(o&&c.push({label:"DL_MENU_CHANGE_CLOUD",onClick:function(){u.requestCloudChange()}}),c.push({label:"DL_MENU_CREATE_LIB",enableMenu:void 0!==t&&e,onClick:function(){T.notify("createLibrary")}}),c.push({divider:!0}),n){c.push({label:"DL_FLYOUT_COLLABORATE",enableMenu:!n.collection.isPublic,onClick:function(){r.openCollaborateURL(n)}}),a&&c.push({label:"DL_FLYOUT_SHARE_LINK",onClick:function(){r.openShareLibraryLinkURL(n)}});var d={libraryName:f.truncateName(n.name,15)};c.push({label:"DL_FLYOUT_RENAME_LIB",enableMenu:n.isWritable,translationData:d,onClick:function(){T.notify("renameLibrary")}}),c.push({label:n.collection.isPublic?"DL_FLYOUT_UNFOLLOW_LIB":"incoming"===n.collaboration?"DL_FLYOUT_LEAVE_LIB":"DL_FLYOUT_REMOVE_LIB",translationData:d,onClick:function(){T.notify("deleteLibrary")}}),c.push({divider:!0})}c.push({label:"DL_SORT_ITEMS_BY_MOD_DATE_TOOLTIP",enableMenu:void 0!==t&&e,checked:"modified"===h.getState().sort,onClick:function(){h.setSortState("modified"),b()}}),c.push({label:"DL_SORT_ITEMS_BY_NAME_TOOLTIP",enableMenu:void 0!==t&&e,checked:"name"===h.getState().sort,onClick:function(){h.setSortState("name"),b()}}),c.push({divider:!0}),n&&(c.push({label:"DL_FLYOUT_VIEW_ON_WEBSITE",onClick:function(){r.openLibraryURL(n)}}),c.push({label:"DL_FLYOUT_VIEW_ARCHIVE_ON_WEBSITE",onClick:function(){r.openLibraryArchiveURL(n)}})),c.push({label:"DL_FLYOUT_HOW_TO_USE",onClick:r.openHelpURL}),i.isFunction(v.currentProduct.transformFlyoutMenuItems)&&v.currentProduct.transformFlyoutMenuItems(c),s.showDebugMenu()&&E(c),l.setFlyoutMenu(c)}function L(){S&&S.name!==A&&(A=S.name,b())}var S,A,T=m.addListenerManager(this,["createLibrary","renameLibrary","deleteLibrary","showArchive"]);u.addListener("currentLibrary",function(){S&&S.removeChangeListener(L),S=u.getCurrentLibrary(),S&&S.addChangeListener(L),b()}),u.addListener("privateCollection",b),this.invokeCreateLibrary=function(){T.notify("createLibrary")},this.updateMenu=function(){b()}}];t.attach=function(e){i.module(e).service("designLibraryFlyoutMenu",r)}}),define("services/designlibrary/designLibraryManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$translate","configuration","localSettings","ccLibraries","csInterface","imsInterface","metrics","debugLog","designLibraryElements","listenerUtils","fileUtils","digestUtils","versionManager",function(e,t,n,r,o,a,s,l,c,u,d,p,f,h){function m(){return o.getLoadedCollections()}function g(){$=void 0,F=void 0}function v(){return $||($=[],F={},m().forEach(function(e){e.libraries.forEach(function(e){$.push(e),F[e.id]=e})})),$}function _(e){return F||v(),F[e]}function y(){Y&&(V.forEach(function(e){e.resolve()}),V=[])}function E(){var e=U;if(M){var t=r.getValue(M.userId+"#"+M.cloudId+"#currentLibraryId");if(t=t||r.getValue(M.userId+"#currentLibraryId")||r.getValue("currentDesignLibraryId"),t&&(U=_(t)),!U){var n=v();U=n.length>0?n[0]:void 0}}else U=void 0;e!==U&&B.notify("currentLibrary")}function b(e){U!==e&&(U&&U.isDeletedFromServer&&U.collection.removeDeletedLibraries({exclude:[e]}),U=e,B.notify("currentLibrary"),e&&(r.setValue(M.userId+"#"+M.cloudId+"#currentLibraryId",e.id),r.setValue(M.userId+"#"+M.cloudId+"#currentLibraryId"+e.id,Date.now())))}function L(e){var t=M.userId+"#"+M.cloudId+"#currentLibraryId",n=r.getValue(t+e.id)||0;return Math.max(e.modified,n)}function S(){if(U&&(U.collection.isPublic?m().forEach(function(e){if(!e.isPublic){var t=e.findBookmark(U);t&&e.removeBookmark(t,function(e){c.log("Error while removing bookmark:"+e)})}}):U&&!U.isDeletedLocally&&U.collection.removeLibrary(U)),M.libraries.length>0){var e,t;M.libraries.forEach(function(n){var i=L(n);(!t||i>t)&&(e=n,t=i)}),b(e)}else b(void 0)}function A(){var e=v();e.forEach(function(e){if(!H[e.id]){var t=function(){(H[e.id].previousName!==e.name||H[e.id].previousDeletedFromServer!==e.isDeletedFromServer||H[e.id].previousWritable!==e.isWritable)&&(H[e.id].previousName=e.name,H[e.id].previousDeletedFromServer=e.isDeletedFromServer,H[e.id].previousWritable=e.isWritable,B.notify("libraryList")),f.triggerDigest()};H[e.id]={previousName:e.name,previousDeletedFromServer:e.isDeletedFromServer,previousWritable:e.isWritable,callback:t},e.addChangeListener(t)}}),Object.keys(H).forEach(function(e){_(e)||delete H[e]})}function T(){g(),B.notify("libraryList"),A(),U&&U.isDeletedLocally&&S()}function C(){T(),f.triggerDigest()}function I(){if(B.notify("libraryStatus"),M){var e="isInitialSyncInProgress",t=M[e];if(!U&&!t){var n=M.getDefaultLibrary(),i=v();!n&&i.length>0&&(n=i[0]),b(n)}U&&U.collection.removeDeletedLibraries({exclude:[U]}),!t&&o.isConnected()&&(Y=!0,y())}}function D(){I(),f.triggerDigest()}function w(e){e.addCommitErrorListener(D);var t="addSyncListener";e[t](D),e.addChangeListener(C)}function O(e){e.removeCommitErrorListener(D);var t="removeSyncListener";e[t](D),e.removeChangeListener(C)}function R(){m().forEach(function(e){-1===j.indexOf(e)&&(w(e),j.push(e))}),j.forEach(function(e){-1===m().indexOf(e)&&j.splice(j.indexOf(e),1)})}function x(){g();var e;m().some(function(t){return t.isPublic?void 0:(e=t,!0)}),R(),M!==e&&(M&&O(M),M=e,l.setUserId(M&&M.userId),s.clearAccessToken(),B.notify("privateCollection"),M&&M.getTempDir(function(e,t){if(!e){var n=new CSEvent("com.adobe.DesignLibraries.events.TEMPDIR","APPLICATION");n.data=JSON.stringify({path:t}),a.dispatchEvent(n)}})),E(),I(),T()}function N(){if(!W){var e=i.BUILT?"v"+h.getPluginVersion():"DEV",t={analytics:l,log:c.log,getDisplayName:u.getDisplayText},n={CLIENT_DESCRIPTION:"Libraries Panel ("+e+"): "+a.getAppDescription(),SHARED_LOCAL_STORAGE:!0,RENDITION_SIZES:u.getRenditionSizes(),FULL_RENDITION_CONFIG:u.getFullRenditionConfig(),STORAGE_API_KEY:s.getEnvironment().clientId,ELEMENT_TYPE_FILTERS:u.getElementTypes(),LOCALE:a.getLocale(),APP_DESCRIPTION:a.getAppName()+"-"+a.getAppVersion()};o.configure(t,n),o.addLoadedCollectionsListener(function(){x(),f.triggerDigest()}),x(),W=!0}}function P(){m().forEach(function(e){e&&"syncing"!==e.syncState&&e.sync()})}function k(){return m().some(function(e){var t=e&&"error"===e.syncState&&!e.retryTime;return t})}var M,U,$,F,Y=!1,V=[],B=d.addListenerManager(this,["privateCollection","libraryList","currentLibrary","libraryStatus","elementsDeleted","ccAppAlert"]),j=[],H={},q=!1,W=!1;this.init=function(){N()},this.getLibraryCollections=function(){return m()},this.getLibraries=function(){return v()},this.getLibraryById=function(e){return _(e)},this.getPrivateLibraryCollection=function(){return M},this.getCurrentLibrary=function(){return U},this.getDefaultLibrary=function(){var e=this.getCurrentLibrary();if(!e){var n=this.getPrivateLibraryCollection();if(!n)throw"Could not find private library collection";var i=t.instant("DL_DEFAULT_LIBRARY_NAME"),r=n.createLibrary(i);if(!r)throw"Could not create new library";this.setCurrentLibrary(r),e=this.getCurrentLibrary()}return e},this.getLastAccess=function(e){return L(e)},this.setCurrentLibrary=function(e){b(e)},this.deleteCurrentLibrary=function(){S()},this.deleteElements=function(e){e&&e.length>0&&(e.forEach(function(e){e.library.removeElement(e)}),B.notify("elementsDeleted",e))},this.getRecoveryLibrary=function(e){var i,r=t.instant("DL_RECOVERED_LIBRARY_NAME",{name:e}),o=this.getPrivateLibraryCollection();return o.libraries.some(function(e){return e.name===r&&e.isWritable&&"incoming"!==e.collaboration&&e.elements.length<n.MAX_ELEMENTS?(i=e,!0):void 0}),i||(i=o.createLibrary(r)),i},this.createLibrary=function(e){var t=this.getPrivateLibraryCollection();return t?t.createLibrary(e):void 0},this.sync=function(e,t){(!e||t&&k()||!t&&!k())&&P()},this.waitForInitialLoad=function(){var t=e.defer();return V.push(t),y(),t.promise},this.reconnectToService=function(){o.reconnect()},this.launchCCLibraryProcess=function(){if(!q){var e,t=this,n="vulcan.SuiteMessage.cclibraries.service.Initialized",i=function(){e&&clearInterval(e),q=!1,t.reconnectToService(),VulcanInterface.removeMessageListener(n,i),setTimeout(function(){t.isConnected()||t.launchCCLibraryProcess()},1e4)},r=function(){if(t.isConnected())return void i();var e=t.getServiceInfo()||{};e.updateRequired||!t.isProcessInstalled()||t.isProcessRunning()||(c.log("Launching CCLibrary Process"),VulcanInterface.launchApp("cclibraries",!1))};VulcanInterface.addMessageListener(n,i),this.reconnectToService(),q=!0,e=setInterval(r,5e3),r()}},this.isProcessInstalled=function(){return VulcanInterface.isAppInstalled("cclibraries")},this.isProcessRunning=function(){return VulcanInterface.isAppRunning("cclibraries")},this.isConnected=function(){return o.isConnected()},this.getServiceInfo=function(){return o.getServiceInfo()},this.resolveElementReference=function(e){return o.resolveElementReference(e)},this.syncingEnabled=function(){return o.isSyncingEnabled()},this.enableSyncing=function(){o.enableSyncing(),this.sync()},this.requestCloudChange=function(){var e=new VulcanMessage(VulcanMessage.TYPE_PREFIX+"accc.app.ChangeActiveCloudRequest");e.setPayload('<?xml version="1.0" encoding="UTF-8" standalone="no"?><request><type>accc.app.ChangeActiveCloudRequest</type><requestid>70a05e0b-10f8-4d24-9f07-88399a70c578</requestid></request>'),VulcanInterface.dispatchMessage(e)},o.setCustomDigestTrigger(function(){f.triggerDigest()})}];t.attach=function(e){i.module(e).service("designLibraryManager",r)}}),define("services/designlibrary/designLibrarySelection",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$filter","designLibraryManager","designLibraryElements","designLibraryViewState","listenerUtils","fileUtils","configuration",function(e,t,n,r,o,a,s){this.serviceName="designLibrarySelection";var l,c,u=[],d=o.addListenerManager(this,["selectionChanged"]);this.isPendingScrollToItem=function(e){return e&&c&&e.id===c.id?!0:!1},this.clearPendingScrollToItem=function(){c=void 0},this.setSelection=function(e,t,r){if(c=void 0,i.isArray(e))u=e,l=void 0;else if(u=[e],l=e,t&&(c=e),r){var o=n.getOnClickApplyOperation(e,e.library);o&&o.apply()}d.notify("selectionChanged")};var p=function(){u.length>0&&(c=void 0,u=[],l=void 0,d.notify("selectionChanged"))};this.clearSelection=p,this.clearSelectionForItems=function(e){e&&(c=void 0,e.forEach(function(e){var t=u.indexOf(e);-1!==t&&(u.splice(t,1),l=void 0)}),d.notify("selectionChanged"))},this.toggleSelectedItem=function(e){c=void 0;var t=u.indexOf(e);-1!==t?(u.splice(t,1),l=void 0):(u.push(e),l=e),d.notify("selectionChanged")},this.setSelectionRange=function(t){var o=r.getState().sortFunction,a=[];i.isArray(o)?o.forEach(function(e){a.push(e)}):a.push(o);var s=[],p=n.getElementTypes();p.forEach(function(n){var i=t.library.getFilteredElements(n),r=e("localeOrderBy")(i,a);s=s.concat(r)});var f;if(l?f=s.indexOf(l):u.length>0&&u.forEach(function(e){var t=s.indexOf(e);(!f||t>f)&&(f=t)}),void 0===f)this.setSelection(t);else{c=void 0;var h=s.indexOf(t);u=[];var m;if(f>h)for(m=h;f>=m;m++)u.push(s[m]);else for(m=f;h>=m;m++)u.push(s[m]);d.notify("selectionChanged")}},this.isSelected=function(e){return-1!==u.indexOf(e)},this.getSelection=function(){return u},t.addListener("currentLibrary",p)}];t.attach=function(e){i.module(e).service("designLibrarySelection",r)}}),define("services/designlibrary/designLibraryStatus",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r={fs:"DL_FS_ERROR",general:"DL_NO_LIBS_ERROR_SYNCING",jsx:"DL_NO_LIBS_ERROR_INIT",library:"DL_NO_LIBS_ERROR_SYNCING",loggedOut:"DL_NO_LIBS_LOGGED_OUT",network:"DL_NO_LIBS_ERROR_CONNECTING",noAccess:"DL_NO_LIBS_NO_ACCESS",noService:"DL_NO_LIBS_SERVICE_NOT_INSTALLED",quota:"DL_NO_LIBS_ERROR_SYNCING",server:"DL_SYNC_ERROR_SERVER",serviceError:"DL_NO_LIBS_SERVICE_NOT_RUNNING",syncDisabled:"DL_NO_LIBS_SYNC_DISABLED",updateClient:"DL_NO_LIBS_UPDATE_CLIENT",updateServer:"DL_NO_LIBS_UPDATE_SERVER",excludeHostnameOSX:"DL_NO_LIBS_NETWORK_PROBLEM",excludeHostnameWin:"DL_NO_LIBS_NETWORK_PROBLEM",excludeHostnameWin10:"DL_NO_LIBS_NETWORK_PROBLEM",verifyDnsSettings:"DL_NO_LIBS_NETWORK_PROBLEM",verifySocketConnection:"DL_NO_LIBS_SOCKET_BLOCKED"},o={fs:"DL_FS_ERROR",general:"DL_SYNC_ERROR",jsx:"DL_INIT_ERROR",library:"DL_SYNC_ERROR_LIBRARY",loggedOut:"DL_SYNC_LOGGED_OUT",network:"DL_SYNC_ERROR_CONNECTING",noAccess:"DL_SYNC_ERROR_NO_ACCESS",noService:"DL_SYNC_SERVICE_NOT_INSTALLED",quota:"DL_SYNC_ERROR_QUOTA_EXCEEDED",server:"DL_SYNC_ERROR_SERVER",serviceError:"DL_SYNC_SERVICE_NOT_RUNNING",syncDisabled:"DL_SYNC_DISABLED",updateClient:"DL_SYNC_UPDATE_CLIENT",updateServer:"DL_SYNC_UPDATE_SERVER",excludeHostnameOSX:"DL_SYNC_NETWORK_PROBLEM",excludeHostnameWin:"DL_SYNC_NETWORK_PROBLEM",excludeHostnameWin10:"DL_SYNC_NETWORK_PROBLEM",verifyDnsSettings:"DL_SYNC_NETWORK_PROBLEM",verifySocketConnection:"DL_SYNC_SOCKET_BLOCKED"},a=["$window","$filter","$translate","ccLibraries","imsInterface","localSettings","metrics","designLibraryManager","designLibraryUtils","designLibraryViewState","digestUtils","csInterface",function(e,t,n,i,a,s,l,c,u,d,p,f){function h(n){var i;c.getLibraryCollections().forEach(function(e){e.retryTime&&(i=Math.min(i||Number.MAX_VALUE,Math,e.retryTime-(new Date).valueOf()))}),C.retryDuration=i?t("date")(Math.max(0,i),"m:ss"):void 0,n&&S||(S=C.retryDuration?e.setTimeout(function(){h(),p.triggerDigest()},1e3):void 0)}function m(){"error"===C.state&&"network"===C.errorType?l.setEnvironment({offline:!0}):l.setEnvironment({offline:!1})}function g(e){var t=C.syncingLibrariesById[e];return t||(t={},C.syncingLibrariesById[e]=t,C.syncingLibraries.push(t)),t}function v(e){var t=C.syncingLibrariesById[e];if(t){delete C.syncingLibrariesById[e];var n=C.syncingLibraries.indexOf(t);-1!==n&&C.syncingLibraries.splice(n,1)}}function _(t){T&&(e.clearTimeout(T),T=void 0),A=t?"success":"error"}function y(t){T||(A=void 0,T=e.setTimeout(function(){T=void 0,_(!1),t(),p.triggerDigest()},8e3))}function E(e){var t="getPrimarySyncError";return e[t]()}function b(){if(!c.isConnected()){C.state="error";var e=c.getServiceInfo()||{};if("client"===e.updateRequired)_(!0),C.errorType="updateClient";else if("server"===e.updateRequired)_(!0),C.errorType="updateServer";else if("SIMPLE_HOSTNAME_GOING_TO_PROXY"===e.portDiagnosis)if(_(!0),f.isWindowsOS()){C.errorType="excludeHostnameWin10";var t=f.getOSInformation();(-1!==t.indexOf("Windows 7")||-1!==t.indexOf("Windows 8"))&&(C.errorType="excludeHostnameWin")}else C.errorType="excludeHostnameOSX";else"DNS_RESOLUTION_FAILED"===e.portDiagnosis?(_(!0),C.errorType="verifyDnsSettings"):"COULD_NOT_CONNECT_SOCKET"===e.portDiagnosis?(_(!0),e.connectionPort?C.showTestUrl=!0:C.showTestUrl=!1,C.errorType="verifySocketConnection"):c.isProcessInstalled()?(c.launchCCLibraryProcess(),"error"===A?C.errorType="serviceError":(C.state="loading","success"===A&&y(b))):(_(!0),c.launchCCLibraryProcess(),C.errorType="noService");return void d.resetMode()}var n=c.getLibraryCollections();return 0!==n.length||A?(_(!0),0===n.length?(C.state="error",void(C.errorType="loggedOut")):(C.syncingLibraries=[],C.syncingLibrariesById={},void n.every(function(e){if(e&&e.commitError)return C.state="error",void(C.errorType="fs");var t=E(e);if(t&&t.code===i.errors.ACCESS_DENIED)return C.state="error",void(C.errorType="noAccess");if(!c.syncingEnabled())return C.state="error",void(C.errorType="syncDisabled");if(C.state=e.syncState||"syncing",C.syncProgress=e.syncProgress,delete C.errorType,"syncing"===C.state){var n="getNewLibrarySyncProgress",r=e[n]();return r.forEach(function(e){var t=g(e.id);t.state="downloading",t.progress=e.progress}),void e.libraries.forEach(function(e){if(!e.syncState)return void v(e.id);var t=g(e.id);t.library=e,t.truncatedName=u.truncateName(e.name,15),t.state=e.syncState,t.progress=e.syncProgress})}if("error"===C.state){var o=E(e);if(o){switch(o.code){case i.errors.ACCESS_DENIED:C.errorType="noAccess";break;case i.errors.RETRYABLE_SERVER_ERROR:C.errorType="server";break;case i.errors.NETWORK_ERROR:case i.errors.LOGGED_OUT:C.errorType="network";break;case i.errors.FS_ERROR:C.errorType="fs";break;case i.errors.EXCEEDS_QUOTA:C.errorType="quota"}if(o.libraryId&&!C.errorType){var a=e.getLibraryById(o.libraryId);a&&(C.errorType="library",C.library=a)}C.errorType||(C.errorType="general"),console.log(e.syncErrors)}return void h(!0)}return!0}))):void(C.state="loading")}function L(){b(),m()}var S,A,T,C={state:"syncing",syncingLibraries:[],syncingLibrariesById:{}};c.addListener("libraryStatus",L),y(b),L(),this.getStatus=function(){return C},this.getLoadingErrorMessage=function(e){var t=r[e.errorType]||r.general;return n.instant(t)},this.getFooterErrorMessage=function(e){var t=o[e.errorType]||r.general;return"library"===e.errorType?n.instant(t,{name:e.library.name}):n.instant(t)}}];t.attach=function(e){i.module(e).service("designLibraryStatus",a)}}),define("services/designlibrary/designLibraryUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=nodeRequire("punycode"),r=e("angular"),o=["$q","fileUtils","csInterface","configuration","layerSelectionManager","metrics","$translate",function(e,t,n,r,o,a,s){var l=function(i,r){var o=e.defer(),a={name:t.getTmpFileName()};return n.execApp("saveAssets",[a,i,r]).then(function(e){
"undefined"===e?o.reject():o.resolve(JSON.parse(e))}),o.promise};this.generatePreview=function(t,n){var i=e.defer();return l(t,n).then(function(e){i.resolve(e)},function(e){i.reject()}),i.promise},this.checkFileSizes=function(e,i){var o=!1;return e.forEach(function(e){var n=t.statFile(e.path);n&&n.size>r.MAX_COMPONENT_SIZE&&(o=!0)}),o?(i&&e.forEach(function(e){t.deleteFile(e.path)}),s("DL_ERROR_FILE_TOO_BIG").then(function(e){n.showError(e)}),!1):!0},this.checkFileSize=function(e,t){return this.checkFileSizes([{path:e}],t)},this.closeDocumentWithName=function(e){n.exec("CORE","closeDocument",[e])},this.setFocusToCanvas=function(){r.currentProduct.setFocusToCanvas&&r.currentProduct.setFocusToCanvas()},this.reportApplyMetric=function(e,t,n){a.reportUseElement(e,t),n&&a.reportCreateLink(e.element,t)},this.canAddElement=function(e){var t=e&&e.elements.length<r.MAX_ELEMENTS;return t};var c=function(e,t,n){var i;if(""!==t&&void 0!==t)i=t;else{var r=s.instant(n||"DL_ARTWORK_LABEL"),o=new RegExp("^"+r+"\\s+(\\d+)$"),a=0;e.elements.forEach(function(e){var t=o.exec(e.name);if(t&&t[1]){var n=parseInt(t[1],10);n>a&&(a=n)}}),i=r+" "+(a+1)}return i};this.getCuratedName=c,this.getLayerName=function(t){var n=e.defer();return o.getLayerName().then(function(e){var i=c(t,e);n.resolve(i)}),n.promise},this.truncateName=function(e,t){return i?e.length<=t?e:i.ucs2.encode(i.ucs2.decode(e).slice(0,t))+"...":e.length<=t?e:e.slice(0,t)+"..."},this.createElementExtraMetrics=function(e,t,n,i){if(e)try{return a.setExtraEventMetrics("createElement",i),e.createElement(t,n)}finally{a.clearExtraEventMetrics("createElement")}},this.checkLibraryWritable=function(e){return e.isWritable?!0:(n.showError(s.instant("DL_ERROR_EDIT_READ_ONLY_LIBRARY",{name:e.name})),!1)},this.checkElementWritable=function(e){return e.library.isWritable?!0:(n.showError(s.instant("DL_ERROR_EDIT_READ_ONLY_ELEMENT")),!1)}}];t.attach=function(e){r.module(e).service("designLibraryUtils",o)}}),define("services/designlibrary/designLibraryStockContextMenu",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$filter","configuration","menuManager","designLibraryManager","designLibraryViewState","linkUtils",function(e,t,n,i,r,o){function a(n,o,a,s){var l=[],c=i.getLibraries();c=e("orderBy")(c,r.getState().librarySortFunction);var u=i.getCurrentLibrary();return c.forEach(function(e){var i=e.elements.length<t.MAX_ELEMENTS;l.push({label:e.name,enableMenu:i&&e.isWritable,checked:e.id===u.id,onClick:function(){o(e,n,a,s)}})}),l}this.showContextMenu=function(e,t,i,s){var l,c=[];e.is_licensed||(l=a(e,i,s,!0),c.push({label:"DL_STOCK_LICENSE_THEN_SAVE_TO",enableMenu:!0,menuItems:l})),(t||e.is_licensed)&&(l=a(e,i,s,e.is_licensed),c.push({label:e.is_licensed?"DL_STOCK_SAVE_TO":"DL_STOCK_SAVE_PREVIEW_TO",enableMenu:!0,menuItems:l})),c.push({divider:!0}),c.push({label:"DL_STOCK_FIND_SIMILAR_MENU",onClick:function(){r.getState().modeParams.findSimilarId=e.id,r.getState().modeParams.findSimilarUrl=void 0,r.notifySearchRequest()}}),c.push({label:"DL_STOCK_VIEW_ON_WEB",onClick:function(){o.launchStockAssetURL(e.id)}}),n.setContextMenu(c)}}];t.attach=function(e){i.module(e).service("designLibraryStockContextMenu",r)}}),define("services/designlibrary/designLibraryViewState",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["metrics","localSettings","designLibraryManager","configuration","listenerUtils",function(e,t,n,i,r){function o(e,n){m[e]=n,t.setValue(e+"State",n)}function a(t,i){var r=n.getCurrentLibrary();e.reportPanelEvent(t,{libraryID:r&&r.id,opType:i})}function s(e){var t=u[e];t&&(m.mode=e,m.enableMultiSelect=t.enableMultiSelect,m.enableContextMenu=t.enableContextMenu,m.elementTypeFilter=t.elementTypeFilter,m.modeParams={})}var l=r.addListenerManager(this,["search","hideDialogs"]),c=["image"],u={normal:{enableMultiSelect:!0,enableContextMenu:!0},relink:{enableMultiSelect:!1,enableContextMenu:!1},search:{enableMultiSelect:!1,enableContextMenu:!0}},d={name:["displayName","-index"],modified:["-modified","-index"]},p="-modified",f=t.getValue("sortState")||"modified",h=t.getValue("viewState")||"grid",m={sort:f,view:h,mode:"normal",enableMultiSelect:!0,enableContextMenu:!0,elementTypeFilter:void 0,modeParams:{},sortFunction:d[f],librarySortFunction:p};this.getState=function(){return m},this.isDefaultMode=function(){return"normal"===m.mode},this.isRelinkMode=function(){return"relink"===m.mode},this.isSearchMode=function(){return"search"===m.mode},this.isContextMenuEnabled=function(){return m.enableContextMenu},this.isLibrarySearchMode=function(){return"search"===m.mode&&"library"===m.modeParams.type},this.isLibrariesSearchMode=function(){return"search"===m.mode&&"libraries"===m.modeParams.type},this.isStockSearchMode=function(){return"search"===m.mode&&"stock"===m.modeParams.type},this.getSearchText=function(){return"search"===m.mode?m.modeParams.text:void 0},this.getSearchType=function(){return t.getValue("searchType")},this.getSearchTypes=function(){return["stock","library","libraries"]},this.setSearchType=function(e){t.setValue("searchType",e),this.isSearchMode()&&(m.modeParams.type=e)},this.setSortState=function(e){o("sort",e),m.sortFunction=d[e],a("sortLibrary",e)},this.setViewState=function(e){o("view",e),a("changeLibraryView",e)},this.setRelinkMode=function(e,t){s("relink"),e=e||{},t||(e.hideTypeHeader=!0,t=c),t=Array.isArray(t)?t:[t],m.elementTypeFilter=[],t.forEach(function(e){m.elementTypeFilter[i.getElementType(e)]=!0}),m.modeParams=e},this.setSearchMode=function(e){s("search"),m.modeParams=e},this.resetMode=function(){"normal"!==m.mode&&s("normal")},this.notifySearchRequest=function(){l.notify("search")},this.getSortFunction=function(e){return d[e]},this.hideDialogs=function(){l.notify("hideDialogs")}}];t.attach=function(e){i.module(e).service("designLibraryViewState",r)}}),define("services/designlibrary/main",["require","exports","module","./designLibraryAppRequestManager","./designLibraryArchiveUtils","./designLibraryCEPEventEmitters","./designLibraryCEPEventHandlers","./designLibraryContextMenu","./designLibraryDragUtils","./designLibraryElements","./designLibraryElementUtils","./designLibraryFlyoutMenu","./designLibraryManager","./designLibrarySelection","./designLibraryStatus","./designLibraryUtils","./designLibraryStockContextMenu","./designLibraryViewState"],function(e,t,n){"use strict";function i(t){e("./designLibraryAppRequestManager").attach(t),e("./designLibraryArchiveUtils").attach(t),e("./designLibraryCEPEventEmitters").attach(t),e("./designLibraryCEPEventHandlers").attach(t),e("./designLibraryContextMenu").attach(t),e("./designLibraryDragUtils").attach(t),e("./designLibraryElements").attach(t),e("./designLibraryElementUtils").attach(t),e("./designLibraryFlyoutMenu").attach(t),e("./designLibraryManager").attach(t),e("./designLibrarySelection").attach(t),e("./designLibraryStatus").attach(t),e("./designLibraryUtils").attach(t),e("./designLibraryStockContextMenu").attach(t),e("./designLibraryViewState").attach(t)}return{attach:i}}),define("services/external/adobeStockRestService",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$http","csInterface","imsInterface","configuration","debugLog","metrics",function(e,t,n,i,r,o,a){function s(){return"https://"+i.getEnvironment().stockHost}this.getUserQuota=function(l,c,u,d){d=d||0;var p=e.defer(),f=this;return i.getAccessToken(l).then(function(e){if(e){var h=s()+r.STOCK_GET_USER_PROFILE_PATH;h=h.replace(/YYYY/,c),h=h.replace(/LLLL/,u);var m=n.getLocale();m&&0!==m.length||(m="en-US"),h=h.replace(/ZZZZ/,m);var g={method:"GET",url:h,headers:{"x-api-key":i.getEnvironment().clientId,Authorization:"Bearer "+e}};a.addProductHeaders(g.headers),t(g).success(function(e,t){p.resolve(e)}).error(function(e,t){return 401===t&&0===d?(i.clearAccessToken(),void p.resolve(f.getUserQuota(l,c,u,++d))):(o.log("Error "+t+": adobeStockRestService.getUserQuota , result=\n"+("string"==typeof e?e:JSON.stringify(e))),void p.reject(t))})}},function(e){o.log("Error getting access token: adobeStockRestService.getUserQuota , result="+("string"==typeof e?e:JSON.stringify(e))),p.reject(401)}),p.promise},this.licenseImage=function(n,l,c,u){u=u||0;var d=e.defer(),p=this;return i.getAccessToken(n).then(function(e){if(e){var f=s()+r.STOCK_LICENSE_PATH;f=f.replace(/ZZZZ/,l),f=f.replace(/LLLL/,c);var h={method:"GET",url:f,headers:{"x-api-key":i.getEnvironment().clientId,Authorization:"Bearer "+e}};a.addProductHeaders(h.headers),t(h).success(function(e,t){d.resolve(e)}).error(function(e,t){return 401===t&&0===u?(i.clearAccessToken(),void d.resolve(p.licenseImage(n,l,c,++u))):(o.log("Error "+t+": adobeStockRestService.licenseImage , result=\n"+("string"==typeof e?e:JSON.stringify(e))),void d.reject(t))})}},function(e){o.log("Error getting access token: adobeStockRestService.licenseImage , result="+("string"==typeof e?e:JSON.stringify(e))),d.reject(401)}),d.promise},this.getImageState=function(n,l,c){c=c||0;var u=e.defer(),d=this;return i.getAccessToken(n).then(function(e){if(e){var p=s()+r.STOCK_INFO_PATH;p=p.replace(/ZZZZ/,l);var f={method:"GET",url:p,headers:{"x-api-key":i.getEnvironment().clientId,Authorization:"Bearer "+e}};a.addProductHeaders(f.headers),t(f).success(function(e,t){u.resolve(e)}).error(function(e,t){return 401===t&&0===c?(i.clearAccessToken(),void u.resolve(d.getImageState(n,l,++c))):(o.log("Error "+t+": adobeStockRestService.getImageState , result=\n"+("string"==typeof e?e:JSON.stringify(e))),void u.reject(t))})}},function(e){o.log("Error getting access token: adobeStockRestService.getImageState , result=\n"+("string"==typeof e?e:JSON.stringify(e))),u.reject(401)}),u.promise},this.notifyAbandonedTransaction=function(n,l,c,u,d){d=d||0;var p=e.defer(),f=this;return i.getAccessToken(n).then(function(e){if(e){var h=s()+r.STOCK_ABANDON_TRANSACTION_PATH;h=h.replace(/YYYY/,l),h=h.replace(/ZZZZ/,u),h=h.replace(/LLLL/,c);var m={method:"GET",url:h,headers:{"x-api-key":i.getEnvironment().clientId,Authorization:"Bearer "+e}};a.addProductHeaders(m.headers),t(m).success(function(e,t){p.resolve(e)}).error(function(e,t){return 401===t&&0===d?(i.clearAccessToken(),void p.resolve(f.notifyAbandonedTransaction(n,l,c,u,++d))):(o.log("Error "+t+": adobeStockRestService.notifyAbandonedTransaction , result=\n"+("string"==typeof e?e:JSON.stringify(e))),void p.reject(t))})}},function(e){o.log("Error getting access token: adobeStockRestService.notifyAbandonedTransaction , result="+("string"==typeof e?e:JSON.stringify(e))),p.reject(401)}),p.promise},this.searchStockAssets=function(l,c,u,d,p,f,h){h=h||0;var m=e.defer(),g=this;return i.getAccessToken(l).then(function(e){if(e){var v=s()+r.STOCK_SEARCH_API_PATH;if(d){var _=d+"&api_key="+i.getEnvironment().clientId+"&user_token="+e;v+="?search_parameters[similar_url]="+encodeURIComponent(_)}else v+=u?"?search_parameters[similar]="+u:"?search_parameters[words]="+c;v+="&search_parameters[limit]="+f,v+="&search_parameters[thumbnail_size]=500",v+="&locale="+n.getLocale();var y=!1;r.STOCK_SEARCH_OPTIONS.forEach(function(e){p&&p[e.param]&&(v+="&search_parameters[filters][content_type:"+e.param+"]=1",y=!0)}),p&&p.template&&1===p.template&&(v+="&search_parameters[filters][content_type:template]=1",y=!0),y||r.STOCK_SEARCH_OPTIONS.forEach(function(e){v+="&search_parameters[filters][content_type:"+e.param+"]=1"}),v+="&result_columns[]=id&result_columns[]=title&result_columns[]=thumbnail_url&result_columns[]=thumbnail_width&result_columns[]=thumbnail_height&result_columns[]=comp_url&result_columns[]=comp_width&result_columns[]=comp_height&result_columns[]=is_licensed&result_columns[]=stock_id&result_columns[]=media_type_id&result_columns[]=content_type&result_columns[]=framerate&result_columns[]=duration&result_columns[]=width&result_columns[]=height&result_columns[]=comps&result_columns[]=premium_level_id";var E={method:"GET",url:v,headers:{"x-api-key":i.getEnvironment().clientId,Authorization:"Bearer "+e}};a.addProductHeaders(E.headers),t(E).success(function(e,t){200===t?m.resolve(e.files):(m.reject(t),o.log("Error "+t+": adobeStockRestService.searchStockAssets, result=\n"+("string"==typeof e?e:JSON.stringify(e))))}).error(function(e,t){return 401===t&&0===h?(i.clearAccessToken(),void m.resolve(g.searchStockAssets(l,c,u,d,p,f,++h))):(o.log("Error "+t+": adobeStockRestService.searchStockAssets, result=\n"+("string"==typeof e?e:JSON.stringify(e))),void m.reject(t))})}else m.reject(401)},function(e){o.log("Error getting access token: adobeStockRestService.searchStockAssets, result="+("string"==typeof e?e:JSON.stringify(e))),m.reject(401)}),m.promise}}];t.attach=function(e){i.module(e).service("adobeStockRestService",r)}}),define("services/external/ccLibraryRestService",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$http","imsInterface","localSettings","ccLibraries","debugLog","metrics",function(e,t,n,i,r,o,a){function s(){return"https://"+n.getEnvironment().assetsHost}this.serviceName="ccLibraryRestService",this.DEFAULT_RETRY_TIME=30,this.updateElementWithData=function(i,r,l,c,u,d){d=d||0;var p=e.defer(),f=this;return n.getAccessToken(i).then(function(e){if(e){var h=s()+"/libraries/elements";h+="?data_field="+r+"%23"+l+"&data_value="+c;var m={method:"POST",url:h,headers:{"x-api-key":n.getEnvironment().clientId,"x-user-region":"US",Authorization:"Bearer "+e},data:JSON.stringify(u)};a.addProductHeaders(m.headers),t(m).success(function(e,t,n,i){return 202===t?void p.resolve(null):void p.resolve(e)}).error(function(e,t){return 401===t&&0===d?(n.clearAccessToken(),void p.resolve(f.updateElementWithData(i,r,l,c,u,++d))):(o.log("Error "+t+": ccLibraryRestService.updateElementWithData , result=\n"+("string"==typeof e?e:JSON.stringify(e))),void p.reject(t))})}}),p.promise}}];t.attach=function(e){i.module(e).service("ccLibraryRestService",r)}}),define("services/external/main",["require","exports","module","./adobeStockRestService","./ccLibraryRestService"],function(e,t,n){"use strict";function i(t){e("./adobeStockRestService").attach(t),e("./ccLibraryRestService").attach(t)}return{attach:i}}),define("services/interface/csInterface",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$window","$timeout","configuration",function(e,t,n,i){var r=new CSInterface,o=function(e){return 0===e.indexOf("Error")||"EvalScript error."===e},a=function(t,i){var r=e.defer();return i=i||0,(new CSInterface).evalScript(t,function(e){o(e)?(console.log("Tried to execute: "+t),console.log("Failed with: "+e),2>i?n(function(){a(t,i+1).then(function(e){r.resolve(e)},function(e){r.reject(e)})},50):r.reject(e)):r.resolve(e)}),r.promise},s=function(t,n){var r=e.defer();return i.nativeProxy.evalScript(t,n,function(e){o(e)?r.reject(e):r.resolve(e)}),r.promise};this.getPluginPath=function(){return r.getSystemPath(SystemPath.EXTENSION)},this.getUserDataPath=function(){return r.getSystemPath(SystemPath.USER_DATA)},this.getGlobalRoot=function(){return this.getUserDataPath()+i.localRoot},this.getLocalRoot=function(){return this.getGlobalRoot()+this.getAppName()+"/"},this.hostEnvironment=r.hostEnvironment,this.getAppName=function(){return this.hostEnvironment.appName},this.getAppVersion=function(){return this.hostEnvironment.appVersion},this.getLocale=function(){var e=this.hostEnvironment.appUILocale||"en_US";return e.replace("_","-")},this.getAppDescription=function(){return this.getAppName()+" "+this.getAppVersion()+" "+this.getLocale()};var l=function(e,t,n){n=n||[];var r=n.map(JSON.stringify).join(", ");if(i.isAirPanel)return s(t,r);var o="$._ADBE_LIBS_"+e+"."+t+"("+r+")";return a(o)},c=function(e,t){return l(r.hostEnvironment.appName,e,t)},u=function(e){e.extensionId=r.getExtensionID(),r.dispatchEvent(e)},d=function(e,t){r.addEventListener(e,t)};this.exec=l,this.execApp=c,this.evalScript=a,this.dispatchEvent=u,this.addEventListener=d,this.removeEventListener=function(e,t){r.removeEventListener(e,t)},this.launchInBrowser=function(e){t.cep.util.openURLInDefaultBrowser(e)},this.getSystemPath=function(e){return r.getSystemPath(e)},this.showError=function(e){return this.exec("CORE","showError",[e])},this.setPanelFlyoutMenu=function(e){return r.setPanelFlyoutMenu(e)},this.updatePanelMenuItem=function(e,t,n){return r.updatePanelMenuItem(e,t,n)},this.setContextMenu=function(e,t){return r.setContextMenu(e,t)},this.getOSInformation=function(){return r.getOSInformation()},this.isWindowsOS=function(){return-1!==this.getOSInformation().indexOf("Windows")},this.requestOpenExtension=function(e,t){return r.requestOpenExtension(e,t)},this.setWindowTitle=function(e){return r.setWindowTitle(e)},this.getExtensionID=function(){return r.getExtensionID()},this.closeExtension=function(){return r.closeExtension()},this.resizeContent=function(e,t){r.resizeContent(e,t)},this.isLibrariesPanel=function(){return this.getExtensionID()!==i.PURCHASE_EXTENSION_ID}}];t.attach=function(e){i.module(e).service("csInterface",r)}}),define("services/interface/imsInterface",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r="openid,AdobeID,creative_cloud,creative_sdk,cc_private,sao.stock,sao.cce_private",o="com.adobe.csxs.events.internal.ims.FetchAccessToken",a=["$q","$timeout","csInterface","localSettings","ccLibraries",function(e,t,n,i,a){function s(e){E.forEach(function(t){e?(g=e,t.resolve(e)):t.reject("LOGGED_OUT")}),E=[],y=!1}function l(e){_&&t.cancel(_);var n=e&&e.data&&e.data.access_token;s(n)}function c(){_=void 0,console.log("Timed out fetching access token from IMS"),l()}function u(e,n){if(!e||""===e)return void s(void 0);var i=n.clientId,a=n.clientSecret;p?(v=v||p.createRefEx(n.ims),p.fetchAccessToken(v,i,a,e,"",r,function(e,t){e?l():l({data:{access_token:t.access_token}})})):d&&(v=v||d.imsConnectWithEndpoint(n.ims),d.addEventListener(o,l),d.imsFetchAccessToken(v,i,a,e,"",r),_&&t.cancel(_),_=t(c,5e3))}var d=new IMSInterface,p=window.IMSLib,f="production",h={staging:{label:"Staging",clientId:"ProjectCentralPanel9",clientSecret:"0c0d2f7b-bb39-44cb-8511-b6c04ae725e4",storageHost:"cc-api-storage-stage.adobe.io",assetsHost:"cc-api-assets-stage.adobe.io",ccwebHost:"assets-stage.adobecc.com",ims:"ims-na1-stg1.adobelogin.com",stockHost:"stock-stage.adobe.io",stockWebHost:"staging-astock1.fotolia.net",linkServiceHost:"links-stage.adobecc.com",linkServiceWebHost:"shared-assets-stage.adobecc.com"},production:{label:"Production",clientId:"ProjectCentralPanel9",clientSecret:"884405e3-11a2-47c8-8bc4-db8949192dd3",storageHost:"cc-api-storage.adobe.io",assetsHost:"cc-api-assets.adobe.io",ccwebHost:"assets.adobe.com",ims:"ims-na1.adobelogin.com",stockHost:"stock.adobe.io",stockWebHost:"stock.adobe.com",linkServiceHost:"links-prod.adobecc.com",linkServiceWebHost:"shared-assets.adobe.com"}},m=function(){var e=a.getServiceInfo();return e&&e.environment?e.environment.toLowerCase():i.getDebugValue("currentEnvironment")||f};this.getEnvironment=function(){var e=h[m()],t=i.getDebugValue("storageHost");return t&&(e.storageHost=t,e.overrides=["storageHost"]),e};var g,v,_,y=!1,E=[];this.getAccessToken=function(t){var n=e.defer();return g?(n.resolve(g),n.promise):(E.push(n),y||(y=!0,console.log("Fetching access token: environment is "+this.getEnvironment().label),u(t,this.getEnvironment())),n.promise)},this.clearAccessToken=function(){g=void 0}}];t.attach=function(e){i.module(e).service("imsInterface",a)}}),define("services/interface/ccxInterface",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$timeout","$http","configuration","csInterface","imsInterface","localSettings","ccLibraries","fileUtils","designLibraryManager","debugLog",function(e,t,n,r,o,a,s,l,c,u,d){function p(){var e=u.getPrivateLibraryCollection();return e.userId+"#usedEngagementCards"}var f,h="vulcan.SuiteMessage.ccxprocess.PSDKFeedRequest",m="vulcan.SuiteMessage.ccxprocess.PSDKFeedResponse";this.fetchLibraryEngagementCards=function(e){return i.isFunction(r.currentProduct.getUserData)?void r.currentProduct.getUserData(function(t){if(!t)return e();var n=l.utils.generateUuid(),i={psdkParams:{productCode:r.currentProduct.config.code,productVersion:o.getAppVersion(),productLanguage:o.getLocale().replace("-","_"),countryCode:o.getLocale().substr(3,2),subscriptionStatus:t.accountStatus},userTrackingEnabled:"true",requestId:n};"paid"!==t.accountStatus&&(i.psdkParams.trialEndDTS=new Date(parseInt(t.secondsLeftInTrial,10)).toISOString());var u=function(t){var i=VulcanInterface.getPayload(t);try{var r=JSON.parse(i);if(r&&r.requestId===n){if(f=[],r.path){var o=JSON.parse(c.readFile(r.path,"utf8"));if(o&&o.cards){var l=s.getValue(p())||[];o.cards.forEach(function(e){if("library"===e.cardType&&-1===l.indexOf(e.cardID)&&e.actionURL&&0===e.actionURL.indexOf("https://"+a.getEnvironment().linkServiceWebHost)){if(e.linkID=e.actionURL.match(/([^\/]*)\/*$/)[1],!e.libraryID){var t=e.actionURL.match(/[?&]libraryId=([^&]*)?/);t&&t.length>1?e.libraryID=t[1]:e.libraryID=e.linkID}e.backgroundImageLocalpath&&(e.backgroundImageLocalpath=r.path.substring(0,r.path.lastIndexOf("/"))+"/"+e.backgroundImageLocalpath),f.push(e)}})}}e(null,f),VulcanInterface.removeMessageListener(m,u)}}catch(h){e(h),d.log(h)}};VulcanInterface.addMessageListener(m,u);var g=new VulcanMessage(h);g.setPayload(JSON.stringify(i)),VulcanInterface.dispatchMessage(g)}):e()},this.getLibraryEngagementCards=function(e){return f?e(null,f):void this.fetchLibraryEngagementCards(e)},this.markEngagementCardUsed=function(e){var t=s.getValue(p())||[];-1===t.indexOf(e.cardID)&&(t.unshift(e.cardID),s.setValue(p(),t)),f.some(function(t){return t.cardID===e.cardID?(f.splice(f.indexOf(t),1),!0):void 0})},this.processLibraryEngagementCard=function(e,t){var i={method:"GET",url:"https://"+a.getEnvironment().linkServiceHost+"/publinks/"+e.linkID,headers:{"x-api-key":a.getEnvironment().clientId}};n(i).success(function(e,n){if(e.bookmarkId&&e.bookmarkURL){var i=u.getPrivateLibraryCollection();i.createBookmark(e.bookmarkId,e.bookmarkURL,function(e,n){t(e,n)})}else t("bookmark info cannot be found")}).error(function(e,n){t({err:e,statusCode:n})})}}];t.attach=function(e){i.module(e).service("ccxInterface",r)}}),!function(e,t){"function"==typeof define&&define.amd?define("Ingest",[],t):e.Ingest=t()}(this,function(){var e;e=window.nodeRequire?window.nodeRequire:function(){};var t,n,i;if(function(e){function r(e,t){return E.call(e,t)}function o(e,t){var n,i,r,o,a,s,l,c,u,d,p,f,h=t&&t.split("/"),m=_.map,g=m&&m["*"]||{};if(e){for(e=e.split("/"),a=e.length-1,_.nodeIdCompat&&L.test(e[a])&&(e[a]=e[a].replace(L,"")),"."===e[0].charAt(0)&&h&&(f=h.slice(0,h.length-1),e=f.concat(e)),u=0;u<e.length;u++)if(p=e[u],"."===p)e.splice(u,1),u-=1;else if(".."===p){if(0===u||1===u&&".."===e[2]||".."===e[u-1])continue;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((h||g)&&m){for(n=e.split("/"),u=n.length;u>0;u-=1){if(i=n.slice(0,u).join("/"),h)for(d=h.length;d>0;d-=1)if(r=m[h.slice(0,d).join("/")],r&&(r=r[i])){o=r,s=u;break}if(o)break;!l&&g&&g[i]&&(l=g[i],c=u)}!o&&l&&(o=l,s=c),o&&(n.splice(0,s,o),e=n.join("/"))}return e}function a(t,n){return function(){var i=b.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),f.apply(e,i.concat([t,n]))}}function s(e){return function(t){return o(t,e)}}function l(e){return function(t){g[e]=t}}function c(t){if(r(v,t)){var n=v[t];delete v[t],y[t]=!0,p.apply(e,n)}if(!r(g,t)&&!r(y,t))throw new Error("No "+t);return g[t]}function u(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return function(){return _&&_.config&&_.config[e]||{}}}var p,f,h,m,g={},v={},_={},y={},E=Object.prototype.hasOwnProperty,b=[].slice,L=/\.js$/;h=function(e,t){var n,i=u(e),r=i[0];return e=i[1],r&&(r=o(r,t),n=c(r)),r?e=n&&n.normalize?n.normalize(e,s(t)):o(e,t):(e=o(e,t),i=u(e),r=i[0],e=i[1],r&&(n=c(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:n}},m={require:function(e){return a(e)},exports:function(e){var t=g[e];return"undefined"!=typeof t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:d(e)}}},p=function(t,n,i,o){var s,u,d,p,f,_,E=[],b=typeof i;if(o=o||t,"undefined"===b||"function"===b){for(n=!n.length&&i.length?["require","exports","module"]:n,f=0;f<n.length;f+=1)if(p=h(n[f],o),u=p.f,"require"===u)E[f]=m.require(t);else if("exports"===u)E[f]=m.exports(t),_=!0;else if("module"===u)s=E[f]=m.module(t);else if(r(g,u)||r(v,u)||r(y,u))E[f]=c(u);else{if(!p.p)throw new Error(t+" missing "+u);p.p.load(p.n,a(o,!0),l(u),{}),E[f]=g[u]}d=i?i.apply(g[t],E):void 0,t&&(s&&s.exports!==e&&s.exports!==g[t]?g[t]=s.exports:d===e&&_||(g[t]=d))}else t&&(g[t]=i)},t=n=f=function(t,n,i,r,o){if("string"==typeof t)return m[t]?m[t](n):c(h(t,n).f);if(!t.splice){if(_=t,_.deps&&f(_.deps,_.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?p(e,t,n,i):setTimeout(function(){p(e,t,n,i)},4),f},f.config=function(e){return f(e)},t._defined=g,i=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),r(g,e)||r(v,e)||(v[e]=[e,t,n])},i.amd={jQuery:!0}}(),i("../node_modules/almond/almond",function(){}),"function"!=typeof e)var e=n;if(i("ListenerManager",["require","exports","module"],function(e,t,n){"use strict";function i(e){this._restrictedTypes=e,this._listeners={}}return i.prototype._checkType=function(e){if(this._restrictedTypes&&-1===this._restrictedTypes.indexOf(e)){var t="["+this._restrictedTypes.join(", ")+"]";throw new Error(e+" is not allowed. Should be one of: "+t)}},i.prototype.add=function(e,t){this._checkType(e),this._listeners[e]=this._listeners[e]||[],this._listeners[e].push(t)},i.prototype.remove=function(e,t){this._checkType(e);var n=this._listeners[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},i.prototype.removeAll=function(e){e?(this._checkType(e),delete this._listeners[e]):this._listeners={}},i.prototype.notify=function(e,t){this._checkType(e);var n=this._listeners[e];n&&n.slice(0).forEach(function(e){try{e.apply(void 0,t||[])}catch(n){console.log("Error in listener callback: "+(n?n.toString():""))}})},i.prototype.hasListeners=function(e){this._checkType(e);var t=this._listeners[e];return t&&t.length>0?!0:!1},i.prototype.forEach=function(e){var t=this._listeners;Object.keys(t).forEach(function(n){t[n].forEach(function(t){e(n,t)})})},i}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof i&&i.amd?i("components/moment/moment.js",t):e.moment=t()}(this,function(){"use strict";function e(){return hi.apply(null,arguments)}function t(e){hi=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t;for(t in e)return!1;return!0}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,i){return vt(e,t,n,i,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function p(e){return null==e._pf&&(e._pf=d()),e._pf}function f(e){if(null==e._isValid){var t=p(e),n=mi.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function h(e){var t=u(NaN);return null!=e?c(p(t),e):p(t).userInvalidated=!0,t}function m(e){return void 0===e}function g(e,t){var n,i,r;if(m(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),m(t._i)||(e._i=t._i),m(t._f)||(e._f=t._f),m(t._l)||(e._l=t._l),m(t._strict)||(e._strict=t._strict),m(t._tzm)||(e._tzm=t._tzm),m(t._isUTC)||(e._isUTC=t._isUTC),m(t._offset)||(e._offset=t._offset),m(t._pf)||(e._pf=p(t)),m(t._locale)||(e._locale=t._locale),gi.length>0)for(n in gi)i=gi[n],r=t[i],m(r)||(e[i]=r);return e}function v(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),vi===!1&&(vi=!0,e.updateOffset(this),vi=!1)}function _(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function y(e){return 0>e?Math.ceil(e)||0:Math.floor(e)}function E(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=y(t)),n}function b(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&E(e[i])!==E(t[i]))&&a++;return a+o}function L(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,n){var i=!0;return c(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),i&&(L(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),n.apply(this,arguments)},n)}function A(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),_i[t]||(L(n),_i[t]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e){var t,n;for(n in e)t=e[n],T(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function I(e,t){var n,i=c({},e);for(n in t)l(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},c(i[n],e[n]),c(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)l(e,n)&&!l(t,n)&&r(e[n])&&(i[n]=c({},i[n]));return i}function D(e){null!=e&&this.set(e)}function w(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return T(i)?i.call(t,n):i}function O(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function R(){return this._invalidDate}function x(e){return this._ordinal.replace("%d",e)}function N(e,t,n,i){var r=this._relativeTime[n];return T(r)?r(e,t,n,i):r.replace(/%d/i,e)}function P(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)}function k(e,t){var n=e.toLowerCase();Ii[n]=Ii[n+"s"]=Ii[t]=e}function M(e){return"string"==typeof e?Ii[e]||Ii[e.toLowerCase()]:void 0}function U(e){var t,n,i={};for(n in e)l(e,n)&&(t=M(n),t&&(i[t]=e[n]));return i}function $(e,t){Di[e]=t}function F(e){var t=[];for(var n in e)t.push({unit:n,priority:Di[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function Y(t,n){return function(i){return null!=i?(B(this,t,i),e.updateOffset(this,n),this):V(this,t)}}function V(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function B(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function j(e){return e=M(e),T(this[e])?this[e]():this}function H(e,t){if("object"==typeof e){e=U(e);for(var n=F(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=M(e),T(this[e]))return this[e](t);return this}function q(e,t,n){var i=""+Math.abs(e),r=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function W(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(xi[e]=r),t&&(xi[t[0]]=function(){return q(r.apply(this,arguments),t[1],t[2])}),n&&(xi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function G(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,i=e.match(wi);for(t=0,n=i.length;n>t;t++)xi[i[t]]?i[t]=xi[i[t]]:i[t]=G(i[t]);return function(t){var r,o="";
for(r=0;n>r;r++)o+=i[r]instanceof Function?i[r].call(t,e):i[r];return o}}function X(e,t){return e.isValid()?(t=K(t,e.localeData()),Ri[t]=Ri[t]||z(t),Ri[t](e)):e.localeData().invalidDate()}function K(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Oi.lastIndex=0;i>=0&&Oi.test(e);)e=e.replace(Oi,n),Oi.lastIndex=0,i-=1;return e}function J(e,t,n){Ki[e]=T(t)?t:function(e,i){return e&&n?n:t}}function Z(e,t){return l(Ki,e)?Ki[e](t._strict,t._locale):new RegExp(Q(e))}function Q(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=E(e)}),n=0;n<e.length;n++)Ji[e[n]]=i}function ne(e,t){te(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function ie(e,t,n){null!=t&&l(Ji,e)&&Ji[e](t,n._a,n,e)}function re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,t){return i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||sr).test(t)?"format":"standalone"][e.month()]}function ae(e,t){return i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[sr.test(t)?"format":"standalone"][e.month()]}function se(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(r=Ei.call(this._shortMonthsParse,a),-1!==r?r:null):(r=Ei.call(this._longMonthsParse,a),-1!==r?r:null):"MMM"===t?(r=Ei.call(this._shortMonthsParse,a),-1!==r?r:(r=Ei.call(this._longMonthsParse,a),-1!==r?r:null)):(r=Ei.call(this._longMonthsParse,a),-1!==r?r:(r=Ei.call(this._shortMonthsParse,a),-1!==r?r:null))}function le(e,t,n){var i,r,o;if(this._monthsParseExact)return se.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function ce(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=E(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ue(t){return null!=t?(ce(this,t),e.updateOffset(this,!0),this):V(this,"Month")}function de(){return re(this.year(),this.month())}function pe(e){return this._monthsParseExact?(l(this,"_monthsRegex")||he.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=ur),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fe(e){return this._monthsParseExact?(l(this,"_monthsRegex")||he.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=dr),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function he(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;12>t;t++)n=u([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;12>t;t++)i[t]=ee(i[t]),r[t]=ee(r[t]);for(t=0;24>t;t++)o[t]=ee(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function me(e){return ge(e)?366:365}function ge(e){return e%4===0&&e%100!==0||e%400===0}function ve(){return ge(this.year())}function _e(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return 100>e&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Ee(e,t,n){var i=7+t-n,r=(7+ye(e,0,i).getUTCDay()-t)%7;return-r+i-1}function be(e,t,n,i,r){var o,a,s=(7+n-i)%7,l=Ee(e,i,r),c=1+7*(t-1)+s+l;return 0>=c?(o=e-1,a=me(o)+c):c>me(e)?(o=e+1,a=c-me(e)):(o=e,a=c),{year:o,dayOfYear:a}}function Le(e,t,n){var i,r,o=Ee(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>a?(r=e.year()-1,i=a+Se(r,t,n)):a>Se(e.year(),t,n)?(i=a-Se(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function Se(e,t,n){var i=Ee(e,t,n),r=Ee(e+1,t,n);return(me(e)-i+r)/7}function Ae(e){return Le(e,this._week.dow,this._week.doy).week}function Te(){return this._week.dow}function Ce(){return this._week.doy}function Ie(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function De(e){var t=Le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function we(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Oe(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Re(e,t){return i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function xe(e){return this._weekdaysShort[e.day()]}function Ne(e){return this._weekdaysMin[e.day()]}function Pe(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(r=Ei.call(this._weekdaysParse,a),-1!==r?r:null):"ddd"===t?(r=Ei.call(this._shortWeekdaysParse,a),-1!==r?r:null):(r=Ei.call(this._minWeekdaysParse,a),-1!==r?r:null):"dddd"===t?(r=Ei.call(this._weekdaysParse,a),-1!==r?r:(r=Ei.call(this._shortWeekdaysParse,a),-1!==r?r:(r=Ei.call(this._minWeekdaysParse,a),-1!==r?r:null))):"ddd"===t?(r=Ei.call(this._shortWeekdaysParse,a),-1!==r?r:(r=Ei.call(this._weekdaysParse,a),-1!==r?r:(r=Ei.call(this._minWeekdaysParse,a),-1!==r?r:null))):(r=Ei.call(this._minWeekdaysParse,a),-1!==r?r:(r=Ei.call(this._weekdaysParse,a),-1!==r?r:(r=Ei.call(this._shortWeekdaysParse,a),-1!==r?r:null)))}function ke(e,t,n){var i,r,o;if(this._weekdaysParseExact)return Pe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Me(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=we(e,this.localeData()),this.add(e-t,"d")):t}function Ue(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function $e(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Oe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Fe(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=vr),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ye(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=_r),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ve(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=yr),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Be(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],c=[];for(t=0;7>t;t++)n=u([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;7>t;t++)s[t]=ee(s[t]),l[t]=ee(l[t]),c[t]=ee(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function je(){return this.hours()%12||12}function He(){return this.hours()||24}function qe(e,t){W(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function We(e,t){return t._meridiemParse}function Ge(e){return"p"===(e+"").toLowerCase().charAt(0)}function ze(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Xe(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){for(var t,n,i,r,o=0;o<e.length;){for(r=Xe(e[o]).split("-"),t=r.length,n=Xe(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=Je(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&b(r,n,!0)>=t-1)break;t--}o++}return null}function Je(e){var t=null;if(!Ar[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Er._abbr,n("./locale/"+e),Ze(t)}catch(i){}return Ar[e]}function Ze(e,t){var n;return e&&(n=m(t)?tt(e):Qe(e,t),n&&(Er=n)),Er._abbr}function Qe(e,t){if(null!==t){var n=Sr;return t.abbr=e,null!=Ar[e]?(A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ar[e]._config):null!=t.parentLocale&&(null!=Ar[t.parentLocale]?n=Ar[t.parentLocale]._config:A("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),Ar[e]=new D(I(n,t)),Ze(e),Ar[e]}return delete Ar[e],null}function et(e,t){if(null!=t){var n,i=Sr;null!=Ar[e]&&(i=Ar[e]._config),t=I(i,t),n=new D(t),n.parentLocale=Ar[e],Ar[e]=n,Ze(e)}else null!=Ar[e]&&(null!=Ar[e].parentLocale?Ar[e]=Ar[e].parentLocale:null!=Ar[e]&&delete Ar[e]);return Ar[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Er;if(!i(e)){if(t=Je(e))return t;e=[e]}return Ke(e)}function nt(){return yi(Ar)}function it(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[Qi]<0||n[Qi]>11?Qi:n[er]<1||n[er]>re(n[Zi],n[Qi])?er:n[tr]<0||n[tr]>24||24===n[tr]&&(0!==n[nr]||0!==n[ir]||0!==n[rr])?tr:n[nr]<0||n[nr]>59?nr:n[ir]<0||n[ir]>59?ir:n[rr]<0||n[rr]>999?rr:-1,p(e)._overflowDayOfYear&&(Zi>t||t>er)&&(t=er),p(e)._overflowWeeks&&-1===t&&(t=or),p(e)._overflowWeekday&&-1===t&&(t=ar),p(e).overflow=t),e}function rt(e){var t,n,i,r,o,a,s=e._i,l=Tr.exec(s)||Cr.exec(s);if(l){for(p(e).iso=!0,t=0,n=Dr.length;n>t;t++)if(Dr[t][1].exec(l[1])){r=Dr[t][0],i=Dr[t][2]!==!1;break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=wr.length;n>t;t++)if(wr[t][1].exec(l[3])){o=(l[2]||" ")+wr[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Ir.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),ut(e)}else e._isValid=!1}function ot(t){var n=Or.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(rt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function at(e,t,n){return null!=e?e:null!=t?t:n}function st(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function lt(e){var t,n,i,r,o=[];if(!e._d){for(i=st(e),e._w&&null==e._a[er]&&null==e._a[Qi]&&ct(e),e._dayOfYear&&(r=at(e._a[Zi],i[Zi]),e._dayOfYear>me(r)&&(p(e)._overflowDayOfYear=!0),n=ye(r,0,e._dayOfYear),e._a[Qi]=n.getUTCMonth(),e._a[er]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[tr]&&0===e._a[nr]&&0===e._a[ir]&&0===e._a[rr]&&(e._nextDay=!0,e._a[tr]=0),e._d=(e._useUTC?ye:_e).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[tr]=24)}}function ct(e){var t,n,i,r,o,a,s,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=at(t.GG,e._a[Zi],Le(_t(),1,4).year),i=at(t.W,1),r=at(t.E,1),(1>r||r>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,n=at(t.gg,e._a[Zi],Le(_t(),o,a).year),i=at(t.w,1),null!=t.d?(r=t.d,(0>r||r>6)&&(l=!0)):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o),1>i||i>Se(n,o,a)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(s=be(n,i,r,o,a),e._a[Zi]=s.year,e._dayOfYear=s.dayOfYear)}function ut(t){if(t._f===e.ISO_8601)return void rt(t);t._a=[],p(t).empty=!0;var n,i,r,o,a,s=""+t._i,l=s.length,c=0;for(r=K(t._f,t._locale).match(wi)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(Z(o,t))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&p(t).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),c+=i.length),xi[o]?(i?p(t).empty=!1:p(t).unusedTokens.push(o),ie(o,i,t)):t._strict&&!i&&p(t).unusedTokens.push(o);p(t).charsLeftOver=l-c,s.length>0&&p(t).unusedInput.push(s),t._a[tr]<=12&&p(t).bigHour===!0&&t._a[tr]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[tr]=dt(t._locale,t._a[tr],t._meridiem),lt(t),it(t)}function dt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function pt(e){var t,n,i,r,o;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],ut(t),f(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==i||i>o)&&(i=o,n=t));c(e,n||t)}function ft(e){if(!e._d){var t=U(e._i);e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),lt(e)}}function ht(e){var t=new v(it(mt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function mt(e){var t=e._i,n=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===n&&""===t?h({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new v(it(t)):(i(n)?pt(e):a(t)?e._d=t:n?ut(e):gt(e),f(e)||(e._d=null),e))}function gt(t){var n=t._i;void 0===n?t._d=new Date(e.now()):a(n)?t._d=new Date(n.valueOf()):"string"==typeof n?ot(t):i(n)?(t._a=s(n.slice(0),function(e){return parseInt(e,10)}),lt(t)):"object"==typeof n?ft(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function vt(e,t,n,a,s){var l={};return"boolean"==typeof n&&(a=n,n=void 0),(r(e)&&o(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=e,l._f=t,l._strict=a,ht(l)}function _t(e,t,n,i){return vt(e,t,n,i,!1)}function yt(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return _t();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function Et(){var e=[].slice.call(arguments,0);return yt("isBefore",e)}function bt(){var e=[].slice.call(arguments,0);return yt("isAfter",e)}function Lt(e){var t=U(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=tt(),this._bubble()}function St(e){return e instanceof Lt}function At(e,t){W(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+q(~~(e/60),2)+t+q(~~e%60,2)})}function Tt(e,t){var n=(t||"").match(e)||[],i=n[n.length-1]||[],r=(i+"").match(Pr)||["-",0,0],o=+(60*r[1])+E(r[2]);return"+"===r[0]?o:-o}function Ct(t,n){var i,r;return n._isUTC?(i=n.clone(),r=(_(t)||a(t)?t.valueOf():_t(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),e.updateOffset(i,!1),i):_t(t).local()}function It(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Dt(t,n){var i,r=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Tt(Gi,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=It(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?qt(this,Ft(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:It(this):null!=t?this:NaN}function wt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ot(e){return this.utcOffset(0,e)}function Rt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(It(this),"m")),this}function xt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Tt(Wi,this._i)),this}function Nt(e){return this.isValid()?(e=e?_t(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Pt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function kt(){if(!m(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),e=mt(e),e._a){var t=e._isUTC?u(e._a):_t(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Mt(){return this.isValid()?!this._isUTC:!1}function Ut(){return this.isValid()?this._isUTC:!1}function $t(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Ft(e,t){var n,i,r,o=e,a=null;return St(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=kr.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:E(a[er])*n,h:E(a[tr])*n,m:E(a[nr])*n,s:E(a[ir])*n,ms:E(a[rr])*n}):(a=Mr.exec(e))?(n="-"===a[1]?-1:1,o={y:Yt(a[2],n),M:Yt(a[3],n),w:Yt(a[4],n),d:Yt(a[5],n),h:Yt(a[6],n),m:Yt(a[7],n),s:Yt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Bt(_t(o.from),_t(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Lt(o),St(e)&&l(e,"_locale")&&(i._locale=e._locale),i}function Yt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Vt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Bt(e,t){var n;return e.isValid()&&t.isValid()?(t=Ct(t,e),e.isBefore(t)?n=Vt(e,t):(n=Vt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function jt(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function Ht(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Ft(n,i),qt(this,r,e),this}}function qt(t,n,i,r){var o=n._milliseconds,a=jt(n._days),s=jt(n._months);t.isValid()&&(r=null==r?!0:r,o&&t._d.setTime(t._d.valueOf()+o*i),a&&B(t,"Date",V(t,"Date")+a*i),s&&ce(t,V(t,"Month")+s*i),r&&e.updateOffset(t,a||s))}function Wt(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function Gt(t,n){var i=t||_t(),r=Ct(i,this).startOf("day"),o=e.calendarFormat(this,r)||"sameElse",a=n&&(T(n[o])?n[o].call(this,i):n[o]);return this.format(a||this.localeData().calendar(o,this,_t(i)))}function zt(){return new v(this)}function Xt(e,t){var n=_(e)?e:_t(e);return this.isValid()&&n.isValid()?(t=M(m(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Kt(e,t){var n=_(e)?e:_t(e);return this.isValid()&&n.isValid()?(t=M(m(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Jt(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Zt(e,t){var n,i=_(e)?e:_t(e);return this.isValid()&&i.isValid()?(t=M(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Qt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function en(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function tn(e,t,n){var i,r,o,a;return this.isValid()?(i=Ct(e,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),t=M(t),"year"===t||"month"===t||"quarter"===t?(a=nn(this,i),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-i,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-r)/864e5:"week"===t?(o-r)/6048e5:o),n?a:y(a)):NaN):NaN}function nn(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return 0>t-o?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)||0}function rn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function on(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?T(Date.prototype.toISOString)?this.toDate().toISOString():X(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):X(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function an(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=X(this,t);return this.localeData().postformat(n)}function sn(e,t){return this.isValid()&&(_(e)&&e.isValid()||_t(e).isValid())?Ft({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ln(e){return this.from(_t(),e)}function cn(e,t){return this.isValid()&&(_(e)&&e.isValid()||_t(e).isValid())?Ft({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function un(e){return this.to(_t(),e)}function dn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function pn(){return this._locale}function fn(e){switch(e=M(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function hn(e){return e=M(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function mn(){return this._d.valueOf()-6e4*(this._offset||0)}function gn(){return Math.floor(this.valueOf()/1e3)}function vn(){return new Date(this.valueOf())}function _n(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function yn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function En(){return this.isValid()?this.toISOString():null}function bn(){return f(this)}function Ln(){return c({},p(this))}function Sn(){return p(this).overflow}function An(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Tn(e,t){W(0,[e,e.length],0,t)}function Cn(e){return On.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function In(e){return On.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Dn(){return Se(this.year(),1,4)}function wn(){var e=this.localeData()._week;return Se(this.year(),e.dow,e.doy)}function On(e,t,n,i,r){var o;return null==e?Le(this,i,r).year:(o=Se(e,i,r),t>o&&(t=o),Rn.call(this,e,t,n,i,r))}function Rn(e,t,n,i,r){var o=be(e,t,n,i,r),a=ye(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function xn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Nn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Pn(e,t){t[rr]=E(1e3*("0."+e))}function kn(){return this._isUTC?"UTC":""}function Mn(){return this._isUTC?"Coordinated Universal Time":""}function Un(e){return _t(1e3*e)}function $n(){return _t.apply(null,arguments).parseZone()}function Fn(e){return e}function Yn(e,t,n,i){var r=tt(),o=u().set(i,t);return r[n](o,e)}function Vn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Yn(e,t,n,"month");var i,r=[];for(i=0;12>i;i++)r[i]=Yn(e,i,n,"month");return r}function Bn(e,t,n,i){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var r=tt(),o=e?r._week.dow:0;if(null!=n)return Yn(t,(n+o)%7,i,"day");var a,s=[];for(a=0;7>a;a++)s[a]=Yn(t,(a+o)%7,i,"day");return s}function jn(e,t){return Vn(e,t,"months")}function Hn(e,t){return Vn(e,t,"monthsShort")}function qn(e,t,n){return Bn(e,t,n,"weekdays")}function Wn(e,t,n){return Bn(e,t,n,"weekdaysShort")}function Gn(e,t,n){return Bn(e,t,n,"weekdaysMin")}function zn(){var e=this._data;return this._milliseconds=zr(this._milliseconds),this._days=zr(this._days),this._months=zr(this._months),e.milliseconds=zr(e.milliseconds),e.seconds=zr(e.seconds),e.minutes=zr(e.minutes),e.hours=zr(e.hours),e.months=zr(e.months),e.years=zr(e.years),this}function Xn(e,t,n,i){var r=Ft(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function Kn(e,t){return Xn(this,e,t,1)}function Jn(e,t){return Xn(this,e,t,-1)}function Zn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Qn(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*Zn(ti(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=y(o/1e3),l.seconds=e%60,t=y(e/60),l.minutes=t%60,n=y(t/60),l.hours=n%24,a+=y(n/24),r=y(ei(a)),s+=r,a-=Zn(ti(r)),i=y(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function ei(e){return 4800*e/146097}function ti(e){return 146097*e/4800}function ni(e){var t,n,i=this._milliseconds;if(e=M(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+ei(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ti(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function ii(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12)}function ri(e){return function(){return this.as(e)}}function oi(e){return e=M(e),this[e+"s"]()}function ai(e){return function(){return this._data[e]}}function si(){return y(this.days()/7)}function li(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function ci(e,t,n){var i=Ft(e).abs(),r=uo(i.as("s")),o=uo(i.as("m")),a=uo(i.as("h")),s=uo(i.as("d")),l=uo(i.as("M")),c=uo(i.as("y")),u=r<po.s&&["s",r]||1>=o&&["m"]||o<po.m&&["mm",o]||1>=a&&["h"]||a<po.h&&["hh",a]||1>=s&&["d"]||s<po.d&&["dd",s]||1>=l&&["M"]||l<po.M&&["MM",l]||1>=c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,li.apply(null,u)}function ui(e){return void 0===e?uo:"function"==typeof e?(uo=e,!0):!1}function di(e,t){return void 0===po[e]?!1:void 0===t?po[e]:(po[e]=t,!0)}function pi(e){var t=this.localeData(),n=ci(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function fi(){var e,t,n,i=fo(this._milliseconds)/1e3,r=fo(this._days),o=fo(this._months);e=y(i/60),t=y(e/60),i%=60,e%=60,n=y(o/12),o%=12;var a=n,s=o,l=r,c=t,u=e,d=i,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var hi,mi;mi=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;n>i;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var gi=e.momentProperties=[],vi=!1,_i={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var yi;yi=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var Ei,bi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Li={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Si="Invalid date",Ai="%d",Ti=/\d{1,2}/,Ci={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ii={},Di={},wi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Oi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ri={},xi={},Ni=/\d/,Pi=/\d\d/,ki=/\d{3}/,Mi=/\d{4}/,Ui=/[+-]?\d{6}/,$i=/\d\d?/,Fi=/\d\d\d\d?/,Yi=/\d\d\d\d\d\d?/,Vi=/\d{1,3}/,Bi=/\d{1,4}/,ji=/[+-]?\d{1,6}/,Hi=/\d+/,qi=/[+-]?\d+/,Wi=/Z|[+-]\d\d:?\d\d/gi,Gi=/Z|[+-]\d\d(?::?\d\d)?/gi,zi=/[+-]?\d+(\.\d{1,3})?/,Xi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ki={},Ji={},Zi=0,Qi=1,er=2,tr=3,nr=4,ir=5,rr=6,or=7,ar=8;Ei=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),W("MMMM",0,0,function(e){return this.localeData().months(this,e)}),k("month","M"),$("month",8),J("M",$i),J("MM",$i,Pi),J("MMM",function(e,t){return t.monthsShortRegex(e)}),J("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[Qi]=E(e)-1}),te(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[Qi]=r:p(n).invalidMonth=e});var sr=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,lr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ur=Xi,dr=Xi;W("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),k("year","y"),$("year",1),J("Y",qi),J("YY",$i,Pi),J("YYYY",Bi,Mi),J("YYYYY",ji,Ui),J("YYYYYY",ji,Ui),te(["YYYYY","YYYYYY"],Zi),te("YYYY",function(t,n){n[Zi]=2===t.length?e.parseTwoDigitYear(t):E(t)}),te("YY",function(t,n){n[Zi]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[Zi]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return E(e)+(E(e)>68?1900:2e3)};var pr=Y("FullYear",!0);W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),$("week",5),$("isoWeek",5),J("w",$i),J("ww",$i,Pi),J("W",$i),J("WW",$i,Pi),ne(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=E(e)});var fr={
dow:0,doy:6};W("d",0,"do","day"),W("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),W("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),W("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),$("day",11),$("weekday",11),$("isoWeekday",11),J("d",$i),J("e",$i),J("E",$i),J("dd",function(e,t){return t.weekdaysMinRegex(e)}),J("ddd",function(e,t){return t.weekdaysShortRegex(e)}),J("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:p(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,i){t[i]=E(e)});var hr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),mr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vr=Xi,_r=Xi,yr=Xi;W("H",["HH",2],0,"hour"),W("h",["hh",2],0,je),W("k",["kk",2],0,He),W("hmm",0,0,function(){return""+je.apply(this)+q(this.minutes(),2)}),W("hmmss",0,0,function(){return""+je.apply(this)+q(this.minutes(),2)+q(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+q(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+q(this.minutes(),2)+q(this.seconds(),2)}),qe("a",!0),qe("A",!1),k("hour","h"),$("hour",13),J("a",We),J("A",We),J("H",$i),J("h",$i),J("HH",$i,Pi),J("hh",$i,Pi),J("hmm",Fi),J("hmmss",Yi),J("Hmm",Fi),J("Hmmss",Yi),te(["H","HH"],tr),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[tr]=E(e),p(n).bigHour=!0}),te("hmm",function(e,t,n){var i=e.length-2;t[tr]=E(e.substr(0,i)),t[nr]=E(e.substr(i)),p(n).bigHour=!0}),te("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[tr]=E(e.substr(0,i)),t[nr]=E(e.substr(i,2)),t[ir]=E(e.substr(r)),p(n).bigHour=!0}),te("Hmm",function(e,t,n){var i=e.length-2;t[tr]=E(e.substr(0,i)),t[nr]=E(e.substr(i))}),te("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[tr]=E(e.substr(0,i)),t[nr]=E(e.substr(i,2)),t[ir]=E(e.substr(r))});var Er,br=/[ap]\.?m?\.?/i,Lr=Y("Hours",!0),Sr={calendar:bi,longDateFormat:Li,invalidDate:Si,ordinal:Ai,ordinalParse:Ti,relativeTime:Ci,months:lr,monthsShort:cr,week:fr,weekdays:hr,weekdaysMin:gr,weekdaysShort:mr,meridiemParse:br},Ar={},Tr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Cr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ir=/Z|[+-]\d\d(?::?\d\d)?/,Dr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],wr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Or=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=S("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Rr=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:h()}),xr=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:h()}),Nr=function(){return Date.now?Date.now():+new Date};At("Z",":"),At("ZZ",""),J("Z",Gi),J("ZZ",Gi),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Tt(Gi,e)});var Pr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var kr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Mr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ft.fn=Lt.prototype;var Ur=Ht(1,"add"),$r=Ht(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Fr=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Tn("gggg","weekYear"),Tn("ggggg","weekYear"),Tn("GGGG","isoWeekYear"),Tn("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),$("weekYear",1),$("isoWeekYear",1),J("G",qi),J("g",qi),J("GG",$i,Pi),J("gg",$i,Pi),J("GGGG",Bi,Mi),J("gggg",Bi,Mi),J("GGGGG",ji,Ui),J("ggggg",ji,Ui),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=E(e)}),ne(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),W("Q",0,"Qo","quarter"),k("quarter","Q"),$("quarter",7),J("Q",Ni),te("Q",function(e,t){t[Qi]=3*(E(e)-1)}),W("D",["DD",2],"Do","date"),k("date","D"),$("date",9),J("D",$i),J("DD",$i,Pi),J("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),te(["D","DD"],er),te("Do",function(e,t){t[er]=E(e.match($i)[0],10)});var Yr=Y("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),$("dayOfYear",4),J("DDD",Vi),J("DDDD",ki),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=E(e)}),W("m",["mm",2],0,"minute"),k("minute","m"),$("minute",14),J("m",$i),J("mm",$i,Pi),te(["m","mm"],nr);var Vr=Y("Minutes",!1);W("s",["ss",2],0,"second"),k("second","s"),$("second",15),J("s",$i),J("ss",$i,Pi),te(["s","ss"],ir);var Br=Y("Seconds",!1);W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),k("millisecond","ms"),$("millisecond",16),J("S",Vi,Ni),J("SS",Vi,Pi),J("SSS",Vi,ki);var jr;for(jr="SSSS";jr.length<=9;jr+="S")J(jr,Hi);for(jr="S";jr.length<=9;jr+="S")te(jr,Pn);var Hr=Y("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var qr=v.prototype;qr.add=Ur,qr.calendar=Gt,qr.clone=zt,qr.diff=tn,qr.endOf=hn,qr.format=an,qr.from=sn,qr.fromNow=ln,qr.to=cn,qr.toNow=un,qr.get=j,qr.invalidAt=Sn,qr.isAfter=Xt,qr.isBefore=Kt,qr.isBetween=Jt,qr.isSame=Zt,qr.isSameOrAfter=Qt,qr.isSameOrBefore=en,qr.isValid=bn,qr.lang=Fr,qr.locale=dn,qr.localeData=pn,qr.max=xr,qr.min=Rr,qr.parsingFlags=Ln,qr.set=H,qr.startOf=fn,qr.subtract=$r,qr.toArray=_n,qr.toObject=yn,qr.toDate=vn,qr.toISOString=on,qr.toJSON=En,qr.toString=rn,qr.unix=gn,qr.valueOf=mn,qr.creationData=An,qr.year=pr,qr.isLeapYear=ve,qr.weekYear=Cn,qr.isoWeekYear=In,qr.quarter=qr.quarters=xn,qr.month=ue,qr.daysInMonth=de,qr.week=qr.weeks=Ie,qr.isoWeek=qr.isoWeeks=De,qr.weeksInYear=wn,qr.isoWeeksInYear=Dn,qr.date=Yr,qr.day=qr.days=Me,qr.weekday=Ue,qr.isoWeekday=$e,qr.dayOfYear=Nn,qr.hour=qr.hours=Lr,qr.minute=qr.minutes=Vr,qr.second=qr.seconds=Br,qr.millisecond=qr.milliseconds=Hr,qr.utcOffset=Dt,qr.utc=Ot,qr.local=Rt,qr.parseZone=xt,qr.hasAlignedHourOffset=Nt,qr.isDST=Pt,qr.isLocal=Mt,qr.isUtcOffset=Ut,qr.isUtc=$t,qr.isUTC=$t,qr.zoneAbbr=kn,qr.zoneName=Mn,qr.dates=S("dates accessor is deprecated. Use date instead.",Yr),qr.months=S("months accessor is deprecated. Use month instead",ue),qr.years=S("years accessor is deprecated. Use year instead",pr),qr.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",wt),qr.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",kt);var Wr=qr,Gr=D.prototype;Gr.calendar=w,Gr.longDateFormat=O,Gr.invalidDate=R,Gr.ordinal=x,Gr.preparse=Fn,Gr.postformat=Fn,Gr.relativeTime=N,Gr.pastFuture=P,Gr.set=C,Gr.months=oe,Gr.monthsShort=ae,Gr.monthsParse=le,Gr.monthsRegex=fe,Gr.monthsShortRegex=pe,Gr.week=Ae,Gr.firstDayOfYear=Ce,Gr.firstDayOfWeek=Te,Gr.weekdays=Re,Gr.weekdaysMin=Ne,Gr.weekdaysShort=xe,Gr.weekdaysParse=ke,Gr.weekdaysRegex=Fe,Gr.weekdaysShortRegex=Ye,Gr.weekdaysMinRegex=Ve,Gr.isPM=Ge,Gr.meridiem=ze,Ze("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===E(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=S("moment.lang is deprecated. Use moment.locale instead.",Ze),e.langData=S("moment.langData is deprecated. Use moment.localeData instead.",tt);var zr=Math.abs,Xr=ri("ms"),Kr=ri("s"),Jr=ri("m"),Zr=ri("h"),Qr=ri("d"),eo=ri("w"),to=ri("M"),no=ri("y"),io=ai("milliseconds"),ro=ai("seconds"),oo=ai("minutes"),ao=ai("hours"),so=ai("days"),lo=ai("months"),co=ai("years"),uo=Math.round,po={s:45,m:45,h:22,d:26,M:11},fo=Math.abs,ho=Lt.prototype;ho.abs=zn,ho.add=Kn,ho.subtract=Jn,ho.as=ni,ho.asMilliseconds=Xr,ho.asSeconds=Kr,ho.asMinutes=Jr,ho.asHours=Zr,ho.asDays=Qr,ho.asWeeks=eo,ho.asMonths=to,ho.asYears=no,ho.valueOf=ii,ho._bubble=Qn,ho.get=oi,ho.milliseconds=io,ho.seconds=ro,ho.minutes=oo,ho.hours=ao,ho.days=so,ho.weeks=si,ho.months=lo,ho.years=co,ho.humanize=pi,ho.toISOString=fi,ho.toString=fi,ho.toJSON=fi,ho.locale=dn,ho.localeData=pn,ho.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fi),ho.lang=Fr,W("X",0,0,"unix"),W("x",0,0,"valueOf"),J("x",qi),J("X",zi),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(E(e))}),e.version="2.14.1",t(_t),e.fn=Wr,e.min=Et,e.max=bt,e.now=Nr,e.utc=u,e.unix=Un,e.months=jn,e.isDate=a,e.locale=Ze,e.invalid=h,e.duration=Ft,e.isMoment=_,e.weekdays=qn,e.parseZone=$n,e.localeData=tt,e.isDuration=St,e.monthsShort=Hn,e.weekdaysMin=Gn,e.defineLocale=Qe,e.updateLocale=et,e.locales=nt,e.weekdaysShort=Wn,e.normalizeUnits=M,e.relativeTimeRounding=ui,e.relativeTimeThreshold=di,e.calendarFormat=Wt,e.prototype=Wr;var mo=e;return mo}),"function"!=typeof e)var e=n;return i("IngestHelper",["require","exports","module","./ListenerManager","./components/moment/moment.js"],function(t,n,i){"use strict";function r(e,t){t(null,{})}function o(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function a(e){if(e)try{var t=parseInt(e,10);if(t)return Math.max(0,t);var n=Date.parse(e);if(n){var i=(new Date).valueOf(),r=Math.max(0,n-i)/1e3,o=Math.floor(Math.random()*v.RETRY_RANDOM_SECONDS);return r+o}}catch(a){}return 0}function s(e,t){var n=e;if(e&&e.length>t&&t>0){var i=e.length-t;n=e.slice(i,e.length)}return n}function l(e,t){var n,i=Object.getOwnPropertyNames(t);i.forEach(function(i){"object"==typeof t[i]?("object"!=typeof e[i]&&(e[i]={}),l(e[i],t[i])):(n=Object.getOwnPropertyDescriptor(t,i),Object.defineProperty(e,i,n))})}function c(e){var t=function(){};e.on("data",t),e.on("end",t)}var u,d,p=t("./ListenerManager"),f={},h=new p(["analyticsSent"]),m=[],g={getOptions:null,log:null,getAccessToken:null,clearAccessToken:null,getAgent:null},v={ENVIRONMENT:"prod",ANALYTICS_ENABLED:!1,ANALYTICS_INGEST_PATH:"/ingest",ANALYTICS_INGEST_TYPE:"dunamis",ANALYTICS_MAX_QUEUED_EVENTS:50,ANALYTICS_DEBOUNCE:1e4,ANALYTICS_HOST:{prod:"cc-api-data.adobe.io",stage:"cc-api-data-stage.adobe.io",dev:"cc-api-data-dev.adobe.io"},ANALYTICS_API_KEY:null,ANALYTICS_X_PRODUCT:null,ANALYTICS_X_PRODUCT_LOCATION:void 0,ANALYTICS_PROJECT:null,ANALYTICS_USER_REGION:"UNKNOWN",RETRY_RANDOM_SECONDS:10},_="Ingest :: ",y=(new Date).valueOf();return f._formatDateString=function(n,i){var r=typeof global;if("undefined"!==r&&global.Buffer)return e("moment")(n).format(i);var o=t("./components/moment/moment.js");return o(n).format(i)},f._isInitialized=function(){return v.ANALYTICS_API_KEY&&v.ANALYTICS_X_PRODUCT&&v.ANALYTICS_PROJECT&&g.getAccessToken&&"function"==typeof g.getAccessToken?!0:(g.log(_+"Not intialized correctly. options="+JSON.stringify(v)+", Ingest.getAccessToken="+f.getAccessToken),!1)},f._cacheEvent=function(e){m.length>=v.ANALYTICS_MAX_QUEUED_EVENTS&&m.shift(),m.push(e)},f._onFinished=function(e,t){var n=_+"["+t+"] ";e?(m=u.concat(m),m=s(m,v.ANALYTICS_MAX_QUEUED_EVENTS),g.log(n+"Ingest post failed with err: "+e+", num queued events: "+m.length)):g.log(n+"Ingest post event(s):"+JSON.stringify(u));var i=u.length;u=void 0;var r=!e;h.notify("analyticsSent",[r,r?i:0]),e||f._sendAnalytics()},f._sendAnalytics=function(t,n){if(n=n||0,g.getOptions&&f.setOptions(g.getOptions()),v.ANALYTICS_ENABLED&&0!==m.length){var i=v.ANALYTICS_DEBOUNCE;if(t&&(i=0,clearTimeout(d),d=void 0),u||d)return void g.log(_+" Queued "+m.length+" events to be sent.");var r=(new Date).valueOf();if(i>r-y)return void(d=setTimeout(function(){d=void 0,f._sendAnalytics()},i));y=r,u=m,m=[];var s=o(),p={events:u};g.getAccessToken&&"function"==typeof g.getAccessToken?g.getAccessToken(function(t,i){if(t)return void f._onFinished(t,s);if(!i||0===i.length)return void f._onFinished(new Error("Empty token."),s);var r=typeof global;if("undefined"!==r&&global.Buffer){var o="https://"+v.ANALYTICS_HOST[v.ENVIRONMENT],d={hostname:v.ANALYTICS_HOST[v.ENVIRONMENT],port:443,path:v.ANALYTICS_INGEST_PATH,method:"POST",headers:{Authorization:"Bearer "+i,"x-api-key":v.ANALYTICS_API_KEY,"X-Product":v.ANALYTICS_X_PRODUCT,"X-Request-Id":s,"Content-Type":"application/json"}};v.ANALYTICS_X_PRODUCT_LOCATION&&(d.headers["X-Product-Location"]=v.ANALYTICS_X_PRODUCT_LOCATION),g.getAgent(o,function(t,i){i&&i.agent?d.agent=i&&i.agent:l(d,i||{});var r=e("https"),o=r.request(d,function(e){if(e&&c(e),e&&e.headers){var t=e.headers["retry-after"]||e.headers["Retry-After"],i=a(t);v.ANALYTICS_DEBOUNCE=Math.max(1e3*i,v.ANALYTICS_DEBOUNCE)}var r=e&&e.statusCode;return 401===r&&0===n?(g.clearAccessToken&&"function"==typeof g.getAccessToken&&g.clearAccessToken(),m=u,u=void 0,g.log(_+"Access token is expired. Retry one more time."),void f._sendAnalytics(!0,++n)):200!==r?void f._onFinished(new Error("status "+r),s):void f._onFinished(null,s)});o.once("error",function(e){f._onFinished(e,s)}),o.end(JSON.stringify(p))})}else{var h=JSON.stringify(p),y=function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===this.readyState){var e=a(t.getResponseHeader("retry-after")||t.getResponseHeader("Retry-After"));v.ANALYTICS_DEBOUNCE=Math.max(1e3*e,v.ANALYTICS_DEBOUNCE),200===this.status?f._onFinished(null,s):401===this.status&&0===n?(g.clearAccessToken(),m=u,u=void 0,g.log(_+"Access token is expired. Retry one more time."),f._sendAnalytics(!0,++n)):f._onFinished(new Error("status: "+this.status),s)}},t.onerror=function(e){f._onFinished(new Error(e),s)},t.open("POST","https://"+v.ANALYTICS_HOST[v.ENVIRONMENT]+v.ANALYTICS_INGEST_PATH,!0),t.setRequestHeader("x-api-key",v.ANALYTICS_API_KEY),t.setRequestHeader("x-user-region",v.ANALYTICS_USER_REGION),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Authorization","Bearer "+i),t.setRequestHeader("X-Product",v.ANALYTICS_X_PRODUCT),t.setRequestHeader("X-Product-Location",v.ANALYTICS_X_PRODUCT_LOCATION),t.setRequestHeader("X-Request-Id",s),t.send(e)};y(h)}}):g.log(_+"Ingest.dependencies.getAccessToken is not defined or not a function."+g.getAccessToken)}},f.setOptions=function(e){var t=["prod","stage","dev"];-1!==t.indexOf(e.ENVIRONMENT)&&(v.ENVIRONMENT=e.ENVIRONMENT),v.ANALYTICS_ENABLED=e.ANALYTICS_ENABLED,v.agent=e.agent,v.ANALYTICS_API_KEY=e.ANALYTICS_API_KEY,v.ANALYTICS_X_PRODUCT=e.ANALYTICS_X_PRODUCT,v.ANALYTICS_X_PRODUCT_LOCATION=e.ANALYTICS_X_PRODUCT_LOCATION,v.ANALYTICS_PROJECT=e.ANALYTICS_PROJECT,v.ANALYTICS_INGEST_TYPE=e.ANALYTICS_INGEST_TYPE||v.ANALYTICS_INGEST_TYPE,v.ANALYTICS_USER_REGION=e.ANALYTICS_USER_REGION||v.ANALYTICS_USER_REGION,void 0!==e.ANALYTICS_MAX_QUEUED_EVENTS&&(v.ANALYTICS_MAX_QUEUED_EVENTS=e.ANALYTICS_MAX_QUEUED_EVENTS),void 0!==e.ANALYTICS_DEBOUNCE&&(v.ANALYTICS_DEBOUNCE=e.ANALYTICS_DEBOUNCE)},f.init=function(e){e&&(g.getOptions=e.getOptions,g.getAccessToken=e.getAccessToken,g.clearAccessToken=e.clearAccessToken,g.log=e.log||console.log,g.getAgent=e.getAgent||r),g.getOptions&&f.setOptions(g.getOptions())},f.getOption=function(e){return v[e]},f.setOption=function(e,t){v[e]=t},f.postEvent=function(e){if(f._isInitialized()){g.getOptions&&f.setOptions(g.getOptions());var t=this._formatDateString(new Date,"YYYY-MM-DDTHH:mm:ss.SSSZZ");e["event.dts_end"]=t;var n={time:t,project:v.ANALYTICS_PROJECT,environment:v.ENVIRONMENT,ingesttype:v.ANALYTICS_INGEST_TYPE,data:e};f._cacheEvent(n),f._sendAnalytics()}},f.flush=function(e){f._sendAnalytics(e)},f.addListener=function(e,t){h.add(e,t)},f.removeListener=function(e,t){h.remove(e,t)},f}),i("main",["require","exports","module","./IngestHelper"],function(e,t,n){"use strict";var i=e("./IngestHelper"),r={};return r.init=function(e){i.init(e)},r.getOption=function(e){return i.getOption(e)},r.setOption=function(e,t){i.setOption(e,t)},r.postEvent=function(e){i.postEvent(e)},r.flush=function(e){i.flush(e)},r.addListener=function(e,t){i.addListener(e,t)},r.removeListener=function(e,t){i.removeListener(e,t)},r}),n("main")}),define("services/interface/metrics",["require","exports","module","angular","Ingest"],function(e,t,n){"use strict";var i=e("angular"),r="adbemprojectcentral.rebootprod2",o="adbemprojectcentral.rebootdev2",a="adbemdigitalmedia.rebootprod2",s="adbemdigitalmedia.rebootdev2",l="Library Action",c="Library Panel Action",u="LibraryAction",d="LibraryPanelAction",p="Home",f=["$window","ccLibraries","configuration","csInterface","imsInterface","localSettings","versionManager","debugLog",function(t,n,f,h,m,g,v,_){function y(e){O.init({getOptions:function(){return{ENVIRONMENT:"Staging"===m.getEnvironment().label?"stage":"prod",ANALYTICS_ENABLED:C,ANALYTICS_API_KEY:m.getEnvironment().clientId,ANALYTICS_X_PRODUCT:D.product+"/"+D.productVersion,ANALYTICS_X_PRODUCT_LOCATION:"libraries/"+(i.BUILT?D.version:"DEV"),ANALYTICS_PROJECT:f.ANALYTICS_PROJECT,ANALYTICS_INGEST_TYPE:f.ANALYTICS_INGEST_TYPE,ANALYTICS_MAX_QUEUED_EVENTS:f.ANALYTICS_MAX_QUEUED_EVENTS,ANALYTICS_DEBOUNCE:f.ANALYTICS_DEBOUNCE}},log:function(e){console.info(e)},getAccessToken:function(t){m.getAccessToken(e).then(function(e){t(null,e)},function(e){t(e)})},clearAccessToken:function(){m.clearAccessToken()}})}function E(e,n){if(e){e.contextData["adb.page.pageInfo.isSDKUtilized"]="Project Central",e.contextData["adb.page.pageInfo.namespace"]=f.currentProduct.config.analytics.namespace,e.contextData["adb.page.pageInfo.productCategory"]="desktop",e.contextData["adb.page.pageInfo.productVersion"]=D.productVersion||"Unknown",e.contextData["adb.page.pageInfo.panelVersion"]=D.version||"Unknown",e.contextData["adb.page.pageInfo.appId"]=D.product,e.contextData["adb.user.profile.profileId"]=I||"Unknown",e.contextData["adb.user.profile.attributes.clientId"]=D.product,I&&(e.visitorID=I),D.os&&(e.contextData["a.OSEnvironment"]=D.os),e.contextData["adb.page.pageInfo.language"]=h.getLocale(),e.contextData["adb.user.profile.attributes.pcOffline"]=D.offline?"Y":"N",e.contextData["adb.event.eventinfo.eventassetproperties"]=JSON.stringify({width:t.innerWidth,height:t.innerHeight}),n&&Object.keys(n).forEach(function(t){e.contextData["adb.user.profile.attributes."+t]=n[t]});var i=[];Object.keys(e.contextData).forEach(function(e){i.push("contextData."+e)}),e.trackOffline=!0,e.linkTrackVars=i.join(",")}}var b,L,S,A=n.analyticsUtils,T=!1,C=!1,I=null,D={},w={},O=e("Ingest"),R=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})},x=function(){var e={"event.guid":R(),"event.user_guid":I||"Unknown","event.offline":D.offline?!0:!1,"event.language":h.getLocale(),"source.name":D.product,"source.client_id":D.product,"source.version":D.productVersion||"Unknown","source.platform":"desktop","source.os_version":D.os,"env.com.name":"CCLibraryPanel","env.com.version":D.version||"Unknown","consumer.name":D.consumer,"ccxl.dimension":{width:t.innerWidth,height:t.innerHeight}};return e},N=function(){C&&L&&(L.contextData={},L.contextData["adb.page.pageInfo.pageName"]=p,L.contextData["adb.user.profile.attributes."+d]=!0,L.contextData["adb.user.profile.attributes."+d+"Description"]=p,E(L),L.pageName=p,L.t(),g.getDebugValue("logMetrics")&&console.info("Analytics: "+p+" "+JSON.stringify(L.contextData)))},P=function(e,t,n){if(C){t=t||{};var r=S(e);r&&Object.keys(r).forEach(function(e){var n=r[e];void 0===t[e]&&void 0!==n&&null!==n&&(t[e]=n)}),i.isFunction(f.currentProduct.reportEvent)&&f.currentProduct.reportEvent(e,t);var o=n?c:l,a=n?d:u;if(L&&(L.contextData={},L.contextData["adb.event.eventInfo.eventName"]=o,L.contextData["adb.event.eventInfo.eventAction"]=e,L.contextData["adb.user.profile.attributes."+a]=!0,L.contextData["adb.user.profile.attributes."+a+"Description"]=e,L.contextData["a.action"]=o,E(L,t),L.tl(!0,"o",o),g.getDebugValue("logMetrics")&&console.info("Analytics: "+o+" "+JSON.stringify(L.contextData))),O){var s=x();s["event.type"]=o,s["event.subtype"]=e,s["event.category"]="Library-Panel",s["event.subcategory"]=a,t&&Object.keys(t).forEach(function(e){s["ccxl."+e]=t[e]}),O.postEvent(s)}}},k=function(e,t,n,r){var o=e+":"+(t||"");if(o&&o.length>255&&(o=o.substring(0,255)),r&&i.isFunction(f.currentProduct.reportEvent)&&f.currentProduct.reportEvent(o,n),L&&(L.contextData={},L.contextData["adb.event.eventInfo.eventName"]="General Error",L.contextData["adb.event.eventInfo.eventAction"]=o,L.contextData["a.action"]="error",E(L,n),L.tl(!0,"o","error"),g.getDebugValue("logMetrics")&&console.info("Analytics: error "+JSON.stringify(L.contextData))),O){var a=x();a["event.error_type"]="General Error",a["event.error_description"]=o,n&&Object.keys(n).forEach(function(e){a["ccxl."+e]=n[e]}),O.postEvent(a)}},M=function(e){C=e,C&&(b=g.hasDebugSettings()?s+","+o+","+f.currentProduct.config.analytics.devId:a+","+r+","+f.currentProduct.config.analytics.prodId,L=s_gi(b),L.ssl=!0),_.log("Analytics: "+C),n.setOption("SHARED_LOCAL_STORAGE_ANALYTICS",C),C&&(N(),P(h.isLibrariesPanel()?"initializePanel":"initializePurchaseDialog",null,!0))},U=function(e){e.product&&(D.product=e.product),e.productVersion&&(D.productVersion=e.productVersion),e.version&&(D.version=e.version),e.os&&(D.os=e.os),void 0!==e.offline&&(D.offline=e.offline),e.consumer&&(D.consumer=e.consumer)};t.onerror=function(e,t,n){k(t+"#"+n,e)},this.addProductHeaders=function(e){return e&&(e["X-Product"]=D.product+"/"+D.productVersion,e["X-Product-Location"]="libraries/"+(i.BUILT?D.version:"DEV")),e},this.isEnabled=function(){return C},this.getRepositories=function(){return b},this.reportUseElement=function(e,t,n){C&&A&&A.reportUseElement(e,t,n)},this.reportCheckoutElement=function(e,t,n){C&&A&&A.reportCheckoutElement(e,n,t)},this.reportCreateLink=function(e,t){C&&A&&A.reportCreateLink(e,t)},this.reportShareElementLink=function(e){C&&A&&A.reportShareElementLink(e)},this.reportShareLibraryLink=function(e){C&&A&&A.reportShareLibraryLink(e)},this.reportError=k,this.reportEvent=P,this.reportPanelEvent=function(e,t){this.reportEvent(e,t,!0)},this.setEnvironment=U,this.setUserId=function(e){return e?void(I!==e&&(I=e,T||(T=!0,U({product:f.currentProduct.config.fullName,version:v.getPluginVersion(),os:h.getOSInformation()}),h.evalScript("$._ADBE_LIBS_CORE.getApplicationVersion()").then(function(e){U({productVersion:e})}),y(I)),h.execApp("isAnalyticsEnabled").then(function(e){var t=!1;"boolean"==typeof e?t=e:"string"==typeof e&&(t="true"===e.toLowerCase()),M(t)}))):void M(!1)},this.flush=function(){O.flush()},this.setExtraEventMetrics=function(e,t){w[e]=t},S=function(e){return w[e]},this.getExtraEventMetrics=S,this.clearExtraEventMetrics=function(e){delete w[e]}}];t.attach=function(e){i.module(e).service("metrics",f)}}),define("services/interface/main",["require","exports","module","./csInterface","./imsInterface","./ccxInterface","./metrics"],function(e,t,n){"use strict";function i(t){e("./csInterface").attach(t),e("./imsInterface").attach(t),e("./ccxInterface").attach(t),e("./metrics").attach(t)}return{attach:i}}),define("services/managers/documentWatcher",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=0,o=["$rootScope","csInterface","fileUtils","configuration",function(e,t,n,i){var o={},a=function(){var e="documentListener"+r;return r++,e},s=function(e){var t;if(e.fullPath){var i=n.statFile(e.fullPath);t=i&&i.mtime}var r=!e.mtime||!t||e.mtime.getTime()!==t.getTime();return e.mtime=t,r},l=function(n){Object.keys(o).forEach(function(r){var a=o[r],l=n.data.substring(n.data.indexOf("<url>")+5,n.data.indexOf("</url>"));l=l.split("file://").join(""),"IDSN"===i.currentProduct.config.code&&(l=unescape(l));var c=a.tempFileId||a.path;if(l.indexOf(c)>0){var u="documentAfterDeactivate"!==n.type,d="documentAfterSave"===n.type,p=!1,f=function(e){a.callback(e),p=!0};u?d&&s(a)&&f("saved"):t.exec("CORE","isDocumentOpen",[a.fullPath]).then(function(e){if(void 0!==e&&"undefined"!==e){var t=JSON.parse(e);t||f("closed")}}),p&&!e.$$phase&&e.$apply()}})},c=function(e){l(e)},u=function(e){l(e)},d=function(){var e=Object.keys(o).length;e>0?1===e&&(t.addEventListener("documentAfterSave",c),t.addEventListener("documentAfterDeactivate",u)):0===e&&(t.removeEventListener("documentAfterSave",c),t.removeEventListener("documentAfterDeactivate",u))};this.startListening=function(e,t,n){var i=!1;if(Object.keys(o).forEach(function(e){o[e]&&o[e].fullPath===t&&(i=!0)}),!i){var r=a(),l=e&&e.match(/^.*_([0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}).*$/),c=l&&l[1],u={path:e,fullPath:t,tempFileId:c,callback:n,hasDocumentChanged:!1,previousChangedState:!1};return s(u),o[r]=u,d(),r}},this.stopListening=function(e){var t=o[e];t&&(delete o[e],d())},this.checkListenerExists=function(e,t){return o[e]?o[e].path===t.path&&o[e].callback===t.callback:!1}}];t.attach=function(e){i.module(e).service("documentWatcher",o)}}),define("services/managers/layerSelectionManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["csInterface","configuration","listenerUtils",function(e,t,n){function i(){s=!0,e.execApp("getLayerInfo").then(function(e){s=!1;try{o=JSON.parse(e)}catch(t){o=void 0}c.notify("layerSelectionChanged",o)})}function r(){e.execApp("getCurrentState").then(function(e){if(a=void 0,u=!1,e&&"undefined"!==e){try{var t=JSON.parse(e);a=t.path,u=-1!==t.layerID}catch(n){console.log(n)}i()}})}var o,a,s=!1,l=!1,c=n.addListenerManager(this,["layerSelectionChanged"]),u=!1;this.handleSelectionChange=function(){l&&r()},this.startListening=function(){l=!0,r()},this.stopListening=function(){l=!1},this.getLayerName=function(){return e.execApp("getLayerName")},this.getLayerInfo=function(){return o},this.requestUpdate=function(){s||i()},this.getCurrentDocumentName=function(){var e;try{a&&a.length>0&&(e=a.indexOf("/")>-1?a.substring(a.lastIndexOf("/")+1):a.substring(a.lastIndexOf("\\")+1))}catch(t){}return e},this.getCurrentDocumentPath=function(){return a},this.hasDocumentOpen=function(){return u}}];t.attach=function(e){i.module(e).service("layerSelectionManager",r)}}),define("services/managers/menuManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$translate","$rootScope","csInterface","listenerUtils",function(e,t,n,r){function o(e,t){var n="";Object.keys(e).forEach(function(t){void 0!==e[t]&&(n+=t+'="'+e[t]+'" ')});var i="";return t&&(i=s(t,!0)),"<MenuItem "+n+">"+i+"</MenuItem>"}function a(t){return window.sendRawMenuData?(t.forEach(function(t){t.label&&(t.label=e.instant(t.label,t.translationData))}),JSON.stringify(t)):s(t)}var s,l=r.addListenerManager(this,["flyoutMenuClicked","flyoutMenuOpened"]),c=function(t,n){return t=e.instant(t,n),t=t.replace(new RegExp("&","g"),"&amp;").replace(new RegExp('"',"g"),"&quot;").replace(new RegExp("'","g"),"&apos;").replace(new RegExp("<","g"),"&lt;").replace(new RegExp(">","g"),"&gt;")};s=function(e,t){var n="";return e.forEach(function(e){n+=e.divider?'<MenuItem Label="---"/>':o({Id:e.menuId,Label:c(e.label,e.translationData),Checkable:!0,Checked:e.checked,Enabled:e.hasOwnProperty("enableMenu")?e.enableMenu:!0},e.menuItems)}),t||(n="<Menu>"+n+"</Menu>"),n};var u=function(e,t,n){return t=t||{},n=n||"MENU",e.forEach(function(e,i){var r=n+"_"+i;e.menuId=r,t[r]=e,e.menuItems&&u(e.menuItems,t,r)}),t};this.setContextMenu=function(e){var i=u(e);n.setContextMenu(a(e),function(e){t.$apply(function(){i[e]&&i[e].onClick&&i[e].onClick()})})},window.oncontextmenu=function(){n.setContextMenu(s([]),i.noop)};var d;n.addEventListener("com.adobe.csxs.events.flyoutMenuClicked",function(e){var n=e.data.menuId;n&&d&&t.$apply(function(){d[n]&&d[n].onClick&&d[n].onClick()}),l.notify("flyoutMenuClicked",e)}),n.addEventListener("com.adobe.csxs.events.flyoutMenuOpened",function(e){l.notify("flyoutMenuOpened",e)}),this.setFlyoutMenu=function(e){d=u(e),n.setPanelFlyoutMenu(a(e))},this.updateFlyoutMenuItem=function(e,t,i){n.updatePanelMenuItem(e,t,i)}}];t.attach=function(e){i.module(e).service("menuManager",r)}}),define("services/managers/tempFileManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=256,r=e("angular"),o=["$q","configuration","fileUtils",function(e,t,n){function o(e,o){var a=e.split("/").pop(),s=t.strTempFolder+"/",l="."+n.getFileNameExtension(a),c=n.getUniqueFileName();if(r.isString(o)){var u=s.length+c.length+l.length+1;i-u<o.length&&(o=o.substring(0,i-u)),c="IDSN"===t.currentProduct.config.code||"ILST"===t.currentProduct.config.code?n.curateFileName(o)+"_"+c:n.curateFileName(o)}return s+c+l}function a(t,i){for(var r=e.defer(),a=o(t,i),s=a,l=1;n.existsFile(s);)s=n.getFileNameWithoutExtension(a)+"("+l++ +")."+n.getFileNameExtension(a);return n.copyFile(t,s,function(e,t){return e?void r.reject(e):void r.resolve(s)}),r.promise}var s={};this.createTempFile=function(e,t){return t.getContentPath().then(function(t){var n=e.getReference();return s[n]&&s[n].path===t?s[n].tempPath:a(t,e.name).then(function(e){return s[n]={path:t,tempPath:e},e})})},this.updateTempFile=function(e,t,n){t.getContentPath().then(function(t){var i=e.getReference();s[i]={path:t,tempPath:n},Object.keys(s).forEach(function(e){e!==i&&s[e].tempPath===n&&delete s[e]})})},this.deleteTempFile=function(e,t){n.deleteFile(t),Object.keys(s).forEach(function(e){s[e].tempPath===t&&delete s[e]})}}];t.attach=function(e){r.module(e).service("tempFileManager",o)}}),define("services/managers/themeManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$window","colorUtils","listenerUtils","csInterface","configuration",function(e,t,n,i,r){var o,a,s,l=n.addListenerManager(this,["colorThemeChanged"]),c=function(e,t){function n(e,t){var n=isNaN(t)?e:e+t;return 0>n?n=0:n>255&&(n=255),n=Math.round(n),n=n.toString(16),1===n.length?"0"+n:n}var i="";return e&&(i=n(e.red,t)+n(e.green,t)+n(e.blue,t)),i};this.getBaseFontSize=function(){return o},this.getBaseFontFamily=function(){return a},this.getBackgroundColor=function(){return s},this.updateTheme=function(e){var t=e.panelBackgroundColor.color;s=c(t),o=e.baseFontSize,a=e.baseFontFamily;var n="css/main.css",i=e.panelNamedTheme||r.currentProduct.config.themes[s];if(!i){var u,d;for(u=1;32>u&&(d=c(t,u),!(i=r.currentProduct.config.themes[d]));u+=1);}i||(i=r.currentProduct.config.defaultTheme),i&&(n=r.currentProduct.config.code+"/css/"+i+"/main.css");var p=document.getElementsByTagName("link"),f=p[p.length-1],h=f.cloneNode(!0),m=h.getAttribute("href"),g="";
-1!==m.indexOf("//")&&(g=m.split("/").slice(0,3).join("/")+"/"),h.setAttribute("href",g+n),f.parentNode.appendChild(h),setTimeout(function(){f.parentNode.removeChild(f)},20),l.notify("colorThemeChanged")};var u=function(t){var n=JSON.parse(e.__adobe_cep__.getHostEnvironment()).appSkinInfo;this.updateTheme(n)}.bind(this);this.updateTheme(i.hostEnvironment.appSkinInfo),i.addEventListener(CSInterface.THEME_COLOR_CHANGED_EVENT,u)}];t.attach=function(e){i.module(e).service("themeManager",r)}}),define("services/managers/versionManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$http","$q","csInterface","configuration","fileUtils",function(e,t,n,i,r){var o;this.getPluginVersion=function(){if(!o)try{var e=n.getPluginPath()+"/CSXS/manifest.xml",t=r.readFile(e,"utf8"),i=new DOMParser,a=i.parseFromString(t,"text/xml"),s=a.getElementsByTagName("ExtensionManifest")[0];o=s&&s.getAttribute("ExtensionBundleVersion")}catch(l){o="2.7.122"}return o}}];t.attach=function(e){i.module(e).service("versionManager",r)}}),define("services/managers/main",["require","exports","module","./documentWatcher","./layerSelectionManager","./menuManager","./tempFileManager","./themeManager","./versionManager"],function(e,t,n){"use strict";function i(t){e("./documentWatcher").attach(t),e("./layerSelectionManager").attach(t),e("./menuManager").attach(t),e("./tempFileManager").attach(t),e("./themeManager").attach(t),e("./versionManager").attach(t)}return{attach:i}}),define("services/utils/adobeStockLicenseUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$translate","$window","configuration","debugLog","listenerUtils","adobeStockRestService","ccLibraries","metrics","adobeStockUtils","linkUtils","csInterface","designLibraryManager","adobeStockUpdateUtils","fileUtils","designLibraryUtils",function(e,t,n,i,r,o,a,s,l,c,u,d,p,f,h,m){function g(e,n,i,r,o){n=n?t.instant(n):t.instant("DL_STOCK_PURCHASE_DIALOG_TITLE"+c.getLocalizationSuffix(e)),A.notify("showStockPurchaseDialog",n,i,r,o)}function v(e,t){A.notify("showStockPurchaseDialog",e,t)}function _(e){return t.instant("DL_STOCK_PURCHASE_SERVICE_UNAVAILABLE_ERROR"+c.getLocalizationSuffix(e))}function y(e){return t.instant("DL_STOCK_PURCHASE_OFFLINE_ERROR"+c.getLocalizationSuffix(e))}function E(e){return t.instant("DL_STOCK_PURCHASE_UNKNOWN_ERROR"+c.getLocalizationSuffix(e))}function b(e,t){n.navigator.onLine?t&&404!==t&&408!==t&&500!==t&&502!==t&&503!==t?g(e,"DL_STOCK_PURCHASE_ERROR_TITLE",E(e)):g(e,"DL_STOCK_PURCHASE_ERROR_TITLE",_(e)):g(e,"DL_STOCK_PURCHASE_OFFLINE_ERROR_TITLE",y(e))}function L(e,t,n,i){e&&e.id&&l.reportCheckoutElement(e,n,i)}function S(e,t){return t.type===i.VIDEO_ELEMENT_TYPE&&e?-1===e.indexOf("Video_")?"Video_"+e:e:c.getLicenseType(t)}var A=o.addListenerManager(this,["showStockPurchaseDialog"]),T=function(t,n,i,o,s){var l=e.defer(),d=S(s,t);return a.licenseImage(n,i,d).then(function(e){var n=e&&e.contents&&e.contents[i],a=n&&n.purchase_details,s=a&&a.state,d=e&&e.member&&e.member.stock_id;return s?(L(t,i,o,"complete;"+s),"just_purchased"===s||"purchased"===s?l.resolve({contentId:i,stockId:d,imageContents:n,cartId:o}):("not_possible"!==s&&r.log("Unexpected state in response from Adobe Stock licensing service: "+s),a.url&&u.launchLicenseURL(a.url),l.reject("STOCK_PURCHASE_FAILED"))):(L(t,i,o,"complete;error"),g(t,"DL_STOCK_PURCHASE_ERROR_TITLE","DL_STOCK_PURCHASE_UNKNOWN_ERROR"+c.getLocalizationSuffix(t)),l.reject("STOCK_PURCHASE_ERROR"))},function(e){return L(t,i,o,"complete;error"),b(t,e),l.reject("STOCK_PURCHASE_FAILED")}),l.promise},C=function(e,t,n,i,o,s){L(e,n,i,"cancel;yes"),a.notifyAbandonedTransaction(t,n,S(s,e),o).then(function(e){r.log("Successfully notified abandoned stock license transaction")},function(e){r.log("Failed to notify of abandoned stock license transaction, status: "+e)})},I=function(t,n,r,o,a,s,l){var u=e.defer();if(!m.canAddElement(t))return u.reject("DL_DESIGN_LIBRARY_HAS_LIMIT"),u.promise;var d=l||t.createElement(r.title,n),p=[],f=d.createRepresentation(r.content_type,"primary");c.setStockData(f,{content_id:r.id,stock_id:r.stock_id,state:i.STOCK_STATE_NOT_PURCHASED,method:s&&s.method,premiumLevel:r.premium_level_id}),s&&s.searchText&&c.setStockSearchQuery(f,s.searchText),n===i.VIDEO_ELEMENT_TYPE&&a&&-1===a.indexOf("Video_")&&(a="Video_"+a);var g={url:"",width:0,height:0};c.canSaveComp(r)&&(g=r.comps[a]);var v=f.setContentFromURL(!0,g.url,{}).then(function(){return f.width=g.width,f.height=g.height,r.content_length&&(f.contentLength=r.content_length),n===i.VIDEO_ELEMENT_TYPE&&f.setValue("video","data",{framerate:r.framerate,duration:r.duration}),f});p.push(v);var _=[];if(o&&o.path){var y=d.createRepresentation(h.fileNameToContentType(o.path),"rendition"),E=y.setContentFromPath(o.path,!1).then(function(){o.width&&(y.width=o.width),o.height&&(y.height=o.height)});p.push(E);var b=e.defer(),L=function(){b.resolve(d)};d.setThumbnailCache(i.IMAGE_RENDITION_SIZE,o.path,L),_.push(b)}var S=function(){t.removeElement(d,!0),u.reject()};return e.all(p).then(function(){_.push(d.endOperation()),e.all(_).then(function(){u.resolve(d)},S)},S),u.promise},D=function(e,n,i,r,o,a,s,c,u,d,h){T(e,n,i,d,o).then(function(n){if(!n)return void h.reject("STOCK_PURCHASE_FAILED");var i=a?p.getLibraryById(a):e.library||p.getCurrentLibrary();if(i&&!i.isWritable)return h.reject({code:"LIBRARY_NOT_WRITEABLE",licenseType:o}),void f.updateLicenses(n);if(!a)return void f.updateLicenses(n).then(function(){h.resolve(n)});var r=function(e){"DL_DESIGN_LIBRARY_HAS_LIMIT"===e?v(t.instant("DL_DESIGN_LIBRARY_HAS_LIMIT_TITLE"),t.instant("DL_DESIGN_LIBRARY_HAS_LIMIT")):v(t.instant("DL_STOCK_SAVE_UNKNOWN_ERROR_TITLE"),t.instant("DL_STOCK_SAVE_UNKNOWN_ERROR")),l.reportError("stockSaveError"),h.reject("DL_STOCK_SAVE_UNKNOWN_ERROR")},d=function(e){n.createdElementRef=e.getReference(),f.updateLicenses(n).then(function(){h.resolve(n)})},m=p.getLibraryById(a);if(!m)return void r();var g=n.imageContents.purchase_details;I(m,e.type,c,s,g.license,u).then(d,r)},function(e){h.reject(e)})};this.showStockError=v,this.createStockElement=I,this.showLicenseDialog=function(t,n,r,o,a,s,l,c){var u=e.defer();if(r&&o){var f=p.getPrivateLibraryCollection().userId;return this.doLicense(t,f,n,r,o,a,s,c,l).then(function(e){u.resolve(e)},function(e){u.reject(e)}),u.promise}var h=function(e){d.removeEventListener("com.adobe.inapp.purchase.init",h);var i,u=new CSEvent("com.adobe.inapp.purchase.perform","APPLICATION","CCLibrariesPanel",d.getExtensionID());"function"==typeof t.getReference&&(i=t.getReference()),u.data={elementRef:i,elementType:t.type,elementName:t.name,contentId:n,skipQuotaCheck:r,licenseType:o,metadata:l,addToLibraryID:a,renditionDetails:s,stockSearchAsset:c},d.dispatchEvent(u)};d.addEventListener("com.adobe.inapp.purchase.init",h);var m=function(e){if(d.removeEventListener("com.adobe.inapp.purchase.closed",m),d.removeEventListener("com.adobe.csxs.events.ExtensionUnloaded",m),"com.adobe.csxs.events.ExtensionUnloaded"===e.type){var t=new DOMParser,n=t.parseFromString(e.data,"text/xml");if(n.getElementsByTagName("Id")[0].childNodes[0].nodeValue!==i.PURCHASE_EXTENSION_ID||"1"!==n.getElementsByTagName("ClosingType")[0].childNodes[0].nodeValue)return}var r=e.data;r.didFinish?u.resolve(r.data):u.reject(r.data)};return d.addEventListener("com.adobe.inapp.purchase.closed",m),d.addEventListener("com.adobe.csxs.events.ExtensionUnloaded",m),d.requestOpenExtension(i.PURCHASE_EXTENSION_ID),u.promise};var w=function(e,n,r,o){var a=c.getLicenseTypesFromSearchResult(e);if(e.is_licensed&&e.is_licensed===i.STOCK_VIDEO_LICENSE_TYPE_4K.field)return void r(i.STOCK_VIDEO_LICENSE_TYPE_4K.label,!0);var s=n?t.instant("DL_STOCK_PURCHASE_DIALOG_TITLE_VIDEO"):t.instant("DL_STOCK_PURCHASE_DIALOG_TITLE_SAVE_VIDEO"),l=n?t.instant("DL_STOCK_PURCHASE_DIALOG_VIDEO_TYPE_MESSAGE"):t.instant("DL_STOCK_PURCHASE_DIALOG_VIDEO_SAVE_TYPE_MESSAGE");l+="<br><br>";var u=0;for(u=a.length-1;u>=0;u--)l+=a[u].label+" : "+a[u].resolution+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";var d=function(t){var n=S(t,{type:i.VIDEO_ELEMENT_TYPE});r(t,n===e.is_licensed)};a.length>1?A.notify("showStockPurchaseDialog",s,l,d,o,a[0].label,a[1].label):r(a[0].label,!1)},O=function(n,r,o,l,c,d,p,f,h,m){var v=m||e.defer(),_=s.utils.generateUuid();L(n,o,_,"right click;yes");var y=function(e,t){O(n,r,o,t,e,d,p,f,h,v)};if(void 0===f){var A;return n.type===i.TEMPLATE_ELEMENT_TYPE&&(A={template:1}),a.searchStockAssets(r,o,null,null,A).then(function(e){return void 0===e||0===e.length?(g(n,"DL_STOCK_PURCHASE_ERROR_TITLE",E(n)),void v.reject("STOCK_PURCHASE_FAILED")):(f=e[0],void y(c,l))},function(e){b(n,e),v.reject("STOCK_PURCHASE_FAILED")}),v.promise}l!==!0&&(l=f.is_licensed&&""!==f.is_licensed?!0:!1);var T=function(){v.reject("STOCK_PURCHASE_CANCELLED")};return n.type!==i.VIDEO_ELEMENT_TYPE||c?(l?D(n,r,o,l,c,d,p,f,h,_,v):a.getUserQuota(r,o,S(c,n)).then(function(e){var i=e&&e.purchase_options,a=i&&i.state,s=i&&i.message,m=i&&i.url,y=function(){m?(u.launchLicenseURL(m),L(n,o,_,"stock site;purchase"),v.reject("STOCK_PURCHASE_ON_WEBSITE")):D(n,r,o,l,c,d,p,f,h,_,v)},b=function(){a&&C(n,r,o,_,a,c),v.reject("STOCK_PURCHASE_CANCELLED")},S=function(e){var t=50;return e.length>t?e.substring(0,t-3)+"...":e};if(L(n,o,_,"user quota;"+a),"possible"===a||"overage"===a){var A=n.name||f.title,T=t.instant(d?"DL_STOCK_LICENSE_SAVE_TITLE_MSG":"DL_STOCK_LICENSE_TITLE_MSG"),I=T+' "'+A;return s=S(I)+'"<br><br>'+s,void g(n,void 0,s,y,b)}if("not_possible"===a){if(s)return void g(n,void 0,s,y,b);if(m)return u.launchLicenseURL(m),L(n,o,_,"stock site;purchase"),void v.reject("STOCK_PURCHASE_ON_WEBSITE")}g(n,"DL_STOCK_PURCHASE_ERROR_TITLE",E(n)),v.reject("STOCK_PURCHASE_ERROR")},function(e){b(n,e),v.reject("STOCK_PURCHASE_ERROR")}),v.promise):(w(f,!0,y,T),v.promise)};this.showVideoTypeChooser=w,this.doLicense=O}];t.attach=function(e){i.module(e).service("adobeStockLicenseUtils",r)}}),define("services/utils/adobeStockRendererUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$translate","adobeStockUtils","digestUtils","designLibraryManager","designLibraryElements",function(e,t,n,i,r){this.bindStockInfoToScope=function(o){function a(){o.tooltip&&(o.tooltip.isStockAsset=t.isStockAsset(o.component),o.tooltip.isStockAsset&&(o.tooltip.isLicensed=t.isLicensed(o.component)))}function s(){void 0===o.downloadProgress?o.downloadTooltip=e.instant("DL_LINK_DOWNLOAD_TOOLTIP"):-1===o.downloadProgress?o.downloadTooltip=e.instant("DL_LINK_DOWNLOAD_FAIL_TOOLTIP"):o.downloadTooltip=e.instant("DL_LINK_DOWNLOAD_PROGRESS_TOOLTIP",{percent:o.downloadProgress}),a()}function l(){var e=o.downloadProgress;o.downloadProgress=r.getElementDownloadProgress(o.component);var t=o.downloadPending;o.downloadPending=r.isElementDownloadPending(o.component),(o.downloadPending!==t||o.downloadProgress!==e)&&(s(),n.triggerDigest())}return o.downloadPending=!1,i.addScopedListener(o,"libraryStatus",l),function(){l(),s()}}}];t.attach=function(e){i.module(e).service("adobeStockRendererUtils",r)}}),define("services/utils/adobeStockUpdateUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","configuration","designLibraryManager","adobeStockUtils","designLibraryElements",function(e,t,n,i,r){function o(e){if(!e)return!1;var t=["purchase_details","thumbnail"];return t.every(function(t){return e[t]&&e[t].url&&e[t].content_type})}function a(e,t){return""===e||""===t?!1:!0}function s(n,s,l,c){if(!o(c))return e.reject("Invalid data from license API: "+JSON.stringify(c));var u=c.purchase_details,d=i.canSaveComp(null,n)&&c.comp,p=c.thumbnail,f=i.getStockSearchQuery(n),h=i.getStockMethod(n),m=i.getStockPremiumLevel(n),g={content_id:s,license:u.license,state:t.STOCK_STATE_PURCHASED,method:h,premiumLevel:m};l&&(g.stock_id=l.toString()),n.beginOperation();var v=[],_=function(e){e.setValue(t.STOCK_NAMESPACE,t.STOCK_DATA_KEY,g),f&&i.setStockSearchQuery(e,f),n.type===t.VIDEO_ELEMENT_TYPE&&(u.framerate||u.duration)&&e.setValue("video","data",{framerate:u.framerate,duration:u.duration});var r=e.setContentFromURL(!0,u.url,{}).then(function(){u.width&&(e.width=u.width),u.height&&(e.height=u.height),e.isFullSize=!0,u.content_length&&(e.contentLength=u.content_length)});v.push(r)},y=n.getPrimaryRepresentation(),E=d&&d.url;if(y&&y.isExternalLink&&a(y.getContentURL(),E))y.relationship="rendition",_(n.createRepresentation(u.content_type,"primary",0,!0));else{n.removeAllRepresentations();var b=n.createRepresentation(u.content_type,"primary");if(_(b),d){var L=n.createRepresentation(d.content_type,"rendition");L.setValue(t.STOCK_NAMESPACE,t.STOCK_DATA_KEY,{content_id:s,state:t.STOCK_STATE_NOT_PURCHASED,method:h}),n.type===t.VIDEO_ELEMENT_TYPE&&(d.framerate||d.duration)&&L.setValue("video","data",{framerate:d.framerate,duration:d.duration});var S=L.setContentFromURL(!0,d.url,{}).then(function(){d.width&&(L.width=d.width),d.height&&(L.height=d.height),d.content_length&&(L.contentLength=d.content_length)});v.push(S)}var A=n.createRepresentation(p.content_type,"rendition"),T=A.setContentFromURL(!1,p.url,{}).then(function(){return p.width&&(A.width=p.width),p.height&&(A.height=p.height),A.getContentPath().then(function(e){e&&n.setThumbnailCache(r.getRenditionSize(n),e)})});v.push(T)}var C=function(){return n.endOperation()};return e.all(v).then(C,C)}this.updateLicenses=function(t){var r=[],o=String(t.contentId),a=t.stockId,l=t.imageContents,c=n.getLibraries();return c&&c.forEach(function(e){e.isWritable&&e.elements.forEach(function(e){if(i.getStockId(e)===o&&!i.isLicensed(e)){var t=s(e,o,a,l);r.push(t)}})}),e.all(r)}}];t.attach=function(e){i.module(e).service("adobeStockUpdateUtils",r)}}),define("services/utils/adobeStockUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["configuration",function(e){var t=function(t){return t&&t.getValue(e.STOCK_NAMESPACE,e.STOCK_DATA_KEY)};this.getStockData=t,this.setStockData=function(t,n){t.setValue(e.STOCK_NAMESPACE,e.STOCK_DATA_KEY,n)};var n=function(e,i){var r=void 0===i?e.getPrimaryRepresentation():e.representations[i],o=t(r);if(o&&r.isExternalLink&&r.getCachedExternalLinkError()&&""!==r.getContentURL()){var a=n(e,void 0===i?0:i+1);o=a?a:{content_id:o.content_id,stock_id:o.stock_id,state:"not_purchased",method:o.method,premiumLevel:o.premiumLevel}}return o};this.getStockDataForElement=n,this.isStockAsset=function(e){var t=""!==this.getLocalizationSuffix(e),n=void 0!==this.getStockDataForElement(e);return t&&n},this.isLicensed=function(t){var i=n(t);return i&&i.state===e.STOCK_STATE_PURCHASED?!0:!1},this.getStockId=function(e){var t=this.getStockDataForElement(e);return t?String(t.content_id):null},this.getStockMethod=function(e){var t=this.getStockDataForElement(e);return t?String(t.method):null},this.getStockPremiumLevel=function(e){var t=this.getStockDataForElement(e);return t?t.premiumLevel:null},this.getStockSearchQuery=function(e){var t;return e.representations.some(function(e){return t=e.getValue("stock","query")}),t},this.setStockSearchQuery=function(e,t){e&&e.setValue("stock","query",t)},this.getLocalizationSuffix=function(t){if(t){if(t.type===e.IMAGE_ELEMENT_TYPE)return"_PHOTO";if(t.type===e.VIDEO_ELEMENT_TYPE)return"_VIDEO";if(t.type===e.TEMPLATE_ELEMENT_TYPE)return"_TEMPLATE"}return""},this.getLicenseType=function(t){if(t){if(t.type===e.IMAGE_ELEMENT_TYPE)return"Standard";if(t.type===e.VIDEO_ELEMENT_TYPE)return"Video_Original";if(t.type===e.TEMPLATE_ELEMENT_TYPE)return"Standard"}return"Standard"},this.getStockEditError=function(t){var n=t.getPrimaryRepresentation(),i=n&&this.getStockData(n),r=i&&i.state===e.STOCK_STATE_PURCHASED;return r&&n.isExternalLink&&n.getCachedExternalLinkError()?"DL_STOCK_LICENSE_TO_EDIT"+this.getLocalizationSuffix(t):void 0},this.getStockTemplateUseError=function(t){if(t.type===e.TEMPLATE_ELEMENT_TYPE){var n=t.getPrimaryRepresentation(),i=n&&this.getStockData(n),r=i&&i.state===e.STOCK_STATE_PURCHASED;if(r&&n.isExternalLink&&n.getCachedExternalLinkError())return"DL_STOCK_LICENSE_TO_USE_TEMPLATE"}},this.getLicenseTypesFromSearchResult=function(t){var n=[];return e.STOCK_VIDEO_LICENSE_TYPES.forEach(function(e){if(t.comps&&t.comps[e.field]){var i=t.comps[e.field];n.push({field:e.field,label:e.label,resolution:i.width+" x "+i.height})}}),n},this.getCompSizeFromSearchResult=function(e){var t=300,n=72,i=e.comp_height,r=e.comp_width;if(3===e.media_type_id||4===e.media_type_id)return{width:r,height:i};var o=e.width,a=r/o,s=t*a,l=n/s;return{width:r*l,height:i*l}},this.isFreeAsset=function(t){return t.premium_level_id===e.STOCK_FREE_CONTENT_LEVEL_ID},this.isPremiumAsset=function(t){return e.STOCK_PREMIUM_CONTENT_LEVEL_IDS.indexOf(t.premium_level_id)>-1},this.canSaveComp=function(t,n){return t?7!==t.media_type_id&&!this.isFreeAsset(t)&&t.comps&&0!==t.comps.length:n?n.type!==e.TEMPLATE_ELEMENT_TYPE:!1}}];t.attach=function(e){i.module(e).service("adobeStockUtils",r)}}),define("services/utils/apiHttpInterceptor",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q",function(t){return{request:function(t){var n=!!e.toUrl;return window.noFileSystemAccess?t.url="http://localhost:3001/js/"+t.url:t.url.indexOf(".tmpl.html")===t.url.length-10&&n&&(t.url="js/"+t.url+"?cachebuster="+Math.random()),t},responseError:function(e){return t.reject(e)}}}];t.attach=function(e){i.module(e).config(["$httpProvider",function(e){e.interceptors.push(r)}])}}),define("services/utils/colorUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["configuration",function(e){this.serviceName="colorUtils",this.rgbToHex=function(e){var t=e.red<<16|e.green<<8|e.blue,n="000000"+t.toString(16);return"#"+n.substr(n.length-6)},this.hexToRGB=function(e){return e="#"===e.charAt(0)?e.substring(1):e,{red:parseInt(e.substring(0,2),16),green:parseInt(e.substring(2,4),16),blue:parseInt(e.substring(4,6),16)}},this.getBrightness=function(e){return(e.red+e.green+e.blue)/3},this.getBorder=function(e){var t=this.getBrightness(e);return t>225?"1px solid black":"none"},this.colorDataToRGB=function(e,t){if(Array.isArray(e)&&(e=this.getRGBRepresentation(e)),e&&e.value){var n=t?t(e.value.r):e.value.r,i=t?t(e.value.g):e.value.g,r=t?t(e.value.b):e.value.b;return{red:n,green:i,blue:r}}},this.colorDataToHexValue=function(t){var n=i.isFunction(e.currentProduct.config.rgbRound)?e.currentProduct.config.rgbRound:!1,r=this.colorDataToRGB(t,n);return r?this.rgbToHex(r):""},this.colorDataToRGBA=function(e,t){var n=this.colorDataToRGB(e,Math.round);return"rgba("+n.red+","+n.green+","+n.blue+","+t+")"},this.getStringColorValue=function(e){var t;return e&&("CMYK"===e.mode?t="C"+Math.round(e.value.c)+" M"+Math.round(e.value.m)+" Y"+Math.round(e.value.y)+" K"+Math.round(e.value.k):"RGB"===e.mode?t="R"+Math.round(e.value.r)+" G"+Math.round(e.value.g)+" B"+Math.round(e.value.b):"Lab"===e.mode?t="L"+Math.round(e.value.l)+" A"+Math.round(e.value.a)+" B"+Math.round(e.value.b):"HSB"===e.mode?t="H"+Math.round(e.value.h)+" S"+Math.round(e.value.s)+" B"+Math.round(e.value.b):"Gray"===e.mode&&(t="G"+Math.round(e.value))),t},this.getRGBRepresentation=function(e){var t=e.filter(function(e){return"RGB"===e.mode});return t.length>0?t[0]:void 0}}];t.attach=function(e){i.module(e).service("colorUtils",r)}}),define("services/utils/debugLog",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$window","csInterface","configuration","localSettings","fileUtils",function(e,t,n,r,o){function a(e){u.stat(g,function(t,n){return!t&&n.size>c?void u.rename(g,v,e):void e(null)})}function s(){o.ensurePathExists(d,function(e){return e?(h=void 0,void console.info(e)):void a(function(e){if(e)return h=void 0,void console.info(e);var t=h;h=void 0,y=!0,u.appendFile(g,t,function(e){e&&console.info(e),y=!1,h&&s()})})})}var l,c=5242880,u=nodeRequire("fs");u&&(l=process.env);var d;if(t.isWindowsOS()){var p=l&&l.TEMP.replace(/\\/g,"/");d=p+"/CreativeCloud/Creative Cloud Libraries"}else d=l&&l.HOME+"/Library/Logs/CreativeCloud/Creative Cloud Libraries";var f;f=t.isLibrariesPanel()?"CC Library Panel "+t.getAppName()+" "+t.getAppVersion():"Purchase Extension "+t.getAppName()+" "+t.getAppVersion();var h,m=".log",g=d+"/"+f+m,v=d+"/"+f+" (prev)"+m,_=d+"/"+f+" (jsx)"+m,y=!1;this.init=function(){if(t.exec("CORE","setLogPath",[_]),t.exec("CORE","writeToLog",["","--- Starting new session ---"]),i.BUILT&&!window.logOverride){var e=this;console.log=function(t){var n=Array.prototype.slice.call(arguments).map(function(e){if(null!==e&&"object"==typeof e)try{e=JSON.stringify(e)}catch(t){}return e}).join(" ");e.log(n)}}},this.log=function(e){if(!u)return i.BUILT?void console.info(e):void console.log(e);if(window.logOverride)return void window.logOverride(e);var t=(new Date).toString()+" "+e+"\n";h?h+=t:(h=t,y||s())},this.showLogFile=function(n){var i=t.isWindowsOS()?"start":"/usr/bin/open";e.cep.process.createProcess(i,n?_:g)},this.getLogFolder=function(){return d}}];t.attach=function(e){i.module(e).service("debugLog",r)}}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("jszip",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.JSZip=e()}}(function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,a,s,l,c,u=[],d=0,p=e.length,f=p,h="string"!==i.getTypeOf(e);d<e.length;)f=p-d,h?(t=e[d++],n=p>d?e[d++]:0,r=p>d?e[d++]:0):(t=e.charCodeAt(d++),n=p>d?e.charCodeAt(d++):0,r=p>d?e.charCodeAt(d++):0),a=t>>2,s=(3&t)<<4|n>>4,l=f>1?(15&n)<<2|r>>6:64,c=f>2?63&r:64,u.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(c));return u.join("")},n.decode=function(e){var t,n,i,a,s,l,c,u=0,d=0,p="data:";if(e.substr(p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var f=3*e.length/4;if(e.charAt(e.length-1)===o.charAt(64)&&f--,e.charAt(e.length-2)===o.charAt(64)&&f--,f%1!==0)throw new Error("Invalid base64 input, bad content length.");var h;for(h=r.uint8array?new Uint8Array(0|f):new Array(0|f);u<e.length;)a=o.indexOf(e.charAt(u++)),s=o.indexOf(e.charAt(u++)),l=o.indexOf(e.charAt(u++)),c=o.indexOf(e.charAt(u++)),t=a<<2|s>>4,n=(15&s)<<4|l>>2,i=(3&l)<<6|c,h[d++]=t,64!==l&&(h[d++]=n),64!==c&&(h[d++]=i);return h}},{"./support":27,"./utils":29}],2:[function(e,t,n){"use strict";function i(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}var r=e("./external"),o=e("./stream/DataWorker"),a=e("./stream/DataLengthProbe"),s=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");i.prototype={getContentWorker:function(){var e=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},i.createWorkerFrom=function(e,t,n){return e.pipe(new s).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=i},{"./external":6,"./stream/Crc32Probe":22,"./stream/DataLengthProbe":23,"./stream/DataWorker":24}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\x00\x00",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":25}],4:[function(e,t,n){"use strict";function i(){for(var e,t=[],n=0;256>n;n++){e=n;for(var i=0;8>i;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function r(e,t,n,i){var r=s,o=i+n;e^=-1;for(var a=i;o>a;a++)e=e>>>8^r[255&(e^t[a])];return-1^e}function o(e,t,n,i){var r=s,o=i+n;e^=-1;for(var a=i;o>a;a++)e=e>>>8^r[255&(e^t.charCodeAt(a))];return-1^e}var a=e("./utils"),s=i();t.exports=function(e,t){if("undefined"==typeof e||!e.length)return 0;var n="string"!==a.getTypeOf(e);return n?r(0|t,e,e.length,0):o(0|t,e,e.length,0)}},{"./utils":29}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){(function(n){"use strict";var i=n.Promise||e("lie");t.exports={Promise:i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{lie:56}],7:[function(e,t,n){"use strict";function i(e,t){s.call(this,"FlateWorker/"+e),this._pako=new o[e]({raw:!0,level:t.level||-1}),this.meta={};var n=this;this._pako.onData=function(e){n.push({data:e,meta:n.meta})}}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=e("pako"),a=e("./utils"),s=e("./stream/GenericWorker"),l=r?"uint8array":"array";n.magic="\b\x00",a.inherits(i,s),i.prototype.processChunk=function(e){this.meta=e.meta,this._pako.push(a.transformTo(l,e.data),!1)},i.prototype.flush=function(){s.prototype.flush.call(this),this._pako.push([],!0)},i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},n.compressWorker=function(e){return new i("Deflate",e)},n.uncompressWorker=function(){return new i("Inflate",{})}},{"./stream/GenericWorker":25,"./utils":29,pako:57}],8:[function(e,t,n){"use strict";function i(e,t,n,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var r=e("../utils"),o=e("../stream/GenericWorker"),a=e("../utf8"),s=e("../crc32"),l=e("../signature"),c=function(e,t){var n,i="";for(n=0;t>n;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},u=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16},d=function(e,t){return 63&(e||0)},p=function(e,t,n,i,o,p){var f,h,m=e.file,g=e.compression,v=p!==a.utf8encode,_=r.transformTo("string",p(m.name)),y=r.transformTo("string",a.utf8encode(m.name)),E=m.comment,b=r.transformTo("string",p(E)),L=r.transformTo("string",a.utf8encode(E)),S=y.length!==m.name.length,A=L.length!==E.length,T="",C="",I="",D=m.dir,w=m.date,O={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(O.crc32=e.crc32,O.compressedSize=e.compressedSize,O.uncompressedSize=e.uncompressedSize);var R=0;t&&(R|=8),v||!S&&!A||(R|=2048);var x=0,N=0;D&&(x|=16),"UNIX"===o?(N=798,x|=u(m.unixPermissions,D)):(N=20,x|=d(m.dosPermissions,D)),f=w.getUTCHours(),f<<=6,f|=w.getUTCMinutes(),f<<=5,f|=w.getUTCSeconds()/2,h=w.getUTCFullYear()-1980,h<<=4,h|=w.getUTCMonth()+1,h<<=5,h|=w.getUTCDate(),S&&(C=c(1,1)+c(s(_),4)+y,T+="up"+c(C.length,2)+C),A&&(I=c(1,1)+c(s(b),4)+L,T+="uc"+c(I.length,2)+I);var P="";P+="\n\x00",P+=c(R,2),P+=g.magic,P+=c(f,2),P+=c(h,2),P+=c(O.crc32,4),P+=c(O.compressedSize,4),P+=c(O.uncompressedSize,4),P+=c(_.length,2),P+=c(T.length,2);var k=l.LOCAL_FILE_HEADER+P+_+T,M=l.CENTRAL_FILE_HEADER+c(N,2)+P+c(b.length,2)+"\x00\x00\x00\x00"+c(x,4)+c(i,4)+_+T+b;return{fileRecord:k,dirRecord:M}},f=function(e,t,n,i,o){var a="",s=r.transformTo("string",o(i));return a=l.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+c(e,2)+c(e,2)+c(t,4)+c(n,4)+c(s.length,2)+s},h=function(e){var t="";return t=l.DATA_DESCRIPTOR+c(e.crc32,4)+c(e.compressedSize,4)+c(e.uncompressedSize,4)};r.inherits(i,o),i.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},i.prototype.openedSource=function(e){if(this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name,this.streamFiles&&!e.file.dir){var t=p(e,this.streamFiles,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:t.fileRecord,meta:{percent:0}})}else this.accumulate=!0},i.prototype.closedSource=function(e){this.accumulate=!1;var t=p(e,this.streamFiles,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(t.dirRecord),this.streamFiles&&!e.file.dir)this.push({data:h(e),meta:{percent:100}});else for(this.push({data:t.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=f(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},i.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=i},{"../crc32":4,"../signature":20,"../stream/GenericWorker":25,"../utf8":28,"../utils":29}],9:[function(e,t,n){"use strict";var i=e("../compressions"),r=e("./ZipFileWorker"),o=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r};n.generateWorker=function(e,t,n){var i=new r(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach(function(e,n){a++;var r=o(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(r,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)}),i.entriesCount=a}catch(s){i.error(s)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=e("./object"),i.prototype.loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.1.1",i.loadAsync=function(e,t){return(new i).loadAsync(e,t);
},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":13,"./support":27}],11:[function(e,t,n){"use strict";function i(e){return new o.Promise(function(t,n){var i=e.decompressed.getContentWorker().pipe(new l);i.on("error",function(e){n(e)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}var r=e("./utils"),o=e("./external"),a=e("./utf8"),r=e("./utils"),s=e("./zipEntries"),l=e("./stream/Crc32Probe"),c=e("./nodejsUtils");t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(e)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new s(t);return n.load(e),n}).then(function(e){var n=[o.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var a=0;a<r.length;a++)n.push(i(r[a]));return o.Promise.all(n)}).then(function(e){for(var i=e.shift(),r=i.files,o=0;o<r.length;o++){var a=r[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},{"./external":6,"./nodejsUtils":12,"./stream/Crc32Probe":22,"./utf8":28,"./utils":29,"./zipEntries":30}],12:[function(e,t,n){(function(e){"use strict";t.exports={isNode:"undefined"!=typeof e,newBuffer:function(t,n){return new e(t,n)},isBuffer:function(t){return e.isBuffer(t)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],13:[function(e,t,n){"use strict";function i(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var r=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),p=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),h=function(e,t,n){var i,r=o.getTypeOf(t);n=o.extend(n||{},l),n.date=n.date||new Date,null!==n.compression&&(n.compression=n.compression.toUpperCase()),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(e=g(e)),n.createFolders&&(i=m(e))&&v.call(this,i,!0);var s="string"===r&&n.binary===!1&&n.base64===!1;n.binary=!s;var d=t instanceof c&&0===t.uncompressedSize;(d||n.dir||!t||0===t.length)&&(n.base64=!1,n.binary=!0,t="",n.compression="STORE",r="string");var h=null;h=t instanceof c||t instanceof a?t:p.isNode&&p.isStream(t)?new f(e,t):o.prepareContent(e,t,n.binary,n.optimizedBinaryString,n.base64);var _=new u(e,h,n);this.files[e]=_},m=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},v=function(e,t){return t="undefined"!=typeof t?t:l.createFolders,e=g(e),this.files[e]||h.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},_={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],n=t.slice(this.root.length,t.length),n&&t.slice(0,this.root.length)===this.root&&e(n,i))},filter:function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(i)}),t},file:function(e,t,n){if(1===arguments.length){if(i(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}var o=this.files[this.root+e];return o&&!o.dir?o:null}return e=this.root+e,h.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(i(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=v.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if(n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode}),n.type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==e.platform&&"freebsd"!==e.platform&&"linux"!==e.platform&&"sunos"!==e.platform||(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var i=n.comment||this.comment||"";t=d.generateWorker(this,n,i)}catch(l){t=new a("error"),t.error(l)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return e=e||{},e.type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":33,"./nodejsUtils":12,"./stream/GenericWorker":25,"./stream/StreamHelper":26,"./utf8":28,"./utils":29,"./zipObject":32}],14:[function(e,t,n){"use strict";function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}var r=e("./DataReader"),o=e("../utils");o.inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":29,"./DataReader":15}],15:[function(e,t,n){"use strict";function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}var r=e("../utils");i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||0>e)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":29}],16:[function(e,t,n){"use strict";function i(e){r.call(this,e)}var r=e("./Uint8ArrayReader"),o=e("../utils");o.inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":29,"./Uint8ArrayReader":18}],17:[function(e,t,n){"use strict";function i(e){r.call(this,e)}var r=e("./DataReader"),o=e("../utils");o.inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){var t=this.readData(4);return e===t},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":29,"./DataReader":15}],18:[function(e,t,n){"use strict";function i(e){r.call(this,e)}var r=e("./ArrayReader"),o=e("../utils");o.inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":29,"./ArrayReader":14}],19:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new l(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new a(e)}},{"../support":27,"../utils":29,"./ArrayReader":14,"./NodeBufferReader":16,"./StringReader":17,"./Uint8ArrayReader":18}],20:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],21:[function(e,t,n){"use strict";function i(e){r.call(this,"ConvertWorker to "+e),this.destType=e}var r=e("./GenericWorker"),o=e("../utils");o.inherits(i,r),i.prototype.processChunk=function(e){this.push({data:o.transformTo(this.destType,e.data),meta:e.meta})},t.exports=i},{"../utils":29,"./GenericWorker":25}],22:[function(e,t,n){"use strict";function i(){r.call(this,"Crc32Probe")}var r=e("./GenericWorker"),o=e("../crc32"),a=e("../utils");a.inherits(i,r),i.prototype.processChunk=function(e){this.streamInfo.crc32=o(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=i},{"../crc32":4,"../utils":29,"./GenericWorker":25}],23:[function(e,t,n){"use strict";function i(e){o.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}var r=e("../utils"),o=e("./GenericWorker");r.inherits(i,o),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}o.prototype.processChunk.call(this,e)},t.exports=i},{"../utils":29,"./GenericWorker":25}],24:[function(e,t,n){"use strict";function i(e){o.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}var r=e("../utils"),o=e("./GenericWorker"),a=16384;r.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=a,t=null,n=Math.min(this.max,this.index+e);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,n);break;case"uint8array":t=this.data.subarray(this.index,n);break;case"array":case"nodebuffer":t=this.data.slice(this.index,n)}return this.index=n,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},{"../utils":29,"./GenericWorker":25}],25:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],26:[function(e,t,n){(function(n){"use strict";function i(e,t,n){switch(e){case"blob":return s.newBlob(s.transformTo("arraybuffer",t),n);case"base64":return u.encode(t);default:return s.transformTo(e,t)}}function r(e,t){var i,r=0,o=null,a=0;for(i=0;i<t.length;i++)a+=t[i].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(o=new Uint8Array(a),i=0;i<t.length;i++)o.set(t[i],r),r+=t[i].length;return o;case"nodebuffer":return n.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}function o(e,t){return new p.Promise(function(n,o){var a=[],s=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",function(e,n){a.push(e),t&&t(n)}).on("error",function(e){a=[],o(e)}).on("end",function(){try{var e=i(l,r(s,a),c);n(e)}catch(t){o(t)}a=[]}).resume()})}function a(e,t,n){var i=t;switch(t){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=t,this._mimeType=n,s.checkSupport(i),this._worker=e.pipe(new l(i)),e.lock()}catch(r){this._worker=new c("error"),this._worker.error(r)}}var s=e("../utils"),l=e("./ConvertWorker"),c=e("./GenericWorker"),u=e("../base64"),d=e("../nodejs/NodejsStreamOutputAdapter"),p=e("../external");a.prototype={accumulate:function(e){return o(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){s.delay(t,arguments,n)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(s.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=a}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":33,"../utils":29,"./ConvertWorker":21,"./GenericWorker":25}],27:[function(e,t,n){(function(t){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof t,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(r){try{var o=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,a=new o;a.append(i),n.blob=0===a.getBlob("application/zip").size}catch(r){n.blob=!1}}}n.nodestream=!!e("./nodejs/NodejsStreamOutputAdapter").prototype}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{"./nodejs/NodejsStreamOutputAdapter":33}],28:[function(e,t,n){"use strict";function i(){l.call(this,"utf-8 decode"),this.leftOver=null}function r(){l.call(this,"utf-8 encode")}for(var o=e("./utils"),a=e("./support"),s=e("./nodejsUtils"),l=e("./stream/GenericWorker"),c=new Array(256),u=0;256>u;u++)c[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;c[254]=c[254]=1;var d=function(e){var t,n,i,r,o,s=e.length,l=0;for(r=0;s>r;r++)n=e.charCodeAt(r),55296===(64512&n)&&s>r+1&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),l+=128>n?1:2048>n?2:65536>n?3:4;for(t=a.uint8array?new Uint8Array(l):new Array(l),o=0,r=0;l>o;r++)n=e.charCodeAt(r),55296===(64512&n)&&s>r+1&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),128>n?t[o++]=n:2048>n?(t[o++]=192|n>>>6,t[o++]=128|63&n):65536>n?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},p=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return 0>n?t:0===n?t:n+c[e[n]]>t?n:t},f=function(e){var t,n,i,r,a=e.length,s=new Array(2*a);for(n=0,t=0;a>t;)if(i=e[t++],128>i)s[n++]=i;else if(r=c[i],r>4)s[n++]=65533,t+=r-1;else{for(i&=2===r?31:3===r?15:7;r>1&&a>t;)i=i<<6|63&e[t++],r--;r>1?s[n++]=65533:65536>i?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|1023&i)}return s.length!==n&&(s.subarray?s=s.subarray(0,n):s.length=n),o.applyFromCharCode(s)};n.utf8encode=function(e){return a.nodebuffer?s.newBuffer(e,"utf-8"):d(e)},n.utf8decode=function(e){return a.nodebuffer?o.transformTo("nodebuffer",e).toString("utf-8"):(e=o.transformTo(a.uint8array?"uint8array":"array",e),f(e))},o.inherits(i,l),i.prototype.processChunk=function(e){var t=o.transformTo(a.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var i=t;t=new Uint8Array(i.length+this.leftOver.length),t.set(this.leftOver,0),t.set(i,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var r=p(t),s=t;r!==t.length&&(a.uint8array?(s=t.subarray(0,r),this.leftOver=t.subarray(r,t.length)):(s=t.slice(0,r),this.leftOver=t.slice(r,t.length))),this.push({data:n.utf8decode(s),meta:e.meta})},i.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=i,o.inherits(r,l),r.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=r},{"./nodejsUtils":12,"./stream/GenericWorker":25,"./support":27,"./utils":29}],29:[function(e,t,n){"use strict";function i(e){var t=null;return t=l.uint8array?new Uint8Array(e.length):new Array(e.length),o(e,t)}function r(e){return e}function o(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function a(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=f.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=f.applyCanBeUsed.nodebuffer),r)for(;t>1;)try{return f.stringifyByChunk(e,i,t)}catch(o){t=Math.floor(t/2)}return f.stringifyByChar(e)}function s(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var l=e("./support"),c=e("./base64"),u=e("./nodejsUtils"),d=e("core-js/library/fn/set-immediate"),p=e("./external");n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(i){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=new r;return o.append(e),o.getBlob(t)}catch(i){throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(e,t,n){var i=[],r=0,o=e.length;if(n>=o)return String.fromCharCode.apply(null,e);for(;o>r;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&1===String.fromCharCode.apply(null,u.newBuffer(1)).length}catch(e){return!1}}()}};n.applyFromCharCode=a;var h={};h.string={string:r,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return o(e,new Uint8Array(e.length))},nodebuffer:function(e){return o(e,u.newBuffer(e.length))}},h.array={string:a,array:r,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return u.newBuffer(e)}},h.arraybuffer={string:function(e){return a(new Uint8Array(e))},array:function(e){return s(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:r,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return u.newBuffer(new Uint8Array(e))}},h.uint8array={string:a,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:r,nodebuffer:function(e){return u.newBuffer(e)}},h.nodebuffer={string:a,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return s(e,new Uint8Array(e.length))},nodebuffer:r},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var i=n.getTypeOf(t),r=h[i][e](t);return r},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":l.nodebuffer&&u.isBuffer(e)?"nodebuffer":l.uint8array&&e instanceof Uint8Array?"uint8array":l.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){var t=l[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)t=e.charCodeAt(n),i+="\\x"+(16>t?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){d(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"==typeof n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,r,o,a){var s=p.Promise.resolve(t).then(function(e){return l.blob&&e instanceof Blob&&"undefined"!=typeof FileReader?new p.Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)}):e});return s.then(function(t){var s=n.getTypeOf(t);return s?("arraybuffer"===s?t=n.transformTo("uint8array",t):"string"===s&&(a?t=c.decode(t):r&&o!==!0&&(t=i(t))),t):p.Promise.reject(new Error("The data of '"+e+"' is in an unsupported format !"))})}},{"./base64":1,"./external":6,"./nodejsUtils":12,"./support":27,"core-js/library/fn/set-immediate":34}],30:[function(e,t,n){"use strict";function i(e){this.files=[],this.loadOptions=e}var r=e("./reader/readerFor"),o=e("./utils"),a=e("./signature"),s=e("./zipEntry"),l=(e("./utf8"),e("./support"));i.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug : unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4),r=i===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=l.uint8array?"uint8array":"array",n=o.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44,r=0;i>r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)e=new s({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(0>e){var t=!this.isSignature(0,a.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(e);var n=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>e)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var r=n-i;if(r>0)this.isSignature(n,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(0>r)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=i},{"./reader/readerFor":19,"./signature":20,"./support":27,"./utf8":28,"./utils":29,"./zipEntry":31}],31:[function(e,t,n){"use strict";function i(e,t){this.options=e,this.loadOptions=t}var r=e("./reader/readerFor"),o=e("./utils"),a=e("./compressedObject"),s=e("./crc32"),l=e("./utf8"),c=e("./compressions"),u=e("./support"),d=0,p=3,f=function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].magic===e)return c[t];return null};i.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(t=f(this.compressionMethod),null===t)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e===d&&(this.dosPermissions=63&this.externalFileAttributes),e===p&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=o.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=o.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:s(this.fileName)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){
var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:s(this.fileComment)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}return null}},t.exports=i},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":19,"./support":27,"./utf8":28,"./utils":29}],32:[function(e,t,n){"use strict";var i=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),o=e("./utf8"),a=e("./compressedObject"),s=e("./stream/GenericWorker"),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=e.toLowerCase(),n="string"===t||"text"===t;"binarystring"!==t&&"text"!==t||(t="string");var r=this._decompressWorker(),a=!this._dataBinary;return a&&!n&&(r=r.pipe(new o.Utf8EncodeWorker)),!a&&n&&(r=r.pipe(new o.Utf8DecodeWorker)),new i(r,t,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)l.prototype[c[d]]=u;t.exports=l},{"./compressedObject":2,"./stream/DataWorker":24,"./stream/GenericWorker":25,"./stream/StreamHelper":26,"./utf8":28}],33:[function(e,t,n){},{}],34:[function(e,t,n){e("../modules/web.immediate"),t.exports=e("../modules/_core").setImmediate},{"../modules/_core":38,"../modules/web.immediate":54}],35:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],36:[function(e,t,n){var i=e("./_is-object");t.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":49}],37:[function(e,t,n){var i={}.toString;t.exports=function(e){return i.call(e).slice(8,-1)}},{}],38:[function(e,t,n){var i=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=i)},{}],39:[function(e,t,n){var i=e("./_a-function");t.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":35}],40:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":43}],41:[function(e,t,n){var i=e("./_is-object"),r=e("./_global").document,o=i(r)&&i(r.createElement);t.exports=function(e){return o?r.createElement(e):{}}},{"./_global":44,"./_is-object":49}],42:[function(e,t,n){var i=e("./_global"),r=e("./_core"),o=e("./_ctx"),a=e("./_hide"),s="prototype",l=function(e,t,n){var c,u,d,p=e&l.F,f=e&l.G,h=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,_=f?r:r[t]||(r[t]={}),y=_[s],E=f?i:h?i[t]:(i[t]||{})[s];f&&(n=t);for(c in n)u=!p&&E&&void 0!==E[c],u&&c in _||(d=u?E[c]:n[c],_[c]=f&&"function"!=typeof E[c]?n[c]:g&&u?o(d,i):v&&E[c]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[s]=e[s],t}(d):m&&"function"==typeof d?o(Function.call,d):d,m&&((_.virtual||(_.virtual={}))[c]=d,e&l.R&&y&&!y[c]&&a(y,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{"./_core":38,"./_ctx":39,"./_global":44,"./_hide":45}],43:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],44:[function(e,t,n){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],45:[function(e,t,n){var i=e("./_object-dp"),r=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":40,"./_object-dp":50,"./_property-desc":51}],46:[function(e,t,n){t.exports=e("./_global").document&&document.documentElement},{"./_global":44}],47:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":40,"./_dom-create":41,"./_fails":43}],48:[function(e,t,n){t.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],49:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],50:[function(e,t,n){var i=e("./_an-object"),r=e("./_ie8-dom-define"),o=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":36,"./_descriptors":40,"./_ie8-dom-define":47,"./_to-primitive":53}],51:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],52:[function(e,t,n){var i,r,o,a=e("./_ctx"),s=e("./_invoke"),l=e("./_html"),c=e("./_dom-create"),u=e("./_global"),d=u.process,p=u.setImmediate,f=u.clearImmediate,h=u.MessageChannel,m=0,g={},v="onreadystatechange",_=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},y=function(e){_.call(e.data)};p&&f||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},i(m),m},f=function(e){delete g[e]},"process"==e("./_cof")(d)?i=function(e){d.nextTick(a(_,e,1))}:h?(r=new h,o=r.port2,r.port1.onmessage=y,i=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):i=v in c("script")?function(e){l.appendChild(c("script"))[v]=function(){l.removeChild(this),_.call(e)}}:function(e){setTimeout(a(_,e,1),0)}),t.exports={set:p,clear:f}},{"./_cof":37,"./_ctx":39,"./_dom-create":41,"./_global":44,"./_html":46,"./_invoke":48}],53:[function(e,t,n){var i=e("./_is-object");t.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":49}],54:[function(e,t,n){var i=e("./_export"),r=e("./_task");i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},{"./_export":42,"./_task":52}],55:[function(e,t,n){(function(e){"use strict";function n(){u=!0;for(var e,t,n=d.length;n;){for(t=d,d=[],e=-1;++e<n;)t[e]();n=d.length}u=!1}function i(e){1!==d.push(e)||u||r()}var r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,s=new o(n),l=e.document.createTextNode("");s.observe(l,{characterData:!0}),r=function(){l.data=a=++a%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,r=function(){c.port2.postMessage(0)}}var u,d=[];t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(e,t,n){"use strict";function i(){}function r(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,e!==i&&l(this,e)}function o(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){h(function(){var i;try{i=t(n)}catch(r){return m.reject(e,r)}i===e?m.reject(e,new TypeError("Cannot resolve promise with itself")):m.resolve(e,i)})}function s(e){var t=e&&e.then;return e&&"object"==typeof e&&"function"==typeof t?function(){t.apply(e,arguments)}:void 0}function l(e,t){function n(t){o||(o=!0,m.reject(e,t))}function i(t){o||(o=!0,m.resolve(e,t))}function r(){t(i,n)}var o=!1,a=c(r);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}function u(e){return e instanceof this?e:m.resolve(new this(i),e)}function d(e){var t=new this(i);return m.reject(t,e)}function p(e){function t(e,t){function i(e){a[t]=e,++s!==r||o||(o=!0,m.resolve(c,a))}n.resolve(e).then(i,function(e){o||(o=!0,m.reject(c,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,l=-1,c=new this(i);++l<r;)t(e[l],l);return c}function f(e){function t(e){n.resolve(e).then(function(e){o||(o=!0,m.resolve(s,e))},function(e){o||(o=!0,m.reject(s,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var a=-1,s=new this(i);++a<r;)t(e[a]);return s}var h=e("immediate"),m={},g=["REJECTED"],v=["FULFILLED"],_=["PENDING"];t.exports=r,r.prototype["catch"]=function(e){return this.then(null,e)},r.prototype.then=function(e,t){if("function"!=typeof e&&this.state===v||"function"!=typeof t&&this.state===g)return this;var n=new this.constructor(i);if(this.state!==_){var r=this.state===v?e:t;a(n,r,this.outcome)}else this.queue.push(new o(n,e,t));return n},o.prototype.callFulfilled=function(e){m.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){m.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},m.resolve=function(e,t){var n=c(s,t);if("error"===n.status)return m.reject(e,n.value);var i=n.value;if(i)l(e,i);else{e.state=v,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callFulfilled(t)}return e},m.reject=function(e,t){e.state=g,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},r.resolve=u,r.reject=d,r.all=p,r.race=f},{immediate:55}],57:[function(e,t,n){"use strict";var i=e("./lib/utils/common").assign,r=e("./lib/deflate"),o=e("./lib/inflate"),a=e("./lib/zlib/constants"),s={};i(s,r,o,a),t.exports=s},{"./lib/deflate":58,"./lib/inflate":59,"./lib/utils/common":60,"./lib/zlib/constants":63}],58:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=l.assign({level:_,method:E,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==m)throw new Error(u[n]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?c.string2buf(t.dictionary):"[object ArrayBuffer]"===p.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=s.deflateSetDictionary(this.strm,r),n!==m)throw new Error(u[n]);this._dict_set=!0}}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}function a(e,t){return t=t||{},t.gzip=!0,r(e,t)}var s=e("./zlib/deflate"),l=e("./utils/common"),c=e("./utils/strings"),u=e("./zlib/messages"),d=e("./zlib/zstream"),p=Object.prototype.toString,f=0,h=4,m=0,g=1,v=2,_=-1,y=0,E=8;i.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:t===!0?h:f,"string"==typeof e?r.input=c.string2buf(e):"[object ArrayBuffer]"===p.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new l.Buf8(o),r.next_out=0,r.avail_out=o),n=s.deflate(r,i),n!==g&&n!==m)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||i!==h&&i!==v)||("string"===this.options.to?this.onData(c.buf2binstring(l.shrinkBuf(r.output,r.next_out))):this.onData(l.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&n!==g);return i===h?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===m):i!==v||(this.onEnd(m),r.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===m&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=i,n.deflate=r,n.deflateRaw=o,n.gzip=a},{"./utils/common":60,"./utils/strings":61,"./zlib/deflate":65,"./zlib/messages":70,"./zlib/zstream":72}],59:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,t.windowBits);if(n!==c.Z_OK)throw new Error(u[n]);this.header=new p,a.inflateGetHeader(this.strm,this.header)}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}var a=e("./zlib/inflate"),s=e("./utils/common"),l=e("./utils/strings"),c=e("./zlib/constants"),u=e("./zlib/messages"),d=e("./zlib/zstream"),p=e("./zlib/gzheader"),f=Object.prototype.toString;i.prototype.push=function(e,t){var n,i,r,o,u,d,p=this.strm,h=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;i=t===~~t?t:t===!0?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof e?p.input=l.binstring2buf(e):"[object ArrayBuffer]"===f.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new s.Buf8(h),p.next_out=0,p.avail_out=h),n=a.inflate(p,c.Z_NO_FLUSH),n===c.Z_NEED_DICT&&m&&(d="string"==typeof m?l.string2buf(m):"[object ArrayBuffer]"===f.call(m)?new Uint8Array(m):m,n=a.inflateSetDictionary(this.strm,d)),n===c.Z_BUF_ERROR&&g===!0&&(n=c.Z_OK,g=!1),n!==c.Z_STREAM_END&&n!==c.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==c.Z_STREAM_END&&(0!==p.avail_in||i!==c.Z_FINISH&&i!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(r=l.utf8border(p.output,p.next_out),o=p.next_out-r,u=l.buf2string(p.output,r),p.next_out=o,p.avail_out=h-o,o&&s.arraySet(p.output,p.output,r,o,0),this.onData(u)):this.onData(s.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==c.Z_STREAM_END);return n===c.Z_STREAM_END&&(i=c.Z_FINISH),i===c.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c.Z_OK):i!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),p.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=i,n.inflate=r,n.inflateRaw=o,n.ungzip=r},{"./utils/common":60,"./utils/strings":61,"./zlib/constants":63,"./zlib/gzheader":66,"./zlib/inflate":68,"./zlib/messages":70,"./zlib/zstream":72}],60:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+i),r);for(var o=0;i>o;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;n>t;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;n>t;t++)o=e[t],a.set(o,r),r+=o.length;return a}},o={arraySet:function(e,t,n,i,r){for(var o=0;i>o;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],61:[function(e,t,n){"use strict";function i(e,t){if(65537>t&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;t>i;i++)n+=String.fromCharCode(e[i]);return n}var r=e("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(s){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){a=!1}for(var l=new r.Buf8(256),c=0;256>c;c++)l[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;l[254]=l[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;s>o;o++)n=e.charCodeAt(o),55296===(64512&n)&&s>o+1&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),l+=128>n?1:2048>n?2:65536>n?3:4;for(t=new r.Buf8(l),a=0,o=0;l>a;o++)n=e.charCodeAt(o),55296===(64512&n)&&s>o+1&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),128>n?t[a++]=n:2048>n?(t[a++]=192|n>>>6,t[a++]=128|63&n):65536>n?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return i(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;i>n;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,o,a,s=t||e.length,c=new Array(2*s);for(r=0,n=0;s>n;)if(o=e[n++],128>o)c[r++]=o;else if(a=l[o],a>4)c[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&s>n;)o=o<<6|63&e[n++],a--;a>1?c[r++]=65533:65536>o?c[r++]=o:(o-=65536,c[r++]=55296|o>>10&1023,c[r++]=56320|1023&o)}return i(c,r)},n.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return 0>n?t:0===n?t:n+l[e[n]]>t?n:t}},{"./common":60}],62:[function(e,t,n){"use strict";function i(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do r=r+t[i++]|0,o=o+r|0;while(--a);r%=65521,o%=65521}return r|o<<16|0}t.exports=i},{}],63:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],64:[function(e,t,n){"use strict";function i(){for(var e,t=[],n=0;256>n;n++){e=n;for(var i=0;8>i;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function r(e,t,n,i){var r=o,a=i+n;e^=-1;for(var s=i;a>s;s++)e=e>>>8^r[255&(e^t[s])];return-1^e}var o=i();t.exports=r},{}],65:[function(e,t,n){"use strict";function i(e,t){return e.msg=P[t],t}function r(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(O.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){R._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function c(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function u(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,O.arraySet(t,e.input,e.next_in,r,n),1===e.state.wrap?e.adler=x(e.adler,t,r,n):2===e.state.wrap&&(e.adler=N(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)}function d(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-de?e.strstart-(e.w_size-de):0,c=e.window,u=e.w_mask,d=e.prev,p=e.strstart+ue,f=c[o+a-1],h=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do if(n=t,c[n+a]===h&&c[n+a-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do;while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&p>o);if(i=ue-(p-o),o=p-ue,i>a){if(e.match_start=t,a=i,i>=s)break;f=c[o+a-1],h=c[o+a]}}while((t=d[t&u])>l&&0!==--r);return a<=e.lookahead?a:e.lookahead}function p(e){var t,n,i,r,o,a=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-de)){O.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,n=e.hash_size,t=n;do i=e.head[--t],e.head[t]=i>=a?i-a:0;while(--n);n=a,t=n;do i=e.prev[--t],e.prev[t]=i>=a?i-a:0;while(--n);r+=a}if(0===e.strm.avail_in)break;if(n=u(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=ce)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+ce-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<ce)););}while(e.lookahead<de&&0!==e.strm.avail_in)}function f(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(p(e),0===e.lookahead&&t===k)return Ee;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,s(e,!1),0===e.strm.avail_out))return Ee;if(e.strstart-e.block_start>=e.w_size-de&&(s(e,!1),0===e.strm.avail_out))return Ee}return e.insert=0,t===$?(s(e,!0),0===e.strm.avail_out?Le:Se):e.strstart>e.block_start&&(s(e,!1),0===e.strm.avail_out)?Ee:Ee}function h(e,t){for(var n,i;;){if(e.lookahead<de){if(p(e),e.lookahead<de&&t===k)return Ee;if(0===e.lookahead)break}if(n=0,e.lookahead>=ce&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-de&&(e.match_length=d(e,n)),e.match_length>=ce)if(i=R._tr_tally(e,e.strstart-e.match_start,e.match_length-ce),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ce){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(s(e,!1),0===e.strm.avail_out))return Ee}return e.insert=e.strstart<ce-1?e.strstart:ce-1,t===$?(s(e,!0),0===e.strm.avail_out?Le:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Ee:be}function m(e,t){for(var n,i,r;;){if(e.lookahead<de){if(p(e),e.lookahead<de&&t===k)return Ee;if(0===e.lookahead)break}if(n=0,e.lookahead>=ce&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ce-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-de&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===W||e.match_length===ce&&e.strstart-e.match_start>4096)&&(e.match_length=ce-1)),e.prev_length>=ce&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-ce,i=R._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ce),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=ce-1,e.strstart++,i&&(s(e,!1),0===e.strm.avail_out))return Ee}else if(e.match_available){if(i=R._tr_tally(e,0,e.window[e.strstart-1]),i&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return Ee}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=R._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ce-1?e.strstart:ce-1,t===$?(s(e,!0),0===e.strm.avail_out?Le:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Ee:be}function g(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=ue){if(p(e),e.lookahead<=ue&&t===k)return Ee;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ce&&e.strstart>0&&(r=e.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){o=e.strstart+ue;do;while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&o>r);e.match_length=ue-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ce?(n=R._tr_tally(e,1,e.match_length-ce),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return Ee}return e.insert=0,t===$?(s(e,!0),0===e.strm.avail_out?Le:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Ee:be}function v(e,t){for(var n;;){if(0===e.lookahead&&(p(e),0===e.lookahead)){if(t===k)return Ee;break}if(e.match_length=0,n=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return Ee}return e.insert=0,t===$?(s(e,!0),0===e.strm.avail_out?Le:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Ee:be}function _(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function y(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=w[e.level].max_lazy,e.good_match=w[e.level].good_length,e.nice_match=w[e.level].nice_length,e.max_chain_length=w[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ce-1,e.match_available=0,e.ins_h=0}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new O.Buf16(2*se),this.dyn_dtree=new O.Buf16(2*(2*oe+1)),this.bl_tree=new O.Buf16(2*(2*ae+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new O.Buf16(le+1),this.heap=new O.Buf16(2*re+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new O.Buf16(2*re+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=J,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?fe:_e,e.adler=2===t.wrap?0:1,t.last_flush=k,R._tr_init(t),Y):i(e,B)}function L(e){var t=b(e);return t===Y&&y(e.state),t}function S(e,t){return e&&e.state?2!==e.state.wrap?B:(e.state.gzhead=t,Y):B}function A(e,t,n,r,o,a){if(!e)return B;var s=1;if(t===q&&(t=6),0>r?(s=0,r=-r):r>15&&(s=2,r-=16),1>o||o>Q||n!==Z||8>r||r>15||0>t||t>9||0>a||a>X)return i(e,B);8===r&&(r=9);var l=new E;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ce-1)/ce),l.window=new O.Buf8(2*l.w_size),l.head=new O.Buf16(l.hash_size),l.prev=new O.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new O.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,L(e)}function T(e,t){return A(e,t,Z,ee,te,K)}function C(e,t){var n,s,u,d;if(!e||!e.state||t>F||0>t)return e?i(e,B):B;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===ye&&t!==$)return i(e,0===e.avail_out?H:B);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===fe)if(2===s.wrap)e.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=G||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=N(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=he):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=G||s.level<2?4:0),l(s,Ae),s.status=_e);else{var p=Z+(s.w_bits-8<<4)<<8,f=-1;f=s.strategy>=G||s.level<2?0:s.level<6?1:6===s.level?2:3,p|=f<<6,0!==s.strstart&&(p|=pe),p+=31-p%31,s.status=_e,c(s,p),0!==s.strstart&&(c(s,e.adler>>>16),c(s,65535&e.adler)),e.adler=1}if(s.status===he)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(e.adler=N(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(e.adler=N(e.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=me)}else s.status=me;if(s.status===me)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=N(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(e.adler=N(e.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.gzindex=0,s.status=ge)}else s.status=ge;if(s.status===ge)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=N(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(e.adler=N(e.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.status=ve)}else s.status=ve;if(s.status===ve&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(e),
s.pending+2<=s.pending_buf_size&&(l(s,255&e.adler),l(s,e.adler>>8&255),e.adler=0,s.status=_e)):s.status=_e),0!==s.pending){if(a(e),0===e.avail_out)return s.last_flush=-1,Y}else if(0===e.avail_in&&r(t)<=r(n)&&t!==$)return i(e,H);if(s.status===ye&&0!==e.avail_in)return i(e,H);if(0!==e.avail_in||0!==s.lookahead||t!==k&&s.status!==ye){var h=s.strategy===G?v(s,t):s.strategy===z?g(s,t):w[s.level].func(s,t);if(h!==Le&&h!==Se||(s.status=ye),h===Ee||h===Le)return 0===e.avail_out&&(s.last_flush=-1),Y;if(h===be&&(t===M?R._tr_align(s):t!==F&&(R._tr_stored_block(s,0,0,!1),t===U&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(e),0===e.avail_out))return s.last_flush=-1,Y}return t!==$?Y:s.wrap<=0?V:(2===s.wrap?(l(s,255&e.adler),l(s,e.adler>>8&255),l(s,e.adler>>16&255),l(s,e.adler>>24&255),l(s,255&e.total_in),l(s,e.total_in>>8&255),l(s,e.total_in>>16&255),l(s,e.total_in>>24&255)):(c(s,e.adler>>>16),c(s,65535&e.adler)),a(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?Y:V)}function I(e){var t;return e&&e.state?(t=e.state.status,t!==fe&&t!==he&&t!==me&&t!==ge&&t!==ve&&t!==_e&&t!==ye?i(e,B):(e.state=null,t===_e?i(e,j):Y)):B}function D(e,t){var n,i,r,a,s,l,c,u,d=t.length;if(!e||!e.state)return B;if(n=e.state,a=n.wrap,2===a||1===a&&n.status!==fe||n.lookahead)return B;for(1===a&&(e.adler=x(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new O.Buf8(n.w_size),O.arraySet(u,t,d-n.w_size,n.w_size,0),t=u,d=n.w_size),s=e.avail_in,l=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,p(n);n.lookahead>=ce;){i=n.strstart,r=n.lookahead-(ce-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+ce-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--r);n.strstart=i,n.lookahead=ce-1,p(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ce-1,n.match_available=0,e.next_in=l,e.input=c,e.avail_in=s,n.wrap=a,Y}var w,O=e("../utils/common"),R=e("./trees"),x=e("./adler32"),N=e("./crc32"),P=e("./messages"),k=0,M=1,U=3,$=4,F=5,Y=0,V=1,B=-2,j=-3,H=-5,q=-1,W=1,G=2,z=3,X=4,K=0,J=2,Z=8,Q=9,ee=15,te=8,ne=29,ie=256,re=ie+1+ne,oe=30,ae=19,se=2*re+1,le=15,ce=3,ue=258,de=ue+ce+1,pe=32,fe=42,he=69,me=73,ge=91,ve=103,_e=113,ye=666,Ee=1,be=2,Le=3,Se=4,Ae=3;w=[new _(0,0,0,0,f),new _(4,4,8,4,h),new _(4,5,16,8,h),new _(4,6,32,32,h),new _(4,4,16,16,m),new _(8,16,32,32,m),new _(8,16,128,128,m),new _(8,32,128,256,m),new _(32,128,258,1024,m),new _(32,258,258,4096,m)],n.deflateInit=T,n.deflateInit2=A,n.deflateReset=L,n.deflateResetKeep=b,n.deflateSetHeader=S,n.deflate=C,n.deflateEnd=I,n.deflateSetDictionary=D,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":60,"./adler32":62,"./crc32":64,"./messages":70,"./trees":71}],66:[function(e,t,n){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=i},{}],67:[function(e,t,n){"use strict";var i=30,r=12;t.exports=function(e,t){var n,o,a,s,l,c,u,d,p,f,h,m,g,v,_,y,E,b,L,S,A,T,C,I,D;n=e.state,o=e.next_in,I=e.input,a=o+(e.avail_in-5),s=e.next_out,D=e.output,l=s-(t-e.avail_out),c=s+(e.avail_out-257),u=n.dmax,d=n.wsize,p=n.whave,f=n.wnext,h=n.window,m=n.hold,g=n.bits,v=n.lencode,_=n.distcode,y=(1<<n.lenbits)-1,E=(1<<n.distbits)-1;e:do{15>g&&(m+=I[o++]<<g,g+=8,m+=I[o++]<<g,g+=8),b=v[m&y];t:for(;;){if(L=b>>>24,m>>>=L,g-=L,L=b>>>16&255,0===L)D[s++]=65535&b;else{if(!(16&L)){if(0===(64&L)){b=v[(65535&b)+(m&(1<<L)-1)];continue t}if(32&L){n.mode=r;break e}e.msg="invalid literal/length code",n.mode=i;break e}S=65535&b,L&=15,L&&(L>g&&(m+=I[o++]<<g,g+=8),S+=m&(1<<L)-1,m>>>=L,g-=L),15>g&&(m+=I[o++]<<g,g+=8,m+=I[o++]<<g,g+=8),b=_[m&E];n:for(;;){if(L=b>>>24,m>>>=L,g-=L,L=b>>>16&255,!(16&L)){if(0===(64&L)){b=_[(65535&b)+(m&(1<<L)-1)];continue n}e.msg="invalid distance code",n.mode=i;break e}if(A=65535&b,L&=15,L>g&&(m+=I[o++]<<g,g+=8,L>g&&(m+=I[o++]<<g,g+=8)),A+=m&(1<<L)-1,A>u){e.msg="invalid distance too far back",n.mode=i;break e}if(m>>>=L,g-=L,L=s-l,A>L){if(L=A-L,L>p&&n.sane){e.msg="invalid distance too far back",n.mode=i;break e}if(T=0,C=h,0===f){if(T+=d-L,S>L){S-=L;do D[s++]=h[T++];while(--L);T=s-A,C=D}}else if(L>f){if(T+=d+f-L,L-=f,S>L){S-=L;do D[s++]=h[T++];while(--L);if(T=0,S>f){L=f,S-=L;do D[s++]=h[T++];while(--L);T=s-A,C=D}}}else if(T+=f-L,S>L){S-=L;do D[s++]=h[T++];while(--L);T=s-A,C=D}for(;S>2;)D[s++]=C[T++],D[s++]=C[T++],D[s++]=C[T++],S-=3;S&&(D[s++]=C[T++],S>1&&(D[s++]=C[T++]))}else{T=s-A;do D[s++]=D[T++],D[s++]=D[T++],D[s++]=D[T++],S-=3;while(S>2);S&&(D[s++]=D[T++],S>1&&(D[s++]=D[T++]))}break}}break}}while(a>o&&c>s);S=g>>3,o-=S,g-=S<<3,m&=(1<<g)-1,e.next_in=o,e.next_out=s,e.avail_in=a>o?5+(a-o):5-(o-a),e.avail_out=c>s?257+(c-s):257-(s-c),n.hold=m,n.bits=g}},{}],68:[function(e,t,n){"use strict";function i(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=U,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new _.Buf32(me),t.distcode=t.distdyn=new _.Buf32(ge),t.sane=1,t.back=-1,w):x}function a(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,o(e)):x}function s(e,t){var n,i;return e&&e.state?(i=e.state,0>t?(n=0,t=-t):(n=(t>>4)+1,48>t&&(t&=15)),t&&(8>t||t>15)?x:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,a(e))):x}function l(e,t){var n,i;return e?(i=new r,e.state=i,i.window=null,n=s(e,t),n!==w&&(e.state=null),n):x}function c(e){return l(e,_e)}function u(e){if(ye){var t;for(g=new _.Buf32(512),v=new _.Buf32(32),t=0;144>t;)e.lens[t++]=8;for(;256>t;)e.lens[t++]=9;for(;280>t;)e.lens[t++]=7;for(;288>t;)e.lens[t++]=8;for(L(A,e.lens,0,288,g,0,e.work,{bits:9}),t=0;32>t;)e.lens[t++]=5;L(T,e.lens,0,32,v,0,e.work,{bits:5}),ye=!1}e.lencode=g,e.lenbits=9,e.distcode=v,e.distbits=5}function d(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new _.Buf8(o.wsize)),i>=o.wsize?(_.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),_.arraySet(o.window,t,n-i,r,o.wnext),i-=r,i?(_.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}function p(e,t){var n,r,o,a,s,l,c,p,f,h,m,g,v,me,ge,ve,_e,ye,Ee,be,Le,Se,Ae,Te,Ce=0,Ie=new _.Buf8(4),De=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return x;n=e.state,n.mode===z&&(n.mode=X),s=e.next_out,o=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,p=n.hold,f=n.bits,h=l,m=c,Se=w;e:for(;;)switch(n.mode){case U:if(0===n.wrap){n.mode=X;break}for(;16>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}if(2&n.wrap&&35615===p){n.check=0,Ie[0]=255&p,Ie[1]=p>>>8&255,n.check=E(n.check,Ie,2,0),p=0,f=0,n.mode=$;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",n.mode=pe;break}if((15&p)!==M){e.msg="unknown compression method",n.mode=pe;break}if(p>>>=4,f-=4,Le=(15&p)+8,0===n.wbits)n.wbits=Le;else if(Le>n.wbits){e.msg="invalid window size",n.mode=pe;break}n.dmax=1<<Le,e.adler=n.check=1,n.mode=512&p?W:z,p=0,f=0;break;case $:for(;16>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}if(n.flags=p,(255&n.flags)!==M){e.msg="unknown compression method",n.mode=pe;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=pe;break}n.head&&(n.head.text=p>>8&1),512&n.flags&&(Ie[0]=255&p,Ie[1]=p>>>8&255,n.check=E(n.check,Ie,2,0)),p=0,f=0,n.mode=F;case F:for(;32>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}n.head&&(n.head.time=p),512&n.flags&&(Ie[0]=255&p,Ie[1]=p>>>8&255,Ie[2]=p>>>16&255,Ie[3]=p>>>24&255,n.check=E(n.check,Ie,4,0)),p=0,f=0,n.mode=Y;case Y:for(;16>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}n.head&&(n.head.xflags=255&p,n.head.os=p>>8),512&n.flags&&(Ie[0]=255&p,Ie[1]=p>>>8&255,n.check=E(n.check,Ie,2,0)),p=0,f=0,n.mode=V;case V:if(1024&n.flags){for(;16>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}n.length=p,n.head&&(n.head.extra_len=p),512&n.flags&&(Ie[0]=255&p,Ie[1]=p>>>8&255,n.check=E(n.check,Ie,2,0)),p=0,f=0}else n.head&&(n.head.extra=null);n.mode=B;case B:if(1024&n.flags&&(g=n.length,g>l&&(g=l),g&&(n.head&&(Le=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),_.arraySet(n.head.extra,r,a,g,Le)),512&n.flags&&(n.check=E(n.check,r,g,a)),l-=g,a+=g,n.length-=g),n.length))break e;n.length=0,n.mode=j;case j:if(2048&n.flags){if(0===l)break e;g=0;do Le=r[a+g++],n.head&&Le&&n.length<65536&&(n.head.name+=String.fromCharCode(Le));while(Le&&l>g);if(512&n.flags&&(n.check=E(n.check,r,g,a)),l-=g,a+=g,Le)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=H;case H:if(4096&n.flags){if(0===l)break e;g=0;do Le=r[a+g++],n.head&&Le&&n.length<65536&&(n.head.comment+=String.fromCharCode(Le));while(Le&&l>g);if(512&n.flags&&(n.check=E(n.check,r,g,a)),l-=g,a+=g,Le)break e}else n.head&&(n.head.comment=null);n.mode=q;case q:if(512&n.flags){for(;16>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}if(p!==(65535&n.check)){e.msg="header crc mismatch",n.mode=pe;break}p=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=z;break;case W:for(;32>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}e.adler=n.check=i(p),p=0,f=0,n.mode=G;case G:if(0===n.havedict)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=p,n.bits=f,R;e.adler=n.check=1,n.mode=z;case z:if(t===I||t===D)break e;case X:if(n.last){p>>>=7&f,f-=7&f,n.mode=ce;break}for(;3>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}switch(n.last=1&p,p>>>=1,f-=1,3&p){case 0:n.mode=K;break;case 1:if(u(n),n.mode=ne,t===D){p>>>=2,f-=2;break e}break;case 2:n.mode=Q;break;case 3:e.msg="invalid block type",n.mode=pe}p>>>=2,f-=2;break;case K:for(p>>>=7&f,f-=7&f;32>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}if((65535&p)!==(p>>>16^65535)){e.msg="invalid stored block lengths",n.mode=pe;break}if(n.length=65535&p,p=0,f=0,n.mode=J,t===D)break e;case J:n.mode=Z;case Z:if(g=n.length){if(g>l&&(g=l),g>c&&(g=c),0===g)break e;_.arraySet(o,r,a,g,s),l-=g,a+=g,c-=g,s+=g,n.length-=g;break}n.mode=z;break;case Q:for(;14>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}if(n.nlen=(31&p)+257,p>>>=5,f-=5,n.ndist=(31&p)+1,p>>>=5,f-=5,n.ncode=(15&p)+4,p>>>=4,f-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=pe;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.ncode;){for(;3>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}n.lens[De[n.have++]]=7&p,p>>>=3,f-=3}for(;n.have<19;)n.lens[De[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ae={bits:n.lenbits},Se=L(S,n.lens,0,19,n.lencode,0,n.work,Ae),n.lenbits=Ae.bits,Se){e.msg="invalid code lengths set",n.mode=pe;break}n.have=0,n.mode=te;case te:for(;n.have<n.nlen+n.ndist;){for(;Ce=n.lencode[p&(1<<n.lenbits)-1],ge=Ce>>>24,ve=Ce>>>16&255,_e=65535&Ce,!(f>=ge);){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}if(16>_e)p>>>=ge,f-=ge,n.lens[n.have++]=_e;else{if(16===_e){for(Te=ge+2;Te>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}if(p>>>=ge,f-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=pe;break}Le=n.lens[n.have-1],g=3+(3&p),p>>>=2,f-=2}else if(17===_e){for(Te=ge+3;Te>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}p>>>=ge,f-=ge,Le=0,g=3+(7&p),p>>>=3,f-=3}else{for(Te=ge+7;Te>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}p>>>=ge,f-=ge,Le=0,g=11+(127&p),p>>>=7,f-=7}if(n.have+g>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=pe;break}for(;g--;)n.lens[n.have++]=Le}}if(n.mode===pe)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=pe;break}if(n.lenbits=9,Ae={bits:n.lenbits},Se=L(A,n.lens,0,n.nlen,n.lencode,0,n.work,Ae),n.lenbits=Ae.bits,Se){e.msg="invalid literal/lengths set",n.mode=pe;break}if(n.distbits=6,n.distcode=n.distdyn,Ae={bits:n.distbits},Se=L(T,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ae),n.distbits=Ae.bits,Se){e.msg="invalid distances set",n.mode=pe;break}if(n.mode=ne,t===D)break e;case ne:n.mode=ie;case ie:if(l>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=p,n.bits=f,b(e,m),s=e.next_out,o=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,p=n.hold,f=n.bits,n.mode===z&&(n.back=-1);break}for(n.back=0;Ce=n.lencode[p&(1<<n.lenbits)-1],ge=Ce>>>24,ve=Ce>>>16&255,_e=65535&Ce,!(f>=ge);){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}if(ve&&0===(240&ve)){for(ye=ge,Ee=ve,be=_e;Ce=n.lencode[be+((p&(1<<ye+Ee)-1)>>ye)],ge=Ce>>>24,ve=Ce>>>16&255,_e=65535&Ce,!(f>=ye+ge);){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}p>>>=ye,f-=ye,n.back+=ye}if(p>>>=ge,f-=ge,n.back+=ge,n.length=_e,0===ve){n.mode=le;break}if(32&ve){n.back=-1,n.mode=z;break}if(64&ve){e.msg="invalid literal/length code",n.mode=pe;break}n.extra=15&ve,n.mode=re;case re:if(n.extra){for(Te=n.extra;Te>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oe;case oe:for(;Ce=n.distcode[p&(1<<n.distbits)-1],ge=Ce>>>24,ve=Ce>>>16&255,_e=65535&Ce,!(f>=ge);){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}if(0===(240&ve)){for(ye=ge,Ee=ve,be=_e;Ce=n.distcode[be+((p&(1<<ye+Ee)-1)>>ye)],ge=Ce>>>24,ve=Ce>>>16&255,_e=65535&Ce,!(f>=ye+ge);){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}p>>>=ye,f-=ye,n.back+=ye}if(p>>>=ge,f-=ge,n.back+=ge,64&ve){e.msg="invalid distance code",n.mode=pe;break}n.offset=_e,n.extra=15&ve,n.mode=ae;case ae:if(n.extra){for(Te=n.extra;Te>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=pe;break}n.mode=se;case se:if(0===c)break e;if(g=m-c,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=pe;break}g>n.wnext?(g-=n.wnext,v=n.wsize-g):v=n.wnext-g,g>n.length&&(g=n.length),me=n.window}else me=o,v=s-n.offset,g=n.length;g>c&&(g=c),c-=g,n.length-=g;do o[s++]=me[v++];while(--g);0===n.length&&(n.mode=ie);break;case le:if(0===c)break e;o[s++]=n.length,c--,n.mode=ie;break;case ce:if(n.wrap){for(;32>f;){if(0===l)break e;l--,p|=r[a++]<<f,f+=8}if(m-=c,e.total_out+=m,n.total+=m,m&&(e.adler=n.check=n.flags?E(n.check,o,m,s-m):y(n.check,o,m,s-m)),m=c,(n.flags?p:i(p))!==n.check){e.msg="incorrect data check",n.mode=pe;break}p=0,f=0}n.mode=ue;case ue:if(n.wrap&&n.flags){for(;32>f;){if(0===l)break e;l--,p+=r[a++]<<f,f+=8}if(p!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=pe;break}p=0,f=0}n.mode=de;case de:Se=O;break e;case pe:Se=N;break e;case fe:return P;case he:default:return x}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=p,n.bits=f,(n.wsize||m!==e.avail_out&&n.mode<pe&&(n.mode<ce||t!==C))&&d(e,e.output,e.next_out,m-e.avail_out)?(n.mode=fe,P):(h-=e.avail_in,m-=e.avail_out,e.total_in+=h,e.total_out+=m,n.total+=m,n.wrap&&m&&(e.adler=n.check=n.flags?E(n.check,o,m,e.next_out-m):y(n.check,o,m,e.next_out-m)),e.data_type=n.bits+(n.last?64:0)+(n.mode===z?128:0)+(n.mode===ne||n.mode===J?256:0),(0===h&&0===m||t===C)&&Se===w&&(Se=k),Se)}function f(e){if(!e||!e.state)return x;var t=e.state;return t.window&&(t.window=null),e.state=null,w}function h(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?x:(n.head=t,t.done=!1,w)):x}function m(e,t){var n,i,r,o=t.length;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==G?x:n.mode===G&&(i=1,i=y(i,t,o,0),i!==n.check)?N:(r=d(e,t,o,o))?(n.mode=fe,P):(n.havedict=1,w)):x}var g,v,_=e("../utils/common"),y=e("./adler32"),E=e("./crc32"),b=e("./inffast"),L=e("./inftrees"),S=0,A=1,T=2,C=4,I=5,D=6,w=0,O=1,R=2,x=-2,N=-3,P=-4,k=-5,M=8,U=1,$=2,F=3,Y=4,V=5,B=6,j=7,H=8,q=9,W=10,G=11,z=12,X=13,K=14,J=15,Z=16,Q=17,ee=18,te=19,ne=20,ie=21,re=22,oe=23,ae=24,se=25,le=26,ce=27,ue=28,de=29,pe=30,fe=31,he=32,me=852,ge=592,ve=15,_e=ve,ye=!0;n.inflateReset=a,n.inflateReset2=s,n.inflateResetKeep=o,n.inflateInit=c,n.inflateInit2=l,n.inflate=p,n.inflateEnd=f,n.inflateGetHeader=h,n.inflateSetDictionary=m,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":60,"./adler32":62,"./crc32":64,"./inffast":67,"./inftrees":69}],69:[function(e,t,n){"use strict";var i=e("../utils/common"),r=15,o=852,a=592,s=0,l=1,c=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,h,m,g,v,_){var y,E,b,L,S,A,T,C,I,D=_.bits,w=0,O=0,R=0,x=0,N=0,P=0,k=0,M=0,U=0,$=0,F=null,Y=0,V=new i.Buf16(r+1),B=new i.Buf16(r+1),j=null,H=0;for(w=0;r>=w;w++)V[w]=0;for(O=0;h>O;O++)V[t[n+O]]++;for(N=D,x=r;x>=1&&0===V[x];x--);if(N>x&&(N=x),0===x)return m[g++]=20971520,m[g++]=20971520,_.bits=1,0;for(R=1;x>R&&0===V[R];R++);for(R>N&&(N=R),M=1,w=1;r>=w;w++)if(M<<=1,M-=V[w],0>M)return-1;if(M>0&&(e===s||1!==x))return-1;for(B[1]=0,w=1;r>w;w++)B[w+1]=B[w]+V[w];for(O=0;h>O;O++)0!==t[n+O]&&(v[B[t[n+O]]++]=O);if(e===s?(F=j=v,A=19):e===l?(F=u,Y-=257,j=d,H-=257,A=256):(F=p,j=f,A=-1),$=0,O=0,w=R,S=g,P=N,k=0,b=-1,U=1<<N,L=U-1,e===l&&U>o||e===c&&U>a)return 1;for(var q=0;;){q++,T=w-k,v[O]<A?(C=0,I=v[O]):v[O]>A?(C=j[H+v[O]],I=F[Y+v[O]]):(C=96,I=0),y=1<<w-k,E=1<<P,R=E;do E-=y,m[S+($>>k)+E]=T<<24|C<<16|I|0;while(0!==E);for(y=1<<w-1;$&y;)y>>=1;if(0!==y?($&=y-1,$+=y):$=0,O++,0===--V[w]){if(w===x)break;w=t[n+v[O]]}if(w>N&&($&L)!==b){for(0===k&&(k=N),S+=R,P=w-k,M=1<<P;x>P+k&&(M-=V[P+k],!(0>=M));)P++,M<<=1;if(U+=1<<P,e===l&&U>o||e===c&&U>a)return 1;b=$&L,m[b]=N<<24|P<<16|S-g|0}}return 0!==$&&(m[S+$]=w-k<<24|64<<16|0),_.bits=N,0}},{"../utils/common":60}],70:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],71:[function(e,t,n){"use strict";function i(e){for(var t=e.length;--t>=0;)e[t]=0}function r(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return 256>e?le[e]:le[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function l(e,t,n){e.bi_valid>X-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>X-e.bi_valid,e.bi_valid+=n-X):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function c(e,t,n){l(e,n[2*t],n[2*t+1])}function u(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function d(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function p(e,t){var n,i,r,o,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,h=t.stat_desc.max_length,m=0;for(o=0;z>=o;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;G>n;n++)i=e.heap[n],o=l[2*l[2*i+1]+1]+1,o>h&&(o=h,m++),l[2*i+1]=o,i>c||(e.bl_count[o]++,a=0,i>=f&&(a=p[i-f]),s=l[2*i],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(u[2*i+1]+a)));if(0!==m){do{for(o=h-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[h]--,m-=2}while(m>0);for(o=h;0!==o;o--)for(i=e.bl_count[o];0!==i;)r=e.heap[--n],r>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}function f(e,t,n){var i,r,o=new Array(z+1),a=0;for(i=1;z>=i;i++)o[i]=a=a+n[i-1]<<1;for(r=0;t>=r;r++){var s=e[2*r+1];0!==s&&(e[2*r]=u(o[s]++,s))}}function h(){var e,t,n,i,o,a=new Array(z+1);for(n=0,i=0;B-1>i;i++)for(ue[i]=n,e=0;e<1<<te[i];e++)ce[n++]=i;for(ce[n-1]=i,o=0,i=0;16>i;i++)for(de[i]=o,e=0;e<1<<ne[i];e++)le[o++]=i;for(o>>=7;q>i;i++)for(de[i]=o<<7,e=0;e<1<<ne[i]-7;e++)le[256+o++]=i;for(t=0;z>=t;t++)a[t]=0;for(e=0;143>=e;)ae[2*e+1]=8,e++,a[8]++;for(;255>=e;)ae[2*e+1]=9,e++,a[9]++;for(;279>=e;)ae[2*e+1]=7,e++,a[7]++;for(;287>=e;)ae[2*e+1]=8,e++,a[8]++;for(f(ae,H+1,a),e=0;q>e;e++)se[2*e+1]=5,se[2*e]=u(e,5);pe=new r(ae,te,j+1,H,z),fe=new r(se,ne,0,q,z),he=new r(new Array(0),ie,0,W,K)}function m(e){var t;for(t=0;H>t;t++)e.dyn_ltree[2*t]=0;for(t=0;q>t;t++)e.dyn_dtree[2*t]=0;for(t=0;W>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*J]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function v(e,t,n,i){g(e),i&&(s(e,n),s(e,~n)),x.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function _(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function y(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&_(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!_(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function E(e,t,n){var i,r,o,s,u=0;if(0!==e.last_lit)do i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?c(e,r,t):(o=ce[r],c(e,o+j+1,t),s=te[o],0!==s&&(r-=ue[o],l(e,r,s)),i--,o=a(i),c(e,o,n),s=ne[o],0!==s&&(i-=de[o],l(e,i,s)));while(u<e.last_lit);c(e,J,t)}function b(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=G,n=0;l>n;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)r=e.heap[++e.heap_len]=2>c?++c:0,o[2*r]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)y(e,o,n);r=l;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],y(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,y(e,o,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],p(e,t),f(o,c,e.bl_count)}function L(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;n>=i;i++)r=a,a=t[2*(i+1)+1],++s<l&&r===a||(c>s?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*Z]++):10>=s?e.bl_tree[2*Q]++:e.bl_tree[2*ee]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}function S(e,t,n){var i,r,o=-1,a=t[1],s=0,u=7,d=4;for(0===a&&(u=138,d=3),i=0;n>=i;i++)if(r=a,a=t[2*(i+1)+1],!(++s<u&&r===a)){if(d>s){do c(e,r,e.bl_tree);while(0!==--s)}else 0!==r?(r!==o&&(c(e,r,e.bl_tree),s--),c(e,Z,e.bl_tree),l(e,s-3,2)):10>=s?(c(e,Q,e.bl_tree),l(e,s-3,3)):(c(e,ee,e.bl_tree),l(e,s-11,7));s=0,o=r,0===a?(u=138,d=3):r===a?(u=6,d=3):(u=7,d=4)}}function A(e){var t;for(L(e,e.dyn_ltree,e.l_desc.max_code),L(e,e.dyn_dtree,e.d_desc.max_code),b(e,e.bl_desc),t=W-1;t>=3&&0===e.bl_tree[2*re[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function T(e,t,n,i){var r;for(l(e,t-257,5),l(e,n-1,5),l(e,i-4,4),r=0;i>r;r++)l(e,e.bl_tree[2*re[r]+1],3);S(e,e.dyn_ltree,t-1),S(e,e.dyn_dtree,n-1)}function C(e){var t,n=4093624447;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return P;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return k;for(t=32;j>t;t++)if(0!==e.dyn_ltree[2*t])return k;return P}function I(e){me||(h(),me=!0),e.l_desc=new o(e.dyn_ltree,pe),e.d_desc=new o(e.dyn_dtree,fe),e.bl_desc=new o(e.bl_tree,he),e.bi_buf=0,e.bi_valid=0,m(e)}function D(e,t,n,i){l(e,(U<<1)+(i?1:0),3),v(e,t,n,!0)}function w(e){l(e,$<<1,3),c(e,J,ae),d(e)}function O(e,t,n,i){var r,o,a=0;e.level>0?(e.strm.data_type===M&&(e.strm.data_type=C(e)),b(e,e.l_desc),b(e,e.d_desc),a=A(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,r>=o&&(r=o)):r=o=n+5,r>=n+4&&-1!==t?D(e,t,n,i):e.strategy===N||o===r?(l(e,($<<1)+(i?1:0),3),E(e,ae,se)):(l(e,(F<<1)+(i?1:0),3),T(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),E(e,e.dyn_ltree,e.dyn_dtree)),m(e),i&&g(e)}function R(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ce[n]+j+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1}var x=e("../utils/common"),N=4,P=0,k=1,M=2,U=0,$=1,F=2,Y=3,V=258,B=29,j=256,H=j+1+B,q=30,W=19,G=2*H+1,z=15,X=16,K=7,J=256,Z=16,Q=17,ee=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,ae=new Array(2*(H+2));i(ae);var se=new Array(2*q);i(se);var le=new Array(oe);i(le);var ce=new Array(V-Y+1);i(ce);var ue=new Array(B);i(ue);var de=new Array(q);i(de);var pe,fe,he,me=!1;n._tr_init=I,n._tr_stored_block=D,n._tr_flush_block=O,n._tr_tally=R,n._tr_align=w},{"../utils/common":60}],72:[function(e,t,n){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=i},{}]},{},[10])(10)}),define("services/utils/debugUtils",["require","exports","module","angular","jszip"],function(e,t,n){"use strict";var i=e("angular"),r="readdirSync",o="readFileSync",a="writeFileSync",s=["$q","$translate","csInterface","debugLog","designLibraryManager","designLibraryElements",function(t,n,i,s,l,c){function u(e){var t=0;return e.forEach(function(e){e.representations.forEach(function(e){t+=e.contentLength||0})}),t}function d(e){var t="B";return e>1024&&(e/=1024,t="KB",e>1024&&(e/=1024,t="MB")),Math.round(e)+" "+t}function p(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function f(e){var t=new Date(e);return t.getMonth()+1+"-"+t.getDate()+"-"+t.getFullYear()}function h(e){var t=new Date(e),n=t.getMinutes();return t.getHours()+":"+(9>=n?"0":"")+n}function m(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function g(e,t){return e=e.replace(/[<>:"\/\\|?*\x00-\x1F]/g,"_").trim(),e&&""!==e?e:t}function v(e){var t;i.isWindowsOS()?(t="start",e=e.replace(/\//g,"\\")):t="/usr/bin/open",window.cep.process.createProcess(t,e)}function _(e){try{return E[o](e)}catch(t){return"Could not read "+e+"\n\n"+t.toString()}}function y(e){try{return E[r](e)}catch(t){return"Could not read "+e+"\n\n"+t.toString()}}var E=nodeRequire("fs"),b=e("jszip");this.viewLibrariesInfo=function(){var e=l.getLibraries();e.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0});var t=[],n=Date.now();t.push('<HTML><HEAD style="font-family:sans-serif;"><TITLE>'),t.push("My CC Libraries"),t.push('</TITLE></HEAD><body style="font-family:sans-serif"><H1>'),t.push("My CC Libraries"),t.push("</H1><p>"),t.push(e.length+" libraries, "+f(n)+" "+h(n)),t.push('</p><table BORDER=1 CELLPADDING=4 CELLSPACING=1 RULES=ROWS FRAME=HSIDES BORDERCOLOR="#EEEEEE" style="font-size:small"><tr>'),t.push("<th>&nbsp</th>"),t.push("<th>Elements</th>"),t.push("<th>Data size</th>"),t.push("<th>Last modified</th>"),t.push("<th>Collaboration</th>"),t.push("<th>ID</th>"),t.push("</tr>"),e.forEach(function(e){t.push("<tr><td>"),t.push(m(e.name)),t.push('</td><td align="right">'),t.push(e.elements.length),t.push('</td><td align="right">'),t.push(p(u(e.elements))),t.push('</td><td align="right">'),t.push(f(e.modified)),t.push("</td><td>"),t.push(e.collaboration||"&nbsp"),t.push("</td><td>"),t.push(e.id),t.push("</td></tr>")}),t.push("</table></BODY></HTML>");var r="writeFileSync",o=i.getSystemPath(SystemPath.MY_DOCUMENTS)+"/AllLibrariesInfo.html";E[r](o,t.join("\n")),i.isWindowsOS()&&alert("Information saved to "+o),v(o)},this.viewLibraryInfo=function(){var e=l.getCurrentLibrary(),t=[];t.push("Current Library Information"),t.push("Name: "+e.name);var r=d(u(e.elements));t.push("Elements: "+e.elements.length+" ("+r+")");var o=c.getElementTypes();o.forEach(function(i){var r=n.instant(c.getDisplayName(i)),o=e.getFilteredElements(i);if(o.length>0){var a=u(o);t.push("    "+r+": "+o.length+" ("+a+")")}}),i.showError(t.join("\n"))},this.viewElementInfo=function(){var e=l.getCurrentLibrary(),t=[],r=Date.now();t.push('<HTML><HEAD style="font-family:sans-serif;"><TITLE>'),t.push('Contents of "'+e.name+'"'),t.push('</TITLE></HEAD><body style="font-family:sans-serif"><H1>'),t.push('Contents of "'+e.name+'"'),t.push("</H1><p>"),t.push(e.elements.length+" elements, "+f(r)+" "+h(r)),t.push('</p><table BORDER=1 CELLPADDING=4 CELLSPACING=1 RULES=ROWS FRAME=HSIDES BORDERCOLOR="#EEEEEE" style="font-size:small"><tr>'),t.push("<th>Type</th>"),t.push("<th>Name</th>"),t.push("<th>Last modified</th>"),t.push("<th>ID</th>"),t.push("</tr>");var o=c.getElementTypes();o.forEach(function(i){var r=n.instant(c.getDisplayName(i)),o=e.getFilteredElements(i);o.length>0&&(o.sort(function(e,t){return(e.name||"")<(t.name||"")?-1:(e.name||"")>(t.name||"")?1:0}),o.forEach(function(e){var n=e.name;n&&n.length>100&&(n=n.substr(0,100)+"..."),t.push("<tr><td>"),t.push(r),t.push("</td><td>"),t.push(n||"&nbsp"),t.push("</td><td>"),t.push(f(e.modified)),t.push("</td><td>"),t.push(e.id),t.push("</td></tr>")}))}),t.push("</table></BODY></HTML>");var a="writeFileSync",s=i.getSystemPath(SystemPath.MY_DOCUMENTS)+"/"+g(e.name,"Library contents")+".html";E[a](s,t.join("\n")),i.isWindowsOS()&&alert("Information saved to "+s),v(s)},this.showLogFolder=function(){i.isWindowsOS()&&alert("Folder is "+s.getLogFolder()),v(s.getLogFolder())},this.saveDebugInfo=function(){try{var e,t=new b,n=t.folder("CC Libraries Debug Info"),r=s.getLogFolder(),o=y(r);o.forEach(function(t){(t.match(/.*\.log$/)||t.match(/.*\.txt$/))&&(e=_(r+t),n.file(t,e))}),e=_(i.getLocalRoot()+"settings.json"),n.file("settings.json",e),e=_(i.getGlobalRoot()+"LIBS/settings.json"),n.file("LIBS_settings.json",e),e=_(i.getGlobalRoot()+"LIBS/librarylookupfile"),n.file("LIBS_librarylookupfile",e);var l=t.generate({type:"nodebuffer"}),c=i.getSystemPath(SystemPath.MY_DOCUMENTS)+"/debuginfo.zip";E[a](c,l),alert("Debug information saved to "+c)}catch(u){alert("Failed to create debug info file\n\n"+u)}}}];t.attach=function(e){i.module(e).service("debugUtils",s)}}),define("services/utils/digestUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$rootScope","$window",function(e,t){this.serviceName="digestUtils";var n,i=0,r=10;this.triggerDigest=function(){var o=this;if(!e.$$phase&&!n){var a=(new Date).valueOf();if(r>a-i)return void(n=t.setTimeout(function(){n=void 0,o.triggerDigest()},r));i=a,e.$apply()}}}];t.attach=function(e){i.module(e).service("digestUtils",r)}}),define("services/utils/fileUtils",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).service("fileUtils",o)}var r=e("angular"),o=["$q","$location","configuration","ccLibraries",function(e,t,n,i){function r(e,t,n){var r=a[e];r&&t.forEach(function(e){var t=r[e];if(t)t.usable=!0,t.editable=!!n;else{var o=i.utils.mimeTypeToExtensions(e);if(o&&o.length>0){var a=o[0];r[e]={exts:o,badge:a.toUpperCase(),name:a.toUpperCase(),usable:!0,editable:!!n}}}})}function o(e,t,n){var r=a[e];r&&t.forEach(function(e){e=e.toLowerCase();var t=i.utils.extensionToMimeTypes(e);t.forEach(function(t){if(t){var i=r[t];i?(-1===i.exts.indexOf(e)&&i.exts.push(e),i.usable=!0,i.editable=!!n):r[t]={exts:[e],badge:e.toUpperCase(),name:e.toUpperCase(),usable:!0,editable:!!n}}})})}this.serviceName="fileUtils";var a={};a[n.IMAGE_ELEMENT_TYPE]={"image/vnd.adobe.photoshop":{exts:["psd"],badge:"Ps",name:"Photoshop",label:"MIME_PHOTOSHOP_DOCUMENT",createdIn:"DL_APP_PHOTOSHOP"},"application/photoshop":{exts:["psd"],badge:"Ps",
name:"Photoshop",label:"MIME_PHOTOSHOP_DOCUMENT",createdIn:"DL_APP_PHOTOSHOP"},"application/photoshop.large":{exts:["psb"],badge:"Ps",name:"Photoshop",label:"MIME_PHOTOSHOP_DOCUMENT",createdIn:"DL_APP_PHOTOSHOP"},"application/illustrator":{exts:["ai"],badge:"Ai",name:"Illustrator",label:"MIME_ILLUSTRATOR_DOCUMENT",createdIn:"DL_APP_ILLUSTRATOR"},"application/vnd.adobe.indesign-idms":{exts:["idms"],badge:"Id",name:"InDesign",label:"MIME_INDESIGN_SNIPPET",createdIn:"DL_APP_INDESIGN"},"application/vnd.adobe.muse-collection":{exts:["muse"],badge:"Mu",name:"Muse",label:"MIME_MUSE_DOCUMENT",createdIn:"DL_APP_MUSE"},"application/pdf":{exts:["pdf"],badge:"PDF",name:"PDF",label:"MIME_PDF_IMAGE"},"image/png":{exts:["png"],badge:"PNG",name:"PNG",label:"MIME_PNG_IMAGE"},"image/jpeg":{exts:["jpeg"],badge:"JPEG",name:"JPEG",label:"MIME_JPEG_IMAGE"},"image/jpg":{exts:["jpg"],badge:"JPG",name:"JPG",label:"MIME_JPEG_IMAGE"},"image/gif":{exts:["gif"],badge:"GIF",name:"GIF",label:"MIME_GIF_IMAGE"},"image/svg+xml":{exts:["svg"],badge:"SVG",name:"SVG",label:"MIME_SVG_IMAGE"},"image/vnd.adobe.shape+svg":{exts:["shape"],badge:"SVG",name:"Shape",label:"MIME_SHAPE_DOCUMENT",createdIn:"DL_APP_SHAPE"},"application/vnd.adobe.charts+zip":{exts:["zip"],badge:"PDF",name:"Chart",label:"MIME_CHARTS",createdIn:"DL_APP_CHARTS"}},a[n.COLOR_ELEMENT_TYPE]={"application/vnd.adobe.color+json":{exts:["ase"],name:"Color",label:"MIME_RGB_COLOR"}},a[n.COLOR_THEME_ELEMENT_TYPE]={"application/vnd.adobe.colortheme+json":{exts:["ase"],name:"Color",label:"MIME_COLOR_THEME"}},a[n.BRUSH_ELEMENT_TYPE]={"application/vnd.adobe.scatter.brush+zip":{exts:["brush"],name:"Brush",label:"MIME_BRUSH"},"application/vnd.adobe.ribbon.brush+zip":{exts:["brush"],name:"Brush",label:"MIME_BRUSH"},"image/x-adobe-photoshop-brush":{exts:["abr"],name:"Brush",label:"MIME_BRUSH"},"application/vnd.adobe.vector.brush+zip":{exts:["brush"],name:"Brush",label:"MIME_BRUSH"}},a[n.CHARACTER_STYLE_ELEMENT_TYPE]={"application/vnd.adobe.characterstyle+json":{exts:["style"],name:"CharacterStyle",label:"MIME_CHARACTER_STYLE"},"application/vnd.adobe.characterstyle+snippet":{exts:["idms"],name:"CharacterStyle",label:"MIME_CHARACTER_STYLE"}},a[n.PARAGRAPH_STYLE_ELEMENT_TYPE]={"application/vnd.adobe.paragraphstyle+json":{exts:["style"],name:"ParagraphStyle",label:"MIME_PARAGRAPH_STYLE"},"application/vnd.adobe.paragraphstyle+snippet":{exts:["idms"],name:"ParagraphStyle",label:"MIME_PARAGRAPH_STYLE"}},a[n.LAYER_STYLE_ELEMENT_TYPE]={"application/vnd.adobe.layerstyle":{exts:["asl"],name:"LayerStyle",label:"MIME_LAYER_STYLE"}},a[n.LOOK_ELEMENT_TYPE]={"application/vnd.adobe.cube+txt":{exts:["cube"],name:"Cube LUT",label:"MIME_CUBE_LUT"},"application/vnd.adobe.look+xml":{exts:["look"],name:"Look",label:"MIME_LOOK"}},a[n.THREE_D_ELEMENT_TYPE]={"image/vnd.adobe.photoshop":{exts:["psd"],name:"Photoshop 3D",label:"MIME_3D_PSD"}},a[n.PATTERN_ELEMENT_TYPE]={"image/vnd.adobe.pattern+png":{exts:["png"]}},a[n.VIDEO_ELEMENT_TYPE]={},a[n.TEMPLATE_ELEMENT_TYPE]={"image/vnd.adobe.photoshop.template":{exts:["psdt"],badge:"Ps",name:"Template",label:"MIME_TEMPLATE"},"application/illustrator.template":{exts:["ait"],badge:"Ai",name:"Template",label:"MIME_TEMPLATE"},"application/vnd.adobe.indesign.template":{exts:["indt"],badge:"Id",name:"Template",label:"MIME_TEMPLATE"}},a[n.ANIMATION_ELEMENT_TYPE]={"application/vnd.adobe.animate-xfl+zip":{exts:["fla","xfl"],badge:"An",name:"Animate",label:"MIME_ANIMATE_DOCUMENT",createdIn:"DL_APP_ANIMATE"},"application/vnd.adobe.animate-sym+zip":{exts:["sym"],badge:"SYM",name:"Animate",label:"MIME_ANIMATE_SYMBOL",createdIn:"DL_APP_ANIMATE"}},this.mimeLookup=function(e,t){var n=a[e];return n?n[t]:void 0},this.getUsableTypes=function(e){var t,n=[],i=a[e];for(t in i)i.hasOwnProperty(t)&&i[t].usable&&n.push(t);return n},this.isTypeUsable=function(e,t){if(t){var n=a[t];if(n&&n[e]&&n[e].usable)return!0}else{var i,r;for(i in a)if(a.hasOwnProperty(i)&&(r=a[i],r&&r[e]&&r[e].usable))return!0}return!1},this.getEditableTypes=function(e){var t,n=[],i=a[e];for(t in i)i.hasOwnProperty(t)&&i[t].editable&&n.push(t);return n},this.isTypeEditable=function(e,t){if(t){var n=a[t];if(n&&n[e]&&n[e].editable)return!0}else{var i,r;for(i in a)if(a.hasOwnProperty(i)&&(r=a[i],r&&r[e]&&r[e].editable))return!0}return!1},this.extendUsableTypes=function(e,t){r(e,t)},this.extendUsableTypesWithExtensions=function(e,t){o(e,t)},this.extendEditableTypes=function(e,t){r(e,t,!0)},this.extendEditableTypesWithExtensions=function(e,t){o(e,t,!0)},this.fileNameToContentType=function(e){if(e){var t,n=e.lastIndexOf(".")+1;if(n>0){t=n!==e.length?e.substr(n).toLowerCase().trim():"";var r,o,s;for(r in a)if(a.hasOwnProperty(r)){o=a[r];for(s in o)if(o.hasOwnProperty(s)&&-1!==o[s].exts.indexOf(t))return s}}var l=i.utils.extensionToMimeTypes(t);if(l&&l.length>0)return l[0]}},this.curateFileName=function(e){return e&&(e=e.replace(/(<|>|:|"|\/|\\|\||\?|\*|[\x00-\x1F])|\(|\)|\{|\}|\,| /g,"")),e},this.getTmpFileName=function(){return(new Date).valueOf()},this.getFileNameWithoutExtension=function(e){var t=e.lastIndexOf(".");return e&&-1!==t&&(e=e.substr(0,t)),e},this.getFileNameExtension=function(e){var t=e.lastIndexOf(".");return e&&-1!==t?e.substr(t+1):""},this.isUploadableFile=function(e){var t=this.fileNameToContentType(e);return t&&a[n.IMAGE_ELEMENT_TYPE]&&a[n.IMAGE_ELEMENT_TYPE][t]?!0:!1};var s=nodeRequire("fs"),l=nodeRequire("path"),c=l&&l.join;this.existsFile=function(e){if(!s)return!1;var t="existsSync";return s[t](e)},this.deleteFile=function(e){if(s)try{var t="unlinkSync";s[t](e)}catch(n){}},this.statFile=function(e){if(!s)return{};var t="statSync";return s[t](e)},this.readFile=function(e,t,n){if(!s)return void(n&&n("no fs"));if(!n){var i="readFileSync";return s[i](e,t)}s.readFile(e,t,n)},this.writeFile=function(e,t,n,i){if(!s)return void(i&&i("no fs"));if(!i){var r="writeFileSync";return s[r](e,t,n)}s.writeFile(e,t,n,i)},this.getUniqueFileName=function(){return i.utils.generateUuid()},this.getTempPath=function(e){return e+"_"+i.utils.generateUuid()},this.copyFile=function(e,t,n){if(!s)return void n("no fs");try{var i=this.getTempPath(t),r=s.createWriteStream(i),o=s.createReadStream(e),a=!1;o.on("end",function(){a||s.rename(i,t,n)}),o.on("error",function(e){a=!0,n(e)}),o.pipe(r)}catch(l){n(l)}},this.removeRecursive=function(t,n){var i=this,r=e.defer(),o=function(t){var r=e.defer();return s.stat(t,function(e,o){e?r.reject(e):o.isDirectory()?r.resolve(i.removeRecursive(t,!0)):n?s.unlink(t,function(e){e?r.reject(e):r.resolve()}):r.resolve()}),r.promise};return s?s.readdir(t,function(i,a){if(i)return void r.reject(i);var l=[];a.forEach(function(e){var n=c(t,e);l.push(o(n))}),e.all(l).then(function(){n?s.rmdir(t,function(e){e?r.reject(e):r.resolve()}):r.resolve()},function(){r.reject()})}):r.reject(),r.promise},this.ensurePathExists=function(e,t){function n(e,t,i){var r=t.slice(0,e).join("/"),o=function(r){e<t.length?n(e+1,t,i):i(null)};s.exists(r,function(e){e?o():s.mkdir(r,o)})}if(!s)return void t("no fs");var i=e.split("/");n(2,i,t)}}];return{attach:i}}),define("services/utils/imageUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){this.serviceName="imageUtils",this.getImageDimensions=function(e){function t(e){for(var t=e.parentElement;t;){if(t.attributes.hasOwnProperty("img-size"))return t;t=t.parentElement}}var n,i,r=t(e),o=r.clientWidth,a=r.clientHeight,s=o/a,l=e.naturalWidth,c=e.naturalHeight,u=l/c;return o>=l&&a>=c?(n=l,i=c):u>=s?(n=o,i=n/u):(i=a,n=i*u),{width:n,height:i}}}];t.attach=function(e){i.module(e).service("imageUtils",r)}}),define("services/utils/importExport",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","csInterface","designLibraryManager","serializationUtils",function(e,t,n,i){function r(e){c[u](e)&&(c[d](e).forEach(function(t,n){var i=e+"/"+t;c[f](i).isDirectory()?r(i):c[h](i)}),c[p](e))}function o(t,n){var i=[],o=e.defer();try{r(t),c.mkdir(t,function(r){try{if(r)return void o.reject(r);n.elements.forEach(function(n){n.representations.forEach(function(n){if(n.contentPath){var r=n.contentPath,a=r.split(/\//),s=a[a.length-1],l=t+s;n.contentPath=s;var u=e.defer();i.push(u.promise),c.readFile(r,function(e,t){return e?void o.reject(e):void c.writeFile(l,t,function(e){return e?void o.reject(e):void u.resolve()})})}})}),c[m](t+"library.txt",JSON.stringify(n,void 0,2)),o.resolve(e.all(i))}catch(a){o.reject(a)}})}catch(a){o.reject(a)}return o.promise}function a(e){var n,i=t.getGlobalRoot();n=t.isWindowsOS()?/^.\:\/Users\/[^\/]+\//:/^\/Users\/[^\/]+\//;var r=i.match(n);if(r){var o=r[0];e=e.replace(/^~\//,o)}return e}function s(n){return t.evalScript("$._ADBE_LIBS_CORE.chooseFolder()").then(function(t){if("null"===t)return e.reject("No folder selected.");t=a(decodeURIComponent(t))+"/";var i=n.name.replace(/[<>:"\/\\|?*\x00-\x1F]/g,"_").trim();return(""===i||"."===i||".."===i)&&(i="Library"),t+i+"/"})}function l(e){t.evalScript("$._ADBE_LIBS_CORE.chooseFolder()").then(function(t){"null"===t?e():e(a(decodeURIComponent(t))+"/")})}var c=nodeRequire("fs"),u="existsSync",d="readdirSync",p="rmdirSync",f="statSync",h="unlinkSync",m="writeFileSync";this.replaceTilde=function(e){return a(e)},this.exportLibrary=function(e){s(e).then(function(t){i.exportLibraryData(e).then(function(e){o(t,e).then(function(e){window.alert("Created "+t)},function(e){window.alert("Problem writing "+t+"\n\n"+e)})})})},this.importLibraryFromFolder=function(e,t){if(e){var r=function(e,n){if(t)return void t(e,n);var i=e||'Created "'+n.name+'"\n\n';window.alert(i)};c.readFile(e+"library.txt","utf8",function(t,o){if(t)return void r("Problem reading library\n\n"+t);try{var a=JSON.parse(o),s=n.getPrivateLibraryCollection();i.importLibraryData(s,a,e).then(function(e){r(null,e)},function(e){r('Could not create library "'+a.name+'"\n\n'+e)})}catch(l){r("Problem importing library\n\n"+l)}})}},this.importLibrary=function(){l(this.importLibraryFromFolder.bind(this))}}];t.attach=function(e){i.module(e).service("importExport",r)}}),define("services/utils/linkUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$window","$http","csInterface","imsInterface","debugLog","configuration","metrics","designLibraryManager","versionManager","localSettings",function(e,t,n,i,r,o,a,s,l,c){function u(e){var t,n="",i="";for(t in e)e.hasOwnProperty(t)&&(n=n+i+t+"="+encodeURIComponent(e[t]),i="&");return n}function d(e,o,a,l,c){if(o){var p=s.getPrivateLibraryCollection();i.getAccessToken(p&&p.userId).then(function(o){if(o){var s=p&&p.cloudInfo&&p.cloudInfo.parameters,f=s&&s.jumpTargetClientId,h=s&&s.jumpTargetScope;if(s&&!f){var m=e+(-1===e.indexOf("?")?"?":"&")+"accessToken="+encodeURIComponent(o);return void n.launchInBrowser(m)}t({method:"POST",url:"https://"+i.getEnvironment().ims+"/ims/jumptoken/v1",data:u({bearer_token:o,target_client_id:a||f||"CreativeCloudWeb1",target_redirect_uri:e,target_scope:l||h||"openid,creative_cloud,read_organizations,additional_info.screen_name,additional_info.secondary_email",target_response_type:f?"code":"token"}),headers:{"Content-type":"application/x-www-form-urlencoded"}}).success(function(e,t){n.launchInBrowser(e.jump)}).error(function(t,o){r.log("error "+o+": jumpTo "+e+", result=\n"+("string"==typeof t?t:JSON.stringify(t))),401!==o||c?n.launchInBrowser(e):(i.clearAccessToken(),d(e,!0,a,l,!0))})}else n.launchInBrowser(e)},function(t){n.launchInBrowser(e)})}else n.launchInBrowser(e)}function p(e){var t=e.collection;return t.cloudInfo&&t.cloudInfo.viewURI?t.cloudInfo.viewURI:i.getEnvironment().ccwebHost}function f(e){var t=p(e);if(t){var n=o.CCWEB_LIBRARIES_URL;return n=n.replace(/ZZZZ/,t),n=n.replace(/YYYY/,e.id)}}function h(e){var t=p(e);if(t){var n=o.CCWEB_LIBRARIES_ARCHIVE_URL;return n=n.replace(/ZZZZ/,t),n=n.replace(/YYYY/,e.id)}}function m(e){var t=p(e.library);if(t){var n=o.CCWEB_ELEMENT_URL;return n=n.replace(/ZZZZ/,t),n=n.replace(/YYYY/,e.library.id),n=n.replace(/XXXX/,e.id)}}function g(e){if(!e)return"";var t=[];return Object.keys(e).forEach(function(n){t.push(n+"="+e[n])}),0===t.length?"":"?"+t.join("&")}function v(e){var t=n.getLocale().substring(3).toLowerCase();return t=o.AVAILABLE_HELP_LANGUAGES[t]?"_"+t:"",e+t}function _(){var e=i.getEnvironment().clientId+"%2F"+l.getPluginVersion(),t=n.getLocale();return t&&0!==t.length||(t="en-US"),{"x-product":e,locale:t,sso_inbound:1}}function y(e){return c.hasDebugSettings()?"https://wiki.corp.adobe.com/display/ccprojects/Desktop+configuration+for+CC+Library+users":v(e)}function E(e,t){var n=!1;e&&o.STOCK_SEARCH_OPTIONS.forEach(function(i){if(e[i.param]){var r=encodeURIComponent("filters[content_type:"+i.param+"]");t[r]=1,n=!0}}),n||o.STOCK_SEARCH_OPTIONS.forEach(function(e){var n=encodeURIComponent("filters[content_type:"+e.param+"]");t[n]=1})}this.openLibraryURL=function(e){if(e){a.reportPanelEvent("viewLibraryOnWeb",{libraryID:e.id});var t=f(e);d(t,!0)}},this.openLibraryArchiveURL=function(e){if(e){a.reportPanelEvent("viewLibraryArchiveOnWeb",{libraryID:e.id});var t=h(e);d(t,!0)}},this.openElementURL=function(e,t,n){if(e){a.reportPanelEvent("viewElementOnWeb",{libraryID:e.library.id,elementID:e.id});var i=n||{};t&&(i.section=t);var r=m(e)+g(i);d(r,!0)}},this.openCollaborateURL=function(e){if(e){a.reportPanelEvent("shareLibraryInitiate",{libraryID:e.id});var t=f(e)+g({dialog:"collaborate"});d(t,!0)}},this.openHelpURL=function(){a.reportPanelEvent("showTutorial");var e=v(o.LEARN_MORE_URL_ROOT);d(e,!1)},this.openServiceErrorURL=function(e){a.reportPanelEvent("serviceErrorHelp");var t=v(o.SERVICE_ERROR_URL_ROOT);e&&(t=t+"#"+e),d(t,!1)},this.openInstallCCAppURL=function(){a.reportPanelEvent("installCCApp");var e=y(o.INSTALL_CC_APP_URL_ROOT);d(e,!1)},this.openUpdateCCAppURL=function(){a.reportPanelEvent("updateCCApp");var e=y(o.UPDATE_CC_APP_URL_ROOT);d(e,!1)},this.openUpdateCCLibrariesURL=function(){a.reportPanelEvent("updateCCLibraries");var e=y(o.UPDATE_CC_LIBRARIES_URL_ROOT);d(e,!1)},this.openShareLibraryLinkURL=function(e){if(e){a.reportShareLibraryLink(e);var t=f(e)+g({dialog:"share"});d(t,!0)}},this.openShareElementLinkURL=function(e){if(e){a.reportShareElementLink(e);var t=m(e)+g({dialog:"share"});d(t,!0)}},this.getStockURL=function(){return"https://"+i.getEnvironment().stockWebHost},this.launchStockSite=function(){var e=this.getStockURL()+g(_());d(e,!0,o.STOCK_CLIENT_ID,o.STOCK_TARGET_SCOPE)},this.launchLicenseURL=function(e){d(e,!1)},this.launchFindSimilarURL=function(e,t){var n=_();n.similia_id=e,E(t,n);var i=this.getStockURL()+o.STOCK_SEARCH_PATH+g(n);d(i,!0,o.STOCK_CLIENT_ID,o.STOCK_TARGET_SCOPE),a.reportPanelEvent("stockFindSimilarMoreResults")},this.launchSearchStockURL=function(e,t){var n=_();n.k=encodeURIComponent(e),E(t,n);var i=this.getStockURL()+o.STOCK_SEARCH_PATH+g(n);d(i,!0,o.STOCK_CLIENT_ID,o.STOCK_TARGET_SCOPE),a.reportPanelEvent("stockViewMoreResults")},this.launchStockAssetURL=function(e){var t=this.getStockURL()+"/"+e+g(_());d(t,!0,o.STOCK_CLIENT_ID,o.STOCK_TARGET_SCOPE),a.reportPanelEvent("stockViewResult")},this.launchEngagementLibraryURL=function(e){d(e,!1),a.reportPanelEvent("viewEngagementLibrary")}}];t.attach=function(e){i.module(e).service("linkUtils",r)}}),define("services/utils/listenerUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["digestUtils",function(e){this.addListenerManager=function(t,n){function i(e){if(o[e]){var t=Array.prototype.slice.call(arguments,1),n=[];o[e].forEach(function(e){e.apply(e,t),e.isOneTime||n.push(e)}),o[e]=n}}function r(){var t=arguments;i.apply(i,t),e.triggerDigest()}if(!t||!n)throw new Error("Invalid arguments");var o={};return n.forEach(function(e){o[e]=[]}),t.addListener=function(e,t,n){if(!o[e])throw new Error("Invalid listener event: "+e);o[e].push(t),n&&(t.isOneTime=!0)},t.removeListener=function(e,t){if(!o[e])throw new Error("Invalid listener event: "+e);var n=o[e].indexOf(t);-1!==n&&o[e].splice(n,1)},t.addScopedListener=function(e,n,i,r){t.addListener(n,i,r),e.$on("$destroy",function(){t.removeListener(n,i)})},{notify:i,notifyNonAngular:r}}}];t.attach=function(e){i.module(e).service("listenerUtils",r)}}),define("services/utils/lockUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$rootScope","$window",function(e,t){var n={};this.obtainLock=function(e,t,i){var r=n[e];r||(r={pendingContinuations:[],isLocked:!1},n[e]=r),r.isLocked?r.pendingContinuations.push({continuation:t,thisObject:i}):(r.isLocked=!0,t.apply(i,[null]))},this.releaseLock=function(e){var t=n[e];if(t)if(t.pendingContinuations.length>0){var i=t.pendingContinuations.shift();setTimeout(function(){i.continuation.apply(i.thisObject,[null])})}else delete n[e]}}];t.attach=function(e){i.module(e).service("lockUtils",r)}}),define("services/utils/mediator",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$rootScope",function(e){function t(t){var n=[];this.destroy=function(){n.forEach(function(e){e()}),n=[]},t.$on("$destroy",this.destroy),this.emit=function(){e.$emit.apply(e,arguments)},this.on=function(t,i){n.push(e.$on(t,i))},this.onOnce=function(t,n){var i,r=function(){i(),n.apply(null,arguments)};i=e.$on(t,r)},this.bind=function(i,r){r=r||i,n.push(e.$watch(i,function(e){t[r]=e}))},this.share=function(i,r){r=r||i;var o=t.$watch(i,function(t){e[r]=t});n.push(function(){o(),delete e[r]})}}this.register=function(e){return new t(e)},this.emit=function(){e.$emit.apply(e,arguments)}}];t.attach=function(e){i.module(e).service("mediator",r)}}),define("services/utils/pngUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){function e(e,t){var n,i;for(n=2;n<arguments.length;n++)for(i=0;i<arguments[n].length;i++)e[t++]=arguments[n].charAt(i)}function t(e){return String.fromCharCode(e>>8&255,255&e)}function n(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function i(e){return String.fromCharCode(255&e,e>>8&255)}function r(r,o,a){this.width=r,this.height=o,this.depth=a,this.pix_size=o*(r+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=25,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=8+3*a+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=8+a+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=8+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=12,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=[],this.palette={},this.pindex=0;var s,l,c=[];for(s=0;s<this.buffer_size;s++)this.buffer[s]="\x00";e(this.buffer,this.ihdr_offs,n(this.ihdr_size-12),"IHDR",n(r),n(o),"\b"),e(this.buffer,this.plte_offs,n(this.plte_size-12),"PLTE"),e(this.buffer,this.trns_offs,n(this.trns_size-12),"tRNS"),e(this.buffer,this.idat_offs,n(this.idat_size-12),"IDAT"),e(this.buffer,this.iend_offs,n(this.iend_size-12),"IEND");var u=30912;for(u+=31-u%31,e(this.buffer,this.idat_offs+8,t(u)),s=0;(s<<16)-1<this.pix_size;s++){var d,p;s+65535<this.pix_size?(d=65535,p="\x00"):(d=this.pix_size-(s<<16)-s,p=""),e(this.buffer,this.idat_offs+8+2+(s<<16)+(s<<2),p,i(d),i(~d))}for(s=0;256>s;s++){var f=s;for(l=0;8>l;l++)f=1&f?-306674912^f>>1&2147483647:f>>1&2147483647;c[s]=f}this.index=function(e,t){var n=t*(this.width+1)+e+1,i=this.idat_offs+8+2+5*Math.floor(n/65535+1)+n;return i},this.color=function(e,t,n,i){i=i>=0?i:255;var r=((i<<8|e)<<8|t)<<8|n;if("undefined"==typeof this.palette[r]){if(this.pindex===this.depth)return"\x00";var o=this.plte_offs+8+3*this.pindex;this.buffer[o]=String.fromCharCode(e),this.buffer[o+1]=String.fromCharCode(t),this.buffer[o+2]=String.fromCharCode(n),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(i),this.palette[r]=String.fromCharCode(this.pindex++)}return this.palette[r]},this.getBase64=function(){var e,t,n,i,r,o,a,s=this.getDump(),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=s.length,u=0,d="";do e=s.charCodeAt(u),i=e>>2,t=s.charCodeAt(u+1),r=(3&e)<<4|t>>4,n=s.charCodeAt(u+2),o=u+2>c?64:(15&t)<<2|n>>6,a=u+3>c?64:63&n,d+=l.charAt(i)+l.charAt(r)+l.charAt(o)+l.charAt(a);while((u+=3)<c);return d},this.getDump=function(){function t(t,i,r){var o,a=-1;for(o=4;r-4>o;o+=1)a=c[255&(a^t[i+o].charCodeAt(0))]^a>>8&16777215;e(t,i+r-4,n(-1^a))}var i,r,o=65521,a=5552,s=1,l=0,u=a;for(r=0;r<this.height;r++)for(i=-1;i<this.width;i++)s+=this.buffer[this.index(i,r)].charCodeAt(0),l+=s,0===(u-=1)&&(s%=o,l%=o,u=a);return s%=o,l%=o,e(this.buffer,this.idat_offs+this.idat_size-8,n(l<<16|s)),t(this.buffer,this.ihdr_offs,this.ihdr_size),t(this.buffer,this.plte_offs,this.plte_size),t(this.buffer,this.trns_offs,this.trns_size),t(this.buffer,this.idat_offs,this.idat_size),t(this.buffer,this.iend_offs,this.iend_size),"PNG\r\n\n"+this.buffer.join("")}}this.createPNG=function(e,t,n){return new r(e,t,n)}}];t.attach=function(e){i.module(e).service("pngUtils",r)}}),define("services/utils/recursionHelper",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$compile","$document",function(e){this.serviceName="recursionHelper",this.compile=function(t){var n=t.clone();t.contents().remove();var i;return function(t,r){i||(i=e(n.contents())),i(t,function(e){r.empty&&r.empty(),r.append(e)})}}}];t.attach=function(e){i.module(e).service("recursionHelper",r)}}),define("services/utils/serializationUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","ccLibraries",function(e,t){this.exportRepresentationData=function(t){var n={id:t.id,type:t.type,relationship:t.relationship,isExternalLink:t.isExternalLink,width:t.width,height:t.height,isFullSize:t.isFullSize,contentLength:t.contentLength},i=t.getValues();return i.length>0&&(n.values=i),t.isExternalLink?(n.externalLinkURL=t.getContentURL(),e.when(n)):t.getContentPath().then(function(e){return n.contentPath=e,n})},this.exportElementData=function(t){var n={created:t.created,id:t.id,modified:t.modified,name:t.name,type:t.type,representations:[]},i=t.getValues();i.length>0&&(n.values=i);var r=[];return t.representations.forEach(function(e,t){var i=this.exportRepresentationData(e).then(function(e){n.representations[t]=e});r.push(i)},this),e.all(r).then(function(){return n})},this.exportLibraryData=function(t){var n={created:t.created,id:t.id,modified:t.modified,name:t.name,elements:[]},i=[];return t.elements.forEach(function(e,t){var r=this.exportElementData(e).then(function(e){n.elements[t]=e});i.push(r)},this),e.all(i).then(function(){return n})},this.importRepresentationData=function(n,i,r){var o=n.createRepresentation(i.type,i.relationship);i.values&&i.values.forEach(function(e){o.setValue(e.namespace,e.key,e.value)});var a;if(i.contentPath)a=o.setContentFromPath((r||"")+i.contentPath,!1).then(function(){return i.height&&(o.height=i.height),i.width&&(o.width=i.width),i.isFullSize&&(o.isFullSize=i.isFullSize),o});else if(i.externalLinkURL){var s=i.externalLinkURL,l=t.getServiceInfo(),c=l&&l.environment;"Staging"===c?s=s.replace("stock.adobe.com","staging-astock1.fotolia.net"):"Production"===c&&(s=s.replace("staging-astock1.fotolia.net","stock.adobe.com")),a=o.setContentFromURL(!0,s,{}).then(function(){i.height&&(o.height=i.height),i.width&&(o.width=i.width),i.isFullSize&&(o.isFullSize=i.isFullSize),i.contentLength&&(o.contentLength=i.contentLength)})}return a||e.when(o)},this.importElementData=function(t,n,i){var r=t.createElement(n.name,n.type);n.values&&n.values.forEach(function(e){r.setValue(e.namespace,e.key,e.value)});var o=[];return n.representations.forEach(function(e){if("primary"===e.relationship){var t=this.importRepresentationData(r,e,i);o.push(t)}},this),n.representations.forEach(function(e){if("primary"!==e.relationship){var t=this.importRepresentationData(r,e,i);o.push(t)}},this),e.all(o).then(function(){return r.endOperation(),r},function(){t.removeElement(r,!0)})},this.importLibraryData=function(t,n,i){var r=t.createLibrary(n.name),o=[];return n.elements.forEach(function(e){var t=this.importElementData(r,e,i);o.push(t)},this),e.all(o).then(function(){return r})}}];t.attach=function(e){i.module(e).service("serializationUtils",r)}}),define("services/utils/tether",["require","exports","tether"],function(e,t,n){"use strict";var i=["$compile","$rootScope","$window","$animate","$controller","$timeout","$q","$http","$templateCache","digestUtils",function(e,t,i,r,o,a,s,l,c,u){return function(a){function d(){I=new n(S({element:A[0]},a.tether))}function p(){return I&&I.enabled}function f(){return a.element?void A.addClass("hidden"):(p()?r.leave(A,function(){A=null}):A=null,void(y&&(y.$destroy(),y=void 0)))}function h(){I&&I.destroy(),A&&!a.element?r.leave(A):A.addClass("hidden"),u.triggerDigest()}function m(e){var t=e.target;if(A&&C!==A[0]){for(;null!==t.parentElement;){if(t.parentElement===A[0])return;t=t.parentElement}return T.off("click",m),h()}}function g(t,n,s){if(s&&(y&&(y.$destroy(),y=void 0),A=null),A)n&&(y.$locals=n);else{A=a.element?a.element.html(t.trim()):angular.element(t.trim()),y=y||L.$new(),n&&(y.$locals=n);var l;a.controller&&(l=o(E,{$scope:y})),b&&(y[b]=l),e(A)(y)}return i.setTimeout(function(){a.element?A.removeClass("hidden"):r.enter(A,T),d(),I.position(),a.leaveOnBlur&&T.on("click",m),u.triggerDigest()}),A}function v(e,t){var n=s.defer();return D.then(function(i){n.resolve(g(i,e,t))}),n.promise}function _(){A&&(r.move(A,T),d())}if(!(!a.template^!a.templateUrl))throw new Error("Expected one of either `template` or `templateUrl`");a.tether=a.tether||{};var y,E=a.controller||angular.noop,b=a.controllerAs,L=a.parentScope||t,S=angular.extend,A=null,T=angular.element(i.document.body),C=a.tether.target||T;a.tether.target=C;var I,D;if(a.template){var w=s.defer();w.resolve(c.get(a.template)||a.template),D=w.promise}else D=l.get(a.templateUrl,{cache:c}).then(function(e){return e.data});return{enter:v,leave:h,destroy:f,position:_,isActive:p,tether:D,config:a.tether}}}];t.attach=function(e){angular.module(e).factory("Tether",i)}}),define("services/utils/textstyleUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r={},o=["configuration","$translate",function(e,t){this.serviceName="textstyleUtils";var n=function(){r.Underline||(r.Underline=t.instant("DL_TEXT_ATTRIBUTE_UNDERLINE"),r.Strikethrough=t.instant("DL_TEXT_ATTRIBUTE_STRIKETHROUGH"),r.Leading=t.instant("DL_TEXT_ATTRIBUTE_LEADING"),r.Kerning=t.instant("DL_TEXT_ATTRIBUTE_KERNING"),r.Tracking=t.instant("DL_TEXT_ATTRIBUTE_TRACKING"),r.LeadingAuto=t.instant("DL_TEXT_LEADING_AUTO"),r.KerningAuto=t.instant("DL_TEXT_KERNING_AUTO"),r.KerningOptical=t.instant("DL_TEXT_KERNING_OPTICAL"),r.KerningMetricsRomanOnly=t.instant("DL_TEXT_KERNING_METRICSROMANONLY"))};this.getStyleProperties=function(e){var t=[];if(n(),e.adbeFont?t.push(e.adbeFont.family):e.fontFamily&&t.push(e.fontFamily),e.adbeFont&&-1===e.adbeFont.style.toLowerCase().indexOf("normal")&&e.adbeFont.style.toLowerCase().indexOf("regular")&&t.push(e.adbeFont.style),e.fontSize){var i=e.fontSize.value&&Math.round(100*e.fontSize.value)/100;t.push(i+e.fontSize.type)}if(e.textDecorationObject?(e.textDecorationObject.adbeUnderline&&t.push(r.Underline),e.textDecorationObject.adbeStrikethrough&&t.push(r.Strikethrough)):e.textDecoration&&(-1!==e.textDecoration.indexOf("underline")&&t.push(r.Underline),-1!==e.textDecoration.indexOf("line-through")&&t.push(r.Strikethrough)),e.adbeAutoLeading)t.push(r.Leading+":"+r.LeadingAuto);else if(e.lineHeight){var o=e.lineHeight.value&&Math.round(100*e.lineHeight.value)/100;t.push(r.Leading+":"+o+e.lineHeight.type)}switch(e.adbeIlstKerningMethod){case"AutoKernType.AUTO":t.push(r.Kerning+":"+r.KerningAuto);break;case"AutoKernType.OPTICAL":t.push(r.Kerning+":"+r.KerningOptical);break;case"AutoKernType.METRICSROMANONLY":t.push(r.Kerning+":"+r.KerningMetricsRomanOnly)}return e.adbeTracking?t.push(r.Tracking+":"+e.adbeTracking):e.letterSpacing&&t.push(r.Tracking+":"+1e3*e.letterSpacing.value),t}}];t.attach=function(e){i.module(e).service("textstyleUtils",o)}}),define("services/utils/unitUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$translate",function(e){this.serviceName="unitUtils",this.bytesToString=function(t,n){var i="B";t>1024&&(t/=1024,i="KB",t>1024&&(t/=1024,i="MB",t>1024&&(t/=1024,i="GB")));var r=Math.pow(10,n||0);return t=Math.round(t*r)/r,e.instant("DL_FILESIZE_"+i,{size:t})},this.msToString=function(t){var n=Math.round(t/1e3),i=Math.floor(n/60);if(n-=60*i,10>n&&(n="0"+n),i){var r=Math.floor(i/60);return i-=60*r,r?(10>i&&(i="0"+i),e.instant("DL_DURATION_HMS",{hours:r,minutes:i,seconds:n})):e.instant("DL_DURATION_MS",{minutes:i,seconds:n})}return e.instant("DL_DURATION_S",{seconds:n})},this.fpsToString=function(t){return e.instant("DL_FRAMERATE",{framerate:t})},this.dimensionsToString=function(t,n){return e.instant("DL_DIMENSIONS",{width:t,height:n})}}];t.attach=function(e){i.module(e).service("unitUtils",r)}}),define("services/utils/main",["require","exports","module","./adobeStockLicenseUtils","./adobeStockRendererUtils","./adobeStockUpdateUtils","./adobeStockUtils","./apiHttpInterceptor","./colorUtils","./debugLog","./debugUtils","./digestUtils","./fileUtils","./imageUtils","./importExport","./linkUtils","./listenerUtils","./lockUtils","./mediator","./pngUtils","./recursionHelper","./serializationUtils","./tether","./textstyleUtils","./unitUtils"],function(e,t,n){"use strict";function i(t){e("./adobeStockLicenseUtils").attach(t),e("./adobeStockRendererUtils").attach(t),e("./adobeStockUpdateUtils").attach(t),e("./adobeStockUtils").attach(t),e("./apiHttpInterceptor").attach(t),e("./colorUtils").attach(t),e("./debugLog").attach(t),e("./debugUtils").attach(t),e("./digestUtils").attach(t),e("./fileUtils").attach(t),e("./imageUtils").attach(t),e("./importExport").attach(t),e("./linkUtils").attach(t),e("./listenerUtils").attach(t),e("./lockUtils").attach(t),e("./mediator").attach(t),e("./pngUtils").attach(t),e("./recursionHelper").attach(t),e("./serializationUtils").attach(t),e("./tether").attach(t),e("./textstyleUtils").attach(t),e("./unitUtils").attach(t)}return{attach:i}}),define("services/main",["require","exports","module","./config/main","./designlibrary/main","./external/main","./interface/main","./managers/main","./utils/main"],function(e,t,n){"use strict";t.attach=function(t){e("./config/main").attach(t),e("./designlibrary/main").attach(t),e("./external/main").attach(t),e("./interface/main").attach(t),e("./managers/main").attach(t),e("./utils/main").attach(t)}}),define("directives/core/dragDrop",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$parse","mediator","versionManager","configuration","designLibraryCEPEventHandlers","designLibrarySelection","designLibraryElements","digestUtils",function(e,t,n,r,o,a,s,l){return{restrict:"A",link:function(c,u,d){var p=d.dragChannel?d.dragChannel.split(" "):["defaultchannel"],f=d.onDrag&&e(d.onDrag),h=d.onDragStart&&e(d.onDragStart),m=d.onDropEnd&&e(d.onDropEnd),g=e(d.dragComponent)(c),v=d.setTextData&&e(d.setTextData)(c),_=t.register(c),y=function(t){if(t.stopPropagation(),h&&(h(c,{asset:g}),l.triggerDigest()),o.setDraggedElements(void 0),d.dragData&&v){var m=e(d.dragData)(c);m&&(t.originalEvent.dataTransfer.setData("Text",i.toJson(m)),p.forEach(function(e){_.emit("ANGULAR_DRAG_START_"+e,t)}),l.triggerDigest())}var y=a.getSelection();y.length<=1&&(y=[g]);var E=[],b=[];y.forEach(function(e){if(s.isDraggable(e)){var t=s.getDragData(e);if(t){var n=t.usedRepresentationForAnalytics;delete t.usedRepresentationForAnalytics,b.push({element:e,usedRepresentation:n}),E.push(t)}}}),o.setDraggedElements(b);var L={source:r.DRAGDROP_SOURCE,version:n.getPluginVersion(),assetList:E},S=!1;if(d.dragData&&(L.assetList=e(d.dragData)(c),S=!0),!L.assetList)return t.preventDefault(),!1;if(t.originalEvent.dataTransfer.setData(r.DRAGDROP_ID,JSON.stringify(L)),
f&&(f(c,{$event:t}),l.triggerDigest()),t.originalEvent.dataTransfer.setDragImage){var A=u[0];t.originalEvent.dataTransfer.setDragImage(A,-10,-10)}r.currentProduct.onDragStartHandler&&r.currentProduct.onDragStartHandler(t,L.assetList,S)},E=function(e){e.stopPropagation();var t=!1;(e.clientX<0||e.clientX>window.innerWidth||e.clientY<0||e.clientY>window.innerHeight)&&(t=!0),m&&m(c,{asset:g,didDropSucceed:t}),l.triggerDigest()};u.on("dragstart",y),u.on("dragend",E),c.$on("disableDragging",function(){u.attr("draggable",!1)}),c.$on("enableDragging",function(){u.attr("draggable",d.uiDraggable)}),c.$watch(d.uiDraggable,function(e){e?u.attr("draggable",!0):u.attr("draggable",!1)}),c.$on("$destroy",function(){u.off("dragstart",y),u.off("dragend",E),y=void 0,E=void 0,u=void 0})}}}],o=["$parse","$interval","mediator","digestUtils",function(e,t,n,r){return{restrict:"A",link:function(t,o,a){function s(e){for(var t=o[0],n=e;n;){if(n===t)return!0;n=n.parentNode}}function l(e){var t=e.target||e.srcElement,n=E.leftTargets.indexOf(t);-1!==n?E.leftTargets.splice(n,1):E.targets.push(t)}function c(e){var t=e.target||e.srcElement,n=E.targets.indexOf(t);-1!==n?E.targets.splice(n,1):E.leftTargets.push(t)}function u(){E.targets=[],E.leftTargets=[]}function d(){return 1===E.targets.length&&0===E.leftTargets.length}function p(){return 0===E.targets.length&&0===E.leftTargets.length}function f(){E.draggedOver=!0}function h(e){function n(n){n.preventDefault(),n.originalEvent.dataTransfer.dropEffect="copy",f(),g&&(g(t,{$event:n,channel:e}),r.triggerDigest())}function a(n){l(n),d()&&(n.preventDefault(),v&&(v(t,{$event:n,channel:e}),r.triggerDigest()),o.addClass("drag-hovering"))}function s(n){c(n),p()&&(n.preventDefault(),_&&(_(t,{$event:n,channel:e}),r.triggerDigest()),o.removeClass("drag-hovering"))}function h(n){if(n.preventDefault(),u(),o.removeClass("drag-hovering"),n.originalEvent.handled)return void(_&&(_(t,{$event:n,channel:e}),r.triggerDigest()));if(y){try{var a=i.fromJson(n.originalEvent.dataTransfer.getData("Text"));y(t,{$data:a,$event:n,channel:e}),r.triggerDigest()}catch(s){_&&(_(t,{$event:n,channel:e}),r.triggerDigest())}n.originalEvent.handled=!0}}return{onDragOver:n,onDragEnter:a,onDragLeave:s,onDrop:h}}var m=a.dropChannel?a.dropChannel.split(" "):["defaultchannel"],g=a.onDragOver&&e(a.onDragOver),v=a.onDragEnter&&e(a.onDragEnter),_=a.onDragLeave&&e(a.onDragLeave),y=a.onDrop&&e(a.onDrop),E={draggedOver:!1,targets:[],leftTargets:[]},b=!0;t.$watch(a.uiDroppable,function(e){b=e});var L=n.register(t);m.forEach(function(e){var n=h(e),i=function(){o.off("dragover",n.onDragOver),o.off("dragenter",n.onDragEnter),o.off("dragleave",n.onDragLeave),o.off("drop",n.onDrop)};L.on("ANGULAR_DRAG_START_"+e,function(e,t){b&&!s(t.target)&&(o.on("dragover",n.onDragOver),o.on("dragenter",n.onDragEnter),o.on("dragleave",n.onDragLeave),o.on("drop",n.onDrop))}),L.on("ANGULAR_DRAG_END_"+e,function(n){i(),u(),o.removeClass("drag-hovering"),_&&_(t,{$event:n,channel:e})}),t.$on("$destroy",i)})}}}];t.attach=function(e){i.module(e).directive("uiDraggable",r),i.module(e).directive("uiDroppable",o)}}),define("directives/core/dropFiles",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular");window.addEventListener("dragover",function(e){e.preventDefault()},!1),window.addEventListener("drop",function(e){e.preventDefault()},!1);var r=["$parse","configuration",function(e,t){return{restrict:"A",scope:{dropTypes:"@",dropSources:"@",dropFolder:"=",dropFile:"=",onDragEnter:"&",onDragLeave:"&",onDrop:"&",onDragOver:"&"},link:function(n,i,r){function o(e){var t=e.target||e.srcElement,n=g.indexOf(t);-1!==n?g.splice(n,1):m.push(t)}function a(e){var t=e.target||e.srcElement,n=m.indexOf(t);-1!==n?m.splice(n,1):g.push(t)}function s(){m=[],g=[]}function l(){return 1===m.length&&0===g.length}function c(){return 0===m.length&&0===g.length}function u(i){var r=e(n.dropTypes)(n)||["Files","application/x-moz-file","public.file-url"],o=e(n.dropSources)(n)||void 0,a=i.originalEvent.dataTransfer.types,s=i.originalEvent.dataTransfer.files,l=!0,c={};if(c.keys={metaKey:i.metaKey,altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey},s&&s.length>0&&(!r||r.indexOf("Files")>-1)&&(c.files=s),o){l=!1;try{var u=i.originalEvent.dataTransfer.getData(t.DRAGDROP_ID),d=u&&JSON.parse(u);l=o.indexOf(d.source)>-1,c.data=l?d:void 0}catch(p){}}var f=!1;if(a){var h;for(h=0;h<r.length;h++)if(a.indexOf(r[h])>-1){f=!0;break}}return f&&(l||c.files)?c:void 0}function d(e){var i=u(e);i&&(e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="copy",t.currentProduct.allowCmdDrag&&e.metaKey&&(e.originalEvent.dataTransfer.dropEffect="move"),n.onDragOver&&n.onDragOver({$data:i}))}function p(e){var t=u(e);t&&(o(e),e.preventDefault(),l()&&(n.$apply(function(){n.onDragEnter&&n.onDragEnter({$data:t})}),i.addClass("drag-hovering")))}function f(e){var t=u(e);t&&(a(e),e.preventDefault(),c()&&(n.$apply(function(){n.onDragLeave&&n.onDragLeave({$data:t})}),i.removeClass("drag-hovering")))}function h(e){var t=u(e);if(t){if(e.preventDefault(),s(),i.removeClass("drag-hovering"),e.originalEvent.handled)return void n.$apply(function(){n.onDragLeave&&n.onDragLeave({$data:t})});n.$apply(function(){n.onDrop&&n.onDrop({$data:t})}),e.originalEvent.handled=!0}}var m=[],g=[];i.on("dragenter",p),i.on("dragover",d),i.on("dragleave",f),i.on("drop",h),n.$on("$destroy",function(){i.off("dragenter",p),i.off("dragover",d),i.off("dragleave",f),i.off("drop",h)})}}}];t.attach=function(e){i.module(e).directive("edgeccDropFiles",r)}}),define("directives/core/focus",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e,t,n){var i=t.split("."),r=e;if(i.length>1){var o;for(o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]]}r[i[i.length-1]]=n}var r=e("angular"),o=["$parse","digestUtils","$window",function(e,t,n){return{restrict:"A",link:function(e,t,r){var o=r.edgeccSetFocus||"setFocus";i(e,o,function(e,i,r){var o=r?250:0;n.setTimeout(function(){var n=t.get(0);e?(n.focus(),i&&n.select()):n.blur()},o)})}}}];t.attach=function(e){r.module(e).directive("edgeccSetFocus",o)}}),define("directives/core/hover",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$parse",function(e){return{restrict:"A",link:function(t,n,i){var r=i.edgeccHover||"hover",o=i.onHoverEnter&&e(i.onHoverEnter),a=i.onHoverLeave&&e(i.onHoverLeave),s=function(e){n.addClass(r),o&&o(t,{})},l=function(e){n.removeClass(r),a&&a(t,{})};n.on("mouseenter",s),n.on("mouseleave",l),t.$on("$destroy",function(){n.off("mouseenter",s),n.off("mouseleave",l)})}}}];t.attach=function(e){i.module(e).directive("edgeccHover",r)}}),define("directives/core/imageOnLoad",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$parse","$window","digestUtils","imageUtils",function(e,t,n,i){return{restrict:"A",scope:!1,link:function(e,t,n){var i=function(){e.imgLoaded(t[0])};t.on("load",i),e.$on("$destroy",function(){t.off("load",i),i=void 0,t=void 0})},controller:["$scope",function(e){e.imgLoaded=function(r){var o=i.getImageDimensions(r);e.imgStyle.width=o.width+"px",e.imgStyle.height=o.height+"px",t.setTimeout(function(){r.style.display="inline",n.triggerDigest()},0)}}]}}];t.attach=function(e){i.module(e).directive("imageOnLoad",r)}}),define("directives/core/isEventTarget",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){return{restrict:"A",link:function(e,t,n){function i(e,t){for(var n=e,i=t;i;){if(i===n)return!0;i=i.parentNode}return!1}var r=n.isEventTarget||"isEventTarget";e[r]=function(e){return i(t[0],e.target)}}}}];t.attach=function(e){i.module(e).directive("isEventTarget",r)}}),define("directives/core/scrolling",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e,t,n){var i=t.split("."),r=e;if(i.length>1){var o;for(o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]]}r[i[i.length-1]]=n}var r=e("angular"),o=["$window","digestUtils",function(e,t){return{restrict:"A",link:function(n,r,o){var a=o.edgeccScrollToTop||"scrollToTop";i(n,a,function(){var n=r.get(0);e.setTimeout(function(){n.scrollTop=0,t.triggerDigest()})})}}}],a=["$window","digestUtils",function(e,t){return{restrict:"A",link:function(n,r,o){var a=o.edgeccScrollToBottom||"scrollToBottom";i(n,a,function(){var n=r.get(0);e.setTimeout(function(){n.scrollTop=n.scrollHeight,t.triggerDigest()})})}}}],s=[function(){return{restrict:"A",link:function(e,t,n){var r=n.edgeccGetScrollPosition||"getScrollPosition";i(e,r,function(){var e=t.get(0);return e.scrollHeight>e.clientHeight?e.scrollTop/(e.scrollHeight-e.clientHeight):void 0})}}}];t.attach=function(e){r.module(e).directive("edgeccScrollToTop",o),r.module(e).directive("edgeccScrollToBottom",a),r.module(e).directive("edgeccGetScrollPosition",s)}}),define("directives/core/nativeContextMenu",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$parse","designLibraryContextMenu","designLibraryStockContextMenu","designLibraryViewState","configuration",function(e,t,n,i,r){return{restrict:"A",link:function(o,a,s){var l=s.nativeContextMenu&&e(s.nativeContextMenu),c=s.contextMenuSubElement&&e(s.contextMenuSubElement),u=function(a){if(r.CONTEXT_MENUS_ENABLED!==!1)if(a.stopPropagation(),i.isStockSearchMode()){var u=l&&l(o),d=s.contextMenuSaveCallback&&e(s.contextMenuSaveCallback)(o),p=s.contextMenuSavePreview&&e(s.contextMenuSavePreview)(o);n.showContextMenu(u,p,d,a.currentTarget)}else{var f=l&&l(o),h=f&&f.library,m=c&&c(o);t.showContextMenu(h,f,m)}};a.on("contextmenu",u),o.$on("$destroy",function(){a.off("contextmenu",u),u=void 0,a=void 0})}}}];t.attach=function(e){i.module(e).directive("nativeContextMenu",r)}}),define("directives/core/onsearch",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$parse",function(e){return{restrict:"A",link:function(t,n,i){var r=i.onSearch&&e(i.onSearch),o=function(e){r&&r(t,{})};n.on("search",o),t.$on("$destroy",function(){n.off("search",o)})}}}];t.attach=function(e){i.module(e).directive("onSearch",r)}}),define("directives/core/main",["require","exports","module","./dragDrop","./dropFiles","./focus","./hover","./imageOnLoad","./isEventTarget","./scrolling","./nativeContextMenu","./onsearch"],function(e,t,n){"use strict";t.attach=function(t){e("./dragDrop").attach(t),e("./dropFiles").attach(t),e("./focus").attach(t),e("./hover").attach(t),e("./imageOnLoad").attach(t),e("./isEventTarget").attach(t),e("./scrolling").attach(t),e("./nativeContextMenu").attach(t),e("./onsearch").attach(t)}}),define("directives/designlibrary/designLibrary",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){return{restrict:"E",templateUrl:"directives/designlibrary/templates/designLibrary.tmpl.html",replace:!0,scope:{},controller:["$scope","$translate","metrics","designLibraryManager","designLibraryViewState","designLibraryFlyoutMenu","designLibrarySelection","adobeStockLicenseUtils","$window",function(e,t,n,i,r,o,a,s,l){e.sortExpression="+created",e.selectedLibraryChanged=function(){e.library&&(n.reportPanelEvent("loadLibrary",{libraryID:e.library.id}),i.setCurrentLibrary(e.library))},i.addScopedListener(e,"libraryList",function(){e.libraries=i.getLibraries()}),e.libraries=i.getLibraries(),i.addScopedListener(e,"currentLibrary",function(){e.library=i.getCurrentLibrary(),e.library||e.hideDialogs()}),e.library=i.getCurrentLibrary(),o.addScopedListener(e,"createLibrary",function(){i.getPrivateLibraryCollection()&&e.showCreateDialog()}),o.addScopedListener(e,"deleteLibrary",function(){e.library&&e.showDeleteDialog()}),o.addScopedListener(e,"renameLibrary",function(){e.library&&e.showSettingsDialog()}),r.addScopedListener(e,"hideDialogs",function(){e.hideDialogs(!0)}),s.addScopedListener(e,"showStockPurchaseDialog",function(t,n,i,r,o,a){e.showStockPurchaseDialog(t,n,i,r,o,a)}),e.hideDialogs=function(t){t||r.resetMode(),e.createDialog.visible=!1,e.settingsDialog.visible=!1,e.deleteDialog.visible=!1,e.stockPurchaseDialog.visible=!1},e.createDialog={visible:!1},e.showCreateDialog=function(){n.reportPanelEvent("createLibraryInitiate"),e.newItem={},e.hideDialogs(),e.createDialog.visible=!0,l.setTimeout(function(){e.createDialog.setFocus&&e.createDialog.setFocus(!0,!1,!0)})},e.createDesignLibrary=function(){e.createDialog.visible=!1;var t=i.createLibrary(e.newItem.name);i.setCurrentLibrary(t)},e.editItem={},e.settingsDialog={visible:!1},e.showSettingsDialog=function(){e.hideDialogs(),e.settingsDialog.visible=!0,e.editItem.name=e.library.name,l.setTimeout(function(){e.settingsDialog.setFocus&&e.settingsDialog.setFocus(!0,!0,!0)})},e.updateDesignLibrary=function(){n.reportPanelEvent("editLibraryName",{libraryID:e.library.id}),e.hideDialogs(),e.settingsDialog.visible=!1,e.library.name=e.editItem.name},e.deleteDialog={title:"",text:"",btnTitle:"",visible:!1},e.showDeleteDialog=function(){e.hideDialogs();var n="DL_DELETE_LIBRARY",i="DL_DELETE_MESSAGE",r="DL_DELETE";"incoming"===e.library.collaboration?(n="DL_LEAVE_LIBRARY",i="DL_LEAVE_MESSAGE",r="DL_LEAVE"):"outgoing"===e.library.collaboration?i="DL_DELETE_MESSAGE_SHARED":e.library.collection.isPublic&&(n="DL_UNFOLLOW_LIBRARY",i="DL_UNFOLLOW_MESSAGE",r="DL_UNFOLLOW"),e.deleteDialog.title=t.instant(n,e.library),e.deleteDialog.text=t.instant(i,e.library),e.deleteDialog.btnTitle=t.instant(r,e.library),e.deleteDialog.visible=!0},e.deleteCurrentLibrary=function(){e.deleteDialog.visible=!1,i.deleteCurrentLibrary()},e.stockPurchaseDialog={text:"",visible:!1},e.showStockPurchaseDialog=function(n,i,r,o,a,s){e.hideDialogs(!0),e.stockPurchaseDialog.okCallback=r,e.stockPurchaseDialog.cancelCallback=o,e.stockPurchaseDialog.titleText=n,e.stockPurchaseDialog.text=i,e.stockPurchaseDialog.cancelText=o?t.instant("DL_CANCEL"):null,e.stockPurchaseDialog.okText=a||"DL_OK",e.stockPurchaseDialog.secondaryOkText=s,e.stockPurchaseDialog.visible=!0},e.confirmStockPurchase=function(t){e.stockPurchaseDialog.visible=!1,e.stockPurchaseDialog.okCallback&&e.stockPurchaseDialog.okCallback(t)},e.cancelStockPurchase=function(){e.stockPurchaseDialog.visible=!1,e.stockPurchaseDialog.cancelCallback&&e.stockPurchaseDialog.cancelCallback()},e.uiState=r.getState(),e.setViewState=function(e){r.setViewState(e)},e.showRelinkOverlay=!0,e.onMouseEnter=function(){e.showRelinkOverlay=!1},e.$watch("uiState.mode",function(t){"relink"===t&&(e.showRelinkOverlay=!0),"normal"!==t&&e.hideDialogs(!0)}),e.isValidName=function(e){return e&&e.length>0?!0:!1},e.onCreateLibKeyDown=function(t,n){e.newItem.name=t.target.value,13===t.keyCode&&e.isValidName(e.newItem.name)&&e.createDesignLibrary()},e.onRenameLibKeyDown=function(t,n){e.editItem.name=t.target.value,13===t.keyCode&&e.isValidName(e.editItem.name)&&e.updateDesignLibrary()}}]}}];t.attach=function(e){i.module(e).directive("edgeccDesignLibrary",r)}}),define("directives/designlibrary/designLibraryArchive",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return{restrict:"E",replace:!0,templateUrl:"directives/designlibrary/templates/designLibraryArchive.tmpl.html",scope:{},controller:["$scope","designLibraryArchiveUtils","designLibraryElements","designLibraryManager","configuration",function(e,t,n,i,r){e.MAX_ELEMENTS=r.MAX_ELEMENTS,e.filterByCurrentLibrary=!0,e.currentLibrary=i.getCurrentLibrary();var o=function(){e.filterByCurrentLibrary?e.archiveList=t.getRemovedElements(e.currentLibrary):e.archiveList=t.getRemovedElements(),e.archiveList.forEach(function(e){e.elements.forEach(function(e){n.getRenditionUrl(e).then(function(t){e.thumbnail=t})})})};o();var a=i.getPrivateLibraryCollection();a&&(a.addDeepChangeListener(o),e.$on("$destroy",function(){a.removeDeepChangeListener(o)})),e.deleteIcon=r.currentProduct.config.deleteIcon||"newdelete",e.stopPropagation=function(e){e.stopPropagation()},e.toggleFilter=function(){e.filterByCurrentLibrary=!e.filterByCurrentLibrary,o()},e.restoreElements=function(e){e.forEach(function(e){!e.deletedLocally&&e.removed&&e.library.restoreElement(e)})},e.deleteElements=function(e){e.forEach(function(e){e.deletedLocally||e.library.removeElement(e,!0)})}}]}};t.attach=function(e){i.module(e).directive("edgeccDesignLibraryArchive",r)}}),define("directives/designlibrary/designLibraryComponent",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e,t){return"<"+e+' component="::component"></'+e+">"}var r=e("angular"),o=["$compile","$parse","designLibraryElements",function(e,t,n){function r(t,r){if(!o[r]){var a="<div></div>",s=n.getDirective(r);s&&(a=i(s));var l=t.clone();l.html(a),o[r]=e(l.contents())}return o[r]}var o={};return{restrict:"E",scope:!1,compile:function(e,n){return function(n,i){var o=t("component")(n).type,a=r(e,o);a(n,function(e){i.append(e)})}}}}];t.attach=function(e){r.module(e).directive("edgeccDesignLibraryComponent",o)}}),define("directives/designlibrary/designLibraryContents",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){return{restrict:"E",templateUrl:"directives/designlibrary/templates/designLibraryContents.tmpl.html",replace:!1,scope:{library:"=",filteredItems:"="},controller:["$scope","$q","designLibrarySelection","designLibraryElements","configuration","designLibraryUtils","designLibraryManager","fileUtils","$translate","designLibraryDragUtils","designLibraryViewState","localSettings",function(e,t,n,i,r,o,a,s,l,c,u,d){e.uiState=u.getState(),e.categories=i.getElementTypes(),e.clickOutsideComponent=function(e){n.clearSelection()},e.allowedDropTypes=[r.DRAGDROP_ID],e.allowedDropSources=[r.currentProduct.config.dragDropSource],d.getDebugValue("dragDropFiles")&&e.allowedDropTypes.push("Files"),e.onLayerDrop=function(t){if(e.isDraggingLayer=!1,e.isDraggingLayerToLink=!1,e.dropMessage=null,e.isDropAllowed){var n;r.currentProduct.dropHandler&&(n=r.currentProduct.dropHandler(t)),n||c.addElementsFromDropData(t)}},e.onLayerDragEnter=function(t){if(u.resetMode(),e.isDraggingLayer=!0,e.isDraggingLayerToLink=!1,e.dropMessage=null,e.layerNames=[],e.isDropAllowed=e.library.isWritable,!e.isDropAllowed)return void(e.dropMessage=l.instant("DL_DESIGN_LIBRARY_READ_ONLY"));if(e.isDropAllowed=o.canAddElement(e.library),!e.isDropAllowed)return void(e.dropMessage=l.instant("DL_DESIGN_LIBRARY_HAS_LIMIT"));r.currentProduct.customDropMessage&&(e.dropMessage=r.currentProduct.customDropMessage(t));var n=t.data,i=t.files;return n?(n.feedback&&(e.dropMessage=n.feedback),e.isDraggingLayerToLink=n.linked,e.isDropAllowed=n.assetList&&n.assetList.length>0,void(e.isDropAllowed&&(e.layerNames=c.getNamesFromDropData(t,e.library)))):i?void(e.layerNames=c.getNamesFromDropData(t,e.library)):void(e.isDraggingLayer=!1)},e.onLayerDragLeave=function(t){e.isDraggingLayer=!1},e.deleteCurrentLibrary=function(){a.deleteCurrentLibrary()},e.reuploadCurrentLibrary=function(){e.library.rebindToServer()}}]}}];t.attach=function(e){i.module(e).directive("edgeccDesignLibraryContents",r)}}),define("directives/designlibrary/designLibraryEditableName",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){var t="directives/designlibrary/templates/designLibraryEditable"+e+"Name.tmpl.html";return[function(){return{restrict:"E",replace:!0,templateUrl:t,scope:{component:"=",selected:"=",defaultInformation:"=",allowBlankName:"="},controller:["$scope","$rootScope","$timeout","designLibraryUtils","mediator",function(e,t,n,i,r){e.editState={active:!1};var o=function(){e.$emit("disableDragging"),e.editState.active=!0,e.editState.name=e.component.name,n(function(){e.editState.setFocus(!0,!0)})};e.startEditName=function(t){t.stopPropagation(),e.component.library.isWritable&&(t.metaKey||t.ctrlKey||t.shiftKey||e.editState.active||o())},e.finishEditName=function(t){e.$emit("enableDragging"),e.editState.active&&(e.editState.active=!1,t||e.component.name===e.editState.name||""===e.editState.name.trim()&&!e.allowBlankName||n(function(){e.component.name=e.editState.name}))},e.handleKeyDown=function(t){return e.editState.name=t.target.value,13===t.keyCode?e.finishEditName():27===t.keyCode&&e.finishEditName(!0),!0};var a=t.$watch("globalHovering",function(t){e.globalHovering=t});e.$on("$destroy",function(){a()});var s=function(t,n){n===e.component&&o()},l=r.register(e);l.on("dlItemRenameRequest",s)}]}}]};t.attach=function(e){i.module(e).directive("designLibraryEditableGridName",r("Grid")),i.module(e).directive("designLibraryEditableListName",r("List"))}}),define("directives/designlibrary/designLibraryFooter",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return{restrict:"E",templateUrl:"directives/designlibrary/templates/designLibraryFooter.tmpl.html",replace:!0,scope:{library:"="},controller:["$scope","$window","$timeout","designLibrarySelection","designLibraryElements","designLibraryStatus","designLibraryManager","designLibraryViewState","layerSelectionManager","csInterface","configuration","linkUtils","designLibraryCEPEventEmitters","designLibraryFlyoutMenu",function(e,t,n,r,o,a,s,l,c,u,d,p,f,h){function m(){i.isFunction(d.currentProduct.getAddDocContentOperation)?e.addDocContentOperation=d.currentProduct.getAddDocContentOperation():e.addDocContentOperation=void 0}function g(){var t=c.getLayerInfo(),n=o.getAddOperations(t,e.library);e.insertDisabled=!0,n.forEach(function(t){t.disabled||(e.insertDisabled=!1)}),t?(e.layerName=t.fullName||"Selected layer",e.layerName.length>20&&(e.layerName=e.layerName.substring(0,19)+"...")):delete e.layerName,v()}e.uiState=l.getState(),e.doDeleteItems=function(e){var t=r.getSelection();s.deleteElements(t),r.clearSelection()},e.deleteIcon=d.currentProduct.config.deleteIcon||"newdelete",e.doLaunchStockSite=function(e){p.launchStockSite()},i.isFunction(d.currentProduct.getAddDocContentOperation)&&(c.addScopedListener(e,"layerSelectionChanged",m),s.addScopedListener(e,"privateCollection",m),m());var v=function(t){var n=r.getSelection();e.hasSelection=n.length>0,e.applyOperations=o.getApplyOperations(n,e.library)};r.addScopedListener(e,"selectionChanged",v),v(),c.addScopedListener(e,"layerSelectionChanged",g),e.$watch("library.elements.length",g),g(),e.status=a.getStatus(),e.tooltipData={status:e.status},e.$watch("status.errorType",function(t){t?e.errorMessage=a.getFooterErrorMessage(e.status):delete e.errorMessage,e.tooltipData.errorMessage=e.errorMessage}),e.syncStatus={visible:!1},e.onStatusClick=function(){"error"===e.status.state&&"syncDisabled"===e.status.errorType&&e.showCCAppWarningMessage()},e.showNetworkStatus=function(){("error"!==e.status.state||"syncDisabled"!==e.status.errorType)&&(e.syncStatus.visible=!0,s.syncingEnabled()&&s.sync())},e.hideNetworkStatus=function(){e.syncStatus.visible=!1};var _,y=function(){e.ccAppWarning.visible&&(t.removeEventListener("click",_,!0),n(function(){e.ccAppWarning.visible=!1}))};_=function(t){e.isEventTargetCCAppWarning(t)||y()},e.ccAppWarning={visible:!1},e.enableCCApp=function(){y(),s.enableSyncing()},e.showCCAppWarningMessage=function(){e.ccAppWarning.visible||(t.addEventListener("click",_,!0),e.ccAppWarning.visible=!0)},e.hideCCAppWarningMessage=function(){y()},e.isWindowsOS=u.isWindowsOS(),e.allowedDropTypes=[d.DRAGDROP_ID],e.allowedDropSources=[d.DRAGDROP_SOURCE],e.onDropDone=function(t){e.library&&e.library.isWritable&&e.doDeleteItems()},e.relink=function(){var e=r.getSelection();e.length>0&&(f.sendElementChosen(e[0]),l.resetMode())},e.cancelRelink=function(){f.elementChooseCancelled(),l.resetMode()},e.archiveVisible=!1,h.addScopedListener(e,"showArchive",function(){e.archiveVisible=!0}),e.hideArchive=function(){e.archiveVisible=!1}}]}};t.attach=function(e){i.module(e).directive("edgeccDlFooter",r)}}),define("directives/designlibrary/designLibraryShowMore",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return{restrict:"E",replace:!1,templateUrl:"directives/designlibrary/templates/designLibraryShowMore.tmpl.html",scope:{elementType:"="},controller:["$scope","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(e,t,n,i,r){function o(e){var t=e.match(/application\/vnd\.adobe\.element\.(.*)\+dcx/);return t?t[1]:null}e.uiState=i.getState(),e.shortType=o(e.elementType.type),e.showMoreElements=function(){e.$parent.uiState&&"search"===e.$parent.uiState.mode?e.elementType.limit+=t.DEFAULT_ELEMENTS_PER_CATEGORY:(e.elementType.limit++,e.loading=!0,e.elementType.limit<e.elementType.elements.length?setTimeout(function(){e.showMoreElements(),r.triggerDigest()},t.SHOW_MORE_STAGGER_INTERVAL):e.loading=!1)}}]}};t.attach=function(e){i.module(e).directive("edgeccDesignLibraryShowMore",r)}}),define("directives/designlibrary/designLibraryUndo",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$animate",function(e){return{restrict:"E",templateUrl:"directives/designlibrary/templates/designLibraryUndo.tmpl.html",replace:!1,scope:{},controller:["$scope","$timeout","$window","$translate","configuration","designLibraryManager","designLibraryUtils",function(e,t,n,i,r,o,a){var s,l=function(){s&&(t.cancel(s),s=void 0)};e.undo={visible:!1,timedout:!1,elements:[]};var c,u=function(){e.undo.visible&&(n.removeEventListener("click",c,!0),t(function(){l(),e.undo.visible=!1}))};c=function(t){e.isEventTargetUndoWarning(t)||u()},o.addScopedListener(e,"elementsDeleted",function(o){if(e.undo.visible||(e.undo.visible=!0,n.addEventListener("click",c,!0)),e.undo.elements=o,e.undo.timedout=!1,1===o.length){var d=a.truncateName(o[0].displayName,25);e.undo.message=i.instant("DL_UNDO_DELETE_ITEM",{name:d})}else e.undo.message=i.instant("DL_UNDO_DELETE_ITEMS",{num:o.length});l(),s=t(function(){s=void 0,e.undo.timedout=!0,u()},r.UNDO_TOAST_TIMEOUT)}),e.undoDelete=function(){e.undo.elements.forEach(function(e){if(!e.deletedLocally&&e.removed)if(e.library.isWritable&&e.library.elements.length<r.MAX_ELEMENTS)e.library.restoreElement(e);else{var t=o.getRecoveryLibrary(e.library.name);e.library.isWritable?e.library.moveElement(e,t):e.library.copyElement(e,t)}}),u()}}]}}];t.attach=function(e){i.module(e).directive("edgeccDlUndo",r)}}),define("directives/designlibrary/dlCategory",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return{restrict:"E",replace:!0,templateUrl:"directives/designlibrary/templates/dlCategory.tmpl.html",scope:{library:"="},controller:["$scope","$filter","$translate","configuration","csInterface","designLibrarySelection","designLibraryViewState","designLibraryElements","designLibraryManager","designLibraryUtils","digestUtils","metrics","localSettings",function(e,t,n,i,r,o,a,s,l,c,u,d,p){function f(n){return t("localeOrderBy")(n,e.uiState.sortFunction,!!e.searchText)}function h(n,i){return t("searchKeyword")(n,e.searchText,i)}function m(t,n){var i,r=l.getLibraryById(t),o=e.librariesModifiedTime[t];(!r||o!==r.modified||n)&&e.elementsByType.forEach(function(a){var l=!1;if(n)e.searchText&&(e.searchResultCount-=a.elements.length),a.elements.splice(0,a.elements.length),l=!0;else if(o){var c=null;for(i=0;i<a.elements.length;++i)c=a.elements[i],c.library.id===t&&(a.elements.splice(i--,1),e.searchText&&e.searchResultCount--,l=!0)}if(r){var u=r.getFilteredElements(a.type);e.searchText&&(u=h(u,s.getElementFilter(a.type))),u.length>0&&(a.elements.push.apply(a.elements,u),e.searchText&&(e.searchResultCount+=u.length),l=!0),e.librariesModifiedTime[t]=r.modified}else delete e.librariesModifiedTime[t];l&&(a.elements=f(a.elements))})}function g(){e.searchText&&e.searchAllLibraries||(m(e.library.id,!0),u.triggerDigest())}function v(){if(e.searchText&&e.searchAllLibraries){var t=Object.keys(e.librariesModifiedTime);t.forEach(function(e){m(e)}),t=Object.keys(e.librariesModifiedTime);var n=l.getLibraries();t.length<n.length&&n.forEach(function(e){t.indexOf(e.id)<0&&m(e.id)}),u.triggerDigest()}}function _(){var t=o.getSelection();t.forEach(function(t){e.elementsByType.some(function(e){if(e.type===t.type){if(e.collapsed=!1,e.elements.length>e.limit){var n=e.elements.indexOf(t);n>=e.limit&&(e.limit=n+1)}return!0}return!1})})}function y(){var e=l.getPrivateLibraryCollection();if(e){var t=p.getValue(e.userId+"#"+e.cloudId+"#collapsedTypes")||{},n=l.getLibraries().map(function(e){return e.id});n.push("search");var i=!1;Object.keys(t).forEach(function(e){-1===n.indexOf(e)&&(delete t[e],i=!0)}),i&&p.setValue(e.userId+"#"+e.cloudId+"#collapsedTypes",t)}}function E(){if(e.loading=!0,e.elementsByType=[],e.searchText=a.getSearchText(),e.searchAllLibraries=a.isLibrariesSearchMode(),e.searchResultCount=0,e.librariesModifiedTime={},e.library){e.library.removeChangeListener(g),l.getLibraryCollections().forEach(function(e){e.removeDeepChangeListener(v)}),e.searchText&&e.searchAllLibraries?l.getLibraryCollections().forEach(function(e){e.addDeepChangeListener(v)}):e.library.addChangeListener(g),e.librariesModifiedTime[e.library.id]=e.library.modified;var t=i.currentProduct.config.collapsedTypes||[],r=l.getPrivateLibraryCollection(),o=p.getValue(r.userId+"#"+r.cloudId+"#collapsedTypes")||{},c=e.searchText?"search":e.library.id,u=o[c]||t.slice(0);b.forEach(function(t){var a,d=n.instant(s.getDisplayName(t));if(e.searchText){var m=s.getElementFilter(t);e.searchAllLibraries?(a=[],l.getLibraries().forEach(function(n){var i=h(n.getFilteredElements(t),m);i.length>0&&a.push.apply(a,i),e.librariesModifiedTime[n.id]=n.modified})):a=h(e.library.getFilteredElements(t),m),e.searchResultCount+=a.length}else a=e.library.getFilteredElements(t);e.elementsByType.push({type:t,displayName:d,elements:f(a),limit:i.DEFAULT_ELEMENTS_PER_CATEGORY,get collapsed(){return-1!==u.indexOf(t)},set collapsed(e){this.collapsed!==e&&(e?u.push(t):u=u.filter(function(e){return e!==t}),o[c]=u,p.setValue(r.userId+"#"+r.cloudId+"#collapsedTypes",o))}})}),e.searchText!==a.getSearchText()&&(e.elementsByType=[]),_()}}e.uiState=a.getState();var b=s.getElementTypes();l.waitForInitialLoad().then(function(){y(),l.getLibraryCollections().forEach(function(e){e.addChangeListener(y)})}),e.$watch("library",function(){e.currentLibrary&&e.currentLibrary.removeChangeListener(g),e.currentLibrary=e.library,E()}),e.$watch("uiState.sortFunction",function(t){e.elementsByType.forEach(function(e){e.elements=f(e.elements)})}),e.toggleCollapsed=function(e){e.collapsed=!e.collapsed,e.limit=i.DEFAULT_ELEMENTS_PER_CATEGORY},e.searchAdobeStock=function(){a.setSearchType("stock")},e.$watch("uiState.mode",function(e){a.isSearchMode()||(o.clearSelection(),E())}),a.addScopedListener(e,"search",function(){(a.isLibrarySearchMode()||a.isLibrariesSearchMode())&&(o.clearSelection(),E(),u.triggerDigest(),d.reportPanelEvent(e.searchAllLibraries?"panelSearchAll":"panelSearch",{resultCount:e.searchResultCount}))}),o.addScopedListener(e,"selectionChanged",function(){_()}),e.selectComponent=function(t,n){t.stopPropagation();var i=r.isWindowsOS();e.uiState.enableMultiSelect&&(!i&&t.metaKey||i&&t.ctrlKey)?o.toggleSelectedItem(n):e.uiState.enableMultiSelect&&t.shiftKey?o.setSelectionRange(n):o.setSelection(n)};var L,S;e.selectAndAddToDocument=function(t,n){if(e.selectComponent(t,n),t.metaKey||t.ctrlKey||t.shiftKey)L=null,S=null;else{if(L===n.id&&S>Date.now()-500)return;L=n.id,S=Date.now();var i=s.getOnClickApplyOperation(n,e.library);i&&i.apply()}},e.onDoubleClick=function(t,i){t&&t.stopPropagation();var o=s.getOnDoubleClickApplyOperation(i,e.library);if(o)return void o.apply();var a,l=s.getEditOperations(i);l.forEach(function(e){e.onDoubleClick&&!e.disabled&&(a=e)}),a&&c.checkElementWritable(i)&&(s.isDownloadInProgress(i)?r.showError(n.instant("DL_ERROR_EDIT_ELEMENT_DOWNLOADING")):a.apply())},e.onElementDragStart=function(e){var t=o.isSelected(e);if(!t){var n=!s.isDraggable(e);o.setSelection(e,!1,n)}}}]}};t.attach=function(e){i.module(e).directive("edgeccDlCategory",r)}}),define("directives/designlibrary/dlEmpty",["require","exports","module","angular"],function(e,t,n){
"use strict";var i=e("angular"),r=240,o=2.6,a=function(){return{restrict:"E",replace:!0,templateUrl:"directives/designlibrary/templates/dlEmpty.tmpl.html",scope:{library:"="},controller:["$scope","$window","$translate","$timeout","csInterface","configuration","metrics","linkUtils","designLibraryManager","designLibraryViewState","layerSelectionManager","ccxInterface","digestUtils","debugLog",function(e,t,n,a,s,l,c,u,d,p,f,h,m,g){function v(){i.isFunction(l.currentProduct.getAddDocContentOperation)?e.addDocContentOperation=l.currentProduct.getAddDocContentOperation():e.addDocContentOperation=void 0}e.isProductReadOnly=l.currentProduct.config.isReadOnly,e.instructionMessage="DL_EMPTY_LIB_PANEL_INSTRUCTION_"+l.currentProduct.config.translationSuffix,e.howToUseInBrowser=function(){u.openHelpURL()},e.getLibraryEngagementCards=function(){h.getLibraryEngagementCards(function(t,n){!t&&n&&(e.engagementCards=[],n.forEach(function(t){t.libraryID&&d.getLibraryById(t.libraryID)||e.engagementCards.push(t)}),a(function(){e.determineCardsToShow()}))})},e.processLibraryEngagementCard=function(e){e.isProcessing=!0,h.processLibraryEngagementCard(e,function(t,i){if(t)return delete e.isProcessing,void s.showError(n.instant("DL_EMPTY_LIB_ENGAGEMENT_FOLLOW_ERROR"));var r=i.id,o=0,a=setInterval(function(){var t=d.getLibraryById(r);return t?(delete e.isProcessing,clearInterval(a),h.markEngagementCardUsed(e),p.isDefaultMode()&&0===d.getCurrentLibrary().elements.length&&(d.setCurrentLibrary(t),m.triggerDigest()),void c.reportPanelEvent("subscribeLibrary",{libraryID:r})):o++>3e3?(delete e.isProcessing,clearInterval(a),void d.getPrivateLibraryCollection().removeBookmark(i,function(e){e&&g.log("Error occured while removing a bookmark (engagement stream)"),p.isDefaultMode()&&0===d.getCurrentLibrary().elements.length&&s.showError(n.instant("DL_EMPTY_LIB_ENGAGEMENT_FOLLOW_ERROR"))})):void 0},60)})},e.skipEngagementCard=function(t){c.reportPanelEvent("dismissLibrary",{libraryID:t.libraryID||t.cardID}),h.markEngagementCardUsed(t),e.getLibraryEngagementCards()},e.engagementCardInBrowser=function(e){u.launchEngagementLibraryURL(e)},e.determineCardsToShow=function(){var t=document.getElementById("emptyPanelContainer");if(t){var n=Math.max(1,Math.floor(t.clientWidth/r));n!==e.engagementCardCount&&(e.engagementCardCount=n)}else e.engagementCardCount=0;m.triggerDigest()},e.getEngagementCardStyle=function(e){var t=document.getElementById("emptyPanelEngagementCard");return{"background-image":"url('"+e.backgroundImageLocalpath+"')",height:t.clientWidth/o+"px"}},e.getLibraryEngagementCards(),d.addListener("libraryList",function(){e.getLibraryEngagementCards()}),t.addEventListener("resize",e.determineCardsToShow,!0),i.isFunction(l.currentProduct.getAddDocContentOperation)&&(f.addScopedListener(e,"layerSelectionChanged",v),d.addScopedListener(e,"privateCollection",v),v())}]}};t.attach=function(e){i.module(e).directive("edgeccDlEmpty",a)}}),define("directives/designlibrary/dlNoLibraries",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return{restrict:"E",replace:!0,scope:{createCallback:"&"},templateUrl:"directives/designlibrary/templates/dlNoLibraries.tmpl.html",controller:["$scope","$timeout","mediator","designLibraryStatus","designLibraryManager","configuration","linkUtils","csInterface",function(e,t,n,i,r,o,a,s){e.appName=o.currentProduct.config.fullName,e.showAddLibraryDialog=function(){e.createCallback()},e.status=i.getStatus(),e.progressWidth="0%",e.$watch("status.syncProgress",function(t){var n=void 0!==t?t:0;e.progressWidth=n+"%"}),e.$watch("status.errorType",function(t){t?e.errorMessage=i.getLoadingErrorMessage(e.status):delete e.errorMessage}),e.retry=function(){r.sync()},e.reconnect=function(){r.reconnectToService()},e.enableCCApp=function(){r.enableSyncing()},e.reload=function(){window.location.reload()},e.serviceErrorHelp=function(e){a.openServiceErrorURL(e)},e.updateCCApp=function(){a.openUpdateCCAppURL()},e.installCCApp=function(){a.openInstallCCAppURL()},e.updateCCLibraries=function(){a.openUpdateCCLibrariesURL()}}]}};t.attach=function(e){i.module(e).directive("edgeccDlNoLibraries",r)}}),define("directives/designlibrary/dlStock",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return{restrict:"E",replace:!0,templateUrl:"directives/designlibrary/templates/dlStock.tmpl.html",scope:{library:"="},controller:["$q","$scope","$window","$translate","configuration","designLibraryManager","designLibraryViewState","designLibraryUtils","designLibraryElementUtils","adobeStockRestService","adobeStockUtils","adobeStockLicenseUtils","adobeStockUpdateUtils","fileUtils","linkUtils","digestUtils","unitUtils","metrics","localSettings","$timeout","designLibraryElements","csInterface","designLibraryCEPEventHandlers",function(e,t,n,i,r,o,a,s,l,c,u,d,p,f,h,m,g,v,_,y,E,b,L){function S(e){if(e){var t=document.getElementById("stockContent").clientWidth,n=240,i=6,r=83,o=[],a=0,s=0;e.forEach(function(l){if(o.push(l),a+=Math.ceil(l.thumbnail_width*n/l.thumbnail_height),e.length===++s||a>t){var c=t-o.length*i,u=a>c?Math.floor(n*c/a):n;o.forEach(function(e){e.rowHeight=u,e.rowWidth=Math.floor(e.thumbnail_width*u/e.thumbnail_height),e.isVerticalLayout=e.rowWidth<r}),o=[],a=0}})}}function A(){d.showStockError(i.instant("DL_STOCK_SAVE_UNKNOWN_ERROR_TITLE"),i.instant("DL_STOCK_SAVE_UNKNOWN_ERROR")),v.reportError("stockSaveError")}function T(e,t,n,i,r){try{i=i||"png";var o=w+"/"+f.getUniqueFileName()+"."+i,a=t.naturalWidth,s=t.naturalHeight;n&&(a=n.width,s=n.height);var l=document.createElement("canvas");if(l.width=a,l.height=s,0===l.width||0===l.height)return r();var c=l.getContext("2d");c.drawImage(t,0,0,a,s);var u=l.toDataURL("image/"+i);u=u.replace(/^data:image\/(png|jpg|jpeg);base64,/,"");var d,p={path:o,width:l.width,height:l.height};return r&&(d=function(e){r(p)}),f.writeFile(o,u,"base64",d),p}catch(h){r&&r()}}function C(e,n,i,a,s,c){var p,h,m=function(){delete n.saving,delete n.libraryName},g=function(){m(),A()},_=function(e){delete n.saving,delete n.libraryName,c||(e&&l.revealElement(e),i&&i.path&&f.deleteFile(i.path),v.reportCheckoutElement(e,p,a?h?"save":"buyandsave":"savepreview"))},E=R(n.media_type_id),b={searchText:t.searchText,method:t.findSimilarId?"similarSearch":t.findSimilarUrl?"visualSearch":"search",premiumLevel:n.premium_level_id};if(a){h=n.is_licensed&&""!==n.is_licensed;var L=e.id;return void d.showLicenseDialog({type:E},n.id,h,n.is_licensed,L,i,b,n).then(function(e){if(delete n.saving,delete n.libraryName,e&&(p=e.cartId,e.createdElementRef)){var t=30,i=0,r=function(){i++;var n=o.resolveElementReference(e.createdElementRef);n?_(n):t>i&&y(r,100)};r()}},function(){delete n.saving,delete n.libraryName})}var S=r.STOCK_LICENSE_TYPE_STANDARD;if(E!==r.VIDEO_ELEMENT_TYPE)d.createStockElement(e,E,n,i,S,b,s).then(_,g);else{var T=function(t){d.createStockElement(e,E,n,i,t,b,s).then(_,g)};if(c){var C=u.getLicenseTypesFromSearchResult(n);T(C[0].field)}else d.showVideoTypeChooser(n,!1,T,m)}}t.isLoading=!1,t.uiState=a.getState(),t.requestedResultSize=r.STOCK_SEARCH_RESULT_SIZE,t.showSearchOptions=!1,t.resultsArrowStyle={},t.searchOptions=r.STOCK_SEARCH_OPTIONS,t.searchOptionValues={},t.isFreeAsset=u.isFreeAsset,t.isPremiumAsset=u.isPremiumAsset,t.canSaveComp=u.canSaveComp,t.STOCK_FREE_CONTENT_LEVEL_ID=r.STOCK_FREE_CONTENT_LEVEL_ID;var I=_.getValue("searchOptionValues");if(I){t.searchOptionValues=I;var D=!1;r.STOCK_SEARCH_OPTIONS.forEach(function(e){I[e.param]&&(D=!0)}),t.showSearchOptions=D}t.doSearch=function(e){if(a.isStockSearchMode()&&(t.searchText!==t.uiState.modeParams.text||t.findSimilarId!==t.uiState.modeParams.findSimilarId||t.findSimilarUrl!==t.uiState.modeParams.findSimilarUrl||e||t.error)){if(t.findSimilarId=t.uiState.modeParams.findSimilarId,t.findSimilarUrl=t.uiState.modeParams.findSimilarUrl,t.searchText=t.uiState.modeParams.text,!(t.searchText&&0!==t.searchText.trim().length||t.findSimilarId||t.findSimilarUrl))return t.assets=null,void(t.error=null);t.searchOpionsStyle={position:"absolute"},t.isLoading=!0,t.assets=[],t.error=null;var n=o.getPrivateLibraryCollection().userId;clearTimeout(t.searchTimeout);var i=t.searchText;c.searchStockAssets(n,t.searchText.trim(),t.findSimilarId,t.findSimilarUrl,t.searchOptionValues,t.requestedResultSize).then(function(e){if(a.isStockSearchMode()&&i===t.searchText){S(e),t.assets=e||[],t.error=null,t.offline=!1,t.isLoading=!1,e.length>0&&(t.searchOpionsStyle={}),m.triggerDigest(),clearTimeout(t.searchTimeout);var n="stockSearch";t.findSimilarId?n="stockSimilarSearch":t.findSimilarUrl&&(n="stockVisualSearch"),v.reportPanelEvent(n,{resultCount:t.assets.length})}},function(e,n){a.isStockSearchMode()&&i===t.searchText&&(t.isLoading=!1,t.error=!0,m.triggerDigest(),v.reportError("stockSearchError",n))}),t.searchTimeout=setTimeout(function(){t.isLoading&&(t.isLoading=!1,t.error=!0,m.triggerDigest())},r.STOCK_SEARCH_TIMEOUT)}};var w,O=o.getPrivateLibraryCollection();O.getTempDir(function(e,t){w=t});var R=function(e){return 4===e?r.VIDEO_ELEMENT_TYPE:7===e?r.TEMPLATE_ELEMENT_TYPE:r.IMAGE_ELEMENT_TYPE};t.addAssetToLibrary=function(e,t,n,i){if(!t.saving&&s.checkLibraryWritable(e)){if(!t.id||!t.content_type||!t.media_type_id)return void A();t.libraryName=e.name,t.saving=!0,T(t,n,void 0,"png",function(n){C(e,t,n,i)})}},t.addToLibrary=function(e,n,i){var r=document.getElementById("stockSearchThumbnail"+e.id);t.addAssetToLibrary(o.getCurrentLibrary(),e,r,i)},t.closeSimilarMode=function(e){t.uiState.modeParams.findSimilarId=void 0,t.uiState.modeParams.findSimilarUrl=void 0,a.resetMode()},t.getTooltip=function(e){var t=e.title+"<br/>";if(e.media_type_id){var n=i.instant("DL_STOCK_ASSET_TOOLTIP_TYPE_"+e.media_type_id),r=R(e.media_type_id);if(r){var o=f.mimeLookup(r,e.content_type);o&&o.badge&&(n=i.instant("DL_STOCK_ASSET_TOOLTIP_DESCRIPTION",{type:n,contentType:o.badge}))}t+=n}return t},t.getDuration=function(e){return g.msToString(e.duration)},t.searchOnWeb=function(){t.findSimilarId?h.launchFindSimilarURL(t.findSimilarId,t.searchOptionValues):h.launchSearchStockURL(t.searchText,t.searchOptionValues)},t.showAssetOnWeb=function(e){h.launchStockAssetURL(e.id)},t.hoverEnter=function(e){e.active=!0,m.triggerDigest()},t.hoverLeave=function(e){delete e.active,m.triggerDigest()},a.addScopedListener(t,"search",function(){t.doSearch()}),t.$watch("library",function(e){t.library=e});var x=function(){a.isStockSearchMode()&&t.assets&&t.assets.length>0&&(S(t.assets),m.triggerDigest())};n.addEventListener("resize",x,!0),t.offline=!n.navigator.onLine;var N=function(){!t.offline||!t.searchText||t.assets&&0!==t.assets.length||n.setTimeout(function(){t.doSearch()},200),t.offline=!1,m.triggerDigest()};n.addEventListener("online",N);var P=function(){t.offline=!0,m.triggerDigest()};n.addEventListener("offline",P),t.$on("$destroy",function(){n.removeEventListener("resize",x),n.removeEventListener("online",N),n.removeEventListener("offline",P)}),t.toggleSearchOptions=function(){t.showSearchOptions=!t.showSearchOptions,t.showSearchOptions?t.resultsArrowStyle={transform:"rotate(90deg)","-ms-transform":"rotate(90deg)","-webkit-transform":"rotate(90deg)"}:t.resultsArrowStyle={}},t.doSearchOptionChanged=function(){t.doSearch(!0),_.setValue("searchOptionValues",t.searchOptionValues)},t.getLicenseTypes=function(e){if(e.is_licensed&&""!==e.is_licensed)return e.is_licensed===r.STOCK_VIDEO_LICENSE_TYPE_HD.field?[r.STOCK_VIDEO_LICENSE_TYPE_HD.label]:[r.STOCK_VIDEO_LICENSE_TYPE_4K.label];var t=u.getLicenseTypesFromSearchResult(e),n=[];return t.forEach(function(e){n.push(e.label)}),n};var k,M,U=function(e){var n,i=t.library,r=i.elements;return r.forEach(function(t){var i=u.getStockDataForElement(t);if(i){var r=parseInt(i.content_id,10);r===e&&(n=t)}}),n};t.onElementDragStart=function(e){t.stockDragData=void 0;var a=t.library,l=R(e.media_type_id),c=document.getElementById("stockSearchThumbnail"+e.id);if(k=void 0,M=!1,c&&(l===r.IMAGE_ELEMENT_TYPE||l===r.VIDEO_ELEMENT_TYPE)){var p,f=U(e.id),h=void 0!==f,m=e.is_licensed&&""!==e.is_licensed;if(h)p=E.getDragData(f),p&&delete p.usedRepresentationForAnalytics;else{if(m&&!n.navigator.onLine){var g=i.instant("DL_STOCK_PURCHASE_OFFLINE_ERROR"+u.getLocalizationSuffix({type:l}));return void b.showError(g)}if(a.isWritable===!1)return void b.showError(i.instant("DL_STOCK_DRAGDROP_READONLY_LIB_MSG"));if(s.canAddElement(a)===!1)return void b.showError(i.instant("DL_DESIGN_LIBRARY_HAS_LIMIT"));if(!t.canSaveComp(e))return;var _="PPRO"===r.currentProduct.config.code?"jpeg":"png",y=u.getCompSizeFromSearchResult(e),L=T(e,c),S=T(e,c,y,_);f=a.createElement(e.title,l),C(a,e,L,!1,f,!0),p=E.getCommonDragData(f);var A=S.path;if(l===r.VIDEO_ELEMENT_TYPE){A={},A.contentType=e.content_type,A.framerate=e.framerate,A.duration=e.duration;var I=u.getLicenseTypesFromSearchResult(e),D=e.comps[I[0].field];A.url=D.url,A.width=D.width,A.height=D.height}p.data=[A],k=f}if(p&&(p.path=p.data[0],p.displayName=f.displayName,E.isDraggable(f)&&(t.stockDragData=[p])),m&&f){var w=o.getPrivateLibraryCollection().userId;d.doLicense(f,w,e.id,!0,e.is_licensed)}v.reportPanelEvent("stockSearchResultDragged",{content_id:e.id,isExistingAsset:h,isLicensed:m,success:void 0!==f})}},L.addScopedListener(t,"elementDropped",function(e){M=!0}),t.onElementDrop=function(e,t){var n=function(){k.library.removeElement(k,!0),v.reportPanelEvent("stockSearchResultDragCancel",{content_id:e.id})};k&&(r.currentProduct.config.useMouseEventToDetectDrop?t||b.isWindowsOS()!==!1||n():y(function(){M||n()},M?0:1e3))}}]}};t.attach=function(e){i.module(e).directive("edgeccDlStock",r)}}),define("directives/designlibrary/main",["require","exports","module","./designLibrary","./designLibraryArchive","./designLibraryComponent","./designLibraryContents","./designLibraryEditableName","./designLibraryFooter","./designLibraryShowMore","./designLibraryUndo","./dlCategory","./dlEmpty","./dlNoLibraries","./dlStock"],function(e,t,n){"use strict";function i(t){e("./designLibrary").attach(t),e("./designLibraryArchive").attach(t),e("./designLibraryComponent").attach(t),e("./designLibraryContents").attach(t),e("./designLibraryEditableName").attach(t),e("./designLibraryFooter").attach(t),e("./designLibraryShowMore").attach(t),e("./designLibraryUndo").attach(t),e("./dlCategory").attach(t),e("./dlEmpty").attach(t),e("./dlNoLibraries").attach(t),e("./dlStock").attach(t)}return{attach:i}}),define("directives/disclosureTriangle",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){return{restrict:"E",templateUrl:"directives/templates/disclosureTriangle.tmpl.html",replace:!0,scope:{ngModel:"="},controller:["$scope",function(e){e.$watch("ngModel",function(t){e.disclosureClass=t?"edgecc-core-panel-triangle-open":"edgecc-core-panel-triangle-closed"}),e.toggle=function(t){e.ngModel=!e.ngModel,t.preventDefault(),t.stopPropagation()}}]}}];t.attach=function(e){i.module(e).directive("edgeccDisclosureTriangle",r)}}),define("directives/edgeccTooltip",["require","exports","module","angular"],function(e,t,n){"use strict";var i,r=e("angular"),o=!1,a=!1,s=["Tether","configuration",function(e,t){return{scope:{content:"@tooltipContent",data:"=tooltipData",config:"=config",templateUrl:"@templateUrl",template:"=tooltipTemplate",disable:"="},link:function(n,s,l){a||(a=r.element('<div style="z-index:10000"></div>'),r.element(window.document.body).append(a));var c={parentScope:n,element:a,tether:{target:s[0],attachment:"bottom center",targetAttachment:"top center",constraints:[{to:"window",attachment:"together",pin:!0}]}};n.templateUrl?c.templateUrl=n.templateUrl:n.template?c.templateUrl=n.template:c.template='<div class="tooltip" ng-bind-html="content"></div>';var u,d,p=function E(e){return r.forEach(arguments,function(t){t!==e&&r.forEach(t,function(t,n){e[n]&&e[n].constructor&&e[n].constructor===Object?E(e[n],t):e[n]=t})}),e},f=e(p(c,n.config)),h=function(){return!!n.content||!!n.templateUrl||!!n.template},m=function(){f&&f.isActive()&&f.leave()},g=function(){f&&!f.isActive()&&!n.disable&&h()&&(clearTimeout(i),i=setTimeout(function(){o=!1},1e3),o=!0,f.enter(void 0,!0),d=setTimeout(m,7e3))},v=function(){"false"!==t.showTooltips&&!n.disable&&h()&&(u||(o?g():u=setTimeout(function(){g()},1e3)))},_=function(){"false"!==t.showTooltips&&(u&&(clearTimeout(u),u=void 0),d&&(clearTimeout(d),d=void 0),setTimeout(function(){f&&m()},0))},y=function(){f&&f.isActive()?_():v()};s.on("mouseenter",v),s.on("mouseleave",_),s.on("mousedown",y),n.$on("$destroy",function(){u&&(clearTimeout(u),u=void 0),f&&m(),f=void 0,s.off("mouseenter",v),s.off("mouseleave",_),s.off("mousedown",_)}),n.$watch("disable",function(e){e&&_()})}}}];t.attach=function(e){r.module(e).directive("edgeccTooltip",s)}}),define("directives/modalDialog",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["csInterface",function(e){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directives/templates/modalDialog.tmpl.html",scope:{titleText:"@",okText:"@",secondaryOkText:"@",cancelText:"@",onSubmit:"&",onCancel:"&",showDialog:"=",disableOk:"=",fullScreen:"@",errorMode:"="},link:function(t,n,i){var r=function(e){27===e.keyCode&&t.hideDialog()};window.addEventListener("keydown",r);var o=i.fullScreen?" panel-dialog-fullscreen":"";t.dialogClass="panel-dialog"+o,t.canCancel=!0,void 0!==i.noDismiss&&(t.dialogClass="panel-dialog-dim"+o,t.canCancel=!1),t.hideDialog=function(){t.canCancel&&(t.showDialog=!1,t.onCancel&&t.onCancel(),window.removeEventListener("keydown",r))},t.stopPropagation=function(e){e.stopPropagation()},t.doSubmit=function(){t.showDialog=!1,t.onSubmit&&t.onSubmit()(t.okText)},t.isWindowsOS=e.isWindowsOS()}}}];t.attach=function(e){i.module(e).directive("edgeccModalDialog",r)}}),define("directives/select",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=!1,o=["$window","Tether","configuration","menuManager","designLibraryFlyoutMenu","designLibraryManager","$translate","digestUtils","localSettings",function(e,t,n,o,a,s,l,c,u){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directives/templates/select.tmpl.html",scope:{optionsArray:"=",modelField:"@",displayField:"@",ngModel:"=",ngDisabled:"=",ngChange:"&",maxHeight:"=",librarySelectionOnlyMode:"="},link:function(u,d,p){function f(e,t){for(var n=e,i=t;i;){if(i===n)return!0;i=i.parentNode}return!1}function h(e){u.selectedItem=void 0,u.optionsArray&&u.optionsArray.forEach(function(t){var n=u.modelField?t[u.modelField]:t;n===e&&(u.selectedItem=t)})}r||(r=i.element("<div></div>"),i.element(window.document.body).append(r));var m={parentScope:u,templateUrl:"directives/templates/selectMenu.tmpl.html",element:r,tether:{target:d[0],attachment:"top left",targetAttachment:"bottom left",constraints:[{to:"window",attachment:"together",pin:!0}]}},g=0;n.currentProduct.config.offsetSelectMenu&&(m.tether.offset="-1px -1px",g=2);var v,_=t(m),y=!1,E=function(){y&&(d.removeClass("selected"),_.leave(),e.removeEventListener("click",v,!0),e.removeEventListener("contextmenu",v,!0),e.removeEventListener("resize",v,!0),e.removeEventListener("scroll",v,!0),o.removeListener("flyoutMenuClicked",v),o.removeListener("flyoutMenuOpened",v),y=!1)};v=function(e){f(r[0],e.target)||f(d[0],e.target)||E()},u.menuStyle={},u.scrollPosition={};var b=function(t){e.setTimeout(function(){u.scrollPosition.scrollToTop()});var n,i=18,r=5,a=3;u.isCreativeCloud&&!u.switchingEnabled||u.librarySelectionOnlyMode||a++,y||(u.menuStyle.width=d[0].offsetWidth+g,e.innerHeight?(n=e.innerHeight-a*i,n=u.maxHeight?Math.min(n,u.maxHeight):n):u.maxHeight&&(n=u.maxHeight),n&&n>0&&(n=Math.floor(n/i)*i+r,u.menuContainerStyle={"max-height":n+"px",overflow:"auto"}),e.addEventListener("click",v,!0),e.addEventListener("contextmenu",v,!0),e.addEventListener("resize",v,!0),e.addEventListener("scroll",v,!0),o.addListener("flyoutMenuClicked",v),o.addListener("flyoutMenuOpened",v),_.enter(),d.addClass("selected"),y=!0)};u.toggleMenu=function(e){y?E(e):b(e),e&&e.stopPropagation()},s.addListener("privateCollection",function(){var e=s.getPrivateLibraryCollection();e&&(u.isCreativeCloud=e.cloudId===n.CREATIVE_CLOUD_ID,u.collectionName=u.isCreativeCloud?l.instant("DL_MENU_PERSONAL_ASSETS"):e.cloudInfo.name,u.switchingEnabled=e.cloudInfo.switchingEnabled||!1)}),u.LIBRARY_MIN=n.RECENTS_LIST_LIBRARY_MIN,u.LIST_LIMIT=n.RECENTS_LIST_LIMIT,u.limitToFilterFunction=function(e,t,n){return n.length<=u.LIBRARY_MIN?!0:t<u.LIST_LIMIT},u.orderByFunction=function(e){return e===u.selectedItem?Date.now():s.getLastAccess(e)},u.select=function(t){E(),u.ngModel=u.modelField?t[u.modelField]:t,u.ngChange&&e.setTimeout(function(){u.ngChange(),c.triggerDigest()})},u.showCreateDialog=function(){E(),a.invokeCreateLibrary()},u.changeCloud=function(){E(),s.requestCloudChange()},u.$watch("ngModel",function(e){h(e)}),u.$watch("optionsArray",function(e){u.selectedItem||h(u.ngModel)}),u.$watch("ngDisabled",function(e){e?d.addClass("disabled"):d.removeClass("disabled")})}}}];t.attach=function(e){i.module(e).directive("edgeccSelect",o)}}),define("directives/selectItem",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["configuration",function(e){return{restrict:"E",replace:!0,templateUrl:"directives/templates/selectItem.tmpl.html",scope:{item:"=",selectedItem:"=",recent:"=",displayField:"@"}}}];t.attach=function(e){i.module(e).directive("selectItem",r)}}),define("directives/search",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$window","designLibraryManager","designLibraryViewState","menuManager","$translate","digestUtils","designLibrarySelection",function(e,t,n,i,r,o,a){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directives/templates/search.tmpl.html",scope:{disable:"="},link:function(t,s,l){function c(){(t.search.findSimilarId||t.search.findSimilarUrl)&&(t.search.findSimilarId=void 0,t.search.findSimilarUrl=void 0,t.search.text===g&&(t.search.text=""))}function u(){t.search.placeholder=r.instant("DL_SEARCH_INPUT_"+t.search.type.toUpperCase()+"_PLACEHOLDER")}function d(){t.search.text||t.search.findSimilarId?"search"!==t.uiState.mode&&n.setSearchMode(t.search):"normal"!==t.uiState.mode&&n.resetMode()}function p(){t.uiState.modeParams!==t.search&&(t.uiState.modeParams=t.uiState.modeParams||{},t.uiState.modeParams.text=t.uiState.modeParams.text||t.search.text,t.uiState.modeParams.type=t.uiState.modeParams.type||t.search.type,t.search=t.uiState.modeParams,u(),d())}t.menuShown=!1;var f,h=function(){t.menuShown&&(e.removeEventListener("click",f,!0),e.removeEventListener("contextmenu",f,!0),e.removeEventListener("resize",f,!0),e.removeEventListener("scroll",f,!0),i.removeListener("flyoutMenuClicked",f),i.removeListener("flyoutMenuOpened",f),t.menuShown=!1,o.triggerDigest())};f=function(e){t.isSearchDropDownTarget(e)||h()};var m=function(n){e.addEventListener("click",f,!0),e.addEventListener("contextmenu",f,!0),e.addEventListener("resize",f,!0),e.addEventListener("scroll",f,!0),i.addListener("flyoutMenuClicked",f),i.addListener("flyoutMenuOpened",f),t.menuShown=!0,o.triggerDigest()};t.toggleMenu=function(e){t.menuShown?h(e):t.disable||m(e)},t.searchFocused=function(){t.menuShown&&h()},t.uiState=n.getState(),t.types=n.getSearchTypes(),t.search={text:""};var g=r.instant("DL_STOCK_FIND_SIMILAR_PLACEHOLDER");t.setSearchType=function(e,i){t.search.type=e,i||n.setSearchType(t.search.type),d(),h()},t.setSearchType(n.getSearchType()||t.types[0],!0),t.$watch("uiState.modeParams",function(e){"search"===t.uiState.mode&&p()}),t.$watch("uiState.mode",function(e){"search"!==e?(t.search.text="",t.search.findSimilarId=void 0,t.search.findSimilarUrl=void 0):p()}),t.$watch("search.type",function(e){c(),t.search.text?n.notifySearchRequest():t.setFocus(!0,!1),u()}),t.$watch("search.text",function(){c(),clearTimeout(t.searchAttemptTimeout),t.search.text&&(t.searchAttemptTimeout=setTimeout(function(){n.notifySearchRequest(),clearTimeout(t.searchAttemptTimeout)},n.isStockSearchMode()?1e3:200)),d()}),t.searchRequested=function(){c(),t.search.text?n.notifySearchRequest():t.setFocus(!1,!1)},a.addScopedListener(t,"selectionChanged",function(){t.search.text||t.setFocus(!1,!1)})}}}];t.attach=function(e){i.module(e).directive("edgeccSearch",r)}}),define("directives/insert",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$window","designLibraryManager","csInterface","designLibraryElements","menuManager","$translate","digestUtils","designLibrarySelection","layerSelectionManager","designLibraryViewState","localSettings","metrics",function(e,t,n,i,r,o,a,s,l,c,u,d){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directives/templates/insert.tmpl.html",scope:{disabled:"=",library:"="},link:function(o,p,f){function h(e){var n=t.getPrivateLibraryCollection();n&&u.setValue(n.userId+"#"+n.cloudId+"#insertMenuSelectionState",e)}function m(){var e=t.getPrivateLibraryCollection();return e?u.getValue(e.userId+"#"+e.cloudId+"#insertMenuSelectionState")||{}:{}}function g(){var e=m();o.layerOperations.forEach(function(t){t.disabled||(e[t.name]=t.checked)}),h(e)}function v(){return o.layerOperations.filter(function(e){return!e.disabled}).length}function _(){return o.layerOperations.filter(function(e){return!e.checked}).length}function y(e,t){d.reportPanelEvent("insertMenu",{opType:e,libraryID:o.library&&o.library.id,totalElements:v(),checkedElements:_(),menuItem:t})}function E(){var t=l.getLayerInfo();o.layerOperations=i.getAddOperations(t,o.library);var n=e.innerHeight-32,r=47,s=0,c=!1,u=m();o.layerOperations.forEach(function(e){e.checked=e.disabled?!1:u[e.name]===!1?!1:!0,e.checked&&s++,e.disabled||(c=!0),r=e.disabled?r:r+24}),0===s&&o.layerOperations.forEach(function(e){e.checked=e.disabled?!1:!0}),g();var d=e.innerWidth-12;return n>r?o.menuStyle={overflow:"hidden","max-width":d}:o.menuStyle={"overflow-y":"scroll","overflow-x":"hidden",height:n,"max-width":d},a.triggerDigest(),c}function b(){var e=E();y("update"),e||L()}var L;o.isWindowsOS=n.isWindowsOS(),o.showMenu=function(){o.menuShown=E(),o.menuShown&&(y("render"),e.addEventListener("click",L,!0),e.addEventListener("contextmenu",L,!0),e.addEventListener("resize",L,!0),e.addEventListener("scroll",L,!0),l.addListener("layerSelectionChanged",b),r.addListener("flyoutMenuClicked",L),r.addListener("flyoutMenuOpened",L))},o.menuStyle={"max-height":500};var S=function(){e.removeEventListener("click",L,!0),e.removeEventListener("contextmenu",L,!0),e.removeEventListener("resize",L,!0),e.removeEventListener("scroll",L,!0),l.removeListener("layerSelectionChanged",b),r.removeListener("flyoutMenuClicked",L),r.removeListener("flyoutMenuOpened",L),o.menuShown=!1,a.triggerDigest()};o.toggleMenu=function(){o.menuShown?o.hideMenu():o.showMenu()},o.insertSelection=function(){if(S(),o.library){s.clearSelection();var e=[];o.layerOperations.forEach(function(t){!t.disabled&&t.checked&&e.push(t.name),t.checked&&t.apply(o.library,"addButton").then(function(e){c.resetMode(),s.toggleSelectedItem(e)})}),y("add")}},o.selectionChanged=function(e){g(),y(e.checked?"checked":"unchecked",e.name)},o.isAddDisabled=function(){return!o.layerOperations.reduce(function(e,t){return e.checked?e:t}).checked},o.hideMenu=function(){S(),y("cancel")},o.layerOperations=[],L=function(e){e&&o.isAddMenuTarget(e)||(S(),y("quit"))},o.menuShown=!1}}}];t.attach=function(e){i.module(e).directive("edgeccInsert",r)}}),define("directives/main",["require","exports","module","./core/main","./designlibrary/main","./disclosureTriangle","./edgeccTooltip","./modalDialog","./select","./selectItem","./search","./insert"],function(e,t,n){"use strict";t.attach=function(t){e("./core/main").attach(t),e("./designlibrary/main").attach(t),e("./disclosureTriangle").attach(t),e("./edgeccTooltip").attach(t),e("./modalDialog").attach(t),e("./select").attach(t),e("./selectItem").attach(t),e("./search").attach(t),e("./insert").attach(t)}}),define("controllers/purchaseCtrl",["require","exports","module"],function(e,t,n){"use strict";var i=["$scope","$rootScope","$document","$window","$translate","csInterface","designLibraryManager","adobeStockLicenseUtils","configuration","adobeStockUtils","metrics","debugLog","designLibraryViewState",function(e,t,n,i,r,o,a,s,l,c,u,d,p){var f=360,h=180;e.lang=o.getLocale(),e.cssClasses={windows:o.isWindowsOS()},e.cssClasses["locale_"+e.lang]=!0,e.showSpinner=!0,d.log("Loading Purchase Dialog extention");var m=r.instant("DL_CANCEL"),g=r.instant("DL_SEARCH_STOCK");o.setWindowTitle(g),e.stockPurchaseDialog={title:g,text:" ",cancelText:m},e.isErrorMode=!1,e.showStockDialog=function(t,n,i,r,o,a){e.showSpinner=!1,e.stockPurchaseDialog.title=t,e.stockPurchaseDialog.text=n,e.stockPurchaseDialog.okCallback=i,e.stockPurchaseDialog.okText=o||"DL_OK",e.stockPurchaseDialog.secondaryOkText=a,e.isErrorMode=!i&&!r,e.isErrorMode?(e.stockPurchaseDialog.okCallback=e.cancelStockPurchase,e.stockPurchaseDialog.cancelText=void 0):e.stockPurchaseDialog.cancelText=m},s.addScopedListener(e,"showStockPurchaseDialog",function(t,n,i,r,o,a){e.showStockDialog(t,n,i,r,o,a)});var v,_,y=function(e,t){u.flush(),e.createdElementRef&&(_=e.createdElementRef);var n=new CSEvent("com.adobe.inapp.purchase.closed","APPLICATION","AdobeStockPurchaseDialog",o.getExtensionID());n.data={data:e,didFinish:t,initiatedBy:v,elementRef:_},o.dispatchEvent(n),d.log("SENT : com.adobe.inapp.purchase.closed event"),d.log(JSON.stringify(n.data)),o.closeExtension()};e.cancelStockPurchase=function(){y("CANCELLED",!1)};var E=function(){e.chooseLibraryMode=!1,e.showSpinner=!0,e.stockPurchaseDialog.text=" ",e.stockPurchaseDialog.okText=void 0,e.stockPurchaseDialog.secondaryOkText=void 0},b=function(t){e.showStockDialog("DL_STOCK_PURCHASE_CHOOSE_LIB_TITLE",r.instant("DL_STOCK_PURCHASE_CHOOSE_LIB_MSG"),t),e.stockPurchaseDialog.cancelText=void 0,o.resizeContent(f,h),e.uiState=p.getState(),e.library=a.getCurrentLibrary(),e.libraries=a.getLibraries(),e.showSpinner=!1,e.chooseLibraryMode=!0};e.okCallback=function(t){E(),e.stockPurchaseDialog.okCallback&&e.stockPurchaseDialog.okCallback(t)};var L=function(t){e.stockPurchaseDialog.title=r.instant("DL_STOCK_PURCHASE_DIALOG_TITLE"+c.getLocalizationSuffix({type:t}))},S=function(e){return e&&""!==e?e:void 0},A=function(t){d.log("RECEIVED : com.adobe.inapp.purchase.perform event, event.appId="+t.appId),d.log(JSON.stringify(t.data)),v=t.appId,u.setEnvironment({consumer:v}),_=S(t.data.elementRef);var n=S(t.data.elementType),i=S(t.data.elementName),r=S(t.data.contentId),o=S(t.data.skipQuotaCheck),p=S(t.data.licenseType),f=S(t.data.addToLibraryID),h=S(t.data.metadata),m=S(t.data.renditionDetails),g=S(t.data.stockSearchAsset);h||(h={method:t.appId}),a.waitForInitialLoad().then(function(){d.log("designLibraryManager initialized");var t,u=a.getPrivateLibraryCollection().userId;if(_&&(t=a.resolveElementReference(_),t&&(d.log("Resolved elementRef with elementType = "+t.type),n=t.type,i=t.name,r=c.getStockId(t),o=c.isLicensed(t)))){var v=c.getStockDataForElement(t);v&&v.license&&(p=v.license)}if(!n||!u||!r)return void y("INSUFFICIENT_DETAILS",!1);t||(t={type:n,name:i}),L(n);var S,A=function(e){y(e,!0)},T=function(n){return n&&"LIBRARY_NOT_WRITEABLE"===n.code?void b(function(){E(),t.hasOwnProperty("_library")?t.getThumbnailPath(l.IMAGE_RENDITION_SIZE,function(t,i){i&&(m={path:i,width:l.IMAGE_RENDITION_SIZE,height:l.IMAGE_RENDITION_SIZE}),S(!0,n.licenseType,e.library.id)}):S(!0,n.licenseType,e.library.id)}):void(e.isErrorMode||y(n,!1))};(S=function(e,n,i){s.doLicense(t,u,r,e,n,i,m,g,h).then(A,T)})(o,p,f)})};o.addEventListener("com.adobe.inapp.purchase.perform",A);var T=new CSEvent("com.adobe.inapp.purchase.init","APPLICATION","AdobeStockPurchaseDialog",o.getExtensionID());o.dispatchEvent(T),d.log("SENT : com.adobe.inapp.purchase.init event")}];t.attach=function(e){angular.module(e).controller("purchaseCtrl",i);
}}),define("controllers/mainCtrl",["require","exports","module"],function(e,t,n){"use strict";var i=["$scope","$rootScope","$document","$window","csInterface","designLibraryManager",function(e,t,n,i,r,o){var a=r.getLocale();e.lang=a.split("-")[0],"zh-TW"===a?e.lang="zh-Hant":"zh-CN"===a&&(e.lang="zh-Hans"),e.cssClasses={windows:r.isWindowsOS()},e.cssClasses["locale_"+a]=!0,n.on("click",function(){o.sync(!0,!0)}),i.addEventListener("online",function(){o.sync()}),i.addEventListener("offline",function(){o.sync()}),n.on("mouseenter",function(){t.globalHovering=!0,t.$apply()}),n.on("mouseleave",function(){t.globalHovering=!1,t.$apply()})}];t.attach=function(e){angular.module(e).controller("mainCtrl",i)}}),define("controllers/main",["require","exports","module","./purchaseCtrl","./mainCtrl"],function(e,t,n){"use strict";t.attach=function(t){var n=(new CSInterface).getExtensionID();"com.adobe.inapp.purchase"===n?e("./purchaseCtrl").attach(t):e("./mainCtrl").attach(t)}}),define("filters/timeago",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return function(e){return moment(e).from(moment())}};t.attach=function(e){i.module(e).filter("timeago",r)}}),define("filters/localeOrderBy",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$parse","csInterface",function(e,t){var n=new Intl.Collator(t.getLocale(),{numeric:!0});return function(t,r,o,a){var s=function(e,t,n){var r=[];return i.forEach(e,function(e,i,o){r.push(t.call(n,e,i,o))}),r},l=function(e,t){var n,i;for(n=0;n<r.length;n++)if(i=r[n](e,t),0!==i)return i;return 0},c=function(e,t){return t?function(t,n){return e(n,t)}:e},u=function(e,t){if(e===t)return 0;var r=typeof e,o=typeof t;return r===o?"string"===r?n.compare(e,t):(i.isDate(e)&&i.isDate(t)&&(e=e.valueOf(),t=t.valueOf()),t>e?-1:1):o>r?-1:1};if(!i.isArray(t))return t;if(!r)return t;r=i.isArray(r)?r:[r],r=s(r,function(t){var n=!1,r=t||identity;if(i.isString(t)&&(("+"===t.charAt(0)||"-"===t.charAt(0))&&(n="-"===t.charAt(0),t=t.substring(1)),r=e(t),r.constant)){var o=r();return c(function(e,t){return u(e[o],t[o])},n)}return c(function(e,t){return u(r(e),r(t))},n)});var d;if(o)d=t;else{d=[];var p;for(p=0;p<t.length;p++)d.push(t[p])}return d.sort(c(l,a))}}];t.attach=function(e){i.module(e).filter("localeOrderBy",r)}}),define("filters/searchKeyword",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){return function(e,t,n){if(!t)return e;if(t=t.trim().toLowerCase(),0===t.length)return e;var i;i=t.length>1&&'"'===t.charAt(0)&&'"'===t.charAt(t.length-1)?[t.substring(1,t.length-1)]:t.indexOf(" ")>-1?t.split(/[ ]+/):[t];var r=[];return e.forEach(function(e){n?n(e,i)&&r.push(e):i.every(function(t){return e.name.toLowerCase().indexOf(t)>-1})&&r.push(e)}),r}}];t.attach=function(e){i.module(e).filter("searchKeyword",r)}}),define("filters/main",["require","exports","module","./timeago","./localeOrderBy","./searchKeyword"],function(e,t,n){"use strict";function i(t){e("./timeago").attach(t),e("./localeOrderBy").attach(t),e("./searchKeyword").attach(t)}return{attach:i}}),define("configuration/designlibrary/brush/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["designLibraryElements","configuration",function(e,t){e.register({type:t.BRUSH_ELEMENT_TYPE,directive:"dl-brush",displayName:"DL_TYPE_BRUSH",renditionSize:t.BRUSH_RENDITION_SIZE,getAddOperations:function(e){return[]}})}])};return{attach:r}}),define("configuration/designlibrary/brush/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlBrush",a)}var r=e("angular"),o={"application/vnd.adobe.scatter.brush+zip":"DL_BRUSHTYPE_SCATTER","application/vnd.adobe.vector.brush+zip":"DL_BRUSHTYPE_VECTOR","application/vnd.adobe.ribbon.brush+zip":"DL_BRUSHTYPE_RIBBON","image/x-adobe-photoshop-brush":"DL_BRUSHTYPE_SCATTER"},a=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/brush/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(t,n,i,a,s,l,c){function u(){t.tooltip.name=s.getTruncatedElementName(t.component);var n=!1;s.setLoadingTimeout(function(){return n?void 0:(t.imageUrl=void 0,t.loadedRenditionUrl=!1,!0)}),s.getRenditionUrl(t.component).then(function(e){n=!0,t.imageUrl=e,t.loadedRenditionUrl=!0},function(e){n=!0,t.imageUrl=void 0,t.loadedRenditionUrl=!0});var i=t.component.getPrimaryRepresentation();if(i){var r=i.type;r&&(t.tooltip.brushType=o[i.type])}var c=e.getUsableTypes(t.component.type),u=t.component.representations.filter(function(e){var t="rendition"===e.relationship,n=s.isRepresentationCompatible(e,c);return!t&&n});t.disabled=0===u.length,t.disabled&&(t.tooltip.disabledMessage="DL_ERROR_BRUSH_NOT_SUPPORTED_"+a.currentProduct.config.translationSuffix),l.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name)}function d(){u(),c.triggerDigest()}function p(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}t.uiState=l.getState(),t.tooltip={},i.addScopedListener(t,"selectionChanged",p),u(),p(),t.component.addChangeListener(d),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(d),t.scrollIntoView=r.identity})}]}}];return{attach:i}}),define("configuration/designlibrary/brush/main",["require","exports","module","./config","./renderer"],function(e,t){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/color/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","designLibraryUtils","colorUtils","pngUtils","configuration",function(e,t,n,i,r,o){t.register({type:o.COLOR_ELEMENT_TYPE,directive:"dl-color",displayName:"DL_TYPE_COLOR",getAddOperations:function(t){var r=function(t){return{apply:function(i,r){var a=e.defer(),s=t.name;s||(t.data[0]&&t.data[0].type&&"spot"===t.data[0].type&&(s=t.data[0].spotColorName),s=s||"");var l=n.createElementExtraMetrics(i,s,o.COLOR_ELEMENT_TYPE,{opType:r});return t.data.forEach(function(e,t){var n=0===t?"primary":"rendition",i=l.createRepresentation(o.COLOR_REPRESENTATION_TYPE,n);i.setValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY,e)}),l.endOperation(),a.resolve(l),a.promise}}},a=[];return t&&t.colors&&t.colors.length>0?(t.colors.forEach(function(e){var t=e.data;if(t&&""!==t){var n=r(e);a.push({name:"DL_ADD_COLOR_NAME_"+e.colorType,order:4,toolTipData:{primaryValue:Array.isArray(t)?i.getStringColorValue(t[0]):null,hexValue:i.colorDataToHexValue(t).toUpperCase(),name:t.name},toolTipTemplate:"configuration/designlibrary/color/tooltip.tmpl.html",style:{"background-color":i.colorDataToHexValue(t),border:"1px solid",width:"14px",height:"14px",margin:"1px 1px 1px 0px"},apply:n.apply,displayIcon:!0})}}),a):[{name:"DL_ADD_COLOR_NAME",order:4,style:{border:"1px solid",width:"14px",height:"14px",margin:"1px 1px 1px 0px"},disabled:!0,displayIcon:!0}]},getDisplayText:function(e){if(e.name&&""!==e.name)return e.name;var t=e.representations.filter(function(e){var t=e.getValue("color","data");return"RGB"===t.mode}),n=t.length>0?t[0]:void 0,r=n&&n.getValue("color","data");return r?i.colorDataToHexValue(r).toUpperCase():""},elementFilter:function(e,t){var n,r=e.representations.filter(function(e){var t=e.getValue("color","data");return"RGB"===t.mode}),o=r.length>0?r[0]:void 0,a=o&&o.getValue("color","data");return a&&(n=i.colorDataToHexValue(a).toLowerCase()),t.every(function(t){return e.name.toLowerCase().indexOf(t)>-1?!0:n?n.indexOf(t)>-1:!1})},getRenditionUrl:function(t){var n=e.defer(),i=t.representations.filter(function(e){var t=e.getValue("color","data");return"RGB"===t.mode}),o=i[0]&&i[0].getValue("color","data");if(o){var a=r.createPNG(200,200,256);a.color(Math.round(o.value.r),Math.round(o.value.g),Math.round(o.value.b),255);var s="data:image/png;base64,"+a.getBase64();n.resolve(s)}else n.reject();return n.promise}})}])};return{attach:r}}),define("configuration/designlibrary/color/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlColor",o)}var r=e("angular"),o=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/color/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","colorUtils","themeManager","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(t,n,i,o,a,s,l,c,u){function d(){t.tooltip.name=l.getTruncatedElementName(t.component),t.tooltip.hexValue=void 0,t.tooltip.primaryValue=void 0;var n=t.component.getPrimaryRepresentation();t.disabled=!l.isRepresentationCompatible(n,e.getUsableTypes(s.COLOR_ELEMENT_TYPE));var i=n&&n.getValue("color","data");i&&(t.tooltip.primaryValue=o.getStringColorValue(i));var r=t.component.representations.filter(function(e){var t=e.getValue("color","data");return"RGB"===t.mode});if(n=r.length>0?r[0]:void 0,i=n&&n.getValue("color","data")){var a=o.colorDataToHexValue([i]).toUpperCase();t.colorStyle={backgroundColor:o.colorDataToRGBA([i],t.disabled?h:m)},t.tooltip.hexValue=a,t.defaultName=a}c.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name)}function p(){d(),u.triggerDigest()}function f(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}var h=.2,m=1;t.uiState=c.getState(),t.tooltip={},i.addScopedListener(t,"selectionChanged",f),d(),f(),t.component.addChangeListener(p),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(p),t.scrollIntoView=r.identity}),a.addScopedListener(t,"colorThemeChanged",d)}]}}];return{attach:i}}),define("configuration/designlibrary/color/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/colortheme/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","designLibraryUtils","fileUtils","colorUtils","configuration","pngUtils",function(e,t,n,i,r,o,a){t.register({type:o.COLOR_THEME_ELEMENT_TYPE,directive:"dl-colortheme",displayName:"DL_TYPE_COLOR_THEME",getApplyOperations:function(e,r,a){if(!e||!a)return[];var s=[],l=t.getApplyOperations({type:o.COLOR_ELEMENT_TYPE},r);return l.forEach(function(r){s.push({name:r.name,icon:r.icon,displayInMenu:r.displayInMenu,onClick:r.onClick,apply:function(){r.apply(a,function(r){var a=t.findRepresentation(e,i.getUsableTypes(o.COLOR_THEME_ELEMENT_TYPE));a&&n.reportApplyMetric(a,r)})}})}),s},getAddOperations:function(e){return[]},elementFilter:function(e,n){var a=t.findRepresentation(e,i.getUsableTypes(o.COLOR_THEME_ELEMENT_TYPE)),s=a&&a.getValue("colortheme","data"),l=[];return s&&Array.isArray(s.swatches)&&s.swatches.forEach(function(e){l.push(r.colorDataToHexValue(e).toLowerCase())}),n.every(function(t){return e.name.toLowerCase().indexOf(t)>-1?!0:l.some(function(e){return e.indexOf(t)>-1})})},getRenditionUrl:function(n){var s=e.defer(),l=t.findRepresentation(n,i.getUsableTypes(o.COLOR_THEME_ELEMENT_TYPE)),c=l&&l.getValue("colortheme","data");if(c&&Array.isArray(c.swatches)){var u=200,d=a.createPNG(u,u,256);d.color(0,0,0,0),c.swatches.forEach(function(e,t){var n,i,o=r.getRGBRepresentation(e),a=d.color(Math.round(o.value.r),Math.round(o.value.g),Math.round(o.value.b)),s=u/5,l=s*t,c=(u-2*s)/2;for(n=0;s>n;n++)for(i=0;2*s>i;i++)d.buffer[d.index(n+l,i+c)]=a});var p="data:image/png;base64,"+d.getBase64();s.resolve(p)}else s.reject();return s.promise}})}])};return{attach:r}}),define("configuration/designlibrary/colortheme/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlColortheme",a)}var r=e("angular"),o="application/vnd.adobe.element.colortheme+dcx",a=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:function(e,t){return"configuration/designlibrary/colortheme/view.tmpl.html"},scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","colorUtils","themeManager","configuration","designLibraryElements","designLibraryViewState","csInterface","designLibraryUtils","layerSelectionManager","digestUtils",function(t,n,i,a,s,l,c,u,d,p,f,h){function m(){var n=t.component.getPrimaryRepresentation();t.disabled=!c.isRepresentationCompatible(n,e.getUsableTypes(o)),t.useColor=function(e){_=c.getApplyOperations({type:"application/vnd.adobe.element.color+dcx"},{});var t;_.forEach(function(e){e.onClick&&(t=e)}),t&&t.apply(e,function(e){n&&p.reportApplyMetric(n,e)})};var i=n&&n.getValue("colortheme","data");i&&Array.isArray(i.swatches)&&(t.values=i.swatches.map(function(e){var t=a.colorDataToHexValue(e).toUpperCase(),n=a.getStringColorValue(e[0]);return{colorData:e,hexValue:t,primaryValue:n,style:{background:t}}}),u.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name))}function g(){m(),h.triggerDigest()}function v(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}t.uiState=u.getState(),t.tooltip={};var _=[];m(),t.component.addChangeListener(g),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(g),t.scrollIntoView=r.identity}),s.addScopedListener(t,"colorThemeChanged",m),i.addScopedListener(t,"selectionChanged",v),v()}]}}];return{attach:i}}),define("configuration/designlibrary/colortheme/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/image/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","configuration","fileUtils","designLibraryUtils","designLibraryElementUtils","adobeStockUtils",function(e,t,n,i,r,o,a){t.register({type:n.IMAGE_ELEMENT_TYPE,directive:"dl-image",displayName:"DL_TYPE_IMAGE",renditionSize:n.IMAGE_RENDITION_SIZE,isDraggable:!0,dragType:"image",allowDragWithoutUsableRepresentation:!0,fullRenditionConfig:function(){var e=i.getUsableTypes(n.IMAGE_ELEMENT_TYPE);return 0===e.length?[]:[{id:n.currentProduct.config.code,condition:"IF_NO_MATCHING_REPRESENTATION",types:e}]},getAddOperations:function(t){var n=function(t,n,i){var a=e.defer();return r.generatePreview(!0,i).then(function(e){var r={documentId:e.documentId,layerIds:e.layerIds,dragAssetId:i};a.resolve(o.addGraphicElement(e.layerName,e.files,e.rendition,t,n,r))},function(){a.reject("Could not extract asset.")}),a.promise};return[{name:"DL_ADD_IMAGE_NAME",order:1,toolTipTemplate:"configuration/designlibrary/image/tooltip.tmpl.html",toolTipData:{name:t&&t.name},icon:"newimage",dropSupport:!0,apply:n,disabled:!t||t.hasOwnProperty("selectionExists")&&!t.selectionExists,displayIcon:!0}]},getEditOperations:function(e){var n=t.getDefaultEditOperation(e);return n?[n]:[]},elementFilter:function(e,t){var n=a.getStockSearchQuery(e);return t.every(function(t){return e.name.toLowerCase().indexOf(t)>-1?!0:n&&n.toLowerCase().indexOf(t)>-1?!0:!1})},getDragData:function(e){if(e){var n,i=t.getCommonDragData(e),r=t.findUsableRepresentation(e);return r?r.getContentPath(function(e,t){n=t}):e&&e.getThumbnailPath(void 0,function(t,i){n=i,r={type:"image/png",_element:e}}),n?(i.data=[n],i.usedRepresentationForAnalytics=r,i):void 0}}})}])};return{attach:r}}),define("configuration/designlibrary/image/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlImage",o)}var r=e("angular"),o=[function(){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/image/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","$translate","designLibrarySelection","fileUtils","designLibraryManager","designLibraryElements","configuration","designLibraryViewState","adobeStockRendererUtils","digestUtils","unitUtils",function(e,t,n,i,o,a,s,l,c,u,d,p){function f(){var t=!1;s.setLoadingTimeout(function(){return t?void 0:(e.loadedRenditionUrl=!1,e.imageUrl=void 0,e.imgStyle={},!0)}),s.getRenditionUrl(e.component).then(function(n){t=!0,e.loadedRenditionUrl=!0,e.imageUrl=n},function(n){t=!0,e.loadedRenditionUrl=!0,e.imageUrl=void 0,e.imgStyle={}});var n="content";e.tooltip={},g();var i,r=e.component.getPrimaryRepresentation();r&&(i=o.mimeLookup(l.IMAGE_ELEMENT_TYPE,r.type),i?(e.badgeText=i.badge,i.createdIn?e.tooltip.createdIn=i.createdIn:e.tooltip.type=i.name):e.tooltip.type=r.type,r.contentLength&&(e.tooltip.filesize=p.bytesToString(r.contentLength))),e.imgStyle["background-size"]=n,e.tooltip.name=s.getTruncatedElementName(e.component),c.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}function h(){f(),d.triggerDigest()}function m(){e.selected=i.isSelected(e.component),e.selected&&-1===e.downloadProgress&&(s.retryElementDownload(e.component),f()),i.isPendingScrollToItem(e.component)&&(i.clearPendingScrollToItem(),t.setTimeout(function(){e.scrollIntoView()}))}e.uiState=c.getState();var g=u.bindStockInfoToScope(e);e.imgStyle={},e.tooltip={},i.addScopedListener(e,"selectionChanged",m),f(),m(),e.component.addChangeListener(h),e.$watch("uiState.view",function(){e.imgStyle={}}),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(h),e.scrollIntoView=r.identity}),e.onElementDragStart=function(){e.selected||i.setSelection(e.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/image/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/layerstyle/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","configuration","fileUtils","csInterface","designLibraryUtils",function(e,t,n,i,r,o){t.register({type:n.LAYER_STYLE_ELEMENT_TYPE,directive:"dl-layer-style",displayName:"DL_TYPE_LAYER_STYLE",renditionSize:n.LAYER_STYLE_RENDITION_SIZE,getAddOperations:function(t){if("PHXS"!==n.currentProduct.config.code)return[];var a=function(t,a){var s=e.defer();return r.execApp("saveLayerStyle").then(function(r){var l=JSON.parse(r)||{},c=l.layerName||"",u=o.createElementExtraMetrics(t,c,n.LAYER_STYLE_ELEMENT_TYPE,{opType:a}),d=[],p=l.files||[];if(p.forEach(function(e,t){var n=i.fileNameToContentType(e);if(n){var r=0===t?"primary":"alternate",o=u.createRepresentation(n,r),a=o.setContentFromPath(e).then(function(){i.deleteFile(e)});d.push(a)}else console.log("Could not create representation: path cannot end with '.': "+e)}),l.rendition){var f=u.createRepresentation("image/png","rendition"),h=f.setContentFromPath(l.rendition);d.push(h)}e.all(d).then(function(){l.rendition&&u.setThumbnailCache(n.LAYER_STYLE_RENDITION_SIZE,l.rendition,function(){i.deleteFile(l.rendition)}),u.endOperation(),s.resolve(u)},function(){t.removeElement(u,!0),s.reject("Could not create element.")})},function(){s.reject("Could not save layer style.")}),s.promise};return[{name:"DL_ADD_LAYER_STYLE",icon:"newlayerstyle",order:3,dropSupport:!1,apply:a,disabled:!t||!t.hasLayerStyles,displayIcon:!0}]}})}])};return{attach:r}}),define("configuration/designlibrary/layerstyle/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlLayerStyle",o)}var r=e("angular"),o=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/layerstyle/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","themeManager","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(e,t,n,i,o,a,s,l){function c(){e.tooltip.name=a.getTruncatedElementName(e.component);var t=!1;a.setLoadingTimeout(function(){return t?void 0:(e.imageUrl=void 0,e.loadedRenditionUrl=!1,!0)}),a.getRenditionUrl(e.component).then(function(n){t=!0,e.imageUrl=n,e.loadedRenditionUrl=!0},function(n){t=!0,e.imageUrl=void 0,e.loadedRenditionUrl=!0}),s.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}function u(){c(),l.triggerDigest()}function d(){e.selected=n.isSelected(e.component),n.isPendingScrollToItem(e.component)&&(n.clearPendingScrollToItem(),t.setTimeout(function(){e.scrollIntoView()}))}e.uiState=s.getState(),e.tooltip={},e.disabled="PHXS"!==o.currentProduct.config.code?!0:!1,n.addScopedListener(e,"selectionChanged",d),c(),d(),e.component.addChangeListener(u),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(u),e.scrollIntoView=r.identity})}]}}];return{attach:i}}),define("configuration/designlibrary/layerstyle/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/look/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","configuration","fileUtils","csInterface","designLibraryUtils",function(e,t,n,i,r,o){t.register({type:n.LOOK_ELEMENT_TYPE,directive:"dl-look",displayName:"DL_TYPE_LOOK",renditionSize:n.LOOK_RENDITION_SIZE,getAddOperations:function(e){return[]},getDragData:function(e){if(e){var n,i=t.getCommonDragData(e),r=t.findUsableRepresentation(e);return r&&r.getContentPath(function(e,t){n=t}),n?(i.data=[n],i.usedRepresentationForAnalytics=r,i):void 0}}})}])};return{attach:r}}),define("configuration/designlibrary/look/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlLook",o)}var r=e("angular"),o=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/look/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","themeManager","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(t,n,i,o,a,s,l,c){function u(){t.tooltip.name=s.getTruncatedElementName(t.component);var n=!1;s.setLoadingTimeout(function(){return n?void 0:(t.imageUrl=void 0,t.loadedRenditionUrl=!1,!0)});var i=s.findRepresentation(t.component,e.getUsableTypes(a.LOOK_ELEMENT_TYPE));i||(t.disabled=!0),s.getRenditionUrl(t.component).then(function(e){n=!0,t.imageUrl=e,t.loadedRenditionUrl=!0},function(e){n=!0,t.imageUrl=void 0,t.loadedRenditionUrl=!0}),l.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name)}function d(){u(),c.triggerDigest()}function p(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}t.uiState=l.getState(),t.tooltip={},i.addScopedListener(t,"selectionChanged",p),u(),p(),t.component.addChangeListener(d),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(d),t.scrollIntoView=r.identity}),t.onElementDragStart=function(){t.selected||i.setSelection(t.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/look/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/textstyle/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r="characterstyle",o="data",a="application/vnd.adobe.characterstyle+json",s=function(e){i.module(e).run(["$q","designLibraryElements","designLibraryUtils","layerSelectionManager","csInterface","fileUtils","configuration","textstyleUtils",function(e,t,n,i,s,l,c,u){t.register({type:c.CHARACTER_STYLE_ELEMENT_TYPE,directive:"dl-text-style",displayName:"DL_TYPE_TEXT_STYLE",renditionSize:c.CHARACTER_STYLE_RENDITION_SIZE,getAddOperations:function(t){var d=function(t,u){function d(i){i&&"LayerKind.TEXT"===i.kind&&s.execApp("saveTextStylePreview",[i.fontInfo]).then(function(s){if(void 0!==s&&"undefined"!==s){var d=n.createElementExtraMetrics(t,"",c.CHARACTER_STYLE_ELEMENT_TYPE,{opType:u}),f=[],h=d.createRepresentation(a,"primary");if(h.setValue(r,o,i.fontInfo),s){var m=d.createRepresentation("image/png","rendition"),g=m.setContentFromPath(s);f.push(g)}e.all(f).then(function(){s&&d.setThumbnailCache(c.CHARACTER_STYLE_RENDITION_SIZE,s,function(){l.deleteFile(s)}),d.endOperation(),p.resolve(d)},function(){t.removeElement(d,!0),p.reject("Could not create element.")})}},function(){p.reject("Could not save text style preview.")})}var p=e.defer();return i.requestUpdate(),i.addListener("layerSelectionChanged",d,!0),p.promise};return[{name:"DL_ADD_TEXT_STYLE_NAME",order:2,toolTipTemplate:"configuration/designlibrary/textstyle/tooltip.tmpl.html",toolTipData:{properties:t&&t.fontInfo&&u.getStyleProperties(t.fontInfo).join(", ")},icon:"newcharacterstyle",apply:d,disabled:!t||!t.text||!t.fontInfo,displayIcon:!0}]},getDisplayText:function(e){if(e.name&&""!==e.name)return e.name;var n=t.findRepresentation(e,a),i=n&&n.getValue(r,o);if(i){var s=i.fontFamily;return-1===i.adbeFont.style.toLowerCase().indexOf("normal")&&i.adbeFont.style.toLowerCase().indexOf("regular")&&(s+=" "+i.adbeFont.style),s}return""},elementFilter:function(e,n){var i=t.findRepresentation(e,a),s=i&&i.getValue(r,o);return n.every(function(t){return e.name.toLowerCase().indexOf(t)>-1?!0:s&&(s.fontFamily&&s.fontFamily.toLowerCase().indexOf(t)>-1||s.adbeFont&&s.adbeFont.style&&s.adbeFont.style.toLowerCase().indexOf(t)>-1||s.fontSize&&s.fontSize.value&&s.fontSize.value.toString().toLowerCase().indexOf(t)>-1)?!0:!1})}})}])};return{attach:s}}),define("configuration/designlibrary/textstyle/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlTextStyle",l)}var r=e("angular"),o="characterstyle",a="data",s="application/vnd.adobe.characterstyle+json",l=function(){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/textstyle/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$q","$window","fileUtils","designLibrarySelection","designLibraryElements","designLibraryViewState","colorUtils","configuration","csInterface","mediator","textstyleUtils","digestUtils",function(e,t,n,i,l,c,u,d,p,f,h,m,g){function v(){var t=c.findRepresentation(e.component,s);e.tooltip.name=c.getTruncatedElementName(e.component);var n=!1;c.setLoadingTimeout(function(){return n?void 0:(e.imageUrl=void 0,e.loadedRenditionUrl=!1,!0)}),c.getRenditionUrl(e.component).then(function(t){n=!0,e.imageUrl=t,e.loadedRenditionUrl=!0},function(t){n=!0,e.imageUrl=void 0,e.loadedRenditionUrl=!0});var r=t&&t.getValue(o,a);if(e.disabled=!c.isRepresentationCompatible(t,i.getUsableTypes(p.CHARACTER_STYLE_ELEMENT_TYPE)),r){var l=function(t){e.missingFont=t,e.tooltip.missingFont=e.missingFont};b(r).then(function(e){l(!e)}),E.on("fontListChanged",function(){b(r).then(function(e){l(!e)})});var f=m.getStyleProperties(r);if(e.styleDescription=f.join(", "),e.tooltip.properties=e.styleDescription,r.color&&(e.colorStyle={"background-color":d.colorDataToHexValue(r.color)}),e.fontDescription={},e.fontDescription.font=r.fontFamily,e.fontDescription.style="",r.adbeFont&&r.adbeFont.style){var h=r.adbeFont.style.toLowerCase();-1===h.indexOf("normal")&&h.indexOf("regular")&&(e.fontDescription.style=r.adbeFont.style)}e.fontDescription.fullFont=e.fontDescription.font+" "+e.fontDescription.style,u.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}}function _(){v(),g.triggerDigest()}function y(){e.selected=l.isSelected(e.component),l.isPendingScrollToItem(e.component)&&(l.clearPendingScrollToItem(),n.setTimeout(function(){e.scrollIntoView()}))}e.uiState=u.getState();var E=h.register(e);e.tooltip={},e.renderStyle={},e.renderStyleFull={},e.isPreviewAvailable=!1,e.previewURL="";var b=function(n){var i=c.findUsableRepresentation(e.component);if(!i)return t.when(!0);if(!n.adbeFont&&!n.fontFamily)return t.when(!0);var r=t.defer();return f.execApp("isFontAvailable",[n]).then(function(e){r.resolve("false"!==e)}),r.promise};l.addScopedListener(e,"selectionChanged",y),v(),y(),e.component.addChangeListener(_),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(_),e.scrollIntoView=r.identity})}]}};return{attach:i}}),define("configuration/designlibrary/textstyle/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/parastyle/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r="paragraphstyle",o="data",a="application/vnd.adobe.paragraphstyle+json",s="application/vnd.adobe.paragraphstyle+snippet",l=function(e){i.module(e).run(["$q","$translate","designLibraryElements","designLibraryUtils","layerSelectionManager","csInterface","fileUtils","configuration",function(e,t,n,i,l,c,u,d){n.register({type:d.PARAGRAPH_STYLE_ELEMENT_TYPE,directive:"dl-para-style",displayName:"DL_TYPE_PARA_STYLE",renditionSize:d.PARAGRAPH_STYLE_RENDITION_SIZE,getAddOperations:function(n){var p=function(n,p){function f(l){l&&"LayerKind.TEXT"===l.kind&&c.execApp("getParaStyleInfo").then(function(l){var c=JSON.parse(l);c.styleName||(c.styleName=t.instant("DL_TYPE_NEW_PARA_STYLE"));var f,m,g=i.createElementExtraMetrics(n,c.styleName,d.PARAGRAPH_STYLE_ELEMENT_TYPE,{opType:p}),v=[];if(c.idmsPath){var _=g.createRepresentation(s,"primary");m=_.setContentFromPath(c.idmsPath).then(function(){u.deleteFile(c.idmsPath)}),v.push(m),f=g.createRepresentation(a,"rendition"),f.setValue(r,o,c.styleInfo)}else f=g.createRepresentation(a,"primary"),f.setValue(r,o,c.styleInfo);if(c.previewPath){var y=g.createRepresentation("image/png","rendition");m=y.setContentFromPath(c.previewPath),v.push(m)}e.all(v).then(function(){c.previewPath&&g.setThumbnailCache(d.PARAGRAPH_STYLE_RENDITION_SIZE,c.previewPath,function(){u.deleteFile(c.previewPath)}),g.endOperation(),h.resolve(g)},function(){n.removeElement(g,!0),h.reject("Could not create element.")})},function(){h.reject("Could not save paragraph style preview.")})}var h=e.defer();return l.requestUpdate(),l.addListener("layerSelectionChanged",f,!0),h.promise};return[{name:"DL_ADD_PARA_STYLE_NAME",order:3,icon:"newparagraphstyle",apply:p,disabled:!n||!n.text||n.isAppliedParaStyleSupported===!1,displayIcon:!0}]},getDisplayText:function(e){if(e.name&&""!==e.name)return e.name;var t=n.findRepresentation(e,a),i=t&&t.getValue(r,o);if(i){var s=i.fontFamily;return-1===i.adbeFont.style.toLowerCase().indexOf("normal")&&i.adbeFont.style.toLowerCase().indexOf("regular")&&(s+=" "+i.adbeFont.style),s}return""},elementFilter:function(e,t){var i=n.findRepresentation(e,a),s=i&&i.getValue(r,o);return t.every(function(t){return e.name.toLowerCase().indexOf(t)>-1?!0:s&&(s.fontFamily&&s.fontFamily.toLowerCase().indexOf(t)>-1||s.adbeFont&&s.adbeFont.style&&s.adbeFont.style.toLowerCase().indexOf(t)>-1||s.fontSize&&s.fontSize.value&&s.fontSize.value.toString().toLowerCase().indexOf(t)>-1)?!0:!1;
})}})}])};return{attach:l}}),define("configuration/designlibrary/parastyle/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlParaStyle",c)}var r=e("angular"),o="paragraphstyle",a="data",s="application/vnd.adobe.paragraphstyle+json",l={},c=function(){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/parastyle/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$q","$window","fileUtils","designLibrarySelection","designLibraryElements","designLibraryViewState","colorUtils","configuration","csInterface","mediator","$translate","digestUtils",function(e,t,n,i,c,u,d,p,f,h,m,g,v){function _(){var t=u.findRepresentation(e.component,s);e.tooltip.name=u.getTruncatedElementName(e.component);var n=!1;u.setLoadingTimeout(function(){return n?void 0:(e.imageUrl=void 0,e.loadedRenditionUrl=!1,!0)}),u.getRenditionUrl(e.component).then(function(t){n=!0,e.imageUrl=t,e.loadedRenditionUrl=!0},function(t){n=!0,e.imageUrl=void 0,e.loadedRenditionUrl=!0});var r=t&&t.getValue(o,a);if(e.disabled=!t||!u.isRepresentationCompatible(t,i.getUsableTypes(f.PARAGRAPH_STYLE_ELEMENT_TYPE)),r){var l=function(t){e.missingFont=t,e.tooltip.missingFont=e.missingFont};L(r).then(function(e){l(!e)}),b.on("fontListChanged",function(){L(r).then(function(e){l(!e)})});var c=A(r);if(e.styleDescription=c.join(", "),e.tooltip.properties=e.styleDescription,r.color&&(e.colorStyle={"background-color":p.colorDataToHexValue(r.color)}),e.fontDescription={},e.fontDescription.font=r.fontFamily,e.fontDescription.style="",r.adbeFont&&r.adbeFont.style){var h=r.adbeFont.style.toLowerCase();-1===h.indexOf("normal")&&h.indexOf("regular")&&(e.fontDescription.style=r.adbeFont.style)}e.fontDescription.fullFont=e.fontDescription.font+" "+e.fontDescription.style,d.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}}function y(){_(),v.triggerDigest()}function E(){e.selected=c.isSelected(e.component),c.isPendingScrollToItem(e.component)&&(c.clearPendingScrollToItem(),n.setTimeout(function(){e.scrollIntoView()}))}e.uiState=d.getState();var b=m.register(e);e.tooltip={},e.renderStyle={},e.renderStyleFull={},e.isPreviewAvailable=!1,e.previewURL="";var L=function(n){var i=u.findUsableRepresentation(e.component);if(!i)return t.when(!0);if(!n.adbeFont&&!n.fontFamily)return t.when(!0);var r=t.defer();return h.execApp("isFontAvailable",[n]).then(function(e){r.resolve("false"!==e)}),r.promise},S=function(){l.Underline||(l.Underline=g.instant("DL_TEXT_ATTRIBUTE_UNDERLINE"),l.Strikethrough=g.instant("DL_TEXT_ATTRIBUTE_STRIKETHROUGH"),l.Leading=g.instant("DL_TEXT_ATTRIBUTE_LEADING"),l.Kerning=g.instant("DL_TEXT_ATTRIBUTE_KERNING"),l.Tracking=g.instant("DL_TEXT_ATTRIBUTE_TRACKING"),l.Alignment=g.instant("DL_TEXT_ATTRIBUTE_ALIGNMENT"),l.Hyphenate=g.instant("DL_TEXT_ATTRIBUTE_HYPHENATE"),l.LeadingAuto=g.instant("DL_TEXT_LEADING_AUTO"),l.KerningAuto=g.instant("DL_TEXT_KERNING_AUTO"),l.KerningOptical=g.instant("DL_TEXT_KERNING_OPTICAL"),l.KerningMetricsRomanOnly=g.instant("DL_TEXT_KERNING_METRICSROMANONLY"),l.LeftAlign=g.instant("DL_TEXT_ALIGNMENT_LEFT"),l.CenterAlign=g.instant("DL_TEXT_ALIGNMENT_CENTER"),l.RightAlign=g.instant("DL_TEXT_ALIGNMENT_RIGHT"),l.LeftJustify=g.instant("DL_TEXT_ALIGNMENT_LEFT_JUSTIFY"),l.CenterJustify=g.instant("DL_TEXT_ALIGNMENT_CENTER_JUSTIFY"),l.RightJustify=g.instant("DL_TEXT_ALIGNMENT_RIGHT_JUSTIFY"),l.FullJustify=g.instant("DL_TEXT_ALIGNMENT_FULL_JUSTIFY"))},A=function(e){var t=[];if(S(),e.adbeFont?t.push(e.adbeFont.family):e.fontFamily&&t.push(e.fontFamily),e.adbeFont&&-1===e.adbeFont.style.toLowerCase().indexOf("normal")&&e.adbeFont.style.toLowerCase().indexOf("regular")&&t.push(e.adbeFont.style),e.fontSize){var n=e.fontSize.value&&Math.round(100*e.fontSize.value)/100;t.push(n+e.fontSize.type)}if(e.textDecorationObject?(e.textDecorationObject.adbeUnderline&&t.push(l.Underline),e.textDecorationObject.adbeStrikethrough&&t.push(l.Strikethrough)):e.textDecoration&&(-1!==e.textDecoration.indexOf("underline")&&t.push(l.Underline),-1!==e.textDecoration.indexOf("line-through")&&t.push(l.Strikethrough)),e.adbeAutoLeading)t.push(l.Leading+":"+l.LeadingAuto);else if(e.lineHeight){var i=e.lineHeight.value&&Math.round(100*e.lineHeight.value)/100;t.push(l.Leading+":"+i+e.lineHeight.type)}switch(e.adbeIlstKerningMethod){case"AutoKernType.AUTO":t.push(l.Kerning+":"+l.KerningAuto);break;case"AutoKernType.OPTICAL":t.push(l.Kerning+":"+l.KerningOptical);break;case"AutoKernType.METRICSROMANONLY":t.push(l.Kerning+":"+l.KerningMetricsRomanOnly)}if(e.adbeTracking?t.push(l.Tracking+":"+e.adbeTracking):e.letterSpacing&&t.push(l.Tracking+":"+1e3*e.letterSpacing.value),e.adbeParaAlignment)switch(e.adbeParaAlignment){case"Alignment.LEFT_ALIGN":t.push(l.Alignment+":"+l.LeftAlign);break;case"Alignment.CENTER_ALIGN":t.push(l.Alignment+":"+l.CenterAlign);break;case"Alignment.RIGHT_ALIGN":t.push(l.Alignment+":"+l.RightAlign);break;case"Alignment.LEFT_JUSTIFIED":t.push(l.Alignment+":"+l.LeftJustify);break;case"Alignment.CENTER_JUSTIFIED":t.push(l.Alignment+":"+l.CenterJustify);break;case"Alignment.RIGHT_JUSTIFIED":t.push(l.Alignment+":"+l.RightJustify);break;case"Alignment.FULLY_JUSTIFIED":t.push(l.Alignment+":"+l.FullJustify)}return e.adbeHyphenation&&t.push(l.Hyphenate),t};c.addScopedListener(e,"selectionChanged",E),_(),E(),e.component.addChangeListener(y),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(y),e.scrollIntoView=r.identity})}]}};return{attach:i}}),define("configuration/designlibrary/parastyle/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/unsupported/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=82,o=function(e){i.module(e).run(["designLibraryElements",function(e){e.register({type:"*",directive:"dl-unsupported",displayName:"DL_TYPE_UNKNOWN",renditionSize:r,getApplyOperations:function(e,t){return[]},getAddOperations:function(e){return[]}})}])};return{attach:o}}),define("configuration/designlibrary/unsupported/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlUnsupported",o)}var r=e("angular"),o=function(){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/unsupported/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(e,t,n,i,o,a,s){function l(){var t=!1;o.setLoadingTimeout(function(){return t?void 0:(e.imageUrl=void 0,e.loadedRenditionUrl=!1,!0)}),o.getRenditionUrl(e.component).then(function(n){t=!0,e.imageUrl=n,e.loadedRenditionUrl=!0},function(n){t=!0,e.imageUrl=void 0,e.loadedRenditionUrl=!0}),e.tooltip.disabledMessage="DL_ERROR_UNSUPPORTED_"+i.currentProduct.config.translationSuffix,a.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}function c(){l(),s.triggerDigest()}function u(){e.selected=n.isSelected(e.component),n.isPendingScrollToItem(e.component)&&(n.clearPendingScrollToItem(),t.setTimeout(function(){e.scrollIntoView()}))}e.uiState=a.getState(),e.tooltip={},n.addScopedListener(e,"selectionChanged",u),l(),u(),e.component.addChangeListener(c),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(c),e.scrollIntoView=r.identity})}]}};return{attach:i}}),define("configuration/designlibrary/unsupported/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/video/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","configuration","fileUtils","csInterface","designLibraryUtils","adobeStockUtils",function(e,t,n,i,r,o,a){t.register({type:n.VIDEO_ELEMENT_TYPE,directive:"dl-video",displayName:"DL_TYPE_VIDEO",renditionSize:n.VIDEO_RENDITION_SIZE,autoDownloadExternalLinks:!1,getAddOperations:function(e){return[]},elementFilter:function(e,t){var n=a.getStockSearchQuery(e);return t.every(function(t){return e.name.toLowerCase().indexOf(t)>-1?!0:n&&n.toLowerCase().indexOf(t)>-1?!0:!1})},getDragData:function(e){if(e){var n,r=t.getCommonDragData(e),o=[],a=i.getUsableTypes(e.type);return e.representations.forEach(function(e){if(t.isRepresentationCompatible(e,a)){n=n||e;var i=e.getValue("video","data")||{};o.push({contentType:e.type,url:e.getContentURL(),width:e.width,height:e.height,contentLength:e.contentLength,framerate:i.framerate,duration:i.duration})}}),o.length>0?(r.data=o,r.usedRepresentationForAnalytics=n,r):void 0}}})}])};return{attach:r}}),define("configuration/designlibrary/video/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlVideo",o)}var r=e("angular"),o=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/video/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","themeManager","configuration","designLibraryElements","designLibraryViewState","designLibraryManager","digestUtils","adobeStockRendererUtils","unitUtils",function(t,n,i,o,a,s,l,c,u,d,p){function f(){var n=!1;s.setLoadingTimeout(function(){return n?void 0:(t.imageUrl=void 0,t.loadedRenditionUrl=!1,!0)}),t.tooltip={},g(),t.tooltip.name=s.getTruncatedElementName(t.component);var i=t.component.getPrimaryRepresentation(),r=s.findRepresentation(t.component,e.getUsableTypes(a.VIDEO_ELEMENT_TYPE));r||(t.disabled=!0);var o=r||i;if(o){o.width&&o.height&&(t.tooltip.dimensions=p.dimensionsToString(o.width,o.height)),o.contentLength&&(t.tooltip.filesize=p.bytesToString(o.contentLength));var c=o.getValue("video","data")||{};c.framerate&&(t.tooltip.framerate=p.fpsToString(c.framerate)),c.duration&&(t.tooltip.duration=p.msToString(c.duration))}s.getRenditionUrl(t.component).then(function(e){n=!0,t.imageUrl=e,t.loadedRenditionUrl=!0},function(e){n=!0,t.imageUrl=void 0,t.loadedRenditionUrl=!0}),l.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name)}function h(){f(),u.triggerDigest()}function m(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}t.uiState=l.getState();var g=d.bindStockInfoToScope(t);t.tooltip={},i.addScopedListener(t,"selectionChanged",m),f(),m(),t.component.addChangeListener(h),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(h),t.scrollIntoView=r.identity}),t.onElementDragStart=function(){t.selected||i.setSelection(t.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/video/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/3d/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","configuration","fileUtils","csInterface","designLibraryUtils",function(e,t,n,i,r,o){t.register({type:n.THREE_D_ELEMENT_TYPE,directive:"dl-3d",displayName:"DL_TYPE_3D",renditionSize:n.THREE_D_RENDITION_SIZE,dragType:"3d",getAddOperations:function(e){return[]},getEditOperations:function(e){var n=t.getDefaultEditOperation(e);return n?[n]:[]},getDragData:function(e){if(e){var n,i=t.getCommonDragData(e),r=t.findUsableRepresentation(e);return r&&r.getContentPath(function(e,t){n=t}),n?(i.data=[n],i.usedRepresentationForAnalytics=r,i):void 0}}})}])};return{attach:r}}),define("configuration/designlibrary/3d/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dl3d",o)}var r=e("angular"),o=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/3d/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","themeManager","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(t,n,i,o,a,s,l,c){function u(){var n=!1;s.setLoadingTimeout(function(){return n?void 0:(t.imageUrl=void 0,t.loadedRenditionUrl=!1,!0)});var i=s.findRepresentation(t.component,e.getUsableTypes(a.THREE_D_ELEMENT_TYPE));t.disabled=!i||!s.isRepresentationCompatible(i,e.getUsableTypes(a.THREE_D_ELEMENT_TYPE)),s.getRenditionUrl(t.component).then(function(e){n=!0,t.imageUrl=e,t.loadedRenditionUrl=!0},function(e){n=!0,t.imageUrl=void 0,t.loadedRenditionUrl=!0}),i=t.component.getPrimaryRepresentation(),t.tooltip={},t.tooltip.name=s.getTruncatedElementName(t.component);var r;if(i){r=e.mimeLookup(a.THREE_D_ELEMENT_TYPE,i.type),r?(t.badgeText=r.badge,r.createdIn?t.tooltip.createdIn=r.createdIn:t.tooltip.type=r.name):t.tooltip.type=i.type;var o=i&&i.getValue(a.THREE_D_NAMESPACE,a.THREE_D_DATA_KEY);if(o&&o.type)switch(o.type){case"character":t.tooltip.threeDtype="DL_3D_CHARACTER"}}l.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name)}function d(){u(),c.triggerDigest()}function p(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}t.uiState=l.getState(),t.tooltip={},i.addScopedListener(t,"selectionChanged",p),u(),p(),t.component.addChangeListener(d),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(d),t.scrollIntoView=r.identity}),t.onElementDragStart=function(){t.selected||i.setSelection(t.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/3d/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/pattern/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["designLibraryElements","configuration",function(e,t){e.register({type:t.PATTERN_ELEMENT_TYPE,directive:"dl-pattern",displayName:"DL_TYPE_PATTERN",renditionSize:t.PATTERN_RENDITION_SIZE,getAddOperations:function(e){return[]},getDragData:function(t){if(t){var n,i=e.getCommonDragData(t),r=e.findUsableRepresentation(t);return r&&r.getContentPath(function(e,t){n=t}),n?(i.data=[n],i.usedRepresentationForAnalytics=r,i):void 0}}})}])};return{attach:r}}),define("configuration/designlibrary/pattern/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlPattern",o)}var r=e("angular"),o=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/pattern/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","themeManager","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(t,n,i,o,a,s,l,c){function u(){t.tooltip.name=s.getTruncatedElementName(t.component);var n=!1;s.setLoadingTimeout(function(){return n?void 0:(t.imageUrl=void 0,t.loadedRenditionUrl=!1,!0)});var i=s.findRepresentation(t.component,e.getUsableTypes(a.PATTERN_ELEMENT_TYPE));i||(t.disabled=!0),s.getRenditionUrl(t.component).then(function(e){n=!0,t.imageUrl=e,t.loadedRenditionUrl=!0},function(e){n=!0,t.imageUrl=void 0,t.loadedRenditionUrl=!0}),l.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name)}function d(){u(),c.triggerDigest()}function p(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}t.uiState=l.getState(),t.tooltip={},i.addScopedListener(t,"selectionChanged",p),u(),p(),t.component.addChangeListener(d),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(d),t.scrollIntoView=r.identity}),t.onElementDragStart=function(e){var t=i.isSelected(e);if(!t){var n=!s.isDraggable(e);i.setSelection(e,!1,n)}}}]}}];return{attach:i}}),define("configuration/designlibrary/pattern/main",["require","exports","module","./config","./renderer"],function(e,t){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/template/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["designLibraryElements","configuration","adobeStockUtils",function(e,t,n){e.register({type:t.TEMPLATE_ELEMENT_TYPE,directive:"dl-template",displayName:"DL_TYPE_TEMPLATE",renditionSize:t.IMAGE_RENDITION_SIZE,isDraggable:!1,getAddOperations:function(e){return[]},elementFilter:function(e,t){var i=n.getStockSearchQuery(e);return t.every(function(t){return e.name.toLowerCase().indexOf(t)>-1?!0:i&&i.toLowerCase().indexOf(t)>-1?!0:!1})}})}])};return{attach:r}}),define("configuration/designlibrary/template/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlTemplate",o)}var r=e("angular"),o=[function(){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/template/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","$translate","designLibrarySelection","fileUtils","designLibraryManager","designLibraryElements","configuration","designLibraryViewState","adobeStockRendererUtils","digestUtils","unitUtils",function(e,t,n,i,o,a,s,l,c,u,d,p){function f(){var t=!1;s.setLoadingTimeout(function(){return t?void 0:(e.loadedRenditionUrl=!1,e.imageUrl=void 0,e.imgStyle={},!0)}),s.getRenditionUrl(e.component).then(function(n){t=!0,e.loadedRenditionUrl=!0,e.imageUrl=n},function(n){t=!0,e.loadedRenditionUrl=!0,e.imageUrl=void 0,e.imgStyle={}});var n="content";e.tooltip={},g();var i,r=e.component.getPrimaryRepresentation();r&&(i=o.mimeLookup(l.TEMPLATE_ELEMENT_TYPE,r.type),i?(e.badgeText=i.badge,i.createdIn?e.tooltip.createdIn=i.createdIn:e.tooltip.type=i.name):e.tooltip.type=r.type,r.contentLength&&(e.tooltip.filesize=p.bytesToString(r.contentLength)));var a=o.getUsableTypes(e.component.type),u=e.component.representations.filter(function(e){var t="rendition"===e.relationship,n=s.isRepresentationCompatible(e,a,!0);return!t&&n});e.disabled=0===u.length,e.disabled&&(e.tooltip.disabledMessage="DL_ERROR_TEMPLATE_NOT_SUPPORTED_"+l.currentProduct.config.translationSuffix),e.imgStyle["background-size"]=n,e.tooltip.name=s.getTruncatedElementName(e.component),c.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}function h(){f(),d.triggerDigest()}function m(){e.selected=i.isSelected(e.component),e.selected&&-1===e.downloadProgress&&(s.retryElementDownload(e.component),f()),i.isPendingScrollToItem(e.component)&&(i.clearPendingScrollToItem(),t.setTimeout(function(){e.scrollIntoView()}))}e.uiState=c.getState();var g=u.bindStockInfoToScope(e);e.imgStyle={},e.tooltip={},i.addScopedListener(e,"selectionChanged",m),f(),m(),e.component.addChangeListener(h),e.$watch("uiState.view",function(){e.imgStyle={}}),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(h),e.scrollIntoView=r.identity}),e.onElementDragStart=function(){e.selected||i.setSelection(e.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/template/main",["require","exports","module","./config","./renderer"],function(e,t){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/animation/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","configuration","fileUtils","designLibraryUtils","designLibraryElementUtils","adobeStockUtils",function(e,t,n,i,r,o,a){t.register({type:n.ANIMATION_ELEMENT_TYPE,directive:"dl-animation",displayName:"DL_TYPE_ANIMATION",renditionSize:n.ANIMATION_RENDITION_SIZE,isDraggable:!0,dragType:"animation",enableEditOriginal:!0,fullRenditionConfig:function(){var e=i.getUsableTypes(n.ANIMATION_ELEMENT_TYPE);return 0===e.length?[]:[{id:n.currentProduct.config.code,condition:"IF_NO_MATCHING_REPRESENTATION",types:e}]},getAddOperations:function(e){return[]},getEditOperations:function(e){var n=t.getDefaultEditOperation(e);return n?[n]:[]},elementFilter:function(e,t){var n=a.getStockSearchQuery(e);return t.every(function(t){return e.name.toLowerCase().indexOf(t)>-1?!0:n&&n.toLowerCase().indexOf(t)>-1?!0:!1})},getDragData:function(e){if(e){var n,i=t.getCommonDragData(e),r=t.findUsableRepresentation(e);return r?r.getContentPath(function(e,t){n=t}):e&&e.getThumbnailPath(void 0,function(t,i){n=i,r={type:"image/png",_element:e}}),n?(i.data=[n],i.usedRepresentationForAnalytics=r,i):void 0}}})}])};return{attach:r}}),define("configuration/designlibrary/animation/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlAnimation",o)}var r=e("angular"),o=[function(){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/animation/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","$translate","designLibrarySelection","fileUtils","designLibraryManager","designLibraryElements","configuration","designLibraryViewState","adobeStockRendererUtils","digestUtils","unitUtils",function(e,t,n,i,o,a,s,l,c,u,d,p){function f(){var t=!1;s.setLoadingTimeout(function(){return t?void 0:(e.loadedRenditionUrl=!1,e.imageUrl=void 0,e.imgStyle={},!0)}),s.getRenditionUrl(e.component).then(function(n){t=!0,e.loadedRenditionUrl=!0,e.imageUrl=n},function(n){t=!0,e.loadedRenditionUrl=!0,e.imageUrl=void 0,e.imgStyle={}});var n="content";e.tooltip={},g();var i,r=e.component.getPrimaryRepresentation();r?(i=o.mimeLookup(l.ANIMATION_ELEMENT_TYPE,r.type),i?(e.badgeText=i.badge,i.createdIn?e.tooltip.createdIn=i.createdIn:e.tooltip.type=i.name):e.tooltip.type=r.type,r.contentLength&&(e.tooltip.filesize=p.bytesToString(r.contentLength)),e.disabled=!s.isRepresentationCompatible(r,o.getUsableTypes(l.ANIMATION_ELEMENT_TYPE))):e.disabled=!0,e.imgStyle["background-size"]=n,e.tooltip.name=s.getTruncatedElementName(e.component),c.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}function h(){f(),d.triggerDigest()}function m(){e.selected=i.isSelected(e.component),e.selected&&-1===e.downloadProgress&&(s.retryElementDownload(e.component),f()),i.isPendingScrollToItem(e.component)&&(i.clearPendingScrollToItem(),t.setTimeout(function(){e.scrollIntoView()}))}e.uiState=c.getState();var g=u.bindStockInfoToScope(e);e.imgStyle={},e.tooltip={},i.addScopedListener(e,"selectionChanged",m),f(),m(),e.component.addChangeListener(h),e.$watch("uiState.view",function(){e.imgStyle={}}),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(h),e.scrollIntoView=r.identity}),e.onElementDragStart=function(){e.selected||i.setSelection(e.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/animation/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/main",["require","exports","module","./brush/main","./color/main","./colortheme/main","./image/main","./layerstyle/main","./look/main","./textstyle/main","./parastyle/main","./unsupported/main","./video/main","./3d/main","./pattern/main","./template/main","./animation/main"],function(e,t,n){"use strict";t.attach=function(t){e("./brush/main").attach(t),e("./color/main").attach(t),e("./colortheme/main").attach(t),e("./image/main").attach(t),e("./layerstyle/main").attach(t),e("./look/main").attach(t),e("./textstyle/main").attach(t),e("./parastyle/main").attach(t),e("./unsupported/main").attach(t),e("./video/main").attach(t),e("./3d/main").attach(t),e("./pattern/main").attach(t),e("./template/main").attach(t),e("./animation/main").attach(t)}}),define("configuration/main",["require","exports","module","./designlibrary/main"],function(e,t,n){"use strict";t.attach=function(t){e("./designlibrary/main").attach(t)}}),define("app",["require","jquery","angular","angular-sanitize","angular-animate","angular-translate","angular-cc-libraries-api-js","tether","visitor-api","app-measurement","libs/CSInterface","libs/IMSInterface","libs/Vulcan","services/main","directives/main","controllers/main","filters/main","configuration/main"],function(e){"use strict";function t(){angular.element(document).ready(function(){angular.bootstrap(document,["designLibraries"])})}var n=angular.module("designLibraries",["ngSanitize","ngAnimate","pascalprecht.translate","adobe.ccLibraries"]);if(n.config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate","$injector",function(e,t){return function(n,i){e(n,i);var r=t.get("metrics");r&&r.reportError(i||"",n.stack||n.message||n)}}])}]),!e.toUrl){var i=e("edgeccTemplates");n.run(["$rootScope","$templateCache",function(e,t){i(t)}]),angular.BUILT=!0}var r=new CSInterface,o=r.initResourceBundle(),a=r.hostEnvironment.appUILocale;n.config(["$translateProvider",function(e){e.translations(a,o),e.preferredLanguage(a),e.fallbackLanguage(a),e.useSanitizeValueStrategy(null)}]),e("services/main").attach("designLibraries"),e("directives/main").attach("designLibraries"),e("controllers/main").attach("designLibraries"),e("filters/main").attach("designLibraries"),e("configuration/main").attach("designLibraries"),n.run(["$animate","csInterface","debugLog","designLibraryManager","versionManager","layerSelectionManager","configuration","metrics","products","themeManager","designLibraryCEPEventHandlers","designLibraryFlyoutMenu",function(e,t,n,i,r,o,a,s,l,c,u,d){function p(){if(n.init(),i.init(),window.alert=t.showError.bind(t),t.isLibrariesPanel()){n.log("Panel Initialised: "+(angular.BUILT?"v"+r.getPluginVersion():"DEV")),o.startListening(),d.updateMenu(),u.startListening();var e=new CSEvent("dlPanelInitialized","APPLICATION");t.dispatchEvent(e)}}e.enabled(!1);var f=t.getPluginPath()+"/jsx/",h=f+"shims.jsx",m=f+"core.jsx",g=f+"json2.jsx",v=t.getPluginPath()+"/applications/"+a.currentProduct.config.code+"/jsx/main.jsx";t.evalScript('$.evalFile("'+h+'")'),t.evalScript('$.evalFile("'+m+'")'),t.evalScript('$.evalFile("'+g+'")'),t.evalScript('$.evalFile("'+v+'")'),t.evalScript("$._ADBE_LIBS_CORE.getTempFolder()").then(function(e){a.strTempFolder=e}),t.evalScript("$._ADBE_LIBS_CORE.getHostAppPathViaBridgeTalk()").then(function(e){a.currentProduct.config.debugHostAppPath=e});var _=a.currentProduct.init();_?_.then(p,p):p()}]),t()}),define("applications/AEFT/js/index",["require","exports","angular"],function(e,t){"use strict";var n=e("angular"),i=["$injector","colorUtils","fileUtils","ccLibraries","adobeStockUtils","designLibraryElements","designLibraryManager","designLibraryUtils","imsInterface","csInterface","$q","configuration",function(e,t,n,i,r,o,a,s,l,c,u,d){var p=function(e){var t,n;for(t=0;t<arguments.length-1;++t)n=new RegExp("\\{"+t+"\\}","gm"),e=e.replace(n,arguments[t+1]);return e},f=function(e){return e=p.apply(null,arguments),c.execApp("log",[e,"cc-libraries-panel"])};this.getScaleColor=function(e){var n=38,i=.51,r=n,o=e,a=o*i+r;return t.rgbToHex({red:a,green:a,blue:a})},this.cssThemeBGScale=function(){var e,t,n={},i=function(e){switch(e){case 0:return"darker";case 100:return"dark";default:return e.toString()}};for(e=0;100>=e;e++)t=this.getScaleColor(e).slice(1),(!n.hasOwnProperty(t)||n.hasOwnProperty(t)&&i(e)!==e.toString())&&(n[t]=i(e));return n},this.config={},this.config.code="AEFT",this.config.fullName="After Effects",this.config.translationSuffix="AE",this.config.dragDropSource="com.adobe.aftereffects",this.config.isDrover=!0,this.config.isReadOnly=!0,this.config.themes=this.cssThemeBGScale(),this.config.elementOrder=[d.COLOR_ELEMENT_TYPE,d.COLOR_THEME_ELEMENT_TYPE,d.IMAGE_ELEMENT_TYPE,d.VIDEO_ELEMENT_TYPE,d.LOOK_ELEMENT_TYPE,d.CHARACTER_STYLE_ELEMENT_TYPE,d.PARAGRAPH_STYLE_ELEMENT_TYPE,d.LAYER_STYLE_ELEMENT_TYPE,d.BRUSH_ELEMENT_TYPE,d.THREE_D_ELEMENT_TYPE,d.PATTERN_ELEMENT_TYPE,d.TEMPLATE_ELEMENT_TYPE,d.ANIMATION_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"ae",prodId:"adbemaftereffects.rebootprod2",devId:"adbemaftereffects.rebootdev2"},this.init=function(){n.extendUsableTypes(d.IMAGE_ELEMENT_TYPE,["application/pdf","application/illustrator","application/photoshop","application/photoshop.large","image/vnd.adobe.photoshop","image/png","image/jpeg","image/jpg"]),n.extendUsableTypes(d.COLOR_ELEMENT_TYPE,["application/vnd.adobe.color+json"]),n.extendUsableTypes(d.COLOR_THEME_ELEMENT_TYPE,["application/vnd.adobe.colortheme+json"]),n.extendUsableTypes(d.LOOK_ELEMENT_TYPE,["application/vnd.adobe.cube+txt","application/vnd.adobe.look+xml"]),n.extendUsableTypes(d.VIDEO_ELEMENT_TYPE,["video/mp4","video/quicktime"]),c.execApp("getTooltipState").then(function(t){e.get("configuration").showTooltips=t}),this.startEventListener()},this.reportEvent=function(e,t){},this.getUserData=function(e){c.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})};var h=function(e,t){t=void 0===t?!1:t,f("addOrUpdateElementInProject(element:{0}({1}), addingElement:{2})",e.name,e.id,t);var p={name:e.name,id:e.id,libraryName:e.library.name,reference:e.getReference(),modified:e.modified,created:e.created,adobeStockId:r.getStockId(e)};p.licensed=p.adobeStockId?r.isLicensed(e):null;var h,m=o.findRepresentation(e,n.getUsableTypes(d.IMAGE_ELEMENT_TYPE));m?(h=m.getContentPath(),f("NOTE: Still representation FOUND for '{0}'",e.name)):(f("WARNING: Still representation not found for {0}({1})",e.name,e.id),h=u.defer().resolve(null)),h.then(function(e){e?f("NOTE: Still path was '{0}'.",e):f("WARNING: Still path was null.")})["finally"](function(){if(f("assetPath.finally"),m){var r=o.findRepresentation(e,n.getUsableTypes(d.VIDEO_ELEMENT_TYPE));r&&(m=r)}if(f("Representation: {0}",m),m){p.width=m.width,p.height=m.height,p.contentLength=m.contentLength,p.url=m.getContentURL(),p.trackingdata=m.getValue("adobestock","trackingdata"),p.contentType=m.type,p.assetPath=m.getContentPath();var u=i.utils.mimeTypeToExtensions(m.type);p.extension=u[u.length-1];var h=m.getValue("video","data");p.is_videoB=!!h,h?(p.framerate=Number(h.framerate),p.duration=h.duration):(p.framerate=1,p.duration=1),t&&s.reportApplyMetric(m,"placeAsset");var g=t?"com.adobe.DesignLibraries.events.CreateLibrariesFootage":"com.adobe.DesignLibraries.events.UpdateLibrariesFootage",v=a.getPrivateLibraryCollection(),_=v?v.userId:"";return f("Retrieving IMS access token."),l.getAccessToken(_).then(function(e){f("IMS access token: {0}",e),p.imsToken=e;var t=new CSEvent(g,"APPLICATION");t.data=JSON.stringify(p),f("Dispatching event to application: {0}: {1}",t.name,t.data),c.dispatchEvent(t)}).fail(function(e){f("WARNING: Failed to get IMS access token: {0}",JSON.stringify(e));var t=new CSEvent(g,"APPLICATION");t.data=JSON.stringify(p),f("Dispatching event to application: {0}: {1}",t.name,t.data),c.dispatchEvent(t)})}f("WARNING: No assetRep found.")})};this.addOrUpdateElementInProject=h;var m=function(e){f("onFootageNeedsUpdate event.data.element.reference={0}",e.data.element.reference);var t=i.resolveElementReference(e.data.element.reference),n=!!e.data.element.addingElement;
if(!t)throw f("Cound not resolve element."),"Element not found";h(t,n)};this.startEventListener=function(){c.addEventListener("com.adobe.csxs.events.ShouldUpdateFootage",m)},this.stopEventListener=function(){c.removeEventListener("com.adobe.csxs.events.ShouldUpdateFootage",m)}}];t.attach=function(e){n.module(e).service("AEFT",i)}}),define("applications/DRWV/js/index",["require","exports","angular"],function(e,t){"use strict";var n=e("angular"),i=["$q","$injector","colorUtils","configuration","fileUtils","designLibraryManager","$translate","designLibraryElements","imsInterface","$http","adobeStockUtils","csInterface",function(e,t,n,i,r,o,a,s,l,c,u,d){this.config={},this.config.code="DRWV",this.config.fullName="Dreamweaver",this.config.translationSuffix="DW",this.config.dragDropSource="com.adobe.dreamweaver",this.config.isDrover=!0,this.config.themes={323232:"darker",484848:"dark",cacaca:"light",f0f0f0:"lighter"},this.config.defaultTheme="dark",this.config.isDocumentOpen=!1,this.config.createAGCURL={staging:"https://cc-api-image-stage.adobe.io/createagc",production:"https://cc-api-image.adobe.io/createagc"},this.config.svgomgURL={staging:"https://cc-api-image-x-stage.adobe.io/agctosvg",production:"https://cc-api-image-x.adobe.io/agctosvg"},this.config.isReadOnly=!0,this.config.elementOrder=[i.IMAGE_ELEMENT_TYPE,i.COLOR_ELEMENT_TYPE,i.COLOR_THEME_ELEMENT_TYPE,i.CHARACTER_STYLE_ELEMENT_TYPE,i.PARAGRAPH_STYLE_ELEMENT_TYPE,i.VIDEO_ELEMENT_TYPE,i.LAYER_STYLE_ELEMENT_TYPE,i.LOOK_ELEMENT_TYPE,i.BRUSH_ELEMENT_TYPE,i.THREE_D_ELEMENT_TYPE,i.PATTERN_ELEMENT_TYPE,i.TEMPLATE_ELEMENT_TYPE,i.ANIMATION_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"dw",prodId:"adbemdreamweaver.rebootprod2",devId:"adbemdreamweaver.rebootdev2"};var p=function(){var e=[];o.getLibraries().forEach(function(t){t.isDeletedFromServer||e.push({name:t.name,id:t.id})}),e.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0});var t={};t.libraryNames=e,t.libraries=[];var r={},a=[],l=-1,c=o.getCurrentLibrary();if(c){var p;for(p=0;p<e.length;++p)if(e[p].id===c.id){l=p;break}t.currentLibrary=l;var f,h,m,g,v,_,y,E,b,L,S;i.currentProduct.config.lastImageIndex=0,o.getLibraries().forEach(function(e){var r={};for(r.name=e.name,r.id=e.id,r.images=[],r.colors=[],r.imageElements=[],f=0;f<e.elements.length;f++)if(m={},y=e.elements[f],y.type===i.IMAGE_ELEMENT_TYPE)_=y.getPrimaryRepresentation(),m.elementRef=y.getReference(),_?m.primaryType=_.type:m.primaryType="",m.elementName=y.name,m.adobeStockID=u.getStockId(y)||"",m.isUnlicensedStockAsset=m.adobeStockID?!u.isLicensed(y):!1,m.thumbnail="",r.images.push(m),r.imageElements.push(y);else if(y.type===i.COLOR_ELEMENT_TYPE)for(h=0;h<y.representations.length;h++)"RGB"===y.representations[h].getValue("color","data").mode&&(E={},g=y.representations[h].getValue("color","data"),v=n.colorDataToHexValue(g),E.hexValue=v,E.source="color",r.colors.push(E));else if(y.type===i.COLOR_THEME_ELEMENT_TYPE)for(S=y.representations[0].getValue("colortheme","data").swatches,b=0;b<S.length;b++)for(h=0;h<S[b].length;h++)"RGB"===S[b][h].mode&&(L={},g=S[b][h],v=n.colorDataToHexValue(g),L.hexValue=v,L.source="colorTheme",r.colors.push(L));i.currentProduct.config.lastImageIndex=i.currentProduct.config.lastImageIndex+r.images.length,t.libraries.push(r)}),t.libraries.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),t.libraries.forEach(function(e){e.imageElements.forEach(function(n,o){n.getThumbnailPath(s.getRenditionSize(n)).then(function(n){var s=n;if(e.images[o].thumbnail=s,i.currentProduct.config.lastImageIndex--,0===i.currentProduct.config.lastImageIndex){t.libraries.forEach(function(e){delete e.imageElements});var c=t.libraries[l];c&&c.images&&c.images.forEach(function(e){s={},s.path=e.thumbnail,a.push(s)}),r.images=c.images,r.colors=c.colors,t.thumbnails=a,t.currentLibrary=l,t.currentLibraryItemList=r,d.execApp("setLibraryCollection",[JSON.stringify(t)])}},function(e){i.currentProduct.config.lastImageIndex--,console.log(e)})})})}0===i.currentProduct.config.lastImageIndex&&d.execApp("setLibraryCollection",[JSON.stringify(t)])};this.init=function(){r.extendUsableTypes(i.IMAGE_ELEMENT_TYPE,["image/png","image/jpeg","image/jpg","image/gif","image/bmp","image/svg+xml"]),r.extendUsableTypes(i.COLOR_ELEMENT_TYPE,["application/vnd.adobe.color+json"]),r.extendUsableTypes(i.COLOR_THEME_ELEMENT_TYPE,["application/vnd.adobe.colortheme+json"]),r.extendUsableTypes(i.PARAGRAPH_STYLE_ELEMENT_TYPE,[]),r.extendUsableTypes(i.CHARACTER_STYLE_ELEMENT_TYPE,[]),r.extendUsableTypes(i.LAYER_STYLE_ELEMENT_TYPE,[]),r.extendUsableTypes(i.BRUSH_ELEMENT_TYPE,[]),r.extendUsableTypes(i.LOOK_ELEMENT_TYPE,[]),d.execApp("getTooltipState").then(function(e){t.get("configuration").showTooltips=e}),this.startEventListener(),o.addListener("libraryList",function(){p()}),o.addListener("currentLibrary",function(){p()}),o.addListener("libraryStatus",function(){p()})},this.reportEvent=function(e,t){var n=new CSEvent("com.adobe.DesignLibraries.events.LOGPIP","APPLICATION"),i=function(e){return e||"N/A"},r={eventName:i(e),libraryID:i(t.libraryID),elementType:i(t.elementType),opType:i(t.opType)};n.data=JSON.stringify(r),d.dispatchEvent(n)},this.getUserData=function(e){d.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})};var f=function(){var e=t.get("layerSelectionManager");e.handleSelectionChange()},h=function(e){},m=function(e){"open"===e.data.documentStatus?i.currentProduct.config.isDocumentOpen=!0:i.currentProduct.config.isDocumentOpen=!1},g=function(e){if(e&&e.data){var t=e.data,n=t.elementRef,r=t.SVGConversionOptions||{},a=o.resolveElementReference(n),s="",u="",p="",f=!0,h={},m=function(){d.execApp("notifyFetchSVGRenditionComplete",[JSON.stringify(h)])};if(h.svgData="",h.errorMessage="",h.requestRef=t.requestRef,a){var g=a.getPrimaryRepresentation();if(g&&"application/illustrator"===g.type){var v=o.getPrivateLibraryCollection();p=v?v.userId:"",s=i.currentProduct.config.createAGCURL[l.getEnvironment().label.toLowerCase()],u=i.currentProduct.config.svgomgURL[l.getEnvironment().label.toLowerCase()]}else h.errorMessage="Element is not an Ai asset"}else h.errorMessage="Element not found in the Libraries";n&&p&&s&&u?(f=!1,l.getAccessToken(p).then(function(e){var i={inputs:{application_file:{href:n}},outputs:{agc:{disposition:"location"}}},o={headers:{"Content-Type":"application/vnd.adobe.image-operation+json",Authorization:"Bearer "+e,"X-api-key":l.getEnvironment().clientId,"x-request-id":t.requestRef}};c.post(s,i,o).then(function(n){if(n&&n.data&&n.data.outputs&&n.data.outputs.agc&&n.data.outputs.agc.location){var i={inputs:{href:n.data.outputs.agc.location},options:r},o={headers:{"Content-Type":"application/vnd.adobe.dwbedrockservice-operation+json",Authorization:"Bearer "+e,"X-api-key":l.getEnvironment().clientId,"X-request-id":t.requestRef}};c.post(u,i,o).then(function(e){h.svgData=e.data,m()},function(e){h.errorMessage="Could not Fetch SVG DATA. STATUS: "+e.status+". Response Data: "+e.data,m()})}else h.errorMessage="Could not Fetch AGC DATA. Incorrect Data",m()},function(e){h.errorMessage="Could not Fetch AGC DATA. STATUS: "+e.status+". Response Data: "+e.data,m()})},function(e){h.errorMessage="Error Generating Access Token",m()})):h.errorMessage="Internal Error, could not fetch user detail/asset detail",f&&m()}};this.startEventListener=function(){d.addEventListener("selectionChanged",f),d.addEventListener("addAssetToLibrary",h),d.addEventListener("requestSVGRenditionForAi",g),d.addEventListener("requestContextRebuild",p),d.addEventListener("documentChanged",m)},this.stopEventListener=function(){d.removeEventListener("selectionChanged",f),d.removeEventListener("addAssetToLibrary",h),d.removeEventListener("requestSVGRenditionForAi",g),d.removeEventListener("requestContextRebuild",p),d.removeEventListener("documentChanged",m)}}];t.attach=function(e){n.module(e).service("DRWV",i)}}),define("applications/FLPR/js/events",["require","exports","module"],function(e,t){"use strict";var n=["csInterface","mediator","layerSelectionManager","designLibraryManager","FLPRPushUtils","adobeStockUtils","designLibraryElements","fileUtils","configuration",function(e,t,n,i,r,o,a,s,l){var c=function(){n.handleSelectionChange()};this.listen=function(){e.addEventListener("com.adobe.events.flash.selectionChanged",c),e.addEventListener("com.adobe.events.flash.attachRendition",r.onUpdateElement)},this.stop=function(){e.removeEventListener("com.adobe.events.flash.selectionChanged",c),e.removeEventListener("com.adobe.events.flash.attachRendition",r.onUpdateElement)}}];t.attach=function(e){angular.module(e).service("FLPREvents",n)}}),define("applications/FLPR/js/pushUtils",["require","exports","module"],function(e,t){"use strict";var n=["csInterface","$window","ccLibraries","designLibraryManager","configuration","designLibraryUtils","$q","fileUtils","designLibraryCEPEventEmitters","linkUtils","designLibraryStatus","designLibraryElements","designLibraryElementUtils",function(e,t,n,i,r,o,a,s,l,c,u,d,p){var f=function(t,n){if(t){var i=t.element,r=i.getReference();t.getContentPath().then(function(t){var o=new CSEvent("com.adobe.DesignLibraries.events.attachRenditionCompleted","APPLICATION");o.data=JSON.stringify({requestRef:n,elementRef:r,name:i.name,libraryName:i.library.name,modifiedTime:d.getElementModifiedTime(i),creationTime:i.created,data:[t]}),e.dispatchEvent(o)})}},h=function(e,t,n){var i,r,o,a,l=t&&t.files||[],c=0;for(c=0;c<l.length;c++)i=l[c],s.existsFile(i.path)&&(r=s.fileNameToContentType(i.path),o=n.createRepresentation(r,i.relationship),a=o.setContentFromPath(i.path),e.push(a))},m=function(e){e&&s.existsFile(e)&&s.deleteFile(e)},g=function(e){var t=0;for(t=0;t<e.length;t++)m(e[t].path)},v=function(e,t,n){if(!e)throw"No current library";if(!t||!t.files||!n)throw"event data invalid"};this.onUpdateElement=function(e){var t=a.defer(),i=e.data.fileData,s=e.data.elementType,l=e.data.elementRef;try{if(!l)throw"elementRef missing";var c=n.resolveElementReference(l);if(!c)throw"Element not found";p.revealElement(c);var u=c.library;if(!o.checkLibraryWritable(u))return;v(u,i,s),c.isDeletedLocally?c=u.createElement(c.name,c.type):(c.beginOperation(),c.removeAllRepresentations());var d=[];return h(d,i,c),a.all(d).then(function(){i.rendition&&c.setThumbnailCache(r.IMAGE_RENDITION_SIZE,i.rendition).then(function(){m(i.rendition.path)}),g(i.files),c.endOperation(),f(c.getPrimaryRepresentation(),e.data.requestRef),t.resolve(c)},function(){t.reject("Could not update element")}),t.promise}catch(_){t.reject("Could not update element: "+_)}}}];t.attach=function(e){angular.module(e).service("FLPRPushUtils",n)}}),define("applications/FLPR/js/index",["require","exports","./events","./pushUtils","angular"],function(e,t){"use strict";var n=e("angular"),i=e("./events"),r=e("./pushUtils"),o=["$injector","colorUtils","configuration","FLPREvents","fileUtils","csInterface",function(e,t,n,i,r,o){this.config={},this.config.code="FLPR",this.config.fullName="FlashPro",this.config.translationSuffix="FP",this.config.dragDropSource="com.adobe.flashpro",this.config.isDrover=!0,this.config.isReadOnly=!0,this.config.themes={444444:"dark",dbdbdb:"lighter"},this.config.elementOrder=[n.COLOR_ELEMENT_TYPE,n.COLOR_THEME_ELEMENT_TYPE,n.BRUSH_ELEMENT_TYPE,n.ANIMATION_ELEMENT_TYPE,n.IMAGE_ELEMENT_TYPE,n.VIDEO_ELEMENT_TYPE,n.CHARACTER_STYLE_ELEMENT_TYPE,n.PARAGRAPH_STYLE_ELEMENT_TYPE,n.LAYER_STYLE_ELEMENT_TYPE,n.LOOK_ELEMENT_TYPE,n.THREE_D_ELEMENT_TYPE,n.PATTERN_ELEMENT_TYPE,n.TEMPLATE_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"fl",prodId:"adbemflashpro.rebootprod2",devId:"adbemflashpro.rebootdev2"},this.startEventListener=function(){i.listen()},this.stopEventListener=function(){i.stop()},this.init=function(){r.extendUsableTypes(n.COLOR_ELEMENT_TYPE,["application/vnd.adobe.color+json"]),r.extendUsableTypes(n.COLOR_THEME_ELEMENT_TYPE,["application/vnd.adobe.colortheme+json"]),r.extendUsableTypes(n.BRUSH_ELEMENT_TYPE,["application/vnd.adobe.vector.brush+zip"]),r.extendUsableTypes(n.IMAGE_ELEMENT_TYPE,["image/svg+xml","image/png","image/jpeg","image/jpg","image/gif","image/bmp","application/photoshop","image/vnd.adobe.photoshop","application/photoshop.large","application/illustrator"]),r.extendUsableTypes(n.VIDEO_ELEMENT_TYPE,[]),r.extendUsableTypes(n.CHARACTER_STYLE_ELEMENT_TYPE,[]),r.extendUsableTypes(n.PARAGRAPH_STYLE_ELEMENT_TYPE,[]),r.extendUsableTypes(n.LAYER_STYLE_ELEMENT_TYPE,[]),r.extendUsableTypes(n.LOOK_ELEMENT_TYPE,[]),r.extendUsableTypes(n.THREE_D_ELEMENT_TYPE,[]),r.extendEditableTypes(n.ANIMATION_ELEMENT_TYPE,["application/vnd.adobe.animate-xfl+zip","application/vnd.adobe.animate-sym+zip"]),o.execApp("getTooltipState").then(function(t){e.get("configuration").showTooltips=t}),this.startEventListener()},this.reportEvent=function(e,t){o.execApp("reportEvent",[e,t]).then(function(t){var n=JSON.parse(t);n&&console.log(e+" metric reported to FL")})},this.getUserData=function(e){o.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})}}];t.attach=function(e){i.attach(e),r.attach(e),n.module(e).service("FLPR",o)}}),define("applications/IDSN/js/graphicUtils",["require","exports","module"],function(e,t){"use strict";var n=["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","adobeStockUtils",function(e,t,n,i,r,o,a,s){var l={};l[a.IMAGE_ELEMENT_TYPE]={ANALYTICS_OP_TYPE:"addImageToDocument",ANALYTICS_ELEMENT_TYPE:"image",ALLOW_PNG_FALLBACK:!0},l[a.ANIMATION_ELEMENT_TYPE]={ANALYTICS_OP_TYPE:"addAnimationToDocument",ANALYTICS_ELEMENT_TYPE:"animation",ALLOW_PNG_FALLBACK:!1},this.getApplyOperations=function(e,r,c,u,d,p){var f=n.getLayerInfo();if(!f||f.noDocState===!0)return[];var h=l[e.type],m=t.findUsableRepresentation(e);if(!m&&!h.ALLOW_PNG_FALLBACK)return[];var g=function(n,r){var l=u===d;if(l===!0){var c="addElement",p={opType:h.ANALYTICS_OP_TYPE,elementType:h.ANALYTICS_ELEMENT_TYPE,numElements:d};a.currentProduct.reportEvent(c,p)}var f=s.getStockId(e);return m?(o.reportApplyMetric(m,"placeAsset",n),m.getContentPath().then(function(o){return i.execApp("placeAsset",[o,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,f,f?s.isLicensed(e):null,n,r])})):e.getThumbnailPath().then(function(a){return o.reportApplyMetric({type:"image/png",_element:e},"placeAsset",n),i.execApp("placeAsset",[a,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,f,f?s.isLicensed(e):null,n,r])},function(e){console.log(e)})},v="application/vnd.adobe.indesign-idms",_=m&&m.type===v;if(a.IS_APP_IN_TOUCH_MODE)return[{name:"DL_ADD_IMAGE_TO_DOC_AS_LINKED",icon:"download",allowMultiple:!1,apply:function(){g(!0)},displayInMenu:!0,onClick:!0}];var y=d>1;return[{name:"DL_ADD_IMAGE_TO_DOC_AS_LINKED",icon:"download",allowMultiple:!0,apply:function(){g(!0,y)},displayInMenu:!_},{name:"DL_ADD_IMAGE_TO_DOC_AS_COPY",icon:"download",allowMultiple:!0,apply:function(){g(!1,y)},displayInMenu:!0}]}}];t.attach=function(e){angular.module(e).service("idsnGraphicUtils",n)}}),define("applications/IDSN/js/index",["require","exports","angular","./graphicUtils"],function(e,t){"use strict";var n=e("angular"),i=e("./graphicUtils"),r=["$q","$rootScope","configuration","csInterface","layerSelectionManager","colorUtils","idsnGraphicUtils","designLibraryManager","designLibraryElements","designLibraryUtils","fileUtils","$translate","mediator","designLibraryFlyoutMenu","localSettings","designLibraryViewState","adobeStockUtils",function(e,t,n,i,r,o,a,s,l,c,u,d,p,f,h,m,g){var v="application/vnd.adobe.indesign-idms";this.getScaleColor=function(e){var t=52,n=185,i=e>=51,r=i?.61:.62,a=i?n:t,s=i?e-51:e,l=s*r+a;return o.rgbToHex({red:l,green:l,blue:l})},this.cssThemeBGScale=function(){var e,t,n={},i=function(e){switch(e){case 0:return"darker";case 33:return"dark";case 66:return"light";case 100:return"lighter";default:return e.toString()}};for(e=0;100>=e;e++)t=this.getScaleColor(e).slice(1),(!n.hasOwnProperty(t)||n.hasOwnProperty(t)&&i(e)!==e.toString())&&(n[t]=i(e));return n},this.config={},this.config.code="IDSN",this.config.fullName="InDesign",this.config.translationSuffix="ID",this.config.dragDropSource="com.adobe.indesign",this.config.isDrover=!0,this.config.offsetSelectMenu=!0,this.config.themes=this.cssThemeBGScale(),this.config.rgbRound=Math.round,this.config.elementOrder=[n.COLOR_ELEMENT_TYPE,n.COLOR_THEME_ELEMENT_TYPE,n.CHARACTER_STYLE_ELEMENT_TYPE,n.PARAGRAPH_STYLE_ELEMENT_TYPE,n.IMAGE_ELEMENT_TYPE,n.TEMPLATE_ELEMENT_TYPE,n.PATTERN_ELEMENT_TYPE,n.BRUSH_ELEMENT_TYPE,n.VIDEO_ELEMENT_TYPE,n.LOOK_ELEMENT_TYPE,n.THREE_D_ELEMENT_TYPE,n.LAYER_STYLE_ELEMENT_TYPE,n.ANIMATION_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"id",prodId:"adbemindesign.rebootprod2",devId:"adbemindesign.rebootdev2"};var _=function(){m.resetMode()},y=function(){i.execApp("isAppInTouchMode").then(function(e){"true"===e?(n.CONTEXT_MENUS_ENABLED=!1,n.IS_APP_IN_TOUCH_MODE=!0):(n.CONTEXT_MENUS_ENABLED=!0,n.IS_APP_IN_TOUCH_MODE=!1)}),_()},E=function(){var e=[];s.getLibraries().forEach(function(t){t.isDeletedFromServer||e.push({name:t.name,id:t.id,writable:t.isWritable})}),e.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0});var t=-1,n=s.getCurrentLibrary();if(n){var r;for(r=0;r<e.length;++r)if(e[r].id===n.id){t=r;break}}var o={};o.names=e,o.current=t,i.execApp("setLibraryCollection",[JSON.stringify(o)])};this.init=function(){u.extendUsableTypes(n.IMAGE_ELEMENT_TYPE,["application/vnd.adobe.indesign-idms","image/png","image/jpeg","image/jpg","image/gif","image/bmp","application/photoshop","application/photoshop.large","image/vnd.adobe.photoshop","application/illustrator","application/pdf"]),u.extendUsableTypes(n.COLOR_THEME_ELEMENT_TYPE,["application/vnd.adobe.colortheme+json"]),u.extendUsableTypes(n.PARAGRAPH_STYLE_ELEMENT_TYPE,["application/vnd.adobe.paragraphstyle+json","application/vnd.adobe.paragraphstyle+snippet"]),u.extendUsableTypes(n.CHARACTER_STYLE_ELEMENT_TYPE,["application/vnd.adobe.characterstyle+json","application/vnd.adobe.characterstyle+snippet"]),u.extendUsableTypes(n.TEMPLATE_ELEMENT_TYPE,["application/vnd.adobe.indesign.template"]),u.extendUsableTypes(n.ANIMATION_ELEMENT_TYPE,["application/vnd.adobe.animate-xfl+zip","application/vnd.adobe.indesign-idms"]),u.extendEditableTypes(n.COLOR_ELEMENT_TYPE,["application/vnd.adobe.color+json"]),u.extendEditableTypes(n.IMAGE_ELEMENT_TYPE,["application/vnd.adobe.indesign-idms"]),i.execApp("setThumbnailExportOptions"),i.execApp("getTooltipState").then(function(e){n.showTooltips=e}),this.startEventListener(),s.waitForInitialLoad().then(function(){y();var e=new CSEvent("com.adobe.DesignLibraries.events.READY","APPLICATION");i.dispatchEvent(e)}),s.addListener("libraryList",function(){E()}),s.addListener("currentLibrary",function(){E()});var e=i.getGlobalRoot();VulcanInterface.isAppInstalled("indesign-10")||VulcanInterface.isAppInstalled("indesign-10.032")||VulcanInterface.isAppInstalled("indesign-10.064")||u.removeRecursive(e+"IDSN")};var b,L=function(e){b=void 0,e instanceof Object&&e.hasOwnProperty("exportContext")?b=e.exportContext:e instanceof String&&(b=e)},S=function(){b=void 0},A=function(){return void 0!==b?b:""};this.reportEvent=function(e,t){console.log("Metric reported to ID"),t.event=e,"createElement"===e&&(t.creationContext=A());var n=new CSEvent("com.adobe.DesignLibraries.events.LOGPIP","APPLICATION");n.data=JSON.stringify(t),i.dispatchEvent(n),delete t.event,"createElement"===e&&delete t.creationContext},this.getUserData=function(e){i.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})},this.setFocusToCanvas=function(){};var T=function(){r.handleSelectionChange()},C=function(){i.execApp("getTooltipState").then(function(e){n.showTooltips=e})},I=function(){p.emit("fontListChanged")},D=function(){p.emit("fontListChanged")},w=function(){_()},O=function(e){var t=e.data;if(""!==t&&void 0!==t){var n=s.getLibraryById(t);n&&s.setCurrentLibrary(n)}},R=function(t){var i=t.data,r=i.idmsPath,o=i.pdfPath,a=i.pngPath;if(u.existsFile(r)&&u.existsFile(o)){var p;if(i.hasOwnProperty("libraryId")?""!==i.libraryId&&(p=s.getLibraryById(i.libraryId),p&&s.setCurrentLibrary(p)):p=s.getCurrentLibrary(),!p){var f=i.libraryName;f||(f=d.instant("DL_DEFAULT_LIBRARY_NAME"));var h=s.createLibrary(f);if(!h)return;s.setCurrentLibrary(h),p=s.getCurrentLibrary()}if(c.checkLibraryWritable(p)){var m=p.createElement(i.assetName,n.IMAGE_ELEMENT_TYPE),g=[],v=u.fileNameToContentType(r),_=m.createRepresentation(v,"primary");g.push(_.setContentFromPath(r)),v=u.fileNameToContentType(o);var y=m.createRepresentation(v,"rendition");if(g.push(y.setContentFromPath(o)),a&&u.existsFile(a)){var E=l.setRendition(m,n.IMAGE_RENDITION_SIZE,a);g.push(E)}e.all(g).then(function(){m.endOperation()},function(){p.removeElement(m,!0)})}}},x=function(e){t.$apply(function(){f.invokeCreateLibrary()})},N=function(e,t){var n;if(e&&(n=s.getLibraryById(e)),n||t||(n=s.getCurrentLibrary()),!n){var i=d.instant("DL_DEFAULT_LIBRARY_NAME");n=s.createLibrary(i)}return n&&c.checkLibraryWritable(n)?(s.setCurrentLibrary(n),n=s.getCurrentLibrary()):void 0},P="data",k="colortheme",M="application/vnd.adobe.colortheme+json",U=function(t){var r=N();if(r){var o=t.data,a={},s=o.themeName;o.hasOwnProperty("rule")&&(a.rule=o.rule,a.baseSwatchIndex=o.baseColorIndex),o.hasOwnProperty("mood")&&(a.mood=o.mood),a.swatches=[];var l=[],c=o.assetList;c.forEach(function(e,t){l.push(i.execApp("getColorDataFromJSON",[JSON.stringify(e)]).then(function(e){var t=JSON.parse(e);a.swatches.push(t)}))}),e.all(l).then(function(){L(o);var e=r.createElement(s,n.COLOR_THEME_ELEMENT_TYPE),t=e.createRepresentation(M,"primary");t.setValue(k,P,a),S(),e.endOperation()})}},$=function(t){var r;t.data.hasOwnProperty("libraryID")&&(r=t.data.libraryID);var o=!1;t.data.hasOwnProperty("createNewLibrary")&&(o=t.data.createNewLibrary);var a=N(r,o);if(a){var s=[],l=[],c=t.data.colorList;c.forEach(function(e,t){l.push(i.execApp("getColorDataFromJSON",[JSON.stringify(e)]).then(function(t){s.push({name:e.colorName,data:JSON.parse(t)})}))}),e.all(l).then(function(){var e,i=function(e){var t=a.createElement(e.name,n.COLOR_ELEMENT_TYPE);e.data.forEach(function(e,i){var r=0===i?"primary":"rendition",o=t.createRepresentation(n.COLOR_REPRESENTATION_TYPE,r);o.setValue(n.COLOR_NAMESPACE,n.COLOR_DATA_KEY,e)}),t.endOperation()};for(L(t.data),e=0;e<s.length;++e)i(s[e]);S()})}},F="data",Y="characterstyle",V="application/vnd.adobe.characterstyle+json",B="application/vnd.adobe.characterstyle+snippet",j="data",H="paragraphstyle",q="application/vnd.adobe.paragraphstyle+json",W="application/vnd.adobe.paragraphstyle+snippet",G=104,z=function(t,r){var o;t.data.hasOwnProperty("libraryID")&&(o=t.data.libraryID);var a=!1;t.data.hasOwnProperty("createNewLibrary")&&(a=t.data.createNewLibrary);var s=N(o,a);if(s){var l,c,d,p,f;r?(l=F,c=Y,d=n.CHARACTER_STYLE_ELEMENT_TYPE,p=V,f=B):(l=j,c=H,d=n.PARAGRAPH_STYLE_ELEMENT_TYPE,p=q,f=W);var h;h=t.data.documentID?t.data.documentID:-1;var m=t.data.styleUIDList;m.forEach(function(n,o){var a=r?"getCharStyleInfoByID":"getParaStyleInfoByID";i.execApp(a,[h,n]).then(function(n){var i=JSON.parse(n);L(t.data);var r=s.createElement(i.styleName,d);S();var o=[],a=r.createRepresentation(f,"primary"),h=a.setContentFromPath(i.idmsPath).then(function(){u.deleteFile(i.idmsPath)});o.push(h);var m=r.createRepresentation(p,"rendition");if(m.setValue(c,l,i.styleInfo),i.previewPath){var g=r.createRepresentation("image/png","rendition");h=g.setContentFromPath(i.previewPath),o.push(h)}e.all(o).then(function(){i.previewPath&&r.setThumbnailCache(G,i.previewPath,function(){u.deleteFile(i.previewPath)}),r.endOperation()})})})}},X=function(e){z(e,!1)},K=function(e){z(e,!0)},J=function(e){e.data&&O(e),y()},Z=function(e){if(e.data&&void 0!==e.data.elementRef){var t=s.resolveElementReference(e.data.elementRef),r=g.getStockId(t),o=l.findRepresentation(t,u.getUsableTypes(n.IMAGE_ELEMENT_TYPE));return o?o.getContentPath().then(function(e){return i.execApp("placeAsset",[e,t.library.name,t.name,t.getReference(),l.getElementModifiedTime(t),t.created,r,r?g.isLicensed(t):null,!0,!1,!0])}):t.getThumbnailPath().then(function(e){return i.execApp("placeAsset",[e,t.library.name,t.name,t.getReference(),l.getElementModifiedTime(t),t.created,r,r?g.isLicensed(t):null,!0,!1])},function(e){console.log(e)})}},Q=function(e){if(e.data&&void 0!==e.data.elementRef){var t=s.resolveElementReference(e.data.elementRef),r=l.findRepresentation(t,u.getUsableTypes(n.IMAGE_ELEMENT_TYPE));if(r)return r.getContentPath().then(function(e){return i.execApp("openDocumentFromTemplate",[e])})}},ee=function(e){var t=function(t){var n={},r=new CSEvent("com.adobe.DesignLibraries.events.SnippetCreated","APPLICATION");t?n.idmsPath=t:n.idmsPath="",e.data.elementRef&&(n.elementRef=e.data.elementRef),r.data=JSON.stringify(n),i.dispatchEvent(r)};if(e.data&&void 0!==e.data.elementRef){var r=s.resolveElementReference(e.data.elementRef);if(r.type===n.TEXT_ELEMENT_TYPE){var o=l.findRepresentation(r,u.getUsableTypes(n.TEXT_ELEMENT_TYPE));if(o){var a;o.type===n.TEXT_REPRESENTATION_JSON_TYPE?(a=o.getValue(n.TEXT_NAMESPACE,n.TEXT_DATA_KEY),a.id=r.id+";"+r.modified,a.type="text",i.execApp("getSnippetForText",[a,!e.data.stripStyles]).then(function(e){t(e)},function(){t()})):o.type===v&&o.getContentPath().then(function(e){t(e)})}}}else t()};this.startEventListener=function(){i.addEventListener("afterSelectionChanged",T),i.addEventListener("afterSelectionAttributeChanged",T),i.addEventListener("colorChanged",T),i.addEventListener("colorTransformChanged",T),i.addEventListener("uiPreferencesChanged",C),i.addEventListener("fontListChanged",I),i.addEventListener("documentAfterActivate",D),i.addEventListener("newAssetToMigrate",R),i.addEventListener("createNewCloudLibrary",x),i.addEventListener("createNewColorTheme",U),i.addEventListener("createNewColors",$),i.addEventListener("createNewParaStyles",X),i.addEventListener("createNewCharStyles",K),i.addEventListener("documentAfterDeactivate",w),i.addEventListener("afterWorkspaceChanged",J),i.addEventListener("openStock",Z),i.addEventListener("openStockTemplate",Q),i.addEventListener("createSnippetForElement",ee)},this.stopEventListener=function(){i.removeEventListener("afterSelectionChanged",T),i.removeEventListener("afterSelectionAttributeChanged",T),i.removeEventListener("colorChanged",T),i.removeEventListener("colorTransformChanged",T),i.removeEventListener("uiPreferencesChanged",C),i.removeEventListener("fontListChanged",I),i.removeEventListener("documentAfterActivate",D),i.removeEventListener("newAssetToMigrate",R),i.removeEventListener("createNewCloudLibrary",x),i.removeEventListener("createNewColorTheme",U),i.removeEventListener("createNewColors",$),i.removeEventListener("createNewParaStyles",X),i.removeEventListener("createNewCharStyles",K),i.removeEventListener("documentAfterDeactivate",w),i.removeEventListener("afterWorkspaceChanged",J),i.removeEventListener("openStock",Z),i.removeEventListener("openStockTemplate",Q),i.removeEventListener("createSnippetForElement",ee)},this.dropHandler=function(e){return console.log("InDesign app is handling",e),(e.keys.metaKey===!0||e.keys.ctrlKey===!0)&&"text"===e.data.assetList[0].type&&(e.data.assetList[0].type="image"),!1},this.customDropMessage=function(e){if("text"===e.data.assetList[0].type){var t;t=i.isWindowsOS()?e.keys.ctrlKey===!0:e.keys.metaKey===!0,t&&(e.data.assetList[0].type="image")}},this.allowCmdDrag=!0}];t.attach=function(e){n.module(e).service("IDSN",r),i.attach(e)}}),define("applications/ILST/js/events",["require","exports","module"],function(e,t){"use strict";var n=["csInterface","mediator","layerSelectionManager","designLibraryManager","ILSTColorUtils","ILSTPushUtils","ILSTTextUtils","ILSTUtils","adobeStockUtils","designLibraryElements","fileUtils","configuration",function(e,t,n,i,r,o,a,s,l,c,u,d){var p="application/illustrator";this.setFocusToCanvas=function(){};var f=function(e){t.emit("fontListChanged")},h=function(){n.handleSelectionChange()};this.alertSpotMismatch=function(){var t=new CSEvent("ILST.SpotMismtached","APPLICATION");e.dispatchEvent(t)},this.updateLibrariesInfo=function(){var t=[];i.getLibraries().forEach(function(e){e.isDeletedFromServer||t.push({name:e.name,id:e.id,writable:e.isWritable})}),t.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0});var n=-1,r=i.getCurrentLibrary();if(r){var o;for(o=0;o<t.length;++o)if(t[o].id===r.id){n=o;break}}var a=new CSEvent("ILST.libraryListUpdated","APPLICATION");a.data={names:t,current:n},e.dispatchEvent(a)};var m=function(e){i.sync(!1,!1)},g=function(e){s.getLibraryFromEventData(e.data)},v=function(t){if(t.data&&void 0!==t.data.elementRef){var n=i.resolveElementReference(t.data.elementRef),r=l.getStockId(n),o=c.findRepresentation(n,u.getUsableTypes(d.IMAGE_ELEMENT_TYPE));return o?o.getContentPath().then(function(t){return e.execApp("placeAsset",[t,n.library.name,n.name,n.getReference(),c.getElementModifiedTime(n),n.created,r,r?l.isLicensed(n):null,!0,!0])}):n.getThumbnailPath().then(function(t){return e.execApp("placeAsset",[t,n.library.name,n.name,n.getReference(),c.getElementModifiedTime(n),n.created,r,r?l.isLicensed(n):null,!0,!0])},function(e){console.log(e)})}},_=function(t){if(t.data&&void 0!==t.data.elementRef){var n=i.resolveElementReference(t.data.elementRef),r=c.findRepresentation(n,u.getUsableTypes(d.TEMPLATE_ELEMENT_TYPE));if(r)return r.getContentPath().then(function(t){return e.execApp("openDocumentFromTemplate",[t])})}},y=function(t){var n=function(t,n,i){var r=new CSEvent("ILST.textFileCreated","APPLICATION"),o={};t&&(o.stripStyle=n,o.path=t,o.usingContextMenu=!1,o.placeInline=!1,o.contextData=i),r.data=JSON.stringify(o),e.dispatchEvent(r)};if(t.data&&void 0!==t.data.elementRef){var r=i.resolveElementReference(t.data.elementRef);if(r.type===d.TEXT_ELEMENT_TYPE){var o=c.findRepresentation(r,u.getUsableTypes(d.TEXT_ELEMENT_TYPE));if(o){var a;o.type===d.TEXT_REPRESENTATION_JSON_TYPE?(a=o.getValue(d.TEXT_NAMESPACE,d.TEXT_DATA_KEY),a.id=r.id+";"+r.modified,a.type="text",e.execApp("getAiFileForText",[a]).then(function(e){n(e,t.data.stripStyle,t.data.contextData)},function(){n()})):o.type===p&&o.getContentPath().then(function(e){n(e,t.data.stripStyle,t.data.contextData)})}}}else n()};this.listen=function(){e.addEventListener("artSelectionChanged",h),e.addEventListener("fontListChanged",f),e.addEventListener("ILST.addElementToLibrary",o.onAddElementToLibrary),e.addEventListener("ILST.updateElement",o.onUpdateElement),e.addEventListener("ILST.forceSyncLibrary",m),e.addEventListener("ILST.pushColorsToLibrary",r.pushColorsToLibrary),e.addEventListener("ILST.pushCharStyleToLibrary",a.addTextStyle),e.addEventListener("ILST.pushParaStyleToLibrary",a.addParaStyle),e.addEventListener("ILST.addSelectionToLibrary",o.onAddSelectionToLibrary),e.addEventListener("ILST.workspaceChanged",g),e.addEventListener("ILST.openStock",v),e.addEventListener("ILST.openStockTemplate",_),e.addEventListener("ILST.getTextAsAiFile",y)},this.stop=function(){e.removeEventListener("artSelectionChanged",h),e.removeEventListener("fontListChanged",f),e.removeEventListener("ILST.addElementToLibrary",o.onAddElementToLibrary),e.removeEventListener("ILST.updateElement",o.onUpdateElement),e.removeEventListener("ILST.forceSyncLibrary",m),e.removeEventListener("ILST.pushColorsToLibrary",r.pushColorsToLibrary),e.removeEventListener("ILST.pushCharStyleToLibrary",a.addTextStyle),e.removeEventListener("ILST.pushParaStyleToLibrary",a.addParaStyle),e.removeEventListener("ILST.addSelectionToLibrary",o.onAddSelectionToLibrary),e.removeEventListener("ILST.workspaceChanged",g),e.removeEventListener("ILST.openStock",v),e.removeEventListener("ILST.openStockTemplate",_),e.removeEventListener("ILST.getTextAsAiFile",y)}}];t.attach=function(e){angular.module(e).service("ILSTEvents",n)}}),define("applications/ILST/js/pushUtils",["require","exports","module"],function(e,t){
"use strict";var n=["csInterface","$window","ccLibraries","designLibraryManager","configuration","designLibraryUtils","$q","fileUtils","designLibraryCEPEventEmitters","linkUtils","designLibraryStatus","designLibraryElements","designLibraryElementUtils",function(e,t,n,i,r,o,a,s,l,c,u,d,p){var f=function(t,n){if(t){var i=t.element,r=i.getReference();t.getContentPath().then(function(t){var o=new CSEvent("com.adobe.DesignLibraries.events.ElementUpdated","APPLICATION");o.data=JSON.stringify({requestRef:n,elementRef:r,name:i.name,libraryName:i.library.name,modifiedTime:d.getElementModifiedTime(i),creationTime:i.created,data:[t]}),e.dispatchEvent(o)})}},h=function(e,t,n){var i,r,o,a,l=t&&t.files||[],c=0;for(c=0;c<l.length;c++)i=l[c],r=s.fileNameToContentType(i.path),o=n.createRepresentation(r,i.relationship),a=o.setContentFromPath(i.path),e.push(a)},m=function(t){var n=new CSEvent("ILST.InitialCommunicationError","APPLICATION"),i=u.getStatus();n.data={elementIdentifier:t,status:"error",error:i&&i.errorType||"kError"},e.dispatchEvent(n)},g=function(n,r,o,a){var s=!1,l=!1,d=function(i){var r=new CSEvent("ILST.elementUploaded","APPLICATION"),o=i||{errorType:"kNoErr",state:"ok"},a=t.navigator.onLine;a||(o.state="error",o.errorType="kNoInternet"),r.data={elementRef:n.getReference(),status:o.state,error:o.errorType||"kNoErr"},e.dispatchEvent(r)},p=function(){var e=u.getStatus();l||"ok"!==e.state&&"error"!==e.state||(d(e),l=!0,r&&"ok"===e.state&&!s&&("kAIChart"===a?c.openElementURL(n,"charts",o):"kAIArt"===a&&c.openElementURL(n,"details",o),s=!0),i.removeListener("libraryStatus",p))};i.syncingEnabled()?i.addListener("libraryStatus",p):d(u.getStatus())},v=function(e){e&&s.existsFile(e)&&s.deleteFile(e)},_=function(e){var t=0;for(t=0;t<e.length;t++)v(e[t].path)},y=function(e,t,n){if(!e)throw"No current library";if(!t||!t.files||!n)throw"event data invalid"};this.onAddElementToLibrary=function(e){var t=a.defer(),n=e.data.fileData,s=e.data.elementType,c=null,u=i.getCurrentLibrary(),d=e.data.additionalQueryParameters,f=e.data.openBrowserAfterOperation;if(o.checkLibraryWritable(u))try{if(y(u,n,s),null===n.layerIds||null===n.documentId)throw"layer Ids Or documentId cannot be null";if("kAIArt"!==s&&"kAIChart"!==s)throw"Element not supported yet";c=r.IMAGE_ELEMENT_TYPE,"kAIChart"===s?n.layerName=o.getCuratedName(u,n.layerName,"DL_CHART_LABEL"):n.layerName=o.getCuratedName(u,n.layerName);var E=u.createElement(n.layerName,c),b=[];return h(b,n,E),a.all(b).then(function(){n.rendition&&E.setThumbnailCache(r.IMAGE_RENDITION_SIZE,n.rendition).then(function(){_(n.files),v(n.rendition.path)}),E.endOperation(),p.revealElement(E);var e={documentId:n.documentId,layerIds:n.layerIds};l.sendElementCreated(E,e).then(function(){g(E,f,d,s),t.resolve(E)})},function(){t.reject("Could not add element")}),t.promise}catch(L){m(n.layerIds&&n.layerIds[0]||null),t.reject("Could not add element: "+L)}},this.onUpdateElement=function(e){var t=a.defer(),i=e.data.fileData,s=e.data.elementType,l=e.data.elementRef,c=e.data.additionalQueryParameters,u=e.data.openBrowserAfterOperation;try{if(!l)throw"elementRef missing";var d=n.resolveElementReference(l);if(!d)throw"Element not found";p.revealElement(d);var E=d.library;if(!o.checkLibraryWritable(E))return;y(E,i,s),d.isDeletedLocally?d=E.createElement(d.name,d.type):(d.beginOperation(),d.removeAllRepresentations());var b=[];return h(b,i,d),a.all(b).then(function(){i.rendition&&d.setThumbnailCache(r.IMAGE_RENDITION_SIZE,i.rendition).then(function(){_(i.files),v(i.rendition.path)}),d.endOperation(),f(d.getPrimaryRepresentation(),e.data.requestRef),g(d,u,c,s),t.resolve(d)},function(){t.reject("Could not update element")}),t.promise}catch(L){m(e.data.requestRef),t.reject("Could not update element: "+L)}};var E=function(e,t){var n=a.defer();return o.generatePreview(!0,t).then(function(i){var r={documentId:i.documentId,layerIds:i.layerIds,dragAssetId:t};n.resolve(p.addGraphicElement(i.layerName,i.files,i.rendition,e,r))},function(){n.reject("Could not extract asset.")}),n.promise};this.onAddSelectionToLibrary=function(e){return E(i.getCurrentLibrary(),void 0,void 0)}}];t.attach=function(e){angular.module(e).service("ILSTPushUtils",n)}}),define("applications/ILST/js/colorUtils",["require","exports","module"],function(e,t){"use strict";var n=["csInterface","$q","designLibraryManager","configuration","ILSTUtils","designLibraryElementUtils","designLibraryUtils",function(e,t,n,i,r,o,a){var s=function(n){var s=t.defer(),l=r.getLibraryFromEventData(n.data);if(l||s.defer("Library Error"),a.checkLibraryWritable(l)){var c=function(e){var t=e.name;t||(e.data&&e.data[0]&&e.data[0].type&&"spot"===e.data[0].type&&(t=e.data[0].spotColorName),t=t||"");var n=l.createElement(t,i.COLOR_ELEMENT_TYPE);return e.data.forEach(function(e,t){var r=0===t?"primary":"rendition",o=n.createRepresentation(i.COLOR_REPRESENTATION_TYPE,r);o.setValue(i.COLOR_NAMESPACE,i.COLOR_DATA_KEY,e)}),n.endOperation(),n};return e.execApp("getSelectedSwatchList").then(function(e){e||s.reject("err");var t;try{e=JSON.parse(e),e.forEach(function(e,n){e.data&&(t=c(e))})}catch(n){s.reject("err")}t&&o.revealElement(t),s.resolve()},function(){s.reject("err")}),s.promise}},l="data",c="colortheme",u="application/vnd.adobe.colortheme+json",d=function(n){var s=t.defer(),d=r.getLibraryFromEventData(n.data);if(d&&a.checkLibraryWritable(d)){var p=function(e){var t,n=e.mood,r=0;if(n||(n=""),e.swatches&&e.swatches.length<=5&&e.swatches.length>0){var o=e.swatches[e.swatches.length-1]||[];for(r=e.swatches.length;5>r;r++)e.swatches.push(o);t=d.createElement(n,i.COLOR_THEME_ELEMENT_TYPE);var a=t.createRepresentation(u,"primary");a.setValue(c,l,e),t.endOperation()}return t};return e.execApp("getSelectedSwatchGroupList").then(function(e){e||s.reject("err");var t;e=JSON.parse(e),e.length>0&&(e.forEach(function(e,n){t=p(e)}),t&&o.revealElement(t)),s.resolve()},function(){s.reject("err")}),s.promise}};this.pushColorsToLibrary=function(e){var n=e.data,i=t.defer(),r=[];return n&&(n.uploadSwatch&&r.push(s(e)),n.uploadSwatchGroup&&r.push(d(e))),t.all(r).then(function(){i.resolve()},function(){i.reject()}),i.promise}}];t.attach=function(e){angular.module(e).service("ILSTColorUtils",n)}}),define("applications/ILST/js/utils",["require","exports","module"],function(e,t){"use strict";var n=["$translate","designLibraryManager","configuration",function(e,t,n){this.PIPGlobals={},this.PIPGlobals.DLtoAI="DL_To_Ai",this.PIPGlobals.CharacterStyle="Character_Style",this.PIPGlobals.ParagraphStyle="Paragraph_Style",this.PIPGlobals.Color="Color",this.PIPGlobals.SwatchGroups="Swatch_Groups",this.PIPGlobals.Added="Added",this.PIPGlobals.Applied="Applied",this.getDefaultLibrary=function(){var n=t.getCurrentLibrary();if(!n){var i=e.instant("DL_DEFAULT_LIBRARY_NAME"),r=t.createLibrary(i);if(!r)throw"Could not create new library";t.setCurrentLibrary(r),n=t.getCurrentLibrary()}return n},this.acquireLibrary=function(n,i){var r;if(n&&(r=t.getLibraryById(n)),r||i||(r=t.getCurrentLibrary()),!r){var o=e.instant("DL_DEFAULT_LIBRARY_NAME");r=t.createLibrary(o)}return r&&(t.setCurrentLibrary(r),r=t.getCurrentLibrary()),r},this.getLibraryFromEventData=function(e){var t;e.hasOwnProperty("libraryID")&&(t=e.libraryID);var n=!1;return e.hasOwnProperty("createNewLibrary")&&(n=JSON.parse(e.createNewLibrary)),this.acquireLibrary(t,n)},this.logPIPEvent=function(e,t,i){if(angular.isFunction(n.currentProduct.reportEvent)){var r={category:e,subcategory:t,eventname:i};n.currentProduct.reportEvent("event",r)}}}];t.attach=function(e){angular.module(e).service("ILSTUtils",n)}}),define("applications/ILST/js/textUtils",["require","exports","module"],function(e,t){"use strict";var n=["csInterface","$q","designLibraryManager","configuration","ILSTUtils","fileUtils","designLibraryElementUtils","designLibraryUtils",function(e,t,n,i,r,o,a,s){var l=function(n,l){var c=r.getLibraryFromEventData(n.data);if(c&&s.checkLibraryWritable(c)){var u,d,p,f;l?(u="data",d="characterstyle",p=i.CHARACTER_STYLE_ELEMENT_TYPE,f="application/vnd.adobe.characterstyle+json"):(u="data",d="paragraphstyle",p=i.PARAGRAPH_STYLE_ELEMENT_TYPE,f="application/vnd.adobe.paragraphstyle+json");var h=n.data.styleNames,m=l?"addCharStyleById":"addParaStyleById";h.forEach(function(n,r){e.execApp(m,[n]).then(function(e){var n,r,s=JSON.parse(e),l=c.createElement(s.styleName,p),h=[];if(n=l.createRepresentation(f,"primary"),n.setValue(d,u,s.styleInfo),s.previewPath){var m=l.createRepresentation("image/png","rendition");r=m.setContentFromPath(s.previewPath),h.push(r)}t.all(h).then(function(){s.previewPath&&l.setThumbnailCache(i.CHARACTER_STYLE_RENDITION_SIZE,s.previewPath,function(){o.deleteFile(s.previewPath)}),l.endOperation(),a.revealElement(l)})})})}};this.addTextStyle=function(e){l(e,!0)},this.addParaStyle=function(e){l(e,!1)}}];t.attach=function(e){angular.module(e).service("ILSTTextUtils",n)}}),define("applications/ILST/js/index",["require","exports","angular","./events","./pushUtils","./colorUtils","./utils","./textUtils"],function(e,t){"use strict";var n=e("angular"),i=e("./events"),r=e("./pushUtils"),o=e("./colorUtils"),a=e("./utils"),s=e("./textUtils"),l=["configuration","csInterface","ILSTEvents","colorUtils","localSettings","fileUtils","designLibraryManager",function(e,t,n,i,r,o,a){this.config={},this.config.code="ILST",this.config.fullName="Illustrator",this.config.translationSuffix="AI",this.config.dragDropSource="com.adobe.illustrator",this.config.isDrover=!0,this.config.offsetSelectMenu=!0,this.config.themes={323232:"darker",535353:"dark",b8b8b8:"light",f0f0f0:"lighter"},this.config.defaultTheme="dark",this.config.elementOrder=[e.COLOR_ELEMENT_TYPE,e.COLOR_THEME_ELEMENT_TYPE,e.CHARACTER_STYLE_ELEMENT_TYPE,e.PARAGRAPH_STYLE_ELEMENT_TYPE,e.IMAGE_ELEMENT_TYPE,e.BRUSH_ELEMENT_TYPE,e.TEMPLATE_ELEMENT_TYPE,e.PATTERN_ELEMENT_TYPE,e.VIDEO_ELEMENT_TYPE,e.LOOK_ELEMENT_TYPE,e.THREE_D_ELEMENT_TYPE,e.LAYER_STYLE_ELEMENT_TYPE,e.ANIMATION_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"ai",prodId:"adbemillustrator.rebootprod2",devId:"adbemillustrator.rebootdev2"},this.startEventListener=function(){n.listen()},this.stopEventListener=function(){n.stop()},this.init=function(){o.extendUsableTypes(e.IMAGE_ELEMENT_TYPE,["image/png","image/jpeg","image/jpg","image/svg+xml","application/photoshop","application/photoshop.large","image/vnd.adobe.photoshop","application/illustrator","application/pdf"]),o.extendUsableTypes(e.COLOR_THEME_ELEMENT_TYPE,["application/vnd.adobe.colortheme+json"]),o.extendUsableTypes(e.BRUSH_ELEMENT_TYPE,["application/vnd.adobe.vector.brush+zip"]),o.extendUsableTypes(e.CHARACTER_STYLE_ELEMENT_TYPE,["application/vnd.adobe.characterstyle+json"]),o.extendUsableTypes(e.PARAGRAPH_STYLE_ELEMENT_TYPE,["application/vnd.adobe.paragraphstyle+json"]),o.extendUsableTypes(e.TEMPLATE_ELEMENT_TYPE,["application/illustrator.template"]),o.extendEditableTypes(e.COLOR_ELEMENT_TYPE,["application/vnd.adobe.color+json"]),o.extendEditableTypes(e.IMAGE_ELEMENT_TYPE,["image/svg+xml","application/illustrator"]),t.execApp("setThumbnailExportOptions"),t.execApp("getTooltipState").then(function(t){e.showTooltips=t}),this.startEventListener();var i=t.getGlobalRoot();VulcanInterface.isAppInstalled("illustrator-18")||VulcanInterface.isAppInstalled("illustrator-18.032")||VulcanInterface.isAppInstalled("illustrator-18.064")||o.removeRecursive(i+"ILST"),a.waitForInitialLoad().then(function(){var e=new CSEvent("com.adobe.DesignLibraries.events.READY","APPLICATION");t.dispatchEvent(e)}),a.addListener("libraryList",function(){n.updateLibrariesInfo()}),a.addListener("currentLibrary",function(){n.updateLibrariesInfo()})},this.reportEvent=function(e,n){console.log("Metric reported to AI"),n.event=e;var i=new CSEvent("com.adobe.illustrator.LOGPIP","APPLICATION");i.data=JSON.stringify(n),t.dispatchEvent(i),delete n.event},this.getUserData=function(e){t.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})},this.dropHandler=function(e){return console.log("Illustrator app is handling",e),(e.keys.metaKey===!0||e.keys.ctrlKey===!0)&&"text"===e.data.assetList[0].type&&(e.data.assetList[0].type="image"),!1},this.customDropMessage=function(e){if("text"===e.data.assetList[0].type){var n;n=t.isWindowsOS()?e.keys.ctrlKey===!0:e.keys.metaKey===!0,n&&(e.data.assetList[0].type="image")}},this.allowCmdDrag=!0}];t.attach=function(e){i.attach(e),r.attach(e),o.attach(e),s.attach(e),a.attach(e),n.module(e).service("ILST",l)}}),define("applications/MUSE/js/index",["require","exports","angular"],function(e,t){"use strict";var n=e("angular"),i=["$injector","colorUtils","configuration","fileUtils","csInterface","layerSelectionManager","designLibraryManager","designLibrarySelection","designLibraryElements","versionManager","$timeout",function(e,t,n,i,r,o,a,s,l,c,u){this.config={},this.config.code="MUSE",this.config.fullName="Muse",this.config.translationSuffix="MU",this.config.dragDropSource="com.adobe.muse",this.config.isDrover=!0,this.config.useMouseEventToDetectDrop=!0,this.config.themes={343434:"darker",484848:"dark",c2c2c2:"light",d6d6d6:"lighter"},this.config.defaultTheme="dark",this.config.elementOrder=[n.COLOR_ELEMENT_TYPE,n.COLOR_THEME_ELEMENT_TYPE,n.IMAGE_ELEMENT_TYPE,n.CHARACTER_STYLE_ELEMENT_TYPE,n.PARAGRAPH_STYLE_ELEMENT_TYPE,n.LAYER_STYLE_ELEMENT_TYPE,n.BRUSH_ELEMENT_TYPE,n.VIDEO_ELEMENT_TYPE,n.LOOK_ELEMENT_TYPE,n.THREE_D_ELEMENT_TYPE,n.PATTERN_ELEMENT_TYPE,n.TEMPLATE_ELEMENT_TYPE,n.ANIMATION_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"mu",prodId:"adbemmuse.rebootprod2",devId:"adbemmuse.rebootdev2"},this.init=function(){i.extendUsableTypes(n.IMAGE_ELEMENT_TYPE,["application/vnd.adobe.muse-collection","image/svg+xml","application/illustrator","image/png","image/jpeg","image/jpg","image/gif"]),i.extendUsableTypes(n.ANIMATION_ELEMENT_TYPE,["application/vnd.adobe.animate-xfl+zip"]),i.extendUsableTypes(n.COLOR_THEME_ELEMENT_TYPE,["application/vnd.adobe.colortheme+json"]),i.extendUsableTypes(n.PARAGRAPH_STYLE_ELEMENT_TYPE,[]),i.extendUsableTypes(n.CHARACTER_STYLE_ELEMENT_TYPE,[]),i.extendEditableTypes(n.COLOR_ELEMENT_TYPE,["application/vnd.adobe.color+json"]),r.execApp("getTooltipState").then(function(e){n.showTooltips=e}),this.startEventListener(),a.waitForInitialLoad().then(function(){var e=new CSEvent("com.adobe.DesignLibraries.events.READY","APPLICATION");r.dispatchEvent(e)})},this.reportEvent=function(e,t){console.log("Metric reported to Mu"),t.event=e;var n=new CSEvent("com.adobe.muse.LOGPIP","APPLICATION");n.data=JSON.stringify(t),r.dispatchEvent(n),delete t.event},this.getUserData=function(e){r.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})},this.setFocusToCanvas=function(){};var d=function(){o.handleSelectionChange()};this.startEventListener=function(){r.addEventListener("afterSelectionChanged",d)},this.stopEventListener=function(){r.removeEventListener("afterSelectionChanged",d)};var p=function(e){if(l.isDraggable(e))return!0;var t=e.getPrimaryRepresentation();return!t||"image/vnd.adobe.photoshop"!==t.type&&"application/vnd.adobe.indesign-idms"!==t.type?!1:!0};this.onDragStartHandler=function(e,t,o){var a,d=s.getSelection(),f=e.originalEvent,h=f.clientX,m=f.clientY,g=f.timeStamp,v=function(t,i){u(function(){r.execApp("startDragHandler",[t,i,h,m,g])},o?500:0);var a={source:n.DRAGDROP_SOURCE,version:c.getPluginVersion(),assetList:i};e.originalEvent&&e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.setData("Text",JSON.stringify(a))};if(o)return void v("image",t);var _=[];d.forEach(function(e){if(void 0===a||a===e.type)if(void 0===a&&(a=e.type),n.COLOR_ELEMENT_TYPE===a){var t,r,o,s=i.getUsableTypes(n.COLOR_ELEMENT_TYPE);for(t=0;t<e.representations.length;t++)r=e.representations[t],l.isRepresentationCompatible(r,s)&&(o=r.getValue(n.COLOR_NAMESPACE,n.COLOR_DATA_KEY),"RGB"===o.mode&&_.push(o))}else if(p(e)){var c=l.getDragData(e);_.push({path:c.data[0],displayName:e.displayName,elementRef:e.getReference()})}}),n.COLOR_ELEMENT_TYPE===a?v("color",_):n.IMAGE_ELEMENT_TYPE===a?v("image",_):n.ANIMATION_ELEMENT_TYPE===a&&v("animation",_)},this.log=function(e){r.execApp("museLog",[e])}}];t.attach=function(e){n.module(e).service("MUSE",i)}}),define("applications/PHXS/js/colorUtils",["require","exports","module"],function(e,t){"use strict";var n=["$q","descriptor","configuration","designLibraryElementUtils","designLibraryManager","designLibraryUtils",function(e,t,n,i,r,o){function a(e){var n={type:"process"},i=t.detype(e);switch(i){case"CMYKColorClass":n.mode="CMYK",n.value={c:e.cyan,m:e.magenta,y:e.yellowColor,k:e.black};break;case"RGBColor":n.mode="RGB",n.value={r:e.red,g:e.grain,b:e.blue};break;case"HSBColorClass":n.mode="HSB",n.value={h:e.hue._value,s:e.saturation,b:e.brightness};break;case"labColor":n.mode="Lab",n.value={l:e.luminance,a:e.a,b:e.b};break;case"grayscale":n.mode="Gray",n.value=e.gray;break;default:n.mode=i,n.value=e}return n}this.addPSColor=function(t,s,l,c){t=t||"";var u=e.defer();try{var d=r.getDefaultLibrary();if(!d)throw"No library";if(!o.checkLibraryWritable(d))return;var p="application/vnd.adobe.color+json",f=o.createElementExtraMetrics(d,t,n.COLOR_ELEMENT_TYPE,{opType:c});s&&f.createRepresentation(p,"primary").setValue("color","data",a(s)),l&&f.createRepresentation(p,"rendition").setValue("color","data",a(l)),f.endOperation(),i.revealElement(f),u.resolve(f)}catch(h){u.reject("Could not add color: "+h)}return u.promise}}];t.attach=function(e){angular.module(e).service("phxsColorUtils",n)}}),define("applications/PHXS/js/descriptor",["require","exports","module"],function(e,t){"use strict";var n=["$q","$translate","fileUtils","csInterface","mediator","configuration","designLibraryManager","designLibraryElements",function(e,t,n,i,r,o,a,s){this.detype=function(e){return e._obj},this.deref=function(e){return e._value},this.ify=function(e){var t,n,i={},r=Object.keys(e),o=r.length;for(t=0;o>t;++t)n=r[t],"object"==typeof e[n]?i[n]={_obj:"",_value:this.ify(e[n])}:i[n]=e[n];return i}}];t.attach=function(e){angular.module(e).service("descriptor",n)}}),define("applications/PHXS/js/events",["require","exports","module"],function(e,t){"use strict";var n=["csInterface","mediator","configuration","designLibraryManager","layerSelectionManager","phxsPush",function(e,t,n,i,r,o){var a,s=function(e){return r.handleSelectionChange(),e.documentID!==a&&(n.currentProduct.handleActiveDocChanged(e.documentID),a=e.documentID),!1},l=function(e){return r.handleSelectionChange(),!1},c=function(e){return r.handleSelectionChange(),!1},u=function(n){return e.execApp("refreshFonts").then(function(){t.emit("fontListChanged")}),!1},d=function(t){e.execApp("getTooltipState").then(function(e){n.showTooltips=e})},p=[{id:"1684816969",name:"dlDocInfoChanged",callback:s,dynamic:!1},{id:null,name:"foregroundColorChanged",callback:l,dynamic:!0},{id:null,name:"fontListChanged",callback:u,dynamic:!0},{id:null,name:"convertMode",callback:c,dynamic:!0},{id:null,name:"preferencesChanged",callback:d,dynamic:!0}],f="",h=function(e){e&&e.data&&o.pushAssetToLibrary(e.data)},m=function(e){if(e){var t={},n=e.data.indexOf("{");if(-1!==n){var i=e.data.substr(n);t=JSON.parse(i)}var r=String(t.eventID),o=p.filter(function(e){return r===e.id});1===o.length?o[0].callback(t.eventData):console.log("Expected exactly one handler per event id: "+r)}};this.listen=function(){var t=p.reduce(function(e,t){return t.dynamic&&e.push(t.name),e},[]);e.exec("PHXS","getStringID",[t]).then(function(t){var r=t.split(","),o=0;p.forEach(function(e){e.dynamic&&(e.id=r[o],o++)}),f=p.map(function(e){return e.id}).join(",");var a=new CSEvent("com.adobe.PhotoshopRegisterEvent","APPLICATION");a.data=f,e.dispatchEvent(a),e.addEventListener("com.adobe.PhotoshopJSONCallback"+n.EXTENSION_ID,m),i.waitForInitialLoad().then(function(){var t=new CSEvent("com.adobe.DesignLibraries.events.READY","APPLICATION");e.dispatchEvent(t)})}),e.addEventListener("pushAssetToLibrary",h),d()},this.stop=function(){var t=new CSEvent("com.adobe.PhotoshopUnRegisterEvent","APPLICATION");t.data=f,e.dispatchEvent(t),e.removeEventListener("PhotoshopCallback",m),e.removeEventListener("pushAssetToLibrary",h),f=""}}];t.attach=function(e){angular.module(e).service("phxsEvents",n)}}),define("applications/PHXS/js/imageUtils",["require","exports","module"],function(e,t){"use strict";var n=["$q","$translate","adobeStockUtils","configuration","csInterface","fileUtils","lockUtils","documentWatcher","tempFileManager","designLibraryElements","designLibraryManager","designLibraryUtils","designLibraryElementUtils","designLibraryCEPEventEmitters","designLibraryCEPEventHandlers","metrics",function(e,t,n,i,r,o,a,s,l,c,u,d,p,f,h,m){this.primaryRepIsTemplateFormat=function(e){var t=e.getPrimaryRepresentation();return!t||"image/vnd.adobe.photoshop.template"!==t.type&&"application/x-adobe-libraries-psdt"!==t.type?!1:!0},this.editImageOr3DElement=function(g){if(this.primaryRepIsTemplateFormat(g))return!1;if(!c.isElementEditable(g))return!1;m.reportPanelEvent("editElement",{libraryID:g.library&&g.library.id,elementID:g.id,elementType:g.type===i.THREE_D_ELEMENT_TYPE?"3d":"image"});var v,_,y=g.getPrimaryRepresentation(),E=!1,b=!1,L="documentLock_"+g.id,S=g.library&&g.library.name;l.createTempFile(g,y).then(function(e){return v=e,_=o.getFileNameWithoutExtension(v)+"p.png",r.execApp("openAssetForEdit",[e,_,g.getReference()])}).then(function(i){r.exec("CORE","isDocumentOpen",[v]).then(function(m){var y=!1;if(void 0!==m&&"undefined"!==m&&(y=JSON.parse(m)),!y)return l.deleteTempFile(g,v),void h.elementEditCompleted(g);var A=s.startListening(i,v,function(i){if("closed"===i)a.obtainLock(L,function(){s.stopListening(A),E=!0,b===!1&&l.deleteTempFile(g,v),h.elementEditCompleted(g),a.releaseLock(L)});else if("saved"===i){if(!d.checkFileSize(v))return;b=!0;var m,y=g.library,T=!y||y.isDeletedLocally;if(T||!y.isWritable){if(y=u.getRecoveryLibrary(S),!y)return;m=!0}a.obtainLock(L,function(){var i=n.getStockDataForElement(g);g.isDeletedLocally||m?g=y.createElement(g.name,g.type):(g.beginOperation(),g.removeAllRepresentations());var s=o.fileNameToContentType(v),u=g.createRepresentation(s,"primary");i&&n.setStockData(u,i);var d=[];if(d.push(u.setContentFromPath(v)),_&&o.existsFile(_)){var h=c.setRendition(g,c.getRenditionSize(g),_);d.push(h)}var A=function(){E?l.deleteTempFile(g,v):l.updateTempFile(g,u,v),b=!1,g.endOperation(),a.releaseLock(L),m&&(p.revealElement(g),T?r.showError(t.instant("DL_WARNING_RECOVERED_FROM_DELETED",{recoveryLibraryName:y.name})):r.showError(t.instant("DL_WARNING_RECOVERED_FROM_READONLY",{recoveryLibraryName:y.name,originalLibraryName:S}))),f.sendElementUpdated(u)};e.all(d).then(A,A)})}})})})}}];t.attach=function(e){angular.module(e).service("phxsImageUtils",n)}}),define("applications/PHXS/js/push",["require","exports","module"],function(e,t){"use strict";var n=["$q","csInterface","configuration","designLibraryUtils","designLibraryElementUtils","designLibraryManager","phxsColorUtils","phxsTextUtils",function(e,t,n,i,r,o,a,s){var l=function(e){if(!e)return{};var t={elementID:e.id,elementType:function(e){if(e.type){var t=e.type.match(/application\/vnd\.adobe\.element\.(.*)\+dcx/);return t&&2===t.length?t[1]:e.type}return null}(e)},n=e.library;return n&&(t.libraryID=n.id,t.libraryElementCount=n._elements.length,n.collaboration&&(t.libraryShared=n.collaboration)),t},c=function(e,t){angular.isFunction(n.currentProduct.reportEvent)?n.currentProduct.reportEvent(e,t,!0):console.error("Highbeam analytics not available.")},u=function(e,n){t.execApp("saveBrushByIndex",[e.index]).then(function(t){var n=JSON.parse(t)||{},i={};i.path=n.abrPath,r.addBrushElement(e.name,i,n.previewPath,o.getDefaultLibrary(),e.opType).then(function(e){r.revealElement(e)})})},d=function(e,t){var n={};return n.path=e.aslPath,r.addLayerStyleElement(e.name,n,e.pngPath,o.getDefaultLibrary(),e.opType).then(function(e){r.revealElement(e)})},p=function(e,t){return s.addPSCharacterStyleWithDescID(e.name,e.descriptorID,e.previewPath,e.opType).then(function(e){r.revealElement(e)})},f=function(e,t){return a.addPSColor(e.name,e.primary,e.secondary,e.opType)},h=function(t,n){var a=e.defer(),s=t.assetPath;if(!i.checkFileSize(s,!t.moveFile))return a.reject("Could not create element: one or more files exceed 1GB limit"),a.promise;var l={path:s,relationship:"primary",dimensions:{width:t.exportInfo.pixelWidth,height:t.exportInfo.pixelHeight}},c={};return c.layerIds=t.exportInfo.layerIDs,c.documentId=t.exportInfo.documentID,c.pushEventMetadata=n,l.dimensions.width=Number(l.dimensions.width),l.dimensions.height=Number(l.dimensions.height),c.documentId=Number(c.documentId),"string"==typeof c.layerIds&&(c.layerIds=JSON.parse(c.layerIds)),a.resolve(r.addGraphicElement(t.name,[l],t.previewPath,o.getDefaultLibrary(),t.opType,c).then(function(e){r.revealElement(e)})),a.promise},m=[{type:"brush",callback:u},{type:"characterStyle",callback:p},{type:"color",callback:f},{type:"layerStyle",callback:d},{type:"graphic",callback:h}];this.pushAssetToLibrary=function(n){var i=e.defer(),r=[],o=n.event_metadata;r.push(i.promise);var a=function(e){var n=new CSEvent("pushAssetToLibraryResponse","APPLICATION"),i={appMetadata:{pushEventMetadata:o},response:e};n.data=JSON.stringify(i),t.dispatchEvent(n)},s=function(e){a({status:"ok"}),c("pushAssetToLibrary",l(e))},u=function(e){a({status:"error",details:e})};try{if(!n||!o)throw"parameter error";var d=n.assetType;if(!d)throw"asset type not defined";var p=m.filter(function(e){return d===e.type});if(!(p.length>0))throw"No asset handler found for "+d;p.forEach(function(e){r.push(e.callback(n,o).then(s,u))}),i.resolve()}catch(f){i.reject("pushAssetToLibrary failed: "+f)}return e.all(r)}}];t.attach=function(e){angular.module(e).service("phxsPush",n)}}),define("applications/PHXS/js/textUtils",["require","exports","module"],function(e,t){"use strict";var n=["$q","csInterface","descriptor","configuration","fileUtils","designLibraryElementUtils","designLibraryManager","designLibraryUtils",function(e,t,n,i,r,o,a,s){this.addPSCharacterStyleWithDescID=function(n,o,l,c){n=n||"";var u=e.defer();return t.execApp("makeTextItemObjectJSONFromPushDescID",[o]).then(function(t){var o,d,p=JSON.parse(t||"");try{if(!p)throw"makeTextItemObjectJSONFromPushDescID returned false";if(o=a.getDefaultLibrary(),!o)throw"No library";if(!s.checkLibraryWritable(o))return;var f="application/vnd.adobe.characterstyle+json",h="characterstyle",m="data";d=s.createElementExtraMetrics(o,n,i.CHARACTER_STYLE_ELEMENT_TYPE,{opType:c}),p&&d.createRepresentation(f,"primary").setValue(h,m,p);var g=[];if(l){var v=d.createRepresentation("image/png","rendition"),_=v.setContentFromPath(l);g.push(_)}e.all(g).then(function(){l&&d.setThumbnailCache(i.CHARACTER_STYLE_RENDITION_SIZE,l,function(){r.deleteFile(l)}),d.endOperation(),u.resolve(d)},function(){o.removeElement(d,!0),u.reject("Could not create element.")})}catch(y){o&&d&&o.removeElement(d,!0),u.reject("Could not add character style: "+y)}},function(e){u.reject("Could not makeTextItemObjectJSONFromPushDescID: "+e)}),u.promise}}];t.attach=function(e){angular.module(e).service("phxsTextUtils",n)}}),define("applications/PHXS/js/index",["require","exports","./colorUtils","./descriptor","./events","./imageUtils","./push","./textUtils","angular"],function(e,t){"use strict";var n=e("angular"),i=e("./colorUtils"),r=e("./descriptor"),o=e("./events"),a=e("./imageUtils"),s=e("./push"),l=e("./textUtils"),c=["$q","$translate","phxsColorUtils","phxsEvents","csInterface","fileUtils","configuration","menuManager","metrics","layerSelectionManager","designLibraryElementUtils","designLibraryManager","designLibraryViewState",function(e,t,n,i,r,o,a,s,l,c,u,d,p){function f(e,t){var n=-1;return e.some(function(i,r){var o=!1;return t(i,r,e)&&(n=r,o=!0),o}),n}function h(e){var t,i;for(t=0;t<e.assetList.length;++t)i=e.assetList[t].data[0],n.addPSColor(e.assetList[t].name,i.primary,i.secondary,"dragToPanel")}function m(e){function t(e,t){r.execApp("saveLayerStyleByIndex",[e]).then(function(e){var n=JSON.parse(e)||{},i={};i.path=n.aslPath,u.addLayerStyleElement(t,i,n.previewPath,d.getDefaultLibrary(),"dragToPanel").then(function(e){u.revealElement(e)})})}var n,i;for(n=0;n<e.assetList.length;++n)i=e.assetList[n].data[0],t(i,e.assetList[n].name)}function g(e){function t(e,t){r.execApp("saveBrushByIndex",[e]).then(function(e){var n=JSON.parse(e)||{},i={};i.path=n.abrPath,u.addBrushElement(t,i,n.previewPath,d.getDefaultLibrary(),"dragToPanel").then(function(e){u.revealElement(e)})})}var n,i;for(n=0;n<e.assetList.length;++n)i=e.assetList[n].data[0],t(i,e.assetList[n].name)}function v(e){var t=!!d.isConnected(),n=d.getPrivateLibraryCollection();return void 0!==n&&t&&e}this.config={},this.config.code="PHXS",this.config.translationSuffix="PS",this.config.fullName="Photoshop",this.config.dragDropSource="com.adobe.photoshop",this.config.rgbRound=Math.round,this.config.themes={323232:"darker",535353:"dark",b8b8b8:"light",f0f0f0:"lighter"},this.config.defaultTheme="dark",this.config.deleteIcon="psdelete",this.config.elementOrder=[a.COLOR_ELEMENT_TYPE,a.COLOR_THEME_ELEMENT_TYPE,a.CHARACTER_STYLE_ELEMENT_TYPE,a.LAYER_STYLE_ELEMENT_TYPE,a.BRUSH_ELEMENT_TYPE,a.IMAGE_ELEMENT_TYPE,a.THREE_D_ELEMENT_TYPE,a.PATTERN_ELEMENT_TYPE,a.TEMPLATE_ELEMENT_TYPE,a.VIDEO_ELEMENT_TYPE,a.LOOK_ELEMENT_TYPE,a.PARAGRAPH_STYLE_ELEMENT_TYPE,a.ANIMATION_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"ps",prodId:"adbemphotoshop.rebootprod2",devId:"adbemphotoshop.rebootdev2"},this.config.enablePatternDragging=!1,this.config.useMouseEventToDetectDrop=!0,this.transformFlyoutMenuItems=function(e){var t={label:"DL_FLYOUT_ADD_DOC_CONTENT",enableMenu:v(c.hasDocumentOpen()),onClick:function(){a.currentProduct.addDocContent()}},n=f(e,function(e,t,n){return"DL_MENU_CREATE_LIB"===e.label});if(-1===n)console.log("Could not find create lib menu item, revisit placement of add doc contents menu item"),e.splice(e.length,0,t);else{var i=n+2;e.splice(i,0,{divider:!0}),e.splice(i,0,t)}},this.addDocContent=function(){p.hideDialogs(),p.resetMode();var e=new CSEvent("com.adobe.DesignLibraries.events.AddDocContent","APPLICATION");r.dispatchEvent(e)},this.getAddDocContentOperation=function(){return{buttonName:"DL_ADD_DOC_CONTENT_BUTTON",buttonToolTip:"DL_ADD_DOC_CONTENT_BUTTON_TOOLTIP",iconToolTip:"DL_ADD_DOC_CONTENT_ICON_TOOLTIP",icon:"importdocassets",apply:function(){a.currentProduct.addDocContent()},enabled:v(c.hasDocumentOpen())}},this.setFocusToCanvas=function(){var e=new CSEvent("com.adobe.PhotoshopLoseFocus","APPLICATION");r.dispatchEvent(e)},this.handleActiveDocChanged=function(e){var n=0!==e;s.updateFlyoutMenuItem(t.instant("DL_FLYOUT_ADD_DOC_CONTENT"),v(n),!1)},this.dropHandler=function(e){var t=e.data,n=!1;return t&&t.assetList&&t.assetList.length>0&&("color"===t.assetList[0].type?(h(t),n=!0):"style"===t.assetList[0].type?(m(t),n=!0):"brush"===t.assetList[0].type&&(g(t),n=!0)),n},this.init=function(){var t=e.defer();r.execApp("getConfigInfoFromPS").then(function(e){var t=JSON.parse(e)||{};a.currentProduct.config.enablePatternDragging=t.enablePatternDragging}),o.extendUsableTypes(a.COLOR_THEME_ELEMENT_TYPE,["application/vnd.adobe.colortheme+json"]),o.extendUsableTypes(a.BRUSH_ELEMENT_TYPE,["image/x-adobe-photoshop-brush"]),o.extendUsableTypes(a.CHARACTER_STYLE_ELEMENT_TYPE,["application/vnd.adobe.characterstyle+json"]),o.extendUsableTypes(a.LAYER_STYLE_ELEMENT_TYPE,["application/vnd.adobe.layerstyle"]),o.extendUsableTypes(a.THREE_D_ELEMENT_TYPE,["image/vnd.adobe.photoshop"]),o.extendUsableTypes(a.PATTERN_ELEMENT_TYPE,["image/vnd.adobe.pattern+png"]),o.extendUsableTypes(a.LOOK_ELEMENT_TYPE,["application/vnd.adobe.cube+txt"]),o.extendUsableTypes(a.TEMPLATE_ELEMENT_TYPE,["image/vnd.adobe.photoshop.template"]),o.extendEditableTypes(a.COLOR_ELEMENT_TYPE,["application/vnd.adobe.color+json"]),o.extendEditableTypes(a.THREE_D_ELEMENT_TYPE,["image/vnd.adobe.photoshop"]),r.execApp("getReadableFileExtensions").then(function(e){
var n=JSON.parse(e)||[],i=n.indexOf("PSDT");-1!==i&&n.splice(i,1),o.extendUsableTypes(a.IMAGE_ELEMENT_TYPE,["image/vnd.adobe.photoshop.template","application/x-adobe-libraries-psdt"]);var r=["AI","SVG","SVGZ","PDF"];n.length>0?(r.forEach(function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}),o.extendUsableTypesWithExtensions(a.IMAGE_ELEMENT_TYPE,r),o.extendEditableTypesWithExtensions(a.IMAGE_ELEMENT_TYPE,n)):(console.log("Failed to get readable file extensions from PHXS, using short default list."),o.extendUsableTypes(a.IMAGE_ELEMENT_TYPE,["application/illustrator","image/svg+xml","application/pdf"]),o.extendEditableTypes(a.IMAGE_ELEMENT_TYPE,["image/png","image/jpeg","image/jpg","image/gif","image/bmp","application/photoshop","image/vnd.adobe.photoshop","application/photoshop.large"])),t.resolve()},function(){t.reject()});var n=new CSEvent("com.adobe.PhotoshopPersistent","APPLICATION");r.dispatchEvent(n),this.startEventListener();var i=r.getGlobalRoot();return VulcanInterface.isAppInstalled("photoshop-15")||VulcanInterface.isAppInstalled("photoshop-15.032")||VulcanInterface.isAppInstalled("photoshop-15.064")||o.removeRecursive(i+"PHXS"),t.promise},this.startEventListener=function(){i.listen()},this.stopEventListener=function(){i.stop()},this.reportEvent=function(e,t,n){if("createElement"===e&&!t.opType){var i=l.getExtraEventMetrics(e);i&&(t.opType=i.opType)}r.execApp("reportEvent",[e,t,n]).then(function(t){var n=JSON.parse(t);n&&console.log(e+" metric reported to PS")})},this.getUserData=function(e){r.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})}}];t.attach=function(e,t){i.attach(e),r.attach(e),o.attach(e),a.attach(e),s.attach(e),l.attach(e),n.module(e).service("PHXS",c)}}),define("applications/PPRO/js/index",["require","exports","angular"],function(e,t){"use strict";var n=e("angular"),i=["$injector","colorUtils","fileUtils","ccLibraries","adobeStockUtils","configuration","designLibraryElements","designLibraryManager","imsInterface","csInterface",function(e,t,n,i,r,o,a,s,l,c){this.getScaleColor=function(e){var n=38,i=.51,r=n,o=e,a=o*i+r;return t.rgbToHex({red:a,green:a,blue:a})},this.cssThemeBGScale=function(){var e,t,n={},i=function(e){switch(e){case 0:return"darker";case 100:return"dark";default:return e.toString()}};for(e=0;100>=e;e++)t=this.getScaleColor(e).slice(1),(!n.hasOwnProperty(t)||n.hasOwnProperty(t)&&i(e)!==e.toString())&&(n[t]=i(e));return n},this.config={},this.config.code="PPRO",this.config.fullName="Premiere Pro",this.config.translationSuffix="PR",this.config.dragDropSource="com.adobe.premiere",this.config.isDrover=!0,this.config.isReadOnly=!0,this.config.themes=this.cssThemeBGScale(),this.config.elementOrder=[o.IMAGE_ELEMENT_TYPE,o.VIDEO_ELEMENT_TYPE,o.LOOK_ELEMENT_TYPE,o.COLOR_ELEMENT_TYPE,o.BRUSH_ELEMENT_TYPE,o.LAYER_STYLE_ELEMENT_TYPE,o.PARAGRAPH_STYLE_ELEMENT_TYPE,o.CHARACTER_STYLE_ELEMENT_TYPE,o.COLOR_THEME_ELEMENT_TYPE,o.THREE_D_ELEMENT_TYPE,o.PATTERN_ELEMENT_TYPE,o.TEMPLATE_ELEMENT_TYPE,o.ANIMATION_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"pr",prodId:"adbempremierepro.rebootprod2",devId:"adbempremierepro.rebootdev2"},this.init=function(){n.extendUsableTypes(o.IMAGE_ELEMENT_TYPE,["application/pdf","application/illustrator","application/photoshop","application/photoshop.large","image/vnd.adobe.photoshop","image/png","image/jpeg","image/jpg"]),n.extendUsableTypes(o.LOOK_ELEMENT_TYPE,["application/vnd.adobe.cube+txt","application/vnd.adobe.look+xml"]),n.extendUsableTypes(o.VIDEO_ELEMENT_TYPE,["video/mp4","video/quicktime"]),c.execApp("getTooltipState").then(function(t){e.get("configuration").showTooltips=t}),this.startEventListener(),s.waitForInitialLoad().then(function(){var e=new CSEvent("com.adobe.DesignLibraries.events.READY","APPLICATION");c.dispatchEvent(e)})},this.reportEvent=function(e,t){},this.getUserData=function(e){c.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})};var u=function(){var t=e.get("layerSelectionManager");t.handleSelectionChange()},d=function(){var e=s.getPrivateLibraryCollection(),t=e?e.userId:"",n={clientId:l.getEnvironment().clientId,imsToken:""},i="com.adobe.DesignLibraries.events.UserAccessToken";return l.getAccessToken(t).then(function(e){n.imsToken=e;var t=new CSEvent(i,"APPLICATION");t.data=JSON.stringify(n),c.dispatchEvent(t)},function(){var e=new CSEvent(i,"APPLICATION");e.data=JSON.stringify(n),c.dispatchEvent(e)})},p=function(e){var t=e.data,s=i.resolveElementReference(t),l={elementRef:t};if(s){l.name=s.name,l.id=s.id,l.libraryName=s.library.name,l.reference=s.getReference(),l.modified=s.modified,l.created=s.created,l.adobeStockId=r.getStockId(s),l.licensed=l.adobeStockId?r.isLicensed(s):null;var u=a.findRepresentation(s,n.getUsableTypes(o.VIDEO_ELEMENT_TYPE));if(u){l.width=u.width,l.height=u.height,l.contentLength=u.contentLength,l.url=u.getContentURL(),l.trackingdata=u.getValue("adobestock","trackingdata"),l.contentType=u.type;var d=i.utils.mimeTypeToExtensions(u.type);l.extension=d[d.length-1];var p=u.getValue("video","data")||!1;p&&(l.framerate=Number(p.framerate),l.duration=p.duration)}var f="com.adobe.DesignLibraries.events.VideoUpdate",h=new CSEvent(f,"APPLICATION");h.data=JSON.stringify(l),c.dispatchEvent(h)}else l.name=""};this.startEventListener=function(){c.addEventListener("lookSelectionChanged",u),c.addEventListener("getIMSAccessToken",d),c.addEventListener("getVideoDownloadData",p)},this.stopEventListener=function(){c.removeEventListener("lookSelectionChanged",u),c.removeEventListener("getIMSAccessToken",d),c.removeEventListener("getVideoDownloadData",p)}}];t.attach=function(e){n.module(e).service("PPRO",i)}}),define("applications/AEFT/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,getApplyOperations:function(e,i){var a=function(t){return function(i,a){return i||(i=[],e.representations.forEach(function(e){var t=e.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY),n=e.getValue("library","rel");"primary"===n?i.unshift(t):i.push(t)}),e.representations.length>0&&r.reportApplyMetric(e.representations[0],t)),angular.isFunction(a)&&a(t),n.execApp(t,[i])}},s=t.getLayerInfo();return!s||s&&!s.selectionExists?[]:[{name:"DL_SET_COLOR_TOOLTIP",icon:"paintbucket",isDraggable:!1,apply:a("setColor"),displayInMenu:!0,onClick:!0}]}})}])}}),define("applications/AEFT/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","AEFT",function(e,t,n,i,r,o,a,s,l,c,u){e.registerOverride({type:a.IMAGE_ELEMENT_TYPE,getApplyOperations:function(e,t){var n=function(){u.addOrUpdateElementInProject(e,!0)};return[{name:"DL_ADD_IMAGE_TO_PROJECT",onClick:!1,isDraggable:!0,apply:n,displayInMenu:!0}]}})}])}}),define("applications/AEFT/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){var n=[];return n}})}])}}),define("applications/AEFT/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/AEFT/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.BRUSH_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/AEFT/js/configuration/look",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LOOK_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(t,a){var s=function(){var a=e.findRepresentation(t,i.getUsableTypes(o.LOOK_ELEMENT_TYPE));return a?(r.reportApplyMetric(a,"placeAsset"),a.getContentPath().then(function(e){return n.execApp("placeAsset",[e,!1,t.name])})):void 0};return[{name:"DL_APPLY_LOOK",onClick:!1,isDraggable:!0,apply:s,displayInMenu:!0}]}})}])}}),define("applications/AEFT/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getAddOperations:function(){return[]}})}])}}),define("applications/AEFT/js/configuration/video",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","configuration","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","adobeStockUtils","imsInterface","designLibraryManager","AEFT",function(e,t,n,i,r,o,a,s,l,c){e.registerOverride({type:t.VIDEO_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(e,t){var n=function(){c.addOrUpdateElementInProject(e,!0)};return[{name:"DL_ADD_VIDEO_TO_PROJECT",icon:"download",apply:n,displayInMenu:!0}]}})}])}}),define("applications/AEFT/js/configuration/main",["require","exports","./color","./image","./textstyle","./layerstyle","./brush","./look","./parastyle","./video"],function(e,t){"use strict";t.attach=function(t){e("./color").attach(t),e("./image").attach(t),e("./textstyle").attach(t),e("./layerstyle").attach(t),e("./brush").attach(t),e("./look").attach(t),e("./parastyle").attach(t),e("./video").attach(t)}}),define("applications/DRWV/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.BRUSH_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/DRWV/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","colorUtils",function(e,t,n,i,r,o,a){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,getApplyOperations:function(e,t){var i=function(t){return function(i,s){i||(i=[],e.representations.forEach(function(e){var t=e.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY);"primary"===e.relationship?i.unshift(t):i.push(t)}),e.representations.length>0&&r.reportApplyMetric(e.representations[0],t)),angular.isFunction(s)&&s(t);var l=a.getRGBRepresentation(i);if(l){if("copyRGB"===t)return n.execApp(t,[JSON.stringify(l.value)]);var c=a.colorDataToHexValue(l),u=!1;return event&&1===event.which&&(u=!0),n.execApp(t,[c.toUpperCase(),u])}}};return[{name:"DL_COPY_HEX_COLOR_TOOLTIP",icon:"paintbucket",apply:i("copyHex"),displayInMenu:!0,onClick:!0},{name:"DL_COPY_RGB_COLOR_TOOLTIP",icon:"paintbucket",apply:i("copyRGB"),displayInMenu:!0}]}})}])}}),define("applications/DRWV/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","adobeStockUtils",function(e,t,n,i,r,o,a,s,l,c,u,d){t.registerOverride({type:s.IMAGE_ELEMENT_TYPE,getApplyOperations:function(e,n){var a=function(n,a){var l=d.getStockId(e),c=t.findRepresentation(e,r.getUsableTypes(s.IMAGE_ELEMENT_TYPE));return c?(o.reportApplyMetric(c,"placeAsset",n),c.getContentPath().then(function(o){var u=r.mimeLookup(s.IMAGE_ELEMENT_TYPE,c.type),p=u&&"Photoshop"===u.name;return i.execApp("placeAsset",[o,p,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,l||"",l?d.isLicensed(e):null,n,a])})):e.getThumbnailPath().then(function(r){return o.reportApplyMetric({type:"image/png",_element:e},"placeAsset",n),i.execApp("placeAsset",[r,!1,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,l||"",l?d.isLicensed(e):null,n,a])},function(e){console.log(e)})};return[{name:"DL_INSERT_IMAGE_TO_DOC_AS_LINKED",icon:"download",apply:function(){a(!0,!1)},displayInMenu:s.currentProduct.config.isDocumentOpen},{name:"DL_INSERT_IMAGE_TO_DOC_AS_COPY",icon:"download",apply:function(){a(!1,!1)},displayInMenu:s.currentProduct.config.isDocumentOpen},{name:"DL_DOWNLOAD_IMAGE_AS_LINKED",icon:"download",apply:function(){a(!0,!0)},displayInMenu:!0},{name:"DL_DOWNLOAD_IMAGE_AS_COPY",icon:"download",apply:function(){a(!1,!0)},displayInMenu:!0}]}})}])}}),define("applications/DRWV/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/DRWV/js/configuration/look",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LOOK_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/DRWV/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/DRWV/js/configuration/colortheme",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","colorUtils",function(e,t,n,i,r,o,a){e.registerOverride({type:o.COLOR_THEME_ELEMENT_TYPE,getApplyOperations:function(t,n,a){if(!t)return[];var s=[];if(a){var l=e.getApplyOperations({type:o.COLOR_ELEMENT_TYPE},n);l.forEach(function(n){s.push({name:n.name,icon:n.icon,displayInMenu:n.displayInMenu,onClick:n.onClick,apply:function(){n.apply(a,function(n){var a=e.findRepresentation(t,i.getUsableTypes(o.COLOR_THEME_ELEMENT_TYPE));a&&r.reportApplyMetric(a,n)})}})})}return s}})}])}}),define("applications/DRWV/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/DRWV/js/configuration/main",["require","exports","./brush","./color","./image","./layerstyle","./look","./parastyle","./colortheme","./textstyle"],function(e,t){"use strict";t.attach=function(t){e("./brush").attach(t),e("./color").attach(t),e("./image").attach(t),e("./layerstyle").attach(t),e("./look").attach(t),e("./parastyle").attach(t),e("./colortheme").attach(t),e("./textstyle").attach(t)}}),define("applications/FLPR/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryElementUtils","designLibraryManager","configuration",function(e,t,n,i,r,o,a,s,l){t.registerOverride({type:l.BRUSH_ELEMENT_TYPE,getApplyOperations:function(e,a){var s=r.getUsableTypes(e.type),l=e.representations.filter(function(e){var n="rendition"===e.relationship,i=t.isRepresentationCompatible(e,s);return!n&&i}),c=n.getLayerInfo(),u=0===l.length||!c;if(!u){var d=function(){var t=l[0];return t?(o.reportApplyMetric(t,"useBrush"),t.getContentPath().then(function(t){return i.execApp("loadAndSelectBrush",[a.name,e.name,t])})):void 0};return[{name:"DL_ADD_BRUSH_TO_DOC",icon:"brush",onClick:!0,allowMultiple:!0,apply:d,displayInMenu:!0}]}return[]},getAddOperations:function(t){var n=function(){var t,n=e.defer(),r=[],o=s.getDefaultLibrary(),l="";return i.execApp("uploadBrushes",[o.name]).then(function(i){var s=JSON.parse(i);for(t=0;t<s.files.length;++t)r.push(a.addBrushElement(s.files[t].name,s.files[t].primary,s.files[t].rendition,o,l));e.all(r).then(function(e){0<e.length&&a.revealElement(e[0]),n.resolve(e)},function(){n.reject("Could not upload some brushes.")})},function(){n.reject("Could not extract brushes.")}),n.promise};return[{name:"DL_ADD_BRUSH_TO_LIBRARY",order:3,iconToolTip:"DL_ADD_BRUSH_TO_LIBRARY_ICON_TOOLTIP",icon:"brush",apply:n,disabled:!t||!t.hasOwnProperty("enableBrushUpload")||!t.enableBrushUpload,displayIcon:!0}]}})}])}}),define("applications/FLPR/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","colorUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,getApplyOperations:function(e,a){var s=function(t){return function(a,s){a||(a=[],e.representations.forEach(function(e){var t=e.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY);"primary"===e.relationship?a.unshift(t):a.push(t)}),e.representations.length>0&&r.reportApplyMetric(e.representations[0],t)),angular.isFunction(s)&&s(t);var l=i.getRGBRepresentation(a);if(l){var c=i.colorDataToHexValue(l);return n.execApp(t,[c.toUpperCase()])}}},l=t.getLayerInfo();return!l||l&&!l.selectionExists?[]:[{name:"DL_SET_COLOR_TOOLTIP",icon:"paintbucket",apply:s("setColor"),displayInMenu:!0,onClick:!0}]}})}])}}),define("applications/FLPR/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","lockUtils","designLibraryUtils","designLibraryElementUtils","designLibraryManager","designLibraryCEPEventHandlers","configuration","$translate","documentWatcher","tempFileManager","metrics",function(e,t,n,i,r,o,a,s,l,c,u,d,p,f,h){t.registerOverride({type:u.IMAGE_ELEMENT_TYPE,getApplyOperations:function(e,o){var s=function(n){var o=t.findRepresentation(e,r.getUsableTypes(u.IMAGE_ELEMENT_TYPE));return o?(a.reportApplyMetric(o,"placeAsset"),o.getContentPath().then(function(r){return i.execApp("placeAsset",[r,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,n])})):e.getThumbnailPath().then(function(r){return a.reportApplyMetric({type:"image/png",_element:e},"placeAsset"),i.execApp("placeAsset",[r,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,n])},function(e){console.log(e)})},l=n.getLayerInfo();return l?[{name:"DL_ADD_IMAGE_TO_DOC",icon:"download",allowMultiple:!0,apply:function(){s(!1)},displayInMenu:!0}]:[]},getAddOperations:function(e){return[]}})}])}}),define("applications/FLPR/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]},getAddOperations:function(){return[]}})}])}}),define("applications/FLPR/js/configuration/look",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LOOK_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]},getAddOperations:function(){return[]}})}])}}),define("applications/FLPR/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]},getAddOperations:function(){return[]}})}])}}),define("applications/FLPR/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]},getAddOperations:function(){return[]}})}])}}),define("applications/FLPR/js/configuration/video",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","configuration",function(e,t){e.registerOverride({type:t.VIDEO_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/FLPR/js/configuration/animation",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","lockUtils","designLibraryUtils","designLibraryElementUtils","designLibraryManager","designLibraryCEPEventHandlers","configuration","$translate","documentWatcher","tempFileManager","metrics","designLibraryCEPEventEmitters",function(e,t,n,i,r,o,a,s,l,c,u,d,p,f,h,m){t.registerOverride({type:u.ANIMATION_ELEMENT_TYPE,getApplyOperations:function(e,o){var s=function(n){var o=t.findRepresentation(e,r.getUsableTypes(u.ANIMATION_ELEMENT_TYPE));return o?(a.reportApplyMetric(o,"placeAsset"),o.getContentPath().then(function(r){return i.execApp("placeAsset",[r,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,n,JSON.stringify(e.getValues())])})):e.getThumbnailPath().then(function(r){return a.reportApplyMetric({type:"application/vnd.adobe.element.animation+dcx",_element:e},"placeAsset"),i.execApp("placeAsset",[r,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,n])},function(e){console.log(e)})},l=n.getLayerInfo();if(!l)return[];var c="application/vnd.adobe.animate-xfl+zip",d="application/vnd.adobe.animate-sym+zip",p=e.getPrimaryRepresentation(),f=p&&p.type===d,h=p&&p.type===c;return f?[{name:"DL_ADD_ANIMATION_TO_DOC_AS_LINKED",icon:"download",allowMultiple:!0,apply:function(){s(!0)},displayInMenu:!0},{name:"DL_ADD_ANIMATION_TO_DOC_AS_COPY",icon:"download",allowMultiple:!0,apply:function(){s(!1)},displayInMenu:!0}]:h?[{name:"DL_OPEN_IN_NEW_DOCUMENT",icon:"download",allowMultiple:!0,apply:function(){s(!1)},displayInMenu:!0}]:[]},getAddOperations:function(t){var n=function(){var t=e.defer(),n="",r=l.getDefaultLibrary(),o="";return i.execApp("uploadCurrentDoc",[]).then(function(e){var i=JSON.parse(e),a={documentId:i.documentId,layerIds:i.layerIds,dragAssetId:n};t.resolve(s.addAnimationElement(i.layerName,i.files,i.rendition,r,o,a,i.elementData).then(function(e){s.revealElement(e)}))},function(){t.reject("Could not extract asset.")}),t.promise},r=function(t,n,i){var r=e.defer(),o=[];return i=i||"",a.generatePreview(!0,i).then(function(e){e.forEach(function(e){var r={documentId:e.documentId,layerIds:e.layerIds,dragAssetId:i},a=s.addAnimationElement(e.layerName,e.files,e.rendition,t,n,r,e.elementData);o.push(a)})},function(){r.reject("Could not extract asset.")}),e.all(o).then(function(e){r.resolve(e)},function(){r.reject("Could not upload files")}),r.promise};return[{name:"DL_ADD_ENTIRE_ANIMATION_TO_LIBRARY",order:1,icon:"animation",apply:n,disabled:!t||!t.hasOwnProperty("enableDocumentUpload")||!t.enableDocumentUpload,displayIcon:!0},{name:"DL_ADD_SYMBOL_TO_LIBRARY",order:2,icon:"animation",dropSupport:!0,apply:r,disabled:!t||!t.hasOwnProperty("enableAnimationUpload")||!t.enableAnimationUpload,displayIcon:!0}]},defaultEditOperation:function(n){var g,v,_=t.findRepresentation(n,r.getEditableTypes(u.ANIMATION_ELEMENT_TYPE)),y=!1,E=!1,b="documentLock_"+n.id,L=n.library&&n.library.name;return _?(h.reportPanelEvent("editElement",{libraryID:n.library&&n.library.id,elementID:n.id,elementType:"animation"}),void f.createTempFile(n,_).then(function(e){return g=e,v=r.getFileNameWithoutExtension(g)+".png",i.execApp("openAssetForEdit",[e,v])}).then(function(h){var _=p.startListening(h,g,function(h){switch(h){case"closed":o.obtainLock(b,function(){p.stopListening(_),y=!0,E||f.deleteTempFile(n,g),c.elementEditCompleted(n),o.releaseLock(b)});break;case"saved":if(!a.checkFileSize(g))return;var S,A=n.library,T=!A||A.isDeletedLocally;if(T||!A.isWritable){if(A=l.getRecoveryLibrary(L),!A)return;S=!0}var C=[];o.obtainLock(b,function(){E=!0,n.isDeletedLocally||S?n=A.createElement(n.name,n.type):(n.beginOperation(),n.removeAllRepresentations());var a=r.fileNameToContentType(g),l=n.createRepresentation(a,"primary");if(C.push(l.setContentFromPath(g)),v&&r.existsFile(v)){var c=t.setRendition(n,u.IMAGE_RENDITION_SIZE,v);C.push(c)}E=!1,n.endOperation();var p=function(){m.sendElementUpdated(l),y?f.deleteTempFile(n,g):f.updateTempFile(n,l,g),o.releaseLock(b),S&&(s.revealElement(n),T?i.showError(d.instant("DL_WARNING_RECOVERED_FROM_DELETED",{recoveryLibraryName:A.name})):i.showError(d.instant("DL_WARNING_RECOVERED_FROM_READONLY",{recoveryLibraryName:A.name,originalLibraryName:L})))};e.all(C).then(p,p)})}})})):!1},getDragData:function(e){if(e){var n,i=t.getCommonDragData(e),r=t.findUsableRepresentation(e);return r?r.getContentPath(function(e,t){n=t}):e&&e.getThumbnailPath(void 0,function(t,i){n=i,r={type:"image/png",element:e}}),n?(i.data=[n],i.usedRepresentationForAnalytics=r,i.metaData=e.getValue("FLPR","assetInfo"),i):void 0}}})}])}}),define("applications/FLPR/js/configuration/main",["require","exports","./brush","./color","./image","./layerstyle","./look","./parastyle","./textstyle","./video","./animation"],function(e,t){"use strict";t.attach=function(t){e("./brush").attach(t),e("./color").attach(t),e("./image").attach(t),e("./layerstyle").attach(t),e("./look").attach(t),e("./parastyle").attach(t),e("./textstyle").attach(t),e("./video").attach(t),e("./animation").attach(t)}}),define("applications/IDSN/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,getApplyOperations:function(e,i,a,s,l,c){var u=t.getLayerInfo(),d=1===s,p=s===l,f=function(t){return function(i,a){if(!i&&(i=[],e.representations.forEach(function(t){var n=t.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY);void 0!==e.name&&(n.name=e.name),"primary"===t.relationship?i.unshift(n):i.push(n)}),e.representations.length>0&&(r.reportApplyMetric(e.representations[0],t),"addColor"===t&&p===!0))){var s="addElement",c={opType:"addColor",elementType:"color",numElements:l};o.currentProduct.reportEvent(s,c)}return angular.isFunction(a)&&a(t),n.execApp(t,[i,d,p])}};if(!u||!u.selectionExists&&!u.textSelectionExists)return[{name:"DL_ID_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:f("addColor"),displayInMenu:!0}];var h=l>1;return[{name:"DL_SET_COLOR_TOOLTIP",icon:"paintbucket",apply:f("setColor"),displayInMenu:!0,onClick:!0},{name:"DL_ID_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:f("addColor"),displayInMenu:h}]},defaultEditOperation:function(t){if(!o.IS_APP_IN_TOUCH_MODE){var r,a=e.findRepresentation(t,i.getUsableTypes(o.COLOR_ELEMENT_TYPE));a&&(r=a.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY));var s;return n.execApp("replaceColor",[r]).then(function(e){return s=JSON.parse(e),n.execApp("getLayerColor",[])}).then(function(e){if(s){var n=JSON.parse(e);t.beginOperation(),t.removeAllRepresentations(),n.forEach(function(e,n){var i=0===n?"primary":"rendition",r=t.createRepresentation(o.COLOR_REPRESENTATION_TYPE,i);r.setValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY,e)}),t.endOperation()}})}}})}])}}),define("applications/IDSN/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","idsnGraphicUtils","configuration","$translate","documentWatcher","designLibraryManager","tempFileManager","adobeStockUtils","designLibraryElementUtils","designLibraryCEPEventHandlers","designLibraryCEPEventEmitters","lockUtils","metrics",function(e,t,n,i,r,o,a,s,l,c,u,d,p,f,h,m,g,v){t.registerOverride({type:s.IMAGE_ELEMENT_TYPE,getApplyOperations:function(e,t,n,i,r,o){return a.getApplyOperations(e,t,n,i,r,o)},defaultEditOperation:function(n){if(s.IS_APP_IN_TOUCH_MODE!==!0){if(!t.isElementEditable(n))return!1;v.reportPanelEvent("editElement",{libraryID:n.library&&n.library.id,elementID:n.id,elementType:"image"});var a,_=n.getPrimaryRepresentation(),y=!1,E=!1,b="documentLock_"+n.id,L=n.library&&n.library.name;d.createTempFile(n,_).then(function(e){return a=e,i.execApp("openAssetForEdit",[e,"image"])}).then(function(v){var _=a.lastIndexOf("."),S=a.substring(0,_),A=c.startListening(v,S,function(v){if("closed"===v)g.obtainLock(b,function(){c.stopListening(A),y=!0,E===!1&&(d.deleteTempFile(n,a),r.deleteFile(S)),h.elementEditCompleted(n),g.releaseLock(b)});else if("saved"===v){if(!o.checkFileSize(a))return;E=!0;var _=a.lastIndexOf("."),T=a.substring(0,_),C=T+".pdf",I=T+".png";if(!r.existsFile(a)||!r.existsFile(C))return void(E=!1);var D,w=n.library,O=!w||w.isDeletedLocally;if(O||!w.isWritable){if(w=u.getRecoveryLibrary(L),!w)return;D=!0}g.obtainLock(b,function(){var o=p.getStockDataForElement(n);n.isDeletedLocally||D?n=w.createElement(n.name,n.type):(n.beginOperation(),n.removeAllRepresentations());var c=[],u=r.fileNameToContentType(a),h=n.createRepresentation(u,"primary");o&&p.setStockData(h,o),c.push(h.setContentFromPath(a)),u=r.fileNameToContentType(C);var v=n.createRepresentation(u,"rendition");if(c.push(v.setContentFromPath(C)),I&&r.existsFile(I)){var _=t.setRendition(n,s.IMAGE_RENDITION_SIZE,I);c.push(_)}var S=function(){m.sendElementUpdated(h),y?d.deleteTempFile(n,a):d.updateTempFile(n,h,a),E=!1,n.endOperation(),g.releaseLock(b),D&&(f.revealElement(n),O?i.showError(l.instant("DL_WARNING_RECOVERED_FROM_DELETED",{recoveryLibraryName:w.name})):i.showError(l.instant("DL_WARNING_RECOVERED_FROM_READONLY",{recoveryLibraryName:w.name,originalLibraryName:L})))};e.all(c).then(S,S)})}})})}}})}])}}),define("applications/IDSN/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";
t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o,a){var s="application/vnd.adobe.characterstyle+json",l="application/vnd.adobe.characterstyle+snippet",c="characterstyle",u="data";t.registerOverride({type:a.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,d,p,f,h,m){var g=n.getLayerInfo(),v=function(e,t,n){e.type="charstyle",e.name=t,e.id=n},_=1===f,y=f===h,E=function(n){var d=t.findRepresentation(e,r.getUsableTypes(a.CHARACTER_STYLE_ELEMENT_TYPE));if(d){o.reportApplyMetric(d,n);var p,f,h=t.getDisplayText(e),m=e.id+";"+e.modified;return d.type===s?(f=d.getValue(c,u),v(f,h,m),p=i.execApp(n,[f,_,y])):d.type===l&&(p=d.getContentPath().then(function(r){f={},v(f,h,m),f.idmsPath=r;var o=t.findRepresentation(e,s),a=o.getValue(c,u);return f.adbeFont=a.adbeFont,f.fontFamily=a.fontFamily,i.execApp(n,[f,_,y])})),p}},b=function(){return E("setFont")},L=function(){if(y===!0){var e="addElement",t={opType:"addTextStyle",elementType:"characterstyle",numElements:h};a.currentProduct.reportEvent(e,t)}return E("addTextStyle")},S=[];return g?(g&&"LayerKind.TEXT"===g.kind&&S.push({name:"DL_SET_TEXT_STYLE_TOOLTIP",icon:"text",onClick:!0,apply:b,displayInMenu:!0}),S.push({name:"DL_ADD_AS_TEXT_STYLE_TOOLTIP",icon:"pastetext",allowMultiple:!0,apply:L,displayInMenu:!0}),S):[]},getAddOperations:function(t){var d=function(t,d){function p(n){n&&"LayerKind.TEXT"===n.kind&&i.execApp("getCharStyleInfo").then(function(n){var i,p,h=JSON.parse(n),m=o.createElementExtraMetrics(t,h.styleName,a.CHARACTER_STYLE_ELEMENT_TYPE,{opType:d}),g=[];if(h.idmsPath){var v=m.createRepresentation(l,"primary");p=v.setContentFromPath(h.idmsPath).then(function(){r.deleteFile(h.idmsPath)}),g.push(p),i=m.createRepresentation(s,"rendition"),i.setValue(c,u,h.styleInfo)}else i=m.createRepresentation(s,"primary"),i.setValue(c,u,h.styleInfo);if(h.previewPath){var _=m.createRepresentation("image/png","rendition");p=_.setContentFromPath(h.previewPath),g.push(p)}e.all(g).then(function(){h.previewPath&&m.setThumbnailCache(a.CHARACTER_STYLE_RENDITION_SIZE,h.previewPath,function(){r.deleteFile(h.previewPath)}),m.endOperation()}),f.resolve(m)})}var f=e.defer();return n.requestUpdate(),n.addListener("layerSelectionChanged",p,!0),f.promise};return[{name:"DL_ADD_TEXT_STYLE_NAME",order:2,icon:"newcharacterstyle",apply:d,disabled:!t||!t.text||t.isAppliedCharStyleSupported===!1,displayIcon:!0}]}})}])}}),define("applications/IDSN/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){var a="application/vnd.adobe.paragraphstyle+json",s="application/vnd.adobe.paragraphstyle+snippet",l="paragraphstyle",c="data";e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getApplyOperations:function(u,d,p,f,h,m){var g=t.getLayerInfo(),v=1===f,_=f===h,y=function(e,t,n){e.type="parastyle",e.name=t,e.id=n},E=function(t){var d=e.findRepresentation(u,i.getUsableTypes(o.PARAGRAPH_STYLE_ELEMENT_TYPE));if(d){r.reportApplyMetric(d,t);var p,f,h=e.getDisplayText(u),m=u.id+";"+u.modified;return d.type===a?(f=d.getValue(l,c),y(f,h,m),p=n.execApp(t,[f,v,_])):d.type===s&&(p=d.getContentPath().then(function(i){f={},y(f,h,m),f.idmsPath=i;var r=e.findRepresentation(u,a),o=r.getValue(l,c);return f.adbeFont=o.adbeFont,f.fontFamily=o.fontFamily,n.execApp(t,[f,v,_])})),p}},b=function(){return E("setFont")},L=function(){if(_===!0){var e="addElement",t={opType:"addTextStyle",elementType:"paragraphstyle",numElements:h};o.currentProduct.reportEvent(e,t)}return E("addTextStyle")},S=[];return g?(g&&"LayerKind.TEXT"===g.kind&&S.push({name:"DL_SET_PARA_STYLE_TOOLTIP",icon:"text",onClick:!0,apply:b,displayInMenu:!0}),S.push({name:"DL_ADD_AS_PARA_STYLE_TOOLTIP",icon:"pastetext",allowMultiple:!0,apply:L,displayInMenu:!0}),S):[]}})}])}}),define("applications/IDSN/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/IDSN/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.BRUSH_ELEMENT_TYPE,getApplyOperations:function(e,t){var i=function(){a("DL_ERROR_BRUSH_NOT_SUPPORTED_ID").then(function(e){n.showError(e)})};return[{name:"DL_ADD_BRUSH_TO_DOC",icon:"brush",onClick:!0,apply:i,displayInMenu:!0}]}})}])}}),define("applications/IDSN/js/configuration/colortheme",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","designLibraryUtils","fileUtils","configuration","csInterface",function(e,t,n,i,r){e.registerOverride({type:i.COLOR_THEME_ELEMENT_TYPE,getApplyOperations:function(o,a,s,l,c,u){if(!o)return[];var d=1===l,p=l===c,f="data",h="colortheme",m=function(){var a=e.findRepresentation(o,n.getUsableTypes(i.COLOR_THEME_ELEMENT_TYPE)),s=a.getValue(h,f);if(s.name=o.name,t.reportApplyMetric(a,"createColorGroup"),p===!0){var l="addElement",u={opType:"createColorGroup",elementType:"colortheme",numElements:c};i.currentProduct.reportEvent(l,u)}return r.execApp("createColorGroup",[s,d,p])},g=[];if(s){var v=e.getApplyOperations({type:i.COLOR_ELEMENT_TYPE},a);v.forEach(function(r){g.push({name:r.name,icon:r.icon,displayInMenu:r.displayInMenu,onClick:r.onClick,apply:function(){r.apply(s,function(r){var a=e.findRepresentation(o,n.getUsableTypes(i.COLOR_THEME_ELEMENT_TYPE));a&&t.reportApplyMetric(a,r)})}})})}return g.push({name:"DL_ID_ADD_COLORTHEME_TOOLTIP",icon:"paintbucket",apply:m,displayInMenu:!0,allowMultiple:!0}),g}})}])}}),define("applications/IDSN/js/configuration/template",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$translate","designLibraryElements","csInterface","fileUtils","designLibraryUtils","adobeStockUtils","configuration",function(e,t,n,i,r,o,a){t.registerOverride({type:a.TEMPLATE_ELEMENT_TYPE,getApplyOperations:function(a,s){var l,c=i.getUsableTypes(a.type),u=a.representations.filter(function(e){var n="rendition"===e.relationship,i=t.isRepresentationCompatible(e,c);return!n&&i}),d=0===u.length;if(d&&t.isRepresentationCompatible(a.getPrimaryRepresentation(),c,!0)&&(l=o.getStockTemplateUseError(a)),!d||l){var p=function(){if(l)return n.showError(e.instant(l));var t=u[0];return t?(r.reportApplyMetric(t,"useTemplate"),t.getContentPath().then(function(e){return n.execApp("openDocumentFromTemplate",[e,a.name])})):void 0};return[{name:"DL_OPEN_DOC_FROM_TEMPLATE",icon:"template",onDoubleClick:!0,apply:p,displayInMenu:!0}]}return[]}})}])}}),define("applications/IDSN/js/configuration/animation",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","idsnGraphicUtils","configuration","$translate","documentWatcher","designLibraryManager","tempFileManager","adobeStockUtils","designLibraryElementUtils","designLibraryCEPEventHandlers","designLibraryCEPEventEmitters","lockUtils","metrics",function(e,t,n,i,r,o,a,s,l,c,u,d,p,f,h,m,g,v){t.registerOverride({type:s.ANIMATION_ELEMENT_TYPE,getApplyOperations:function(e,t,n,i,r,o){return a.getApplyOperations(e,t,n,i,r,o)},defaultEditOperation:function(e){return!1}})}])}}),define("applications/IDSN/js/configuration/main",["require","exports","./color","./image","./textstyle","./parastyle","./layerstyle","./brush","./colortheme","./template","./animation"],function(e,t){"use strict";t.attach=function(t){e("./color").attach(t),e("./image").attach(t),e("./textstyle").attach(t),e("./parastyle").attach(t),e("./layerstyle").attach(t),e("./brush").attach(t),e("./colortheme").attach(t),e("./template").attach(t),e("./animation").attach(t)}}),define("applications/ILST/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","ILSTUtils","ILSTEvents",function(e,t,n,i,r,o,a,s){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,getApplyOperations:function(i,l){var c=function(t){return function(l,c){return l||(l=[],i.representations.forEach(function(t){var n=t.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY),r=e.getDisplayText(i);n.name=r,"primary"===t.relationship?l.unshift(n):l.push(n)}),i.representations.length>0&&(a.logPIPEvent(a.PIPGlobals.DLtoAI,a.PIPGlobals.Color,a.PIPGlobals.Added),r.reportApplyMetric(i.representations[0],t))),angular.isFunction(c)&&c(t),n.execApp(t,[l]).then(function(e){"true"===e&&s.alertSpotMismatch()})}},u=t.getLayerInfo();return u?u.selectionExists||u.textSelectionExists?[{name:"DL_SET_COLOR_TOOLTIP",icon:"paintbucket",apply:c("setColor"),displayInMenu:!0,onClick:!0},{name:"DL_ID_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:c("addColor"),displayInMenu:!0}]:[{name:"DL_ID_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:c("addColor"),displayInMenu:!0}]:[]},defaultEditOperation:function(t){var r,a=e.findRepresentation(t,i.getUsableTypes(o.COLOR_ELEMENT_TYPE));a&&(r=a.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY));var s;return n.execApp("replaceColor",[r]).then(function(e){return s=JSON.parse(e),n.execApp("getLayerColor",[])}).then(function(e){if(s){var n=JSON.parse(e);t.beginOperation(),t.removeAllRepresentations(),n.forEach(function(e,n){var i=0===n?"primary":"rendition",r=t.createRepresentation(o.COLOR_REPRESENTATION_TYPE,i);r.setValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY,e)}),t.endOperation()}})}})}])}}),define("applications/ILST/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","adobeStockUtils","designLibraryElementUtils","designLibraryCEPEventHandlers","designLibraryCEPEventEmitters","lockUtils","metrics",function(e,t,n,i,r,o,a,s,l,c,u,d,p,f,h,m,g){t.registerOverride({type:s.IMAGE_ELEMENT_TYPE,getApplyOperations:function(e,a){var l=function(n){var a=d.getStockId(e),l=t.findRepresentation(e,r.getUsableTypes(s.IMAGE_ELEMENT_TYPE));return l?(o.reportApplyMetric(l,"placeAsset",n),l.getContentPath().then(function(r){return i.execApp("placeAsset",[r,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,a,a?d.isLicensed(e):null,n])})):e.getThumbnailPath().then(function(r){return o.reportApplyMetric({type:"image/png",_element:e},"placeAsset",n),i.execApp("placeAsset",[r,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,a,a?d.isLicensed(e):null,n])},function(e){console.log(e)})},c=n.getLayerInfo();return c?[{name:"DL_ADD_IMAGE_TO_DOC_AS_LINKED",icon:"download",apply:function(){l(!0)},displayInMenu:!0},{name:"DL_ADD_IMAGE_TO_DOC_AS_COPY",icon:"download",apply:function(){l(!1)},displayInMenu:!0}]:[]},defaultEditOperation:function(n){if(!t.isElementEditable(n))return!1;g.reportPanelEvent("editElement",{libraryID:n.library&&n.library.id,elementID:n.id,elementType:"image"});var v,_,y=n.getPrimaryRepresentation(),E=!1,b=!1,L="documentLock_"+n.id,S=n.library&&n.library.name;u.createTempFile(n,y).then(function(e){return v=e,_=r.getFileNameWithoutExtension(v)+".png",i.execApp("openAssetForEdit",[e,_,"Image"])}).then(function(g){var y=new CSEvent("com.adobe.illustrator.FitCurrentDocumentViewToActiveArtboard","APPLICATION");i.dispatchEvent(y);var A=c.startListening(g,v,function(g){if("closed"===g)m.obtainLock(L,function(){c.stopListening(A),E=!0,b===!1&&u.deleteTempFile(n,v),f.elementEditCompleted(n),m.releaseLock(L)});else if("saved"===g){if(!o.checkFileSize(v))return;b=!0;var y,T=n.library,C=!T||T.isDeletedLocally;if(C||!T.isWritable){if(T=a.getRecoveryLibrary(S),!T)return;y=!0}m.obtainLock(L,function(){var o=d.getStockDataForElement(n);n.isDeletedLocally||y?n=T.createElement(n.name,n.type):(n.beginOperation(),n.removeAllRepresentations());var a=r.fileNameToContentType(v),c=n.createRepresentation(a,"primary");o&&d.setStockData(c,o);var f=[];if(f.push(c.setContentFromPath(v)),_&&r.existsFile(_)){var g=t.setRendition(n,s.IMAGE_RENDITION_SIZE,_);f.push(g)}var A=function(){h.sendElementUpdated(c),E?u.deleteTempFile(n,v):u.updateTempFile(n,c,v),b=!1,n.endOperation(),m.releaseLock(L),y&&(p.revealElement(n),C?i.showError(l.instant("DL_WARNING_RECOVERED_FROM_DELETED",{recoveryLibraryName:T.name})):i.showError(l.instant("DL_WARNING_RECOVERED_FROM_READONLY",{recoveryLibraryName:T.name,originalLibraryName:S})))};e.all(f).then(A,A)})}})})}})}])}}),define("applications/ILST/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","$translate","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","ILSTUtils",function(e,t,n,i,r,o,a,s,l){var c="application/vnd.adobe.characterstyle+json",u="characterstyle",d="data";n.registerOverride({type:s.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t,p,f,h,m){var g=i.getLayerInfo(),v=function(e,t,n){e.type="charstyle",e.name=t,e.id=n},_=function(t){var i=n.findRepresentation(e,o.getUsableTypes(s.CHARACTER_STYLE_ELEMENT_TYPE));if(i){a.reportApplyMetric(i,t);var l,p=n.getDisplayText(e),m=e.id+";"+e.modified,g=1===f,_=f===h;if(i.type===c){var y=i.getValue(u,d);v(y,p,m),l=r.execApp(t,[y,g,_])}return l}},y=function(){return l.logPIPEvent(l.PIPGlobals.DLtoAI,l.PIPGlobals.CharacterStyle,l.PIPGlobals.Applied),_("setFont")},E=function(){return l.logPIPEvent(l.PIPGlobals.DLtoAI,l.PIPGlobals.CharacterStyle,l.PIPGlobals.Added),_("createTextLayer")},b=[];return g?(g&&"LayerKind.TEXT"===g.kind&&b.push({name:"DL_SET_TEXT_STYLE_TOOLTIP",icon:"text",onClick:!0,apply:y,displayInMenu:!0}),b.push({name:"DL_ADD_AS_TEXT_STYLE_TOOLTIP",icon:"pastetext",apply:E,displayInMenu:!0,allowMultiple:!0}),b):[]},getAddOperations:function(n){var l=function(e){return!1},p=function(n,l){function p(i){i&&"LayerKind.TEXT"===i.kind&&r.execApp("getCharStyleInfo").then(function(i){function r(){p.previewPath&&g.setThumbnailCache(s.CHARACTER_STYLE_RENDITION_SIZE,p.previewPath,function(){o.deleteFile(p.previewPath)}),g.endOperation()}var p=JSON.parse(i);p.styleName||(p.styleName=t.instant("DL_TYPE_NEW_CHAR_STYLE"));var h,m,g=a.createElementExtraMetrics(n,p.styleName,s.CHARACTER_STYLE_ELEMENT_TYPE,{opType:l}),v=[];if(h=g.createRepresentation(c,"primary"),h.setValue(u,d,p.styleInfo),p.previewPath){var _=g.createRepresentation("image/png","rendition");m=_.setContentFromPath(p.previewPath),v.push(m)}e.all(v).then(r,r),f.resolve(g)})}var f=e.defer();return i.requestUpdate(),i.addListener("layerSelectionChanged",p,!0),f.promise};return[{name:"DL_ADD_TEXT_STYLE_NAME",order:2,icon:"newcharacterstyle",apply:p,checkDuplicates:l,disabled:!n||!n.text||n.isAppliedCharStyleSupported===!1,displayIcon:!0}]}})}])}}),define("applications/ILST/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/ILST/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.BRUSH_ELEMENT_TYPE,getApplyOperations:function(o,a){var s=i.getUsableTypes(o.type),l=o.representations.filter(function(t){var n="rendition"===t.relationship,i=e.isRepresentationCompatible(t,s);return!n&&i}),c=t.getLayerInfo(),u=0===l.length||!c;if(!u){var d=function(){var e=l[0];return e?(r.reportApplyMetric(e,"useBrush"),e.getContentPath().then(function(e){return n.execApp("loadAndSelectBrush",[e,o.name])})):void 0};return[{name:"DL_ADD_BRUSH_TO_DOC",icon:"brush",onClick:!0,apply:d,displayInMenu:!0}]}return[]}})}])}}),define("applications/ILST/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","ILSTUtils",function(e,t,n,i,r,o,a){var s="application/vnd.adobe.paragraphstyle+json",l="paragraphstyle",c="data";e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getApplyOperations:function(u,d,p,f,h,m){var g=t.getLayerInfo(),v=function(e,t,n){e.type="parastyle",e.name=t,e.id=n},_=1===f,y=f===h,E=function(t){var a=e.findRepresentation(u,i.getUsableTypes(o.PARAGRAPH_STYLE_ELEMENT_TYPE));if(r.reportApplyMetric(a,t),a){var d,p=e.getDisplayText(u),f=u.id+";"+u.modified;if(a.type===s){var h=a.getValue(l,c);v(h,p,f),d=n.execApp(t,[h,_,y])}return d}},b=function(){return a.logPIPEvent(a.PIPGlobals.DLtoAI,a.PIPGlobals.ParagraphStyle,a.PIPGlobals.Applied),E("setFont")},L=function(){return a.logPIPEvent(a.PIPGlobals.DLtoAI,a.PIPGlobals.ParagraphStyle,a.PIPGlobals.Added),E("createTextLayer")},S=[];return g?(g&&"LayerKind.TEXT"===g.kind&&S.push({name:"DL_SET_PARA_STYLE_TOOLTIP",icon:"text",onClick:!0,apply:b,displayInMenu:!0}),S.push({name:"DL_ADD_AS_PARA_STYLE_TOOLTIP",icon:"pastetext",apply:L,displayInMenu:!0,allowMultiple:!0}),S):[]}})}])}}),define("applications/ILST/js/configuration/colortheme",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","designLibraryUtils","fileUtils","configuration","$translate","$q","csInterface","ILSTUtils","layerSelectionManager",function(e,t,n,i,r,o,a,s,l){e.registerOverride({type:i.COLOR_THEME_ELEMENT_TYPE,order:14,getApplyOperations:function(r,c,u){var d=[],p=function(){var e,t=o.defer();return r.representations.forEach(function(t){var n="data",i="colortheme",r=t.getValue(i,n);"primary"===t.relationship&&(e=r)}),a.execApp("addSwatchGroup",[e,r.name]).then(function(e){"undefined"===e&&(t.resolve(),s.logPIPEvent(s.PIPGlobals.DLtoAI,s.PIPGlobals.SwatchGroups,s.PIPGlobals.Added))}),t.promise},f=function(){if(!r||!u)return[];var o=[],a=e.getApplyOperations({type:"application/vnd.adobe.element.color+dcx"},c);return a.forEach(function(a){o.push({name:a.name,icon:a.icon,displayInMenu:a.displayInMenu,onClick:a.onClick,apply:function(){a.apply(u,function(o){var a=e.findRepresentation(r,n.getUsableTypes(i.COLOR_THEME_ELEMENT_TYPE));a&&t.reportApplyMetric(a,o)})}})}),o};d.push(f());var h=l.getLayerInfo();return h&&d.push({name:"DL_ADD_COLORTHEME_TO_SWATCHES",icon:"download",displayInMenu:!0,allowMultiple:!0,apply:function(){p().then(function(){var o=e.findRepresentation(r,n.getUsableTypes(i.COLOR_THEME_ELEMENT_TYPE));o&&t.reportApplyMetric(o,"AddColorTheme")})}}),d}})}])}}),define("applications/ILST/js/configuration/template",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$translate","designLibraryElements","csInterface","fileUtils","designLibraryUtils","adobeStockUtils","configuration",function(e,t,n,i,r,o,a){t.registerOverride({type:a.TEMPLATE_ELEMENT_TYPE,getApplyOperations:function(a,s){var l,c=i.getUsableTypes(a.type),u=a.representations.filter(function(e){var n="rendition"===e.relationship,i=t.isRepresentationCompatible(e,c);return!n&&i}),d=0===u.length;if(d&&t.isRepresentationCompatible(a.getPrimaryRepresentation(),c,!0)&&(l=o.getStockTemplateUseError(a)),!d||l){var p=function(){if(l)return n.showError(e.instant(l));var t=u[0];return t?(r.reportApplyMetric(t,"useTemplate"),t.getContentPath().then(function(e){return n.execApp("openDocumentFromTemplate",[e,a.name])})):void 0};return[{name:"DL_OPEN_DOC_FROM_TEMPLATE",icon:"template",onDoubleClick:!0,apply:p,displayInMenu:!0}]}return[]}})}])}}),define("applications/ILST/js/configuration/main",["require","exports","./color","./image","./textstyle","./layerstyle","./brush","./parastyle","./colortheme","./template"],function(e,t){"use strict";t.attach=function(t){e("./color").attach(t),e("./image").attach(t),e("./textstyle").attach(t),e("./parastyle").attach(t),e("./layerstyle").attach(t),e("./brush").attach(t),e("./colortheme").attach(t),e("./template").attach(t)}}),define("applications/MUSE/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.BRUSH_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/MUSE/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(e,i){var a=function(t){return function(i,a){return i||(i=[],e.representations.forEach(function(t){var n=t.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY);void 0!==e.name&&(n.name=e.name),"primary"===t.relationship?i.unshift(n):i.push(n)}),e.representations.length>0&&r.reportApplyMetric(e.representations[0],t)),angular.isFunction(a)&&a(t),n.execApp(t,[i])}},s=t.getLayerInfo();if(!s)return[];if(void 0===s.canApplyColor){var l=0===s.numberOfSelectedPageItems,c=l===!0||s.canApplyItemBackgroundFill===!0;return c?[{name:"DL_SET_COLOR_TOOLTIP",icon:"paintbucket",apply:a("setColor"),displayInMenu:!0,onClick:!0}]:[]}return s.canApplyColor!==!0?[{name:"DL_MU_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:a("addSwatch"),displayInMenu:!0}]:0===s.numberOfSelectedPageItems?[{name:"DL_SET_PAGE_FILL_COLOR_MU",icon:"paintbucket",allowMultiple:!1,apply:a("setColor"),displayInMenu:!0},{name:"DL_SET_BROWSER_FILL_COLOR_MU",icon:"paintbucket",allowMultiple:!1,apply:a("setBrowserFillColor"),displayInMenu:!0},{name:"DL_MU_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:a("addSwatch"),displayInMenu:!0}]:s.isTextSelection===!0?[{name:"DL_SET_TEXT_COLOR_MU",icon:"paintbucket",allowMultiple:!1,apply:a("setColor"),displayInMenu:!0,onClick:!0},{name:"DL_MU_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:a("addSwatch"),displayInMenu:!0}]:[{name:"DL_SET_FILL_COLOR_MU",icon:"paintbucket",apply:a("setColor"),displayInMenu:!0,onClick:!0},{name:"DL_SET_STROKE_COLOR_MU",icon:"paintbucket",apply:a("setStrokeColor"),displayInMenu:!0},{name:"DL_MU_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:a("addSwatch"),displayInMenu:!0}]},defaultEditOperation:function(t){var r,a,s,l=[],c=i.getUsableTypes(o.COLOR_ELEMENT_TYPE);for(r=0;r<t.representations.length;r++)a=t.representations[r],e.isRepresentationCompatible(a,c)&&(s=a.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY),l&&l.push(s));var u;return n.execApp("replaceColor",[l]).then(function(e){return u=JSON.parse(e),n.execApp("getLayerColor",[])}).then(function(e){if(u){var n=JSON.parse(e);t.beginOperation(),t.removeAllRepresentations(),n.forEach(function(e,n){var i=0===n?"primary":"rendition",r=t.createRepresentation(o.COLOR_REPRESENTATION_TYPE,i);r.setValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY,e)}),t.endOperation()}})}})}])}}),define("applications/MUSE/js/configuration/animation",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate","documentWatcher","designLibraryManager","tempFileManager","adobeStockUtils","designLibraryCEPEventHandlers",function(e,t,n,i,r,o,a,s,l,c,u,d,p){t.registerOverride({type:a.ANIMATION_ELEMENT_TYPE,getApplyOperations:function(e,r){var a=function(t){return o.reportApplyMetric(t,"placeAsset"),t.getContentPath().then(function(t){return i.execApp("placeAsset",[t,e.name,e.getReference(),!0,"usePlaceGun"])})},s=n.getLayerInfo();if(!s||!s.isDesignMode)return[];var l=t.findUsableRepresentation(e);return l?[{name:"DL_ADD_IMAGE_TO_DOC_AS_LINKED",icon:"download",allowMultiple:!0,apply:function(){a(l)},displayInMenu:!0}]:[]}})}])}}),define("applications/MUSE/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate","documentWatcher","designLibraryManager","tempFileManager","adobeStockUtils","designLibraryCEPEventHandlers",function(e,t,n,i,r,o,a,s,l,c,u,d,p){t.registerOverride({type:a.IMAGE_ELEMENT_TYPE,getApplyOperations:function(e,s){var l=function(n,s){var l="application/vnd.adobe.muse-collection",c=e.getPrimaryRepresentation(),u=c&&c.type===l;if(u)return o.reportApplyMetric(c,"placeAsset"),c.getContentPath().then(function(t){return i.execApp("placeAsset",[t,e.name,e.getReference(),n,s])});var d=t.findRepresentation(e,r.getUsableTypes(a.IMAGE_ELEMENT_TYPE));return d?(o.reportApplyMetric(d,"placeAsset"),d.getContentPath().then(function(t){return i.execApp("placeAsset",[t,e.name,e.getReference(),n,s])})):e.getThumbnailPath().then(function(t){return i.execApp("placeAsset",[t,e.name,e.getReference(),n,s])},function(e){console.log(e)})},c=n.getLayerInfo();if(!c||!c.isDesignMode)return[];var u="application/vnd.adobe.muse-collection",d=e.getPrimaryRepresentation(),p=d&&d.type===u,f=0===c.numberOfSelectedPageItems&&!p,h=f===!1&&c.canApplyItemBackgroundFill===!0&&p===!1;return[{name:"DL_ADD_IMAGE_TO_DOC_AS_LINKED",icon:"download",allowMultiple:!0,apply:function(){l(!0,"usePlaceGun")},displayInMenu:!p},{name:"DL_ADD_IMAGE_TO_DOC_AS_COPY",icon:"download",allowMultiple:!0,apply:function(){l(!1,"usePlaceGun")},displayInMenu:!0},{name:"DL_ADD_IMAGE_TO_ITEM_FILL_MU",icon:"download",allowMultiple:!1,apply:function(){l(!0,"setImageItemFill")},displayInMenu:h},{name:"DL_ADD_IMAGE_TO_PAGE_FILL_MU",icon:"download",allowMultiple:!1,apply:function(){l(!0,"setImagePageFill")},displayInMenu:f},{name:"DL_ADD_IMAGE_TO_BROWSER_FILL_MU",icon:"download",allowMultiple:!1,apply:function(){l(!0,"setImageBrowserFill")},displayInMenu:f}]}})}])}}),define("applications/MUSE/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]},getAddOperations:function(e){return[]}})}])}}),define("applications/MUSE/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]},getAddOperations:function(e){return[]}})}])}}),define("applications/MUSE/js/configuration/main",["require","exports","./brush","./color","./animation","./image","./parastyle","./textstyle"],function(e,t){"use strict";t.attach=function(t){e("./brush").attach(t),e("./color").attach(t),e("./animation").attach(t),e("./image").attach(t),e("./parastyle").attach(t),e("./textstyle").attach(t)}}),define("applications/PHXS/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,getApplyOperations:function(e,i){var s=function(t,i){return function(a,s){return a||(a=[],e.representations.forEach(function(e){var t=e.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY);"primary"===e.relationship?a.unshift(t):a.push(t)}),e.representations.length>0&&r.reportApplyMetric(e.representations[0],t)),angular.isFunction(s)&&s(t),n.execApp(t,[a,i])}},l=t.getLayerInfo(),c={name:"DL_SET_COLOR_TOOLTIP",icon:"paintbucket",apply:s("setColor",a.instant("DL_SET_COLOR_TOOLTIP")),displayInMenu:!0},u=[];return l&&l.selectionExists?(l.enableShapeLayerApplyOperations?(u.push({name:"DL_SET_FILL_COLOR_TOOLTIP",icon:"paintbucket",apply:s("setFillColor",a.instant("DL_SET_FILL_COLOR_TOOLTIP")),displayInMenu:!0}),u.push({name:"DL_SET_STROKE_COLOR_TOOLTIP",icon:"brush",apply:s("setStrokeColor",a.instant("DL_SET_STROKE_COLOR_TOOLTIP")),displayInMenu:!0})):u.push(c),u.push({name:"DL_SET_COLOR_OVERLAY_TOOLTIP",icon:"brush",apply:s("setColorOverlay",a.instant("DL_SET_COLOR_OVERLAY_TOOLTIP")),displayInMenu:!0,disableClick:!0})):u.push(c),u[0].disableClick!==!0&&(u[0].onClick=!0),u},defaultEditOperation:function(t){var r,a=e.findRepresentation(t,i.getUsableTypes(o.COLOR_ELEMENT_TYPE));a&&(r=a.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY));var s;return n.execApp("replaceColor",[r]).then(function(e){return s=JSON.parse(e),n.execApp("getLayerColor",[])}).then(function(e){if(s){var n=JSON.parse(e);t.beginOperation(),t.removeAllRepresentations(),n.forEach(function(e,n){var i=0===n?"primary":"rendition",r=t.createRepresentation(o.COLOR_REPRESENTATION_TYPE,i);r.setValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY,e)}),t.endOperation()}})}})}])}}),define("applications/PHXS/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","adobeStockUtils","phxsImageUtils",function(e,t,n,i,r,o,a,s){e.registerOverride({type:o.IMAGE_ELEMENT_TYPE,getApplyOperations:function(l,c){var u=function(t){return e.findRepresentation(t,i.getUsableTypes(o.IMAGE_ELEMENT_TYPE))},d=function(t){var i=a.getStockId(l),o=u(l);return o?(r.reportApplyMetric(o,"placeAsset",t),o.getContentPath().then(function(r){return n.execApp("placeAsset",[r,l.library.name,l.name,l.getReference(),e.getElementModifiedTime(l),l.created,i,i?a.isLicensed(l):null,t])})):l.getThumbnailPath().then(function(o){return r.reportApplyMetric({type:"image/png",_element:l},"placeAsset",t),n.execApp("placeAsset",[o,l.library.name,l.name,l.getReference(),e.getElementModifiedTime(l),l.created,i,i?a.isLicensed(l):null,t])},function(e){console.log(e)})};if(!t.hasDocumentOpen())return[];var p=!1,f=u(l);if(f){var h=["application/postscript","application/pdf","application/illustrator"];-1!==h.indexOf(f.type)&&(p=!0)}var m=[];return s.primaryRepIsTemplateFormat(l)||m.push({name:"DL_ADD_IMAGE_TO_DOC_AS_LINKED",icon:"download",apply:function(){d(!0)},displayInMenu:!0}),m.push({name:p?"DL_ADD_IMAGE_TO_DOC_AS_COPY":"DL_ADD_IMAGE_TO_DOC_AS_LAYERS",icon:"download",apply:function(){d(!1)},displayInMenu:!0}),m},defaultEditOperation:function(e){return s.editImageOr3DElement(e)},transformAddOperations:function(e,t){var n=t&&t.hasOwnProperty("libraryLinked")&&t.libraryLinked;
return n&&e&&e.length>0&&"DL_ADD_IMAGE_NAME"===e[0].name&&(e[0].disabled=!0),e}})}])}}),define("applications/PHXS/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,getApplyOperations:function(a,s){var l=t.getLayerInfo(),c=function(){var t=e.findRepresentation(a,i.getUsableTypes(o.LAYER_STYLE_ELEMENT_TYPE));return t?(r.reportApplyMetric(t,"applyLayerStyle"),t.getContentPath().then(function(e){return n.execApp("applyLayerStyle",[e])})):void 0};return!l||l&&!l.enableApplyStyle?[]:[{name:"DL_APPLY_LAYER_STYLE",icon:"layerstyle",onClick:!0,apply:c,displayInMenu:!0}]}})}])}}),define("applications/PHXS/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){var s="characterstyle",l="data";e.registerOverride({type:o.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(c,u){var d=function(){var t=e.findRepresentation(c,i.getUsableTypes(o.CHARACTER_STYLE_ELEMENT_TYPE));if(t){r.reportApplyMetric(t,"setFont");var u=t.getValue(s,l);return n.execApp("setFont",[u,a.instant("DL_PHXS_HISTORY_ENTRY_SET_TEXT_STYLE")])}},p=function(){var t=e.findRepresentation(c,i.getUsableTypes(o.CHARACTER_STYLE_ELEMENT_TYPE));if(t){r.reportApplyMetric(t,"createTextLayer");var u=t.getValue(s,l);return n.execApp("createFontLayer",[u,a.instant("DL_PHXS_HISTORY_ENTRY_CREATE_TEXT_LAYER")])}},f=[],h=t.getLayerInfo();return!h||h&&!h.selectionExists?[]:(h&&h.enableApplyText&&f.push({name:"DL_SET_TEXT_STYLE_TOOLTIP",icon:"text",onClick:!0,apply:d,displayInMenu:!0}),f.push({name:"DL_CREATE_TEXT_LAYER_TOOLTIP",icon:"pastetext",apply:p,displayInMenu:!0}),f)}})}])}}),define("applications/PHXS/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r){e.registerOverride({type:r.BRUSH_ELEMENT_TYPE,getApplyOperations:function(r,o){var a=n.getUsableTypes(r.type),s=r.representations.filter(function(t){var n="rendition"===t.relationship,i=e.isRepresentationCompatible(t,a);return!n&&i}),l=0===s.length;if(!l){var c=function(){var e=s[0];return e?(i.reportApplyMetric(e,"useBrush"),e.getContentPath().then(function(n){var i="photoshop",o={tool:e.getValue(i,"tool"),flow:e.getValue(i,"flow"),opacity:e.getValue(i,"opacity"),blendMode:e.getValue(i,"blendMode"),color:e.getValue(i,"color")};return t.execApp("loadAndSelectBrush",[n,r.name,o])})):void 0};return[{name:"DL_ADD_BRUSH_TO_DOC",icon:"brush",onClick:!0,apply:c,displayInMenu:!0}]}return[]}})}])}}),define("applications/PHXS/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getAddOperations:function(){return[]}})}])}}),define("applications/PHXS/js/configuration/pattern",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","localSettings","$translate",function(e,t,n,i,r,o,a,s){e.registerOverride({type:o.PATTERN_ELEMENT_TYPE,isDraggable:function(){return o.currentProduct.config.enablePatternDragging},getApplyOperations:function(a,l){var c=t.getLayerInfo();if(!c||c&&!c.selectionExists)return[];var u=function(){var t=e.findRepresentation(a,i.getUsableTypes(o.PATTERN_ELEMENT_TYPE));return t?(r.reportApplyMetric(t,"applyPattern"),t.getContentPath().then(function(e){return n.execApp("makePatternLayerFromFile",[e,a.name,s.instant("DL_PHXS_HISTORY_ENTRY_APPLY_PATTERN")])})):void 0},d=function(){var t=e.findRepresentation(a,i.getUsableTypes(o.PATTERN_ELEMENT_TYPE));return t?(r.reportApplyMetric(t,"definePatternPreset"),t.getContentPath().then(function(e){return n.execApp("definePatternFile",[e,a.name])})):void 0};return[{name:"DL_APPLY_PATTERN",onClick:!0,apply:u,displayInMenu:!0},{name:"DL_ADD_PATTERN_TO_PRESETS",icon:"brush",onClick:!1,apply:d,displayInMenu:!0}]}})}])}}),define("applications/PHXS/js/configuration/look",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LOOK_ELEMENT_TYPE,isDraggable:!1,getApplyOperations:function(s,l){var c=function(){var t=e.findRepresentation(s,i.getUsableTypes(o.LOOK_ELEMENT_TYPE));return t?(r.reportApplyMetric(t,"makeColorLookupLayerFromFile"),t.getContentPath().then(function(e){return n.execApp("makeColorLookupLayerFromFile",[e,s.name])})):void 0},u=!0,d=function(e){n.execApp("frontDocIsRGB").then(function(t){"true"===t?c():e&&alert(a.instant("DL_APPLY_LOOK_REQUIRES_RGB"))})},p=t.getLayerInfo();return!p||p&&!p.enableApplyLook&&!u?[]:[{name:"DL_APPLY_LOOK",onClick:!0,isDraggable:!1,apply:function(){d(!1)},displayInMenu:!1},{name:"DL_APPLY_LOOK",onClick:!1,isDraggable:!1,apply:function(){d(!0)},displayInMenu:!0}]}})}])}}),define("applications/PHXS/js/configuration/3d",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","designLibraryCEPEventHandlers","designLibraryCEPEventEmitters","lockUtils","phxsImageUtils",function(e,t,n,i,r,o,a,s,l,c,u,d,p,f,h){t.registerOverride({type:s.THREE_D_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(e,a){var l=function(e){return t.findRepresentation(e,r.getUsableTypes(s.THREE_D_ELEMENT_TYPE))},c=function(){var n=l(e);return n?(o.reportApplyMetric(n,"placeAsset",!1),n.getContentPath().then(function(n){return i.execApp("placeAsset",[n,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,null,null,!1])})):e.getThumbnailPath().then(function(n){return o.reportApplyMetric({type:"image/png",_element:e},"placeAsset",!1),i.execApp("placeAsset",[n,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,null,null,!1])},function(e){console.log(e)})};return n.hasDocumentOpen()?[{name:"DL_ADD_IMAGE_TO_DOC",icon:"download",apply:function(){c()},displayInMenu:!0}]:[]},defaultEditOperation:function(e){h.editImageOr3DElement(e)}})}])}}),define("applications/PHXS/js/configuration/template",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$translate","designLibraryElements","csInterface","fileUtils","designLibraryUtils","adobeStockUtils","configuration",function(e,t,n,i,r,o,a){t.registerOverride({type:a.TEMPLATE_ELEMENT_TYPE,getApplyOperations:function(a,s){var l,c=i.getUsableTypes(a.type),u=a.representations.filter(function(e){var n="rendition"===e.relationship,i=t.isRepresentationCompatible(e,c);return!n&&i}),d=0===u.length;if(d&&t.isRepresentationCompatible(a.getPrimaryRepresentation(),c,!0)&&(l=o.getStockTemplateUseError(a)),!d||l){var p=function(){if(l)return n.showError(e.instant(l));var t=u[0];return t?(r.reportApplyMetric(t,"useTemplate"),t.getContentPath().then(function(e){return n.execApp("openDocumentFromTemplate",[e,a.name,a.getReference()])})):void 0};return[{name:"DL_OPEN_DOC_FROM_TEMPLATE",icon:"template",onDoubleClick:!0,apply:p,displayInMenu:!0}]}return[]}})}])}}),define("applications/PHXS/js/configuration/main",["require","exports","./color","./image","./layerstyle","./textstyle","./brush","./parastyle","./pattern","./look","./3d","./template"],function(e,t){"use strict";t.attach=function(t){e("./color").attach(t),e("./image").attach(t),e("./layerstyle").attach(t),e("./textstyle").attach(t),e("./brush").attach(t),e("./parastyle").attach(t),e("./pattern").attach(t),e("./look").attach(t),e("./3d").attach(t),e("./template").attach(t)}}),define("applications/PPRO/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,order:9,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/PPRO/js/configuration/colortheme",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","designLibraryUtils","fileUtils","configuration",function(e,t,n,i){e.registerOverride({type:i.COLOR_THEME_ELEMENT_TYPE,order:14,getApplyOperations:function(e,t,n){return[]}})}])}}),define("applications/PPRO/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","adobeStockUtils",function(e,t,n,i,r,o,a,s,l,c,u,d){t.registerOverride({type:s.IMAGE_ELEMENT_TYPE,transformAddOperations:function(e,t){return e&&e.length>0&&"DL_ADD_IMAGE_NAME"===e[0].name&&(e[0].disabled=!0),e},getApplyOperations:function(e,a){var l=function(n){var a=d.getStockId(e),l=t.findRepresentation(e,r.getUsableTypes(s.IMAGE_ELEMENT_TYPE));return l?(o.reportApplyMetric(l,"placeAsset"),l.getContentPath().then(function(o){var c=r.mimeLookup(s.IMAGE_ELEMENT_TYPE,l.type),u=c&&"Photoshop"===c.name;return i.execApp("placeAsset",[o,u,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,a,a?d.isLicensed(e):null,n])})):e.getThumbnailPath().then(function(r){return o.reportApplyMetric({type:"image/png",_element:e},"placeAsset"),i.execApp("placeAsset",[r,!1,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,a,a?d.isLicensed(e):null,n])},function(e){console.log(e)})},c=n.getLayerInfo();return c?[{name:"DL_ADD_IMAGE_TO_PROJECT",icon:"download",apply:l,displayInMenu:!0}]:[]}})}])}}),define("applications/PPRO/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.CHARACTER_STYLE_ELEMENT_TYPE,order:13,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/PPRO/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,order:11,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/PPRO/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.BRUSH_ELEMENT_TYPE,order:10,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/PPRO/js/configuration/look",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a,s){t.registerOverride({type:a.LOOK_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(e,n){var i=function(){var n=t.findRepresentation(e,r.getUsableTypes(a.LOOK_ELEMENT_TYPE));return n?n.getContentPath().then(function(e){}):void 0};return[{name:"DL_APPLY_LOOK",onClick:!0,isDraggable:!0,apply:i,displayInMenu:!1}]},getAddOperations:function(t){var n=function(t,n){var s=e.defer();return i.execApp("getSelectedLookData").then(function(i){var l,c,u=JSON.parse(i),d=o.createElementExtraMetrics(t,u.name,a.LOOK_ELEMENT_TYPE,{opType:n}),p=[];if(u.lookPath&&(l=d.createRepresentation("application/vnd.adobe.look+xml","primary"),c=l.setContentFromPath(u.lookPath).then(function(){r.deleteFile(u.lookPath)}),p.push(c)),u.cubePath){var f="primary";u.lookPath&&(f="alternate"),l=d.createRepresentation("application/vnd.adobe.cube+txt",f),c=l.setContentFromPath(u.cubePath).then(function(){r.deleteFile(u.cubePath)}),p.push(c)}if(u.previewPath){var h=d.createRepresentation("image/jpg","rendition");c=h.setContentFromPath(u.previewPath).then(function(){h.width=a.LOOK_RENDITION_SIZE,h.height=a.LOOK_RENDITION_SIZE,r.deleteFile(u.previewPath)}),p.push(c)}e.all(p).then(function(){d.endOperation(),s.resolve(d)},function(){t.removeElement(d,!0),s.reject("Could not create element.")})},function(){s.reject("Could not create element.")}),s.promise};return[{name:"DL_ADD_LOOK_NAME",order:0,icon:"newlook",apply:n,disabled:!t||!t.look,displayIcon:!0}]}})}])}}),define("applications/PPRO/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,order:12,getApplyOperations:function(e,t){return[]},getAddOperations:function(){return[]}})}])}}),define("applications/PPRO/js/configuration/video",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","configuration","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","adobeStockUtils",function(e,t,n,i,r,o,a){e.registerOverride({type:t.VIDEO_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(s,l){var c=function(){var n=a.getStockId(s),l=e.findRepresentation(s,r.getUsableTypes(t.VIDEO_ELEMENT_TYPE));if(l){o.reportApplyMetric(l,"placeAsset");var c=[],u=r.getUsableTypes(s.type);return s.representations.forEach(function(t){e.isRepresentationCompatible(t,u)&&c.push({contentType:t.type,url:t.getContentURL()})}),i.execApp("placeAsset",[c,!1,s.library.name,s.name,s.getReference(),e.getElementModifiedTime(s),s.created,n,n?a.isLicensed(s):null,!1])}},u=n.getLayerInfo();return u?[{name:"DL_ADD_VIDEO_TO_PROJECT",icon:"download",apply:c,displayInMenu:!0}]:[]}})}])}}),define("applications/PPRO/js/configuration/main",["require","exports","./color","./colortheme","./image","./textstyle","./layerstyle","./brush","./look","./parastyle","./video"],function(e,t){"use strict";t.attach=function(t){e("./color").attach(t),e("./colortheme").attach(t),e("./image").attach(t),e("./textstyle").attach(t),e("./layerstyle").attach(t),e("./brush").attach(t),e("./look").attach(t),e("./parastyle").attach(t),e("./video").attach(t)}}),define("edgeccTemplates",[],function(){return function(e){"use strict";e.put("directives/designlibrary/templates/designLibrary.tmpl.html",'<div class="panel-dl-container">\n\n    <div class="panel-dl-header">\n        <div class="panel-dl-header-library">\n            <edgecc-select class="panel-library-combo" ng-disabled="!libraries || libraries.length === 0" ng-model="library" ng-change="selectedLibraryChanged()" options-array="libraries" display-field="name" max-height="350">\n            </edgecc-select>\n\n            <button class="panel-dl-header-toggle-button edgecc-icon" ng-class="{selected: uiState.view === \'grid\'}" ng-click="setViewState(\'grid\')" ng-disabled="uiState.mode === \'search\' && uiState.modeParams.type === \'stock\'"\n                    edgecc-hover edgecc-tooltip tooltip-content="{{\'DL_SWITCH_TO_GRIDVIEW_TOOLTIP\' | translate}}">newgridview</button>\n\n            <button class="panel-dl-header-toggle-button edgecc-icon" ng-class="{selected: uiState.view === \'list\'}" ng-click="setViewState(\'list\')" ng-disabled="uiState.mode === \'search\' && uiState.modeParams.type === \'stock\'"\n                    edgecc-hover edgecc-tooltip tooltip-content="{{\'DL_SWITCH_TO_LISTVIEW_TOOLTIP\' | translate}}">newlistview</button>\n        </div>\n\n        <edgecc-search disable="!library" ng-show="uiState.mode !== \'relink\'"></edgecc-search>\n\n        <div ng-if="uiState.mode === \'relink\'" class="panel-relink-header">\n            <div class="panel-relink-header-image-missing" ng-if="uiState.modeParams.missing === true"></div>\n            <div class="panel-relink-header-image edgecc-icon" ng-if="uiState.modeParams.missing === false">cloud</div>\n            <div class="panel-relink-header-text">{{uiState.modeParams.message}}</div>\n        </div>\n    </div>\n\n    <edgecc-dl-undo></edgecc-dl-undo>\n\n    <edgecc-dl-no-libraries ng-show="!library" create-callback="showCreateDialog()"></edgecc-dl-no-libraries>\n\n    <edgecc-dl-stock ng-if="uiState.mode === \'search\' && uiState.modeParams.type === \'stock\'" library="library"></edgecc-dl-stock>\n\n    <edgecc-design-library-contents ng-hide="uiState.mode === \'search\' && uiState.modeParams.type === \'stock\'" library="library"></edgecc-design-library-contents>\n\n    <div ng-show="uiState.mode === \'relink\' && showRelinkOverlay" class="panel-relink-overlay" ng-mouseenter="onMouseEnter()">\n        <div class="panel-relink-overlay-message">{{uiState.modeParams.overlayMessage}}</div>\n    </div>\n\n    <edgecc-dl-footer library="library"></edgecc-dl-footer>\n\n    <edgecc-modal-dialog ng-if="createDialog.visible" disable-ok="!isValidName(newItem.name)" show-dialog="createDialog.visible" on-submit="createDesignLibrary()" title-text="DL_CREATE_DESIGN_LIBRARY" ok-text="DL_CREATE" cancel-text="DL_CANCEL">\n        <div class="panel-dialog-layout-group">\n            <div class="panel-dialog-layout-75">\n                <input ng-model="newItem.name" type="text" placeholder="{{\'DL_NAME_DESC\' | translate}}" style="width:100%" edgecc-set-focus="createDialog.setFocus" ng-keydown="onCreateLibKeyDown($event)" spellcheck="false"/>\n            </div>\n        </div>\n    </edgecc-modal-dialog>\n\n    <edgecc-modal-dialog ng-if="deleteDialog.visible" show-dialog="deleteDialog.visible" on-submit="deleteCurrentLibrary()" title-text="{{deleteDialog.title}}" ok-text="{{deleteDialog.btnTitle}}" cancel-text="DL_CANCEL">\n        <div class="panel-dialog-layout-100" ng-bind="deleteDialog.text"></div>\n    </edgecc-modal-dialog>\n\n    <edgecc-modal-dialog ng-if="stockPurchaseDialog.visible" show-dialog="stockPurchaseDialog.visible" on-submit="confirmStockPurchase" on-cancel="cancelStockPurchase()" title-text="{{stockPurchaseDialog.titleText}}" ok-text="{{stockPurchaseDialog.okText}}" cancel-text="{{stockPurchaseDialog.cancelText}}" secondary-ok-text="{{stockPurchaseDialog.secondaryOkText}}">\n        <div class="panel-dialog-layout-100" ng-bind-html="stockPurchaseDialog.text"></div>\n    </edgecc-modal-dialog>\n\n    <edgecc-modal-dialog ng-if="settingsDialog.visible" disable-ok="!isValidName(editItem.name)" show-dialog="settingsDialog.visible" on-submit="updateDesignLibrary()" title-text="{{ \'DL_RENAME_LIBRARY\' | translate:library }}" ok-text="DL_RENAME" cancel-text="DL_CANCEL">\n        <div class="panel-dialog-layout-group">\n            <input ng-model="editItem.name" type="text" placeholder="{{\'DL_NAME_DESC\' | translate}}" style="width:100%" edgecc-set-focus="settingsDialog.setFocus" ng-keydown="onRenameLibKeyDown($event)" spellcheck="false"/>\n        </div>\n    </edgecc-modal-dialog>\n</div>\n'),e.put("directives/designlibrary/templates/designLibraryArchive.tmpl.html",'<div class="panel-archive-window" ng-click="stopPropagation($event)">\n    <div class="panel-archive-contents">\n        <div class="panel-archive-header">\n            <div class="edgecc-icon panel-archive-header-icon">{{deleteIcon}}</div>\n            <div class="panel-archive-header-right">\n                <div class="panel-archive-header-title" ng-show="filterByCurrentLibrary">Deleted: {{currentLibrary.name}}</div>\n                <div ng-show="!filterByCurrentLibrary">Deleted</div>\n                <div ng-show="filterByCurrentLibrary"><a class="panel-archive-link" ng-click="toggleFilter()">all libraries</a></div>\n            </div>\n        </div>\n        <div class="panel-archive-item" ng-repeat="item in archiveList | orderBy:\'-time\' | limitTo:10">\n            <div class="panel-archive-time">\n                <div class="panel-archive-time-text"><span>{{item.time | date:\'MM/dd/yyyy @ h:mma\'}}</span><span ng-show="!filterByCurrentLibrary">&nbsp;&nbsp;({{item.library.name}})</span></div>\n                <div class="panel-archive-element-actions" ng-show="item.elements.length > 1">\n                    <div><a class="panel-archive-undo edgecc-icon" ng-class="{disabled: !item.library.isWritable || item.library.elements.length + item.elements.length > MAX_ELEMENTS}" ng-click="restoreElements(item.elements)" edgecc-tooltip tooltip-content="Restore All">refresh</a></div>\n                    <div><a class="panel-archive-delete edgecc-icon" ng-class="{disabled: !item.library.isWritable}" ng-click="deleteElements(item.elements)" edgecc-tooltip tooltip-content="Permanently Delete All">&nbsp;{{deleteIcon}}</a></div>\n                </div>\n            </div>\n            <div class="panel-archive-element" ng-repeat="element in item.elements | orderBy:displayName | limitTo:2">\n                <div class="panel-archive-element-details">\n                    <img class="panel-archive-thumbnail" ng-src="{{element.thumbnail}}" />\n                    <div class="panel-archive-element-name">{{element.displayName}}</div>\n                </div>\n                <div class="panel-archive-element-actions">\n                    <div><a class="panel-archive-undo edgecc-icon" ng-class="{disabled: !item.library.isWritable || item.library.elements.length + 1 > MAX_ELEMENTS}" ng-click="restoreElements([element])" edgecc-tooltip tooltip-content="Restore">refresh</a></div>\n                    <div><a class="panel-archive-delete edgecc-icon" ng-class="{disabled: !item.library.isWritable}" ng-click="deleteElements([element])" edgecc-tooltip tooltip-content="Permanently Delete">&nbsp;{{deleteIcon}}</a></div>\n                </div>\n            </div>\n            <div class="panel-archive-element" ng-show="item.elements.length > 2">... and {{item.elements.length - 2}} others</div>\n        </div>\n        <div class="panel-archive-none" ng-show="archiveList.length === 0">No recently-deleted items</div>\n    </div>\n</div>\n'),e.put("directives/designlibrary/templates/designLibraryContents.tmpl.html",'<div class="panel-dl-contents" ng-class="{\'panel-dl-contents-relink\': uiState.mode === \'relink\'}" ng-show="library" ng-click="clickOutsideComponent($data)"\n     edgecc-drop-files drop-types="{{allowedDropTypes}}" drop-sources="{{allowedDropSources}}" on-drop="onLayerDrop($data)"\n     on-drag-enter="onLayerDragEnter($data)" on-drag-leave="onLayerDragLeave($data)" ng-style="library.isDeletedFromServer ? {\'overflow\': \'hidden\'} : {}">\n\n    <div class="panel-dl-contents-quota-message" ng-if="library.isQuotaExceeded">\n        <div class="panel-dl-contents-quota-message-icon edgecc-icon">alert</div>\n        <div>\n            <div class="panel-dl-contents-quota-message-text" translate>DL_QUOTA_EXCEEDED_LIBRARY_MESSAGE</div>\n            <div class="panel-dl-contents-quota-message-text" translate>DL_QUOTA_EXCEEDED_LIBRARY_TIP</div>\n        </div>\n    </div>\n\n    <div class="panel-dl-contents-area">\n        <edgecc-dl-category library="library"></edgecc-dl-category>\n    </div>\n\n    <div class="panel-deleted-message-container" ng-if="library.isDeletedFromServer">\n      <div class="panel-deleted-message">\n        <div class="panel-deleted-message-inner">\n            <div class="panel-deleted-message-icon edgecc-icon">creativecloudwarning</div>\n            <div ng-if="library.collaboration !== \'incoming\'" class="panel-deleted-message-description" translate>DL_DELETED_FROM_SERVER</div>\n            <div ng-if="library.collaboration === \'incoming\'" class="panel-deleted-message-description" translate>DL_UNSHARED</div>\n        </div>\n                    <div class="panel-deleted-message-options">\n              <a class="panel-deleted-message-link" ng-click="deleteCurrentLibrary()" translate>DL_REMOVE_FROM_LIST</a>\n            </div>\n      </div>\n    </div>\n</div>\n\n<div ng-show="isDraggingLayer" class="panel-dl-contents-drop-area">\n    <div class="panel-dl-contents-drop-area-container">\n        <div ng-show="isDropAllowed && !isDraggingLayerToLink" class="panel-dl-contents-drop-area-icon edgecc-icon">addcopy</div>\n        <div ng-show="isDropAllowed && isDraggingLayerToLink" class="panel-dl-contents-drop-area-icon edgecc-icon">addlink</div>\n        <div ng-show="!isDropAllowed" class="panel-dl-contents-drop-area-smaller-icon edgecc-icon">alert</div>\n\n        <div ng-show="isDropAllowed" class="panel-dl-contents-drop-area-text">\n            <div ng-repeat="layerName in layerNames">{{layerName}}</div>\n        </div>\n        <div ng-show="!isDropAllowed && dropMessage" class="panel-dl-contents-drop-area-text">{{dropMessage}}</div>\n        <div ng-show="isDropAllowed && dropMessage" class="panel-dl-contents-drop-area-subtext">{{dropMessage}}</div>\n    </div>\n</div>\n'),e.put("directives/designlibrary/templates/designLibraryEditableGridName.tmpl.html",'<div class="panel-grid-item-name-container" ng-class="{selected: selected, windowhover: globalHovering}" ng-dblclick="startEditName($event)">\n    <span class="panel-grid-item-name" ng-hide="editState.active">\n        {{component.name ? component.name : (defaultInformation || \'\')}}\n    </span>\n    <input class="panel-grid-item-edit-name" ng-if="editState.active" type="text"\n           ng-model="editState.name" placeholder="{{\'DL_EDIT_NAME_PLACEHOLDER\' | translate}}"\n           ng-keydown="handleKeyDown($event)" edgecc-set-focus="editState.setFocus" ng-blur="finishEditName()" spellcheck="false"/>\n</div>\n'),e.put("directives/designlibrary/templates/designLibraryEditableListName.tmpl.html",'<div class="panel-list-item-name-container" ng-class="{selected: selected, windowhover: globalHovering}" ng-dblclick="startEditName($event)">\n    <span class="panel-list-item-name" ng-hide="editState.active">\n        {{component.name ? component.name : (defaultInformation || \'\')}}\n    </span>\n    <input class="panel-list-item-edit-name" ng-if="editState.active" type="text"\n           ng-model="editState.name" placeholder="{{\'DL_EDIT_NAME_PLACEHOLDER\' | translate}}"\n           ng-keydown="handleKeyDown($event)" edgecc-set-focus="editState.setFocus" ng-blur="finishEditName()" spellcheck="false"/>\n</div>\n'),e.put("directives/designlibrary/templates/designLibraryFooter.tmpl.html",'<div class="panel-footer">\n    <div class="panel-footer-divider-container"><div class="panel-footer-divider"></div></div>\n    <div class="panel-footer-toolbar" ng-class="{windows: isWindowsOS}" ng-show="uiState.mode !== \'relink\'">\n        <div class="panel-footer-icon-read-only edgecc-icon" edgecc-tooltip tooltip-content="{{\'DL_DESIGN_LIBRARY_READ_ONLY\' | translate}}" ng-if="library && !library.isWritable">readonly</div>\n\n        <edgecc-insert disabled="insertDisabled" library="library" ng-if="library && library.isWritable && !library.isDeletedFromServer"></edgecc-insert>\n\n        <button ng-show="addDocContentOperation" ng-if="library && library.isWritable && !library.isDeletedFromServer"  class="panel-footer-icon shift-padding edgecc-icon" ng-class="{disabled: !addDocContentOperation.enabled}" ng-click="addDocContentOperation.enabled && addDocContentOperation.apply()" edgecc-tooltip tooltip-content="{{addDocContentOperation.iconToolTip | translate}}">{{ addDocContentOperation.icon }}</button>\n\n        <div class="panel-footer-toolbar-spacing"></div>\n\n        <div ng-switch="status.state" ng-mousedown="showNetworkStatus()" ng-mouseup="hideNetworkStatus()" ng-mouseleave="hideNetworkStatus()" ng-click="onStatusClick()">\n            <div ng-switch-when="ok" class="panel-footer-icon-ok edgecc-icon" edgecc-tooltip tooltip-content="{{\'DL_SYNC_OK\' | translate}}" disable="syncStatus.visible">newcreativecloud</div>\n            <div ng-switch-when="syncing" class="panel-footer-icon-syncing edgecc-icon" edgecc-tooltip tooltip-data="status" template-url="directives/designlibrary/templates/syncTooltip.tmpl.html" disable="syncStatus.visible">newsyncing</div>\n            <div ng-switch-when="error" class="panel-footer-icon-error edgecc-icon" edgecc-tooltip tooltip-data="tooltipData" template-url="directives/designlibrary/templates/syncErrorTooltip.tmpl.html" disable="syncStatus.visible || ccAppWarning.visible">\n                {{(status.errorType === \'loggedOut\' || status.errorType === \'syncDisabled\') ? \'newcreativecloudwarning\' : \'newcreativeclouderror\'}}\n            </div>\n        </div>\n\n        <div edgecc-drop-files on-drop="onDropDone($data)" drop-types="{{allowedDropTypes}}" drop-sources="{{allowedDropSources}}">\n            <button class="panel-footer-icon shift-padding edgecc-icon" ng-click="doDeleteItems()" ng-class="{disabled: (!hasSelection || uiState.modeParams.type === \'stock\' || !library || !library.isWritable || library.isDeletedFromServer)}" edgecc-tooltip tooltip-content="{{\'DL_FOOTER_DELETE_TOOLTIP\' | translate}}">{{ deleteIcon }}</button>\n        </div>\n    </div>\n\n    <div class="panel-ccapp-warning-container" ng-show="ccAppWarning.visible && uiState.mode !== \'relink\'" is-event-target="isEventTargetCCAppWarning">\n        <div class="panel-ccapp-warning-container-box">\n            <div class="panel-ccapp-warning-message" translate>DL_LAUNCH_CC_APP_MESSAGE</div>\n            <div class="panel-ccapp-warning-footer">\n                <div ng-if="!isWindowsOS" class="panel-ccapp-warning-button" ng-click="hideCCAppWarningMessage()" edgecc-hover>\n                    <span translate>DL_LAUNCH_CC_APP_CANCEL_BUTTON</span>\n                </div>\n                <div class="panel-ccapp-warning-button" ng-click="enableCCApp()" edgecc-hover>\n                    <span class="panel-ccapp-warning-button-icon edgecc-icon">newcreativecloud</span>\n                    <span translate>DL_LAUNCH_CC_APP_ENABLE_BUTTON</span>\n                </div>\n                <div ng-if="isWindowsOS" class="panel-ccapp-warning-button" ng-click="hideCCAppWarningMessage()" edgecc-hover>\n                    <span translate>DL_LAUNCH_CC_APP_CANCEL_BUTTON</span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="panel-sync-message-container" ng-if="syncStatus.visible && uiState.mode !== \'relink\'">\n        <div ng-switch="status.state">\n            <div ng-switch-when="ok" class="panel-sync-message" translate>DL_SYNC_OK</div>\n            <div ng-switch-when="syncing" class="panel-sync-message">\n                <span ng-show="status.syncingLibraries.length === 0 && status.syncProgress === undefined" translate>DL_SYNC_PROGRESS</span>\n                <span ng-show="status.syncingLibraries.length === 0 && status.syncProgress !== undefined" translate translate-values="{percent: status.syncProgress}">DL_SYNC_PROGRESS_PERCENT</span>\n\n                <span ng-show="status.syncingLibraries.length > 0" translate translate-values="{number: status.syncingLibraries.length}">DL_SYNC_PROGRESS_NUM_LIBRARIES</span>\n                <div ng-repeat="data in status.syncingLibraries">\n                    <span ng-show="data.library && data.progress !== undefined && data.state === \'downloading\'" translate translate-values="{name: data.truncatedName, percent: data.progress}">DL_DOWNLOAD_LIBRARY_PERCENT</span>\n                    <span ng-show="data.library && data.progress !== undefined && data.state === \'uploading\'" translate translate-values="{name: data.truncatedName, percent: data.progress}">DL_UPLOAD_LIBRARY_PERCENT</span>\n                    <span ng-show="!data.library && data.progress !== undefined" translate translate-values="{percent: data.progress}">DL_DOWNLOAD_NEW_LIBRARY_PERCENT</span>\n                </div>\n            </div>\n            <div ng-switch-when="error" class="panel-sync-message">\n                <span ng-bind-html="errorMessage"></span>\n\n                <br ng-show="status.retryDuration"/>\n                <span ng-show="status.retryDuration" translate translate-values="{duration: status.retryDuration}">DL_SYNC_RETRY</span>\n            </div>\n\n        </div>\n    </div>\n\n    <div class="panel-archive-container" ng-if="archiveVisible" ng-click="hideArchive()">\n        <edgecc-design-library-archive></edgecc-design-library-archive>\n    </div>\n\n    <div class="panel-relink-action" ng-class="{windows: isWindowsOS}" ng-if="uiState.mode === \'relink\'">\n        <button ng-if="!isWindowsOS" class="panel-relink-button-cancel hover-on-always" ng-click="cancelRelink()" translate>DL_CANCEL</button>\n        <button class="panel-relink-button-relink hover-on-always action" ng-class="{disabled: !hasSelection}"  ng-click="relink()">{{uiState.modeParams.actionMessage}}</button>\n        <button ng-if="isWindowsOS" class="panel-relink-button-cancel hover-on-always" ng-click="cancelRelink()" translate>DL_CANCEL</button>\n    </div>\n</div>\n'),
e.put("directives/designlibrary/templates/designLibraryShowMore.tmpl.html",'<div class="panel-item-showmore">\n    <div class="panel-item-showmore-content" edgecc-hover edgecc-tooltip tooltip-content="{{\'DL_SHOW_MORE_ITEMS_TOOLTIP\' | translate}}" ng-click="showMoreElements()">\n        <span ng-show="!loading" translate translate-values="{count: elementType.elements.length-elementType.limit}">\n            DL_SHOW_MORE_ITEMS\n        </span>\n        <span ng-show="loading" translate>\n            DL_LOADING\n        </span>\n    </div>\n</div>\n'),e.put("directives/designlibrary/templates/designLibraryUndo.tmpl.html",'<div class="panel-dl-undo-toast" ng-class="{hide: !undo.visible, fadeout: undo.timedout}" is-event-target="isEventTargetUndoWarning">\n    <span class="panel-dl-undo-toast-text">{{undo.message}}</span>\n    <span class="panel-dl-undo-toast-action" ng-click="undoDelete()" translate>DL_UNDO_DELETE</span>\n</div>\n'),e.put("directives/designlibrary/templates/dlCategory.tmpl.html",'<div class="panel-category">\n    <div class="edgecc-project-dl-nocontent" ng-if="library.elements.length === 0 && uiState.mode !== \'search\'">\n        <edgecc-dl-empty library="library"></edgecc-dl-empty>\n    </div>\n\n    <div class="edgecc-project-dl-content-category">\n        <!-- Search header -->\n        <div ng-if="searchText && searchResultCount > 0 && !searchAllLibraries" class="panel-search-result-header" translate translate-values="{name: library.name, count: searchResultCount}">{{ searchResultCount === 1 ? \'DL_SEARCH_RESULT_LIBRARY\' : \'DL_SEARCH_RESULTS_LIBRARY\' }}</div>\n        <div ng-if="searchText && searchResultCount > 0 && searchAllLibraries" class="panel-search-result-header" translate translate-values="{count: searchResultCount}">{{ searchResultCount === 1 ? \'DL_SEARCH_RESULT_LIBRARIES\' : \'DL_SEARCH_RESULTS_LIBRARIES\' }}</div>\n\n        <!-- Library content or search results -->\n        <div class="panel-category-section" ng-hide="filteredElements.length === 0 || (uiState.elementTypeFilter && !uiState.elementTypeFilter[data.type])" ng-repeat="data in elementsByType">\n            <div class="panel-type-header" ng-if="!uiState.elementTypeFilter" ng-click="toggleCollapsed(data)">\n                <div class="panel-type-header-arrow" ng-class="{\'panel-type-header-arrow-rotated\': data.collapsed}"></div>\n                <div class="panel-type-header-text">{{::data.displayName}}</div>\n            </div>\n            <div class="panel-type-header-no-cursor" ng-if="uiState.elementTypeFilter && !uiState.modeParams.hideTypeHeader">\n                <div>{{::data.displayName}}</div>\n            </div>\n            <div ng-repeat="component in filteredElements = (data.elements | limitTo: data.limit) track by component.getReference()" ng-if="!data.collapsed || uiState.elementTypeFilter">\n                <!-- RENDERER based on content type -->\n                <div class="edgecc-project-dl-component-contents" ng-click="selectAndAddToDocument($event, component)" ng-dblclick="onDoubleClick($event, component)" ui-draggable="true" drag-channel="dlItem" on-drag="onElementDragStart(component)">\n                    <edgecc-design-library-component native-context-menu="component"></edgecc-design-library-component>\n                </div>\n            </div>\n\n            <!-- Show more items in category -->\n            <edgecc-design-library-show-more ng-if="!data.collapsed && (data.limit < data.elements.length)" element-type="data"></edgecc-design-library-show-more>\n\n            <div style="clear: both"></div>\n        </div>\n    </div>\n\n    <!-- No search result -->\n    <div class="panel-search-result-none-container" ng-if="searchText && searchResultCount === 0">\n        <div class="panel-search-info">\n            <span ng-click="searchAdobeStock()" translate>DL_SEARCH_LIBRARIES_NO_RESULT</span>\n        </div>\n    </div>\n</div>\n'),e.put("directives/designlibrary/templates/dlEmpty.tmpl.html",'<div class="panel-dl-empty-container" id="emptyPanelContainer">\n    <div class="panel-dl-empty-inner-container" ng-if="!library.isDeletedFromServer">\n        <div class="panel-dl-empty-add edgecc-icon">{{ isProductReadOnly ? \'libraryaccess\' : \'plusdrag\' }}</div>\n        <div class="panel-dl-empty-add-label" translate>{{ isProductReadOnly ? \'DL_EMPTY_LIB_ACCESS_TITLE\' : \'DL_EMPTY_LIB_DRAG_TITLE\' }}</div>\n        <div class="panel-dl-empty-add-instructions" translate>{{instructionMessage}}</div>\n        <div class="panel-dl-empty-help-icon edgecc-icon" edgecc-hover ng-click="howToUseInBrowser()" edgecc-tooltip tooltip-content="{{\'DL_EMPTY_LIB_LEARN_MORE\' | translate}}">question</div>\n        <div ng-show="addDocContentOperation" class="panel-dl-empty-add-doc-content" edgecc-hover ng-click="addDocContentOperation.enabled && addDocContentOperation.apply()" edgecc-tooltip tooltip-content="{{addDocContentOperation.buttonToolTip | translate}}">\n            <span class="panel-dl-empty-add-doc-content-text" translate>{{ addDocContentOperation.buttonName }}</span>\n        </div>\n    </div>\n    <div class="panel-dl-empty-engagement-container" ng-if="!library.isDeletedFromServer && engagementCards.length > 0">\n        <div class="panel-dl-empty-engagement-title" translate>DL_EMPTY_LIB_ENGAGEMENT_TITLE</div>\n        <div class="panel-dl-empty-engagement-card-container">\n            <div class="panel-dl-empty-engagement-card" ng-repeat="engagementCard in engagementCards" ng-if="$index < engagementCardCount" id="emptyPanelEngagementCard" ng-style="getEngagementCardStyle(engagementCard)">\n                <div class="panel-dl-empty-engagement-card-dismiss-container">\n                    <div class="panel-dl-empty-engagement-card-dismiss edgecc-icon" edgecc-hover ng-click="!engagementCard.isProcessing && skipEngagementCard(engagementCard)" edgecc-tooltip tooltip-content="{{\'DL_DISMISS\' | translate}}" ng-class="{disabled: engagementCard.isProcessing}">editclear</div>\n                </div>\n                <div class="panel-dl-empty-engagement-card-info-container">\n                    <div class="panel-dl-empty-engagement-card-info">\n                        <div class="panel-dl-empty-engagement-card-title" edgecc-hover edgecc-tooltip tooltip-content="{{\'DL_EMPTY_LIB_ENGAGEMENT_VIEW_ON_WEBSITE\' | translate}}" ng-click="engagementCardInBrowser(engagementCard.actionURL)">{{engagementCard.bodyCopy}}</div>\n                        <div class="panel-dl-empty-engagement-card-owner" translate translate-values="{ name: engagementCard.author || \'Adobe\' }">DL_EMPTY_LIB_ENGAGEMENT_BY_OWNER</div>\n                    </div>\n                    <div ng-if="!engagementCard.isProcessing" class="panel-dl-empty-engagement-card-action edgecc-icon" edgecc-hover ng-click="processLibraryEngagementCard(engagementCard)" edgecc-tooltip tooltip-content="{{\'DL_FOLLOW\' | translate}}">cloudsync</div>\n                    <div ng-if="engagementCard.isProcessing" class="panel-dl-empty-engagement-card-action-syncing" edgecc-hover edgecc-tooltip tooltip-content="{{\'DL_SYNCING\' | translate}}"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("directives/designlibrary/templates/dlNoLibraries.tmpl.html",'<div class="panel-dl-nolibs-container">\n\n    <div ng-if="status.state === \'ok\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-cc-icon edgecc-icon">creativecloud</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_MESSAGE</div>\n        <button class="panel-dl-nolibs-create-button hover-on-always" ng-click="showAddLibraryDialog()" translate>DL_NO_LIBS_CREATE_LIBRARY_BUTTON_TEXT</button>\n    </div>\n\n    <div ng-if="status.state === \'error\' && status.errorType === \'loggedOut\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativecloudwarning</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_LOGGED_OUT</div>\n    </div>\n\n    <!-- TODO: hopefully this is temporary, until Photoshop can handle the modal JSX problem better -->\n    <div ng-if="status.state === \'error\' && status.errorType === \'jsx\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_ERROR_INIT</div>\n\n        <button class="panel-dl-nolibs-retry-button hover-on-always" ng-click="reload()" translate>DL_NO_LIBS_RETRY_INIT</button>\n    </div>\n\n    <div ng-if="status.state === \'error\' && status.errorType === \'noService\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_SERVICE_NOT_INSTALLED</div>\n\n        <a class="panel-dl-nolibs-link" ng-click="installCCApp()" translate>DL_NO_LIBS_GET_IT</a>\n    </div>\n\n    <div ng-if="status.state === \'error\' && status.errorType === \'serviceError\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_SERVICE_NOT_RUNNING</div>\n\n        <a class="panel-dl-nolibs-link" ng-click="serviceErrorHelp()" translate>DL_NO_LIBS_MORE_INFO</a>\n    </div>\n\n    <div ng-if="status.state === \'error\' && [\'excludeHostnameOSX\', \'excludeHostnameWin\', \'excludeHostnameWin10\', \'verifyDnsSettings\'].indexOf(status.errorType) !== -1" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_NETWORK_PROBLEM</div>\n        <a class="panel-dl-nolibs-link" ng-click="serviceErrorHelp(status.errorType)" translate>DL_TROUBLESHOOT_NETWORK_SETTINGS</a>\n\n        <button class="panel-dl-nolibs-retry-button hover-on-always" ng-class="{disabled: status.retryDuration}" ng-click="reconnect()" translate>DL_NO_LIBS_RETRY</button>\n    </div>\n\n    <div ng-if="status.state === \'error\' && status.errorType === \'verifySocketConnection\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_SOCKET_BLOCKED</div>\n\n        <button class="panel-dl-nolibs-retry-button hover-on-always" ng-class="{disabled: status.retryDuration}" ng-click="reconnect()" translate>DL_NO_LIBS_RETRY</button>\n    </div>\n\n    <div ng-if="status.state === \'error\' && status.errorType === \'updateServer\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_UPDATE_SERVER</div>\n\n        <a class="panel-dl-nolibs-link" ng-click="updateCCApp()" translate>DL_NO_LIBS_GET_IT</a>\n    </div>\n\n    <div ng-if="status.state === \'error\' && status.errorType === \'updateClient\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_UPDATE_CLIENT</div>\n\n        <a class="panel-dl-nolibs-link" ng-click="updateCCLibraries()" translate>DL_NO_LIBS_GET_IT</a>\n    </div>\n\n    <div ng-if="status.state === \'error\' && status.errorType === \'syncDisabled\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativecloudwarning</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_SYNC_DISABLED</div>\n\n        <button class="panel-dl-nolibs-retry-button hover-on-always" ng-click="enableCCApp()" translate>DL_LAUNCH_CC_APP_ENABLE_BUTTON</button>\n    </div>\n\n    <div ng-if="status.state === \'error\' && [\'noService\', \'serviceError\', \'updateClient\', \'updateServer\', \'loggedOut\', \'jsx\', \'syncDisabled\', \'excludeHostnameOSX\', \'excludeHostnameWin\', \'excludeHostnameWin10\', \'verifyDnsSettings\', \'verifySocketConnection\'].indexOf(status.errorType) === -1" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" ng-bind-html="errorMessage"></div>\n\n        <div ng-show="status.retryDuration" class="panel-dl-nolibs-message" translate translate-values="{duration: status.retryDuration}">DL_SYNC_RETRY</div>\n        <button ng-show="status.errorType !== \'noAccess\'" class="panel-dl-nolibs-retry-button hover-on-always" ng-class="{disabled: status.retryDuration}" ng-click="retry()" translate>DL_NO_LIBS_RETRY</button>\n\n        <button class="panel-dl-nolibs-create-button hover-on-always" ng-click="showAddLibraryDialog()" translate>DL_NO_LIBS_CREATE_LIBRARY_BUTTON_TEXT</button>\n    </div>\n\n    <div ng-if="status.state === \'syncing\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-cc-icon-syncing edgecc-icon">creativecloud</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_SYNCING</div>\n        <div class="panel-dl-nolibs-progress-bar panel-progress-bar-large">\n            <div class="panel-progress-bar-inner-large" ng-style="{width: progressWidth}"></div>\n        </div>\n        <button class="panel-dl-nolibs-create-button-syncing hover-on-always" ng-click="showAddLibraryDialog()" translate>DL_NO_LIBS_CREATE_LIBRARY_BUTTON_TEXT</button>\n    </div>\n\n</div>\n'),e.put("directives/designlibrary/templates/dlStock.tmpl.html",'<div class="panel-dl-stock">\n    <div ng-style="searchOpionsStyle" ng-hide="error || !assets">\n        <div class="panel-stock-search-result-header" ng-click="toggleSearchOptions()">\n            <div class="panel-stock-search-result-arrow" ng-class="{\'panel-stock-search-result-arrow-rotated\': showSearchOptions}"><span class="edgecc-icon">next</span></div>\n            <span style="padding-left: 5px" translate> {{ findSimilarId || findSimilarUrl ? \'DL_SEARCH_SIMILAR_RESULTS_STOCK\' : \'DL_SEARCH_RESULTS_STOCK\' }}</span>\n        </div>\n        <div ng-show="showSearchOptions">\n            <label ng-repeat="option in searchOptions" class="panel-dl-stock-option-label">\n                <input type="checkbox" ng-model="searchOptionValues[option.param]" ng-value="searchOptionValues[option.param]" ng-click="doSearchOptionChanged()"><span style="padding-left: 5px" translate>{{option.label}}</span></input>\n            </label>\n        </div>\n    </div>\n    <div class="panel-dl-stock-loading" ng-show="isLoading">\n        <div class="panel-dl-stock-loading-icon"><img src="images/wait_32.gif"/></div>\n        <div class="panel-dl-stock-loading-message" translate>DL_STOCK_PANEL_SEARCHING_MESSAGE</div>\n    </div>\n\n    <div class="panel-dl-stock-error" ng-show="!isLoading && offline && (!assets || assets.length === 0)">\n        <div class="panel-dl-stock-no-connection-icon edgecc-icon">newcreativecloudwarning</div>\n        <div class="panel-dl-stock-message" translate>DL_STOCK_PANEL_NO_CONNECTION_MESSAGE</div>\n    </div>\n\n    <div class="panel-dl-stock-error" ng-show="!isLoading && !offline && error && assets && assets.length === 0">\n        <div class="panel-dl-stock-message" translate>DL_STOCK_PANEL_SEARCH_ERROR</div>\n    </div>\n\n    <div class="panel-dl-stock-noresult" ng-show="!isLoading && !offline && !error && assets && assets.length === 0">\n        <div class="panel-dl-stock-noresult-message" translate>DL_STOCK_PANEL_NO_RESULT_MESSAGE</div>\n        <div class="panel-search-info"><div class="panel-dl-stock-noresult-tips-message" translate>DL_STOCK_PANEL_RESULT_TIPS</div></div>\n    </div>\n    <div class="panel-dl-stock-content" ng-show="assets" id="stockContent">\n       <div ng-repeat="asset in assets" class="panel-dl-stock-content-item" edgecc-hover on-hover-enter="hoverEnter(asset)" on-hover-leave="hoverLeave(asset)">\n            <div ui-draggable="true" drag-component="asset" drag-channel="dlItem" on-drag-start="onElementDragStart(asset)" drag-data="stockDragData" on-drop-end="onElementDrop(asset, didDropSucceed)">\n                <img id="stockSearchThumbnail{{asset.id}}" class="panel-dl-stock-content-item-img" ng-src="{{asset.thumbnail_url}}" ng-style="{width: asset.rowWidth + \'px\', height: asset.rowHeight + \'px\'}" edgecc-tooltip tooltip-content="{{getTooltip(asset)}}"  native-context-menu="asset" context-menu-save-callback="addAssetToLibrary" context-menu-save-preview="asset.media_type_id !== 7" ng-dblclick="showAssetOnWeb(asset)"/>\n            </div>\n\n           <div ng-if="asset.media_type_id === 4" class="panel-dl-stock-content-video-bar" ng-click="showAssetOnWeb(asset)" edgecc-tooltip tooltip-content="{{\'DL_STOCK_WATCH_VIDEO\' | translate}}">\n                <div class="panel-dl-stock-content-footer-bar-rect">\n                    <div class="panel-dl-stock-content-video-bar-icon"><div class="panel-dl-stock-content-video-badge-icon-triangle"></div></div>\n                    <div class="panel-dl-stock-content-video-bar-duration">{{getDuration(asset)}}</div>\n                    <div ng-repeat="type in getLicenseTypes(asset)" class="panel-dl-stock-content-video-bar-license">{{type}}</div>\n                </div>\n           </div>\n           <div ng-if="asset.active && asset.premium_level_id >= STOCK_FREE_CONTENT_LEVEL_ID" class="panel-dl-stock-content-footer-bar">\n                <div class="panel-dl-stock-content-footer-bar-rect">\n                    <div class="panel-dl-stock-content-footer-bar-text" ng-if="isFreeAsset(asset)" translate>DL_STOCK_FOOTER_BAR_FREE</div>\n                    <div class="panel-dl-stock-content-footer-bar-text" ng-if="isPremiumAsset(asset)" translate>DL_STOCK_FOOTER_BAR_PREMIUM</div>\n                </div>\n           </div>\n\n           <div ng-if="!asset.saving" ng-class="asset.isVerticalLayout ? \'panel-dl-stock-content-item-hover-vertical\' : \'panel-dl-stock-content-item-hover\'">\n               <!-- Asset already licensed -->\n                <div ng-if="asset.is_licensed" class="panel-dl-stock-content-item-licensed search-asset-icon" edgecc-tooltip tooltip-content="{{\'DL_STOCK_LICENSED_SEARCH_RESULT\' | translate}}"><div class="panel-dl-stock-content-item-icon-licensed edgecc-icon">checkmark</div></div>\n               <!-- License asset action -->\n               <div ng-if="asset.active && !asset.is_licensed" class="panel-dl-stock-content-item-action search-asset-icon" ng-class="{disabled: !library.isWritable}" edgecc-tooltip tooltip-content="{{library.isWritable ? \'DL_STOCK_LICENSE_THEN_SAVE_TO_TOOLTIP\' : \'DL_ERROR_EDIT_READ_ONLY_LIBRARY\' | translate:library}}" ng-click="library.isWritable && addToLibrary(asset, $event, true)" edgecc-hover><div class="panel-dl-stock-content-item-icon edgecc-icon" ng-class="{disabled: !library.isWritable}">shoppingcart</div></div>\n               <!-- Save/Save preview action (no save preview for templates) -->\n                <div ng-if="asset.active && (asset.is_licensed || canSaveComp(asset))" class="panel-dl-stock-content-item-action search-asset-icon" ng-class="{disabled: !library.isWritable}" edgecc-tooltip tooltip-content="{{library.isWritable ? (asset.is_licensed ? \'DL_STOCK_SAVE_TO_TOOLTIP\' : \'DL_STOCK_SAVE_PREVIEW_TO_TOOLTIP\') : \'DL_ERROR_EDIT_READ_ONLY_LIBRARY\' | translate:library}}" ng-click="library.isWritable && addToLibrary(asset, $event, asset.is_licensed)" edgecc-hover><div class="panel-dl-stock-content-item-icon edgecc-icon" ng-class="{disabled: !library.isWritable}">cloudsync</div></div>\n            </div>\n        </div>\n        <div class="panel-dl-stock-view-on-web" ng-show="assets && assets.length > 0 && assets.length >= requestedResultSize && !findSimilarUrl" ng-click="searchOnWeb()" edgecc-hover>\n            <div class="panel-dl-stock-view-on-web-message" translate>DL_STOCK_PANEL_SEARCH_ON_WEB</div>\n        </div>\n        <div class="panel-dl-stock-tips" ng-show="assets && assets.length > 0 && assets.length < requestedResultSize && !findSimilarId && !findSimilarUrl">\n            <div>\n                <div translate translate-values="{count: assets.length}">DL_STOCK_PANEL_RESULT_COUNT</div>\n                <div translate>DL_STOCK_PANEL_RESULT_TIPS</div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("directives/designlibrary/templates/syncErrorTooltip.tmpl.html",'<div class="tooltip">\n    <span ng-bind-html="data.errorMessage"></span>\n    <br ng-show="data.status.retryDuration"/>\n    <span ng-show="data.status.retryDuration" translate translate-values="{duration: data.status.retryDuration}">DL_SYNC_RETRY</span>\n</div>\n'),e.put("directives/designlibrary/templates/syncTooltip.tmpl.html",'<div class="tooltip">\n    <span ng-show="data.syncingLibraries.length === 0 && data.syncProgress === undefined" translate>DL_SYNC_PROGRESS</span>\n    <span ng-show="data.syncingLibraries.length === 0 && data.syncProgress !== undefined" translate translate-values="{percent: data.syncProgress}">DL_SYNC_PROGRESS_PERCENT</span>\n\n    <span ng-show="data.syncingLibraries.length > 0" translate translate-values="{number: data.syncingLibraries.length}">DL_SYNC_PROGRESS_NUM_LIBRARIES</span>\n    <div ng-repeat="libData in data.syncingLibraries">\n        <span ng-show="libData.library && libData.progress !== undefined && libData.state === \'downloading\'" translate translate-values="{name: libData.truncatedName, percent: libData.progress}">DL_DOWNLOAD_LIBRARY_PERCENT</span>\n        <span ng-show="libData.library && libData.progress !== undefined && libData.state === \'uploading\'" translate translate-values="{name: libData.truncatedName, percent: libData.progress}">DL_UPLOAD_LIBRARY_PERCENT</span>\n        <span ng-show="!libData.library && libData.progress !== undefined" translate translate-values="{percent: libData.progress}">DL_DOWNLOAD_NEW_LIBRARY_PERCENT</span>\n    </div>\n</div>\n'),e.put("directives/templates/disclosureTriangle.tmpl.html",'<div>\n    <div ng-click="toggle($event)" ng-class="disclosureClass" edgecc-hover></div>\n</div>\n'),e.put("directives/templates/insert.tmpl.html",'<div class="insert-menu-container" is-event-target="isAddMenuTarget">\n    <button ng-class="{disabled: disabled, \'hover-on-always\': menuShown}" class="panel-footer-icon">\n        <div class="edgecc-icon" ng-mousedown="!disabled && toggleMenu()" edgecc-tooltip tooltip-content="{{\'DL_INSERT_TOOLTIP\' | translate}}" >add</div>\n    </button>\n    <div ng-if="menuShown && !disabled" class="panel-insert-menu" ng-style="menuStyle">\n        <div ng-repeat="op in layerOperations | orderBy:\'order\'" ng-class="{disabled: op.disabled}" class="panel-insert-menu-item" ng-if="library && library.isWritable && !library.isDeletedFromServer && !op.disabled" edgecc-tooltip tooltip-data="op.toolTipData" tooltip-template="op.toolTipTemplate">\n            <label class="panel-insert-menu-input"><input type="checkbox" ng-model="op.checked" ng-value="op.checked" ng-click="selectionChanged(op)"><span class="panel-insert-menu-item-text">{{op.name | translate}}</span></input></label>\n            <span class="panel-insert-menu-item-icon edgecc-icon" ng-style="op.style">{{op.icon}}</span>\n        </div>\n        <div class="panel-insert-menu-item-buttons" ng-class="{isWindowsOS: isWindowsOS}">\n            <button class="panel-insert-menu-add-button" ng-mouseenter="addHover=true" ng-mouseleave="addHover=false" ng-class="{disabled: isAddDisabled(), hover:addHover}" ng-click="isAddDisabled() || insertSelection()">{{\'DL_INSERT_ADD\' | translate}}</button>\n            <button class="panel-insert-menu-cancel-button"  ng-mouseenter="cancelHover=true" ng-mouseleave="cancelHover=false" ng-class="{hover:cancelHover}" ng-click="hideMenu()">{{\'DL_INSERT_CANCEL\' | translate}}</button>\n        </div>\n    </div>\n</div>\n'),e.put("directives/templates/modalDialog.tmpl.html",'<div ng-show="showDialog" ng-class="dialogClass" ng-click="hideDialog()">\n\n    <div ng-class="fullScreen ? \'panel-dialog-window-fullscreen\' : \'panel-dialog-window\'" ng-click="stopPropagation($event)">\n\n        <div class="panel-dialog-divider-container"><div class="panel-dialog-divider"></div></div>\n\n        <div class="panel-dialog-header">\n           <div class="panel-dialog-title" ng-bind="titleText | translate" ng-class="errorMode ? \'panel-dialog-error-color\' : \'\'"></div>\n<!--            <a href ng-show="canCancel" ng-click="hideDialog()" class="panel-dialog-close-button edgecc-icon">cancel</a>-->\n        </div>\n\n        <div class="panel-dialog-contents" ng-class="fullScreen ? \'panel-dialog-contents-fullscreen\' : \'\'" ng-transclude></div>\n\n        <div style="clear:both"></div>\n        <div ng-class="fullScreen ? \'panel-dialog-footer-fullscreen\' : \'panel-dialog-footer\'">\n            <div ng-if="!isWindowsOS" class="panel-dialog-button" ng-show="cancelText">\n                <button class="hover-on-always" ng-click="hideDialog()" translate>{{cancelText}}</button>\n            </div>\n            <div ng-if="isWindowsOS" class="panel-dialog-button">\n                <button ng-show="okText" class="hover-on-always action" ng-class="{disabled: disableOk}" ng-click="!disableOk && onSubmit()(okText)" translate>{{okText}}</button>\n            </div>\n            <div class="panel-dialog-button" ng-if="secondaryOkText">\n                <button class="hover-on-always" ng-click="onSubmit()(secondaryOkText)" translate>{{secondaryOkText}}</button>\n            </div>\n            <div ng-if="!isWindowsOS" class="panel-dialog-button">\n                <button ng-show="okText" class="hover-on-always action" ng-class="{disabled: disableOk}" ng-click="!disableOk && onSubmit()(okText)" translate>{{okText}}</button>\n            </div>\n            <div ng-if="isWindowsOS" class="panel-dialog-button" ng-show="cancelText">\n                <button class="hover-on-always" ng-click="hideDialog()" translate>{{cancelText}}</button>\n            </div>\n        </div>\n    </div>\n\n</div>\n'),e.put("directives/templates/search.tmpl.html",'<div class="panel-search">\n    <input ng-model="search.text" ng-disabled="disable" class="panel-search-input" edgecc-tooltip tooltip-content="{{search.placeholder}}" type="search" results="0" edgecc-set-focus="setFocus" placeholder="{{search.placeholder}}" on-search="searchRequested()" ng-focus="searchFocused()" ng-blur="searchFocused()" onClick="this.select()" spellcheck="false">\n    <div class="panel-search-toggle" ng-class="{\'panel-search-toggle-selected\': menuShown, \'panel-search-toggle-disabled\': disable}" ng-click="toggleMenu()"><div class="panel-search-toggle-triangle"></div></div>\n    <div ng-show="menuShown" class="panel-search-types" is-event-target="isSearchDropDownTarget">\n        <div ng-repeat="type in types" class="panel-select-menu-item" edgecc-hover ng-click="setSearchType(type)">\n            <div class="edgecc-icon panel-menu-icon" ng-show="search.type === type">checkmark</div>\n            <div class="edgecc-icon panel-menu-icon" ng-show="search.type !== type"></div>\n            <div class="panel-menu-label" ng-class="{\'panel-menu-label-selected\': search.type === type}" translate>{{\'DL_SEARCH_\' + type.toUpperCase()}}</div>\n        </div>\n    </div>\n</div>\n'),e.put("directives/templates/select.tmpl.html",'<div class="panel-select" ng-mousedown="toggleMenu($event)" edgecc-hover>\n    <div class="edgecc-icon" ng-show="selectedItem.collaboration && selectedItem.isWritable" edgecc-tooltip tooltip-content="{{\'DL_LIB_SHARED_TOOLTIP\' | translate}}">group</div>\n    <div class="edgecc-icon" ng-show="selectedItem.collaboration && !selectedItem.isWritable" edgecc-tooltip tooltip-content="{{\'DL_LIB_READONLY_TOOLTIP\' | translate}}">readonly</div>\n    <div class="edgecc-icon" ng-show="selectedItem.collection.isPublic" edgecc-tooltip tooltip-content="{{\'DL_LIB_FOLLOWED_TOOLTIP\' | translate}}">subscribed</div>\n    <div class="panel-select-menu-label">{{selectedItem[displayField]}}</div>\n</div>\n'),e.put("directives/templates/selectItem.tmpl.html",' <div ng-class="{\'panel-select-menu-current\': (selectedItem && !recent), \'selected\': (selectedItem && recent)}" class="panel-select-menu-item" edgecc-hover>\n    <div class="edgecc-icon panel-menu-icon" ng-show="selectedItem">checkmark</div>\n    <div class="edgecc-icon panel-menu-icon" ng-show="item.collaboration && item.isWritable && !selectedItem" edgecc-tooltip tooltip-content="{{\'DL_LIB_SHARED_TOOLTIP\' | translate}}">group</div>\n    <div class="edgecc-icon panel-menu-icon" ng-show="item.collaboration && !item.isWritable && !selectedItem" edgecc-tooltip tooltip-content="{{\'DL_LIB_READONLY_TOOLTIP\' | translate}}">readonly</div>\n    <div class="edgecc-icon panel-menu-icon" ng-show="item.collection.isPublic && !selectedItem" edgecc-tooltip tooltip-content="{{\'DL_LIB_FOLLOWED_TOOLTIP\' | translate}}">subscribed</div>\n    <div class="edgecc-icon panel-menu-icon" ng-show="!item.collaboration && !item.collection.isPublic && !selectedItem"></div>\n\n    <div ng-class="{\'panel-menu-label-selected\': (selectedItem)}" class="panel-menu-label">{{item[displayField]}}</div>\n</div>\n'),e.put("directives/templates/selectMenu.tmpl.html",'<div class="panel-select-menu" ng-style="menuStyle">\n    <div ng-show="(!isCreativeCloud || switchingEnabled) && !librarySelectionOnlyMode" class="panel-select-menu-item panel-select-header">\n        <div class="panel-menu-label panel-select-header-text">{{collectionName}}</div>\n        <button ng-show="switchingEnabled" class="edgecc-icon panel-select-cloud-switch-icon" edgecc-tooltip tooltip-content="{{\'DL_MENU_CHANGE_CLOUD_TOOLTIP\' | translate}}" ng-click="changeCloud()">changecloud</button>\n    </div>\n    <div ng-style="menuContainerStyle" edgecc-scroll-to-top="scrollPosition.scrollToTop">\n        <div ng-repeat="item in optionsArray | orderBy:orderByFunction:true | filter: limitToFilterFunction" class="most-recent-view">\n            <select-item item="item" selected-item="item === selectedItem" ng-click="select(item)" recent="true" display-field="{{displayField}}"></select-item>\n        </div>\n        <div ng-if="optionsArray.length > LIBRARY_MIN" class="panel-select-subdivider"></div>\n        <div ng-repeat="item in optionsArray | localeOrderBy:[\'name\', \'-index\']" ng-if="optionsArray.length > LIBRARY_MIN" class="list-view">\n            <select-item item="item" selected-item="item === selectedItem" ng-click="select(item)" recent="false" display-field="{{displayField}}"></select-item>\n        </div>\n    </div>\n    <div class="panel-select-divider" ng-hide="librarySelectionOnlyMode"></div>\n    <div ng-click="showCreateDialog()" class="panel-select-menu-item" ng-hide="librarySelectionOnlyMode" edgecc-hover>\n        <span class="edgecc-icon anel-menu-icon">plus</span>\n        <span class="panel-menu-label" translate>DL_MENU_CREATE_LIB</span>\n    </div>\n</div>\n'),e.put("configuration/designlibrary/3d/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name">{{data.name}}</span>\n    <br ng-if="data.name"/>\n    <span ng-if="data.createdIn"><span translate>DL_CREATED_IN</span> <span translate>{{data.createdIn}}</span></span>\n    <span ng-if="data.type"><span translate>DL_TYPE</span> <span>{{data.type}}</span> <span ng-if="data.threeDtype" translate>{{data.threeDtype}}</span></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/3d/view.tmpl.html",'<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'grid\'" class="panel-3d-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/3d/tooltip.tmpl.html">\n    <div class="panel-3d-item-img" draggable="false" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder missing-3d-rendition-icon">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-hide="loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n</div>\n<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/3d/tooltip.tmpl.html">\n    <div class="panel-list-item-thumb">\n        <div class="panel-list-3d-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition missing-3d-rendition-icon">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-hide="loadedRenditionUrl"></div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n\n'),
e.put("configuration/designlibrary/animation/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name">{{data.name}}</span>\n    <br ng-if="data.name"/>\n    <span ng-if="data.createdIn"><span translate>DL_CREATED_IN</span> <span translate>{{data.createdIn}}</span></span>\n    <span ng-if="data.type"><span translate>DL_TYPE</span> <span>{{data.type}}</span></span>\n    <br ng-if="data.createdIn || data.type"/>\n    <span ng-if="data.filesize">{{data.filesize}}</span>\n    <br ng-if="data.isStockAsset && data.filesize"/>\n    <span ng-if="data.isStockAsset"><span translate>DL_ADOBE_STOCK_PHOTO</span></span>\n    <br ng-if="data.isStockAsset"/>\n    <span ng-if="data.isStockAsset && data.isLicensed"><span translate>DL_LICENSED</span></span>\n    <span ng-if="data.isStockAsset && !data.isLicensed"><span translate>DL_UNLICENSED</span></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/animation/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-animation-item" ng-class="{selected: selected, \'disabled-item\': disabled}" img-size edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/animation/tooltip.tmpl.html" ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag="onElementDragStart()">\n    <div class="panel-animation-item-img-holder" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="loadedRenditionUrl && imageUrl" ng-style="imgStyle">\n        <img class="panel-animation-item-img" image-on-load ng-src="{{imageUrl}}" style="display: none">\n    </div>\n    <div class="panel-no-rendition-holder" ng-show="loadedRenditionUrl && !imageUrl">\n        <span class="edgecc-icon panel-grid-icon-missing-rendition panel-animation-no-rendition-icon">newcreativecloud</span>\n    </div>\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="edgecc-core-overlay-dimmed-top-right" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n        <div class="panel-core-overlay-icon-syncing edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n        <div class="panel-core-overlay-icon-warning edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n    <div ng-if="tooltip.isLicensed" class="panel-dl-stock-content-item-licensed-mini" ng-class="{\'disabled\': disabled}" edgecc-tooltip tooltip-content="{{\'DL_LICENSED\' | translate}}">\n        <div class="panel-dl-stock-content-item-icon-licensed-mini edgecc-icon">checkmark</div>\n    </div>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/animation/tooltip.tmpl.html" ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag="onElementDragStart()">\n    <div class="panel-list-animation-item-thumb" img-size>\n        <div class="panel-animation-item-img-holder" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="loadedRenditionUrl && imageUrl" ng-style="imgStyle">\n            <img class="panel-animation-item-img" image-on-load ng-src="{{imageUrl}}" style="display: none">\n        </div>\n        <div class="panel-no-rendition-holder" ng-show="loadedRenditionUrl && !imageUrl">\n            <span class="edgecc-icon panel-list-icon-missing-rendition panel-image-no-rendition-icon">newcreativecloud</span>\n        </div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\n        <div class="edgecc-core-overlay-dimmed-center" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n            <div class="panel-core-overlay-icon-syncing-list edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n            <div class="panel-core-overlay-icon-warning-list edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n        </div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n    <div ng-if="badgeText" class="panel-animation-list-item-filetype">{{badgeText}}</div>\n</div>\n'),e.put("configuration/designlibrary/brush/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name">{{data.name}}</span>\n    <br ng-if="data.name"/>\n    <span translate>DL_TYPE</span> <span translate>{{data.brushType}}</span>\n    <div ng-if="data.disabledMessage">\n        <span translate>{{data.disabledMessage}}</span>\n    </div>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/brush/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-brush-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/brush/tooltip.tmpl.html">\n    <div class="panel-brush-item-img" ng-show="imageUrl && loadedRenditionUrl" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/brush/tooltip.tmpl.html">\n    <div class="panel-list-brush-item-thumb">\n        <div class="panel-list-brush-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n\n'),e.put("configuration/designlibrary/color/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name">{{data.name}}</span>\n    <br ng-if="data.name"/>\n    <span>{{data.hexValue}}</span>\n    <br/>\n    <span>{{data.primaryValue}}</span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/color/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-color-item" ng-class="{selected: selected, \'disabled-item\': disabled}" ng-style="colorStyle" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/color/tooltip.tmpl.html">\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected" default-information="defaultName" allow-blank-name="true"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item-small" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/color/tooltip.tmpl.html">\n    <div class="panel-list-color-item-thumb" ng-style="colorStyle"></div>\n    <design-library-editable-list-name component="component" default-information="defaultName" allow-blank-name="true"></design-library-editable-list-name>\n</div>\n'),e.put("configuration/designlibrary/colortheme/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span>{{data.hexValue}}</span>\n    <br/>\n    <span>{{data.primaryValue}}</span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/colortheme/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-color-theme-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover>\n    <div class="panel-color-theme-item-color" ng-style="color.style" ng-repeat="color in values" edgecc-tooltip tooltip-data="color" ng-style="color.style" template-url="configuration/designlibrary/colortheme/tooltip.tmpl.html" ng-click="useColor(color.colorData)" ng-class="{\'panel-thumbnail-disabled\': disabled}">\n        <div class="panel-color-theme-item-color-inner" native-context-menu="component" context-menu-sub-element="color.colorData"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item-small panel-list-color-theme-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover>\n    <div class="panel-list-color-theme-item-thumb" ng-class="{selected: selected, \'panel-thumbnail-disabled\': disabled}">\n        <div class="panel-list-color-theme-item-color"  ng-repeat="color in values" edgecc-tooltip tooltip-data="color" ng-style="color.style" template-url="configuration/designlibrary/colortheme/tooltip.tmpl.html" ng-style="color.style"  ng-click="useColor(color.colorData)">\n        <div class="panel-list-color-theme-item-color-inner" native-context-menu="component" context-menu-sub-element="color.colorData"></div>\n        </div>\n    </div>\n    <design-library-editable-list-name component="component" class="panel-list-color-theme-item-name"></design-library-editable-list-name>\n</div>\n\n'),e.put("configuration/designlibrary/image/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name">{{data.name}}</span>\n    <br ng-if="data.name"/>\n    <span ng-if="data.createdIn"><span translate>DL_CREATED_IN</span> <span translate>{{data.createdIn}}</span></span>\n    <span ng-if="data.type"><span translate>DL_TYPE</span> <span>{{data.type}}</span></span>\n    <br ng-if="data.createdIn || data.type"/>\n    <span ng-if="data.filesize">{{data.filesize}}</span>\n    <br ng-if="data.isStockAsset && data.filesize"/>\n    <span ng-if="data.isStockAsset"><span translate>DL_ADOBE_STOCK_PHOTO</span></span>\n    <br ng-if="data.isStockAsset"/>\n    <span ng-if="data.isStockAsset && data.isLicensed"><span translate>DL_LICENSED</span></span>\n    <span ng-if="data.isStockAsset && !data.isLicensed"><span translate>DL_UNLICENSED</span></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/image/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-image-item" ng-class="{selected: selected, \'disabled-item\': disabled}" img-size edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/image/tooltip.tmpl.html" ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()">\n    <div class="panel-image-item-img-holder" ng-show="loadedRenditionUrl && imageUrl" ng-style="imgStyle">\n        <img class="panel-image-item-img" image-on-load ng-src="{{imageUrl}}" style="display: none">\n    </div>\n    <div class="panel-no-rendition-holder" ng-show="loadedRenditionUrl && !imageUrl">\n        <span class="edgecc-icon panel-grid-icon-missing-rendition panel-image-no-rendition-icon">newcreativecloud</span>\n    </div>\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="edgecc-core-overlay-dimmed-top-right" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n        <div class="panel-core-overlay-icon-syncing edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n        <div class="panel-core-overlay-icon-warning edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n    <div ng-if="tooltip.isLicensed" class="panel-dl-stock-content-item-licensed-mini" ng-class="{\'disabled\': disabled}" edgecc-tooltip tooltip-content="{{\'DL_LICENSED\' | translate}}">\n        <div class="panel-dl-stock-content-item-icon-licensed-mini edgecc-icon">checkmark</div>\n    </div>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/image/tooltip.tmpl.html" ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()">\n    <div class="panel-list-image-item-thumb" img-size>\n        <div class="panel-image-item-img-holder" ng-show="loadedRenditionUrl && imageUrl" ng-style="imgStyle">\n            <img class="panel-image-item-img" image-on-load ng-src="{{imageUrl}}" style="display: none">\n        </div>\n        <div class="panel-no-rendition-holder" ng-show="loadedRenditionUrl && !imageUrl">\n            <span class="edgecc-icon panel-list-icon-missing-rendition panel-image-no-rendition-icon">newcreativecloud</span>\n        </div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\n        <div class="edgecc-core-overlay-dimmed-center" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n            <div class="panel-core-overlay-icon-syncing-list edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n            <div class="panel-core-overlay-icon-warning-list edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n        </div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n    <div ng-if="badgeText" class="panel-image-list-item-filetype">{{badgeText}}</div>\n</div>\n'),e.put("configuration/designlibrary/layerstyle/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span>{{data.name}}</span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/layerstyle/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-layer-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/layerstyle/tooltip.tmpl.html">\n    <div class="panel-layer-item-img" draggable="false" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder layerstyle-missing-rendition-icon">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-hide="loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/layerstyle/tooltip.tmpl.html">\n    <div class="panel-list-item-thumb">\n        <div class="panel-list-layer-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition layerstyle-missing-rendition-icon">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-hide="loadedRenditionUrl"></div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n\n'),e.put("configuration/designlibrary/look/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span>{{data.name}}</span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/look/view.tmpl.html",'<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'grid\'" class="panel-look-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/look/tooltip.tmpl.html">\n    <div class="panel-look-item-img" draggable="false" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder look-missing-rendition-icon">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-hide="loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n</div>\n<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/look/tooltip.tmpl.html">\n    <div class="panel-list-item-thumb">\n        <div class="panel-list-look-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition look-missing-rendition-icon">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-hide="loadedRenditionUrl"></div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n\n'),e.put("configuration/designlibrary/parastyle/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name">{{data.name}}</span>\n    <br ng-if="data.name"/>\n    <span>{{data.properties}}</span>\n    <br ng-if="data.missingFont"/>\n    <span ng-if="data.missingFont" translate>DL_ERROR_MISSING_FONT</span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/parastyle/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-textstyle-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/parastyle/tooltip.tmpl.html">\n    <div class="panel-textstyle-item-img" ng-show="imageUrl && loadedRenditionUrl" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition text-missing-rendition-icon panel-no-rendition-holder">newcreativecloud</div>\n    <div ng-show="imageUrl && loadedRenditionUrl" ng-style="colorStyle" class="panel-textstyle-color"></div>\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <div ng-show="missingFont" class="panel-missing-font-overlay edgecc-icon">alert</div>\n    <design-library-editable-grid-name component="component" selected="selected" default-information="fontDescription.fullFont" allow-blank-name="false"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/parastyle/tooltip.tmpl.html">\n    <div class="panel-list-textstyle-thumb" ng-class="{\'disabled-item\': disabled}">\n        <div class="panel-list-textstyle-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition text-missing-rendition-icon">newcreativecloud</div>\n\n        <div ng-show="missingFont" class="edgecc-icon panel-missing-font-overlay-list">alert</div>\n    </div>\n    <div class="panel-list-textstyle-item-name-container">\n        <design-library-editable-list-name component="component" default-information="fontDescription.fullFont" allow-blank-name="false"></design-library-editable-list-name>\n        <div class="panel-list-textstyle-item-info">{{styleDescription}}</div>\n    </div>\n    <div ng-style="colorStyle" class="panel-textstyle-list-item-color"></div>\n</div>\n'),e.put("configuration/designlibrary/pattern/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span>{{data.name}}</span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/pattern/view.tmpl.html",'<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart(component)" ng-if="uiState.view === \'grid\'" class="panel-pattern-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/pattern/tooltip.tmpl.html">\n    <div class="panel-pattern-item-img" draggable="false" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder pattern-missing-rendition-icon">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-hide="loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n</div>\n<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart(component)" ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/pattern/tooltip.tmpl.html">\n    <div class="panel-list-item-thumb">\n        <div class="panel-list-pattern-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition pattern-missing-rendition-icon">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-hide="loadedRenditionUrl"></div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n\n'),e.put("configuration/designlibrary/template/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name">{{data.name}}</span>\n    <br ng-if="data.name"/>\n    <span ng-if="data.type"><span translate>DL_TYPE</span> <span>{{data.type}}</span></span>\n    <br ng-if="data.type"/>\n    <span ng-if="data.filesize">{{data.filesize}}</span>\n    <br ng-if="data.isStockAsset && data.filesize"/>\n    <span ng-if="data.isStockAsset"><span translate>DL_ADOBE_STOCK_TEMPLATE</span></span>\n    <br ng-if="data.isStockAsset"/>\n    <span ng-if="data.isStockAsset && data.isLicensed"><span translate>DL_LICENSED</span></span>\n    <span ng-if="data.isStockAsset && !data.isLicensed"><span translate>DL_UNLICENSED</span></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n    <div ng-if="data.disabledMessage">\n        <span translate>{{data.disabledMessage}}</span>\n    </div>\n</div>\n'),e.put("configuration/designlibrary/template/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-template-item" ng-class="{selected: selected, \'disabled-item\': disabled}" img-size edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/template/tooltip.tmpl.html" ui-draggable="false">\n    <div class="panel-template-item-img-holder" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="loadedRenditionUrl && imageUrl" ng-style="imgStyle">\n        <img class="panel-template-item-img" image-on-load ng-src="{{imageUrl}}" style="display: none">\n    </div>\n    <div class="panel-no-rendition-holder" ng-show="loadedRenditionUrl && !imageUrl">\n        <span class="edgecc-icon panel-grid-icon-missing-rendition panel-template-no-rendition-icon">newcreativecloud</span>\n    </div>\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="edgecc-core-overlay-dimmed-top-right" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n        <div class="panel-core-overlay-icon-syncing edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n        <div class="panel-core-overlay-icon-warning edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n    <div ng-if="tooltip.isLicensed" class="panel-dl-stock-content-item-licensed-mini" ng-class="{\'disabled\': disabled}" edgecc-tooltip tooltip-content="{{\'DL_LICENSED\' | translate}}">\n        <div class="panel-dl-stock-content-item-icon-licensed-mini edgecc-icon">checkmark</div>\n    </div>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/template/tooltip.tmpl.html" ui-draggable="false">\n    <div class="panel-list-template-item-thumb" ng-class="{\'panel-thumbnail-disabled\': disabled}" img-size>\n        <div class="panel-template-item-img-holder" ng-show="loadedRenditionUrl && imageUrl" ng-style="imgStyle">\n            <img class="panel-template-item-img" image-on-load ng-src="{{imageUrl}}" style="display: none">\n        </div>\n        <div class="panel-no-rendition-holder" ng-show="loadedRenditionUrl && !imageUrl">\n            <span class="edgecc-icon panel-list-icon-missing-rendition panel-image-no-rendition-icon">newcreativecloud</span>\n        </div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\n        <div class="edgecc-core-overlay-dimmed-center" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n            <div class="panel-core-overlay-icon-syncing-list edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n            <div class="panel-core-overlay-icon-warning-list edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n        </div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n    <div ng-if="badgeText" class="panel-template-list-item-filetype" ng-class="{\'panel-template-list-item-filetype-disabled\': disabled}">{{badgeText}}</div>\n</div>\n'),e.put("configuration/designlibrary/text/tooltip.tmpl.html",'<div class=\'tooltip\'>\r\n    <span ng-if="!data.paragraphText.firstPara && !data.paragraphText.secondPara" style="font-style:italic;">&lt;<span translate>DL_TEXT_EMPTY_CONTENT_TOOLTIP</span>&gt;</span>\r\n    <span ng-if="data.paragraphText.firstPara">{{data.paragraphText.firstPara}}</span>\r\n    <br ng-if="data.paragraphText.secondPara"/>\r\n    <span ng-if="data.paragraphText.secondPara">{{data.paragraphText.secondPara}}</span>\r\n</div>\r\n'),e.put("configuration/designlibrary/text/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-text-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/text/tooltip.tmpl.html" ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()">\r\n    <div class="panel-text-item-img" ng-show="imageUrl && loadedRenditionUrl" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\r\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition text-missing-rendition-icon panel-no-rendition-holder">newcreativecloud</div>\r\n    <div ng-show="imageUrl && loadedRenditionUrl" ng-style="colorStyle" class="panel-text-color"></div>\r\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\r\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\r\n    </div>\r\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\r\n    <design-library-editable-grid-name component="component" selected="selected" default-information="fontDescription.fullFont" allow-blank-name="false"></design-library-editable-grid-name>\r\n</div>\r\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/text/tooltip.tmpl.html" ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()">\r\n    <div class="panel-list-text-thumb" ng-class="{\'disabled-item\': disabled}">\r\n        <div class="panel-list-text-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\r\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\r\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition text-missing-rendition-icon">newcreativecloud</div>\r\n    </div>\r\n    <div class="panel-list-text-item-name-container">\r\n        <design-library-editable-list-name component="component" default-information="fontDescription.fullFont" allow-blank-name="false"></design-library-editable-list-name>\r\n        <div class="panel-list-text-item-info">{{paragraphText}}</div>\r\n    </div>\r\n    <div ng-style="colorStyle" class="panel-text-list-item-color"></div>\r\n    <div ng-if="badgeText" class="panel-text-list-item-filetype">{{badgeText}}</div>\r\n</div>\r\n'),
e.put("configuration/designlibrary/textstyle/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name">{{data.name}}</span>\n    <br ng-if="data.name"/>\n    <span>{{data.properties}}</span>\n    <br ng-if="data.missingFont"/>\n    <span ng-if="data.missingFont" translate>DL_ERROR_MISSING_FONT</span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/textstyle/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-textstyle-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/textstyle/tooltip.tmpl.html">\n    <div class="panel-textstyle-item-img" ng-show="imageUrl && loadedRenditionUrl" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition text-missing-rendition-icon panel-no-rendition-holder">newcreativecloud</div>\n    <div ng-show="imageUrl && loadedRenditionUrl" ng-style="colorStyle" class="panel-textstyle-color"></div>\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <div ng-show="missingFont" class="panel-missing-font-overlay edgecc-icon">alert</div>\n    <design-library-editable-grid-name component="component" selected="selected" default-information="fontDescription.fullFont" allow-blank-name="false"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/textstyle/tooltip.tmpl.html">\n    <div class="panel-list-textstyle-thumb" ng-class="{\'disabled-item\': disabled}">\n        <div class="panel-list-textstyle-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition text-missing-rendition-icon">newcreativecloud</div>\n\n        <div ng-show="missingFont" class="edgecc-icon panel-missing-font-overlay-list">alert</div>\n    </div>\n    <div class="panel-list-textstyle-item-name-container">\n        <design-library-editable-list-name component="component" default-information="fontDescription.fullFont" allow-blank-name="false"></design-library-editable-list-name>\n        <div class="panel-list-textstyle-item-info">{{styleDescription}}</div>\n    </div>\n    <div ng-style="colorStyle" class="panel-textstyle-list-item-color"></div>\n</div>\n'),e.put("configuration/designlibrary/unsupported/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span translate>{{data.disabledMessage}}</span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/unsupported/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-unsupported-item disabled-item" ng-class="{selected: selected}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/unsupported/tooltip.tmpl.html">\n    <div class="panel-unsupported-item-img panel-thumbnail-disabled" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-hide="loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay disabled-overlay"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item disabled-item" ng-class="{selected: selected}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/unsupported/tooltip.tmpl.html">\n    <div class="panel-list-unsupported-item-thumb">\n        <div class="panel-list-unsupported-item-img panel-thumbnail-disabled" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-hide="loadedRenditionUrl"></div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n'),e.put("configuration/designlibrary/video/tooltip.tmpl.html",'<div class="tooltip">\n    <span>{{data.name}}</span>\n    <br ng-if="data.name"/>\n    <span ng-if="data.dimensions">{{data.dimensions}}</span>\n    <br ng-if="data.dimensions"/>\n    <span ng-if="data.duration">{{data.duration}}</span>\n    <br ng-if="data.duration"/>\n    <span ng-if="data.framerate">{{data.framerate}}</span>\n    <br ng-if="data.framerate"/>\n    <span ng-if="data.filesize">{{data.filesize}}</span>\n    <br ng-if="data.isStockAsset && data.filesize"/>\n    <span ng-if="data.isStockAsset"><span translate>DL_ADOBE_STOCK_VIDEO</span></span>\n    <br ng-if="data.isStockAsset"/>\n    <span ng-if="data.isStockAsset && data.isLicensed"><span translate>DL_LICENSED</span></span>\n    <span ng-if="data.isStockAsset && !data.isLicensed"><span translate>DL_UNLICENSED</span></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/video/view.tmpl.html",'<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'grid\'" class="panel-video-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/video/tooltip.tmpl.html">\n    <div class="panel-video-item-img" draggable="false" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder video-missing-rendition-icon">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-hide="loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n    <div ng-if="!disabled" class="panel-dl-stock-content-video-badge">\n       <div class="panel-dl-stock-content-video-badge-icon"><div class="panel-dl-stock-content-video-badge-icon-triangle"></div></div>\n       <div class="panel-dl-stock-content-video-badge-duration">{{tooltip.duration}}</div>\n   </div>\n    <div ng-if="tooltip.isLicensed" class="panel-dl-stock-content-item-licensed-mini" ng-class="{\'disabled\': disabled}" edgecc-tooltip tooltip-content="{{\'DL_LICENSED\' | translate}}">\n        <div class="panel-dl-stock-content-item-icon-licensed-mini edgecc-icon">checkmark</div>\n    </div>\n</div>\n<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="configuration/designlibrary/video/tooltip.tmpl.html">\n    <div class="panel-list-item-thumb">\n        <div class="panel-list-video-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition video-missing-rendition-icon">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-hide="loadedRenditionUrl"></div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n')}}),define("../../.tmp/app.templates",function(){}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("handlebars",[],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(){var e=v();return e.compile=function(t,n){return u.compile(t,n,e)},e.precompile=function(t,n){return u.precompile(t,n,e)},e.AST=l["default"],e.Compiler=u.Compiler,e.JavaScriptCompiler=p["default"],e.Parser=c.parser,e.parse=c.parse,e}var r=n(1)["default"];t.__esModule=!0;var o=n(2),a=r(o),s=n(21),l=r(s),c=n(22),u=n(27),d=n(28),p=r(d),f=n(25),h=r(f),m=n(20),g=r(m),v=a["default"].create,_=i();_.create=i,g["default"](_),_.Visitor=h["default"],_["default"]=_,t["default"]=_,e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},function(e,t,n){"use strict";function i(){var e=new s.HandlebarsEnvironment;return f.extend(e,s),e.SafeString=c["default"],e.Exception=d["default"],e.Utils=f,e.escapeExpression=f.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e)},e}var r=n(3)["default"],o=n(1)["default"];t.__esModule=!0;var a=n(4),s=r(a),l=n(18),c=o(l),u=n(6),d=o(u),p=n(5),f=r(p),h=n(19),m=r(h),g=n(20),v=o(g),_=i();_.create=i,v["default"](_),_["default"]=_,t["default"]=_,e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},t.__esModule=!0},function(e,t,n){"use strict";function i(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},l.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}var r=n(1)["default"];t.__esModule=!0,t.HandlebarsEnvironment=i;var o=n(5),a=n(6),s=r(a),l=n(7),c=n(15),u=n(17),d=r(u),p="4.0.5";t.VERSION=p;var f=7;t.COMPILER_REVISION=f;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=h;var m="[object Object]";i.prototype={constructor:i,logger:d["default"],log:d["default"].log,registerHelper:function(e,t){if(o.toString.call(e)===m){if(t)throw new s["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(o.toString.call(e)===m)o.extend(this.partials,e);else{if("undefined"==typeof t)throw new s["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(o.toString.call(e)===m){if(t)throw new s["default"]("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var g=d["default"].log;t.log=g,t.createFrame=o.createFrame,t.logger=d["default"]},function(e,t){"use strict";function n(e){return u[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function r(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}function o(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return p.test(e)?e.replace(d,n):e}function a(e){return e||0===e?m(e)&&0===e.length?!0:!1:!0}function s(e){var t=i({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function c(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=i,t.indexOf=r,t.escapeExpression=o,t.isEmpty=a,t.createFrame=s,t.blockParams=l,t.appendContextPath=c;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,p=/[&<>"'`=]/,f=Object.prototype.toString;t.toString=f;var h=function(e){return"function"==typeof e};h(/x/)&&(t.isFunction=h=function(e){return"function"==typeof e&&"[object Function]"===f.call(e)}),t.isFunction=h;var m=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===f.call(e):!1};t.isArray=m},function(e,t){"use strict";function n(e,t){var r=t&&t.loc,o=void 0,a=void 0;r&&(o=r.start.line,a=r.start.column,e+=" - "+o+":"+a);for(var s=Error.prototype.constructor.call(this,e),l=0;l<i.length;l++)this[i[l]]=s[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),r&&(this.lineNumber=o,this.column=a)}t.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){a["default"](e),l["default"](e),u["default"](e),p["default"](e),h["default"](e),g["default"](e),_["default"](e)}var r=n(1)["default"];t.__esModule=!0,t.registerDefaultHelpers=i;var o=n(8),a=r(o),s=n(9),l=r(s),c=n(10),u=r(c),d=n(11),p=r(d),f=n(12),h=r(f),m=n(13),g=r(m),v=n(14),_=r(v)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,o=n.fn;if(t===!0)return o(this);if(t===!1||null==t)return r(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var a=i.createFrame(n.data);a.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(t,n)})},e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=!0;var r=n(5),o=n(6),a=i(o);t["default"]=function(e){e.registerHelper("each",function(e,t){function n(t,n,o){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!o,u&&(c.contextPath=u+t)),l+=i(e[t],{data:c,blockParams:r.blockParams([e[t],t],[u+t,null])})}if(!t)throw new a["default"]("Must pass iterator to #each");var i=t.fn,o=t.inverse,s=0,l="",c=void 0,u=void 0;if(t.data&&t.ids&&(u=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(c=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var d=e.length;d>s;s++)s in e&&n(s,s,s===e.length-1);else{var p=void 0;for(var f in e)e.hasOwnProperty(f)&&(void 0!==p&&n(p,s-1),p=f,s++);void 0!==p&&n(p,s-1,!0)}return 0===s&&(l=o(this)),l})},e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=!0;var r=n(6),o=i(r);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t["default"]=function(e){e.registerHelper("if",function(e,t){return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),t[0]=r,e.log.apply(e,t)})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t["default"]=function(e){e.registerHelper("with",function(e,t){i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&(r=i.createFrame(t.data),r.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:i.blockParams([e],[r&&r.contextPath])})})},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){a["default"](e)}var r=n(1)["default"];t.__esModule=!0,t.registerDefaultDecorators=i;var o=n(16),a=r(o)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t["default"]=function(e){e.registerDecorator("inline",function(e,t,n,r){var o=e;return t.partials||(t.partials={},o=function(r,o){var a=n.partials;n.partials=i.extend({},a,t.partials);var s=e(r,o);return n.partials=a,s}),t.partials[r.args[0]]=r.fn,o})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(r.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=r.lookupLevel(e),"undefined"!=typeof console&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;n>o;o++)i[o-1]=arguments[o];console[t].apply(console,i)}}};t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=v.COMPILER_REVISION;if(t!==n){if(n>t){var i=v.REVISION_CHANGES[n],r=v.REVISION_CHANGES[t];throw new g["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new g["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){function n(n,i,r){r.hash&&(i=h.extend({},i,r.hash),r.ids&&(r.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,r);var o=t.VM.invokePartial.call(this,n,i,r);if(null==o&&t.compile&&(r.partials[r.name]=t.compile(n,e.compilerOptions,t),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var a=o.split("\n"),s=0,l=a.length;l>s&&(a[s]||s+1!==l);s++)a[s]=r.indent+a[s];o=a.join("\n")}return o}throw new g["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function i(t){function n(t){return""+e.main(r,t,r.helpers,r.partials,a,l,s)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o.data;i._setup(o),!o.partial&&e.useData&&(a=c(t,a));var s=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(s=o.depths?t!==o.depths[0]?[t].concat(o.depths):o.depths:[t]),(n=u(e.main,n,r,o.depths||[],a,l))(t,o)}if(!t)throw new g["default"]("No environment passed to template");if(!e||!e.main)throw new g["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var r={strict:function(e,t){if(!(t in e))throw new g["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,i=0;n>i;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:h.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,r){var a=this.programs[e],s=this.fn(e);return t||r||i||n?a=o(this,e,s,t,n,i,r):a||(a=this.programs[e]=o(this,e,s)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=h.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};return i.isTop=!0,i._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials,r.decorators=n.decorators):(r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(r.decorators=r.merge(n.decorators,t.decorators)))},i._child=function(t,n,i,a){if(e.useBlockParams&&!i)throw new g["default"]("must pass block params");if(e.useDepths&&!a)throw new g["default"]("must pass parent depths");return o(r,t,e[t],n,0,i,a)},i}function o(e,t,n,i,r,o,a){function s(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return a&&t!==a[0]&&(s=[t].concat(a)),n(e,t,e.helpers,e.partials,r.data||i,o&&[r.blockParams].concat(o),s)}return s=u(n,s,e,a,i,o),s.program=t,s.depth=a?a.length:0,s.blockParams=r||0,s}function a(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function s(e,t,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==l&&(n.data=v.createFrame(n.data),i=n.data["partial-block"]=n.fn,i.partials&&(n.partials=h.extend({},n.partials,i.partials))),void 0===e&&i&&(e=i),void 0===e)throw new g["default"]("The partial "+n.name+" could not be found");return e instanceof Function?e(t,n):void 0}function l(){return""}function c(e,t){return t&&"root"in t||(t=t?v.createFrame(t):{},t.root=e),t}function u(e,t,n,i,r,o){if(e.decorator){var a={};t=e.decorator(t,a,n,i&&i[0],r,o,i),h.extend(t,a)}return t}var d=n(3)["default"],p=n(1)["default"];t.__esModule=!0,t.checkRevision=i,t.template=r,t.wrapProgram=o,t.resolvePartial=a,t.invokePartial=s,t.noop=l;var f=n(5),h=d(f),m=n(6),g=p(m),v=n(4)},function(e,t){(function(n){"use strict";t.__esModule=!0,t["default"]=function(e){var t="undefined"!=typeof n?n:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e}},e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e,t){if("Program"===e.type)return e;s["default"].yy=f,f.locInfo=function(e){return new f.SourceLocation(t&&t.srcName,e)};var n=new c["default"](t);return n.accept(s["default"].parse(e))}var r=n(1)["default"],o=n(3)["default"];t.__esModule=!0,t.parse=i;var a=n(23),s=r(a),l=n(24),c=r(l),u=n(26),d=o(u),p=n(5);t.parser=s["default"];var f={};p.extend(f,d)},function(e,t){"use strict";var n=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,i,r,o,a){var s=o.length-1;switch(r){case 1:return o[s-1];case 2:this.$=i.prepareProgram(o[s]);break;case 3:this.$=o[s];break;case 4:this.$=o[s];break;case 5:this.$=o[s];break;case 6:this.$=o[s];break;case 7:this.$=o[s];break;case 8:this.$=o[s];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(o[s]),strip:i.stripFlags(o[s],o[s]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[s],value:o[s],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(o[s-2],o[s-1],o[s],this._$);break;case 12:this.$={path:o[s-3],params:o[s-2],hash:o[s-1]};break;case 13:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!1,this._$);break;case 14:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!0,this._$);break;case 15:this.$={open:o[s-5],path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 16:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 17:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 18:this.$={strip:i.stripFlags(o[s-1],o[s-1]),program:o[s]};break;case 19:var l=i.prepareBlock(o[s-2],o[s-1],o[s],o[s],!1,this._$),c=i.prepareProgram([l],o[s-1].loc);c.chained=!0,this.$={strip:o[s-2].strip,program:c,chain:!0};break;case 20:this.$=o[s];break;case 21:this.$={path:o[s-1],strip:i.stripFlags(o[s-2],o[s])};break;case 22:this.$=i.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],i.stripFlags(o[s-4],o[s]),this._$);break;case 23:this.$=i.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],i.stripFlags(o[s-4],o[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[s-3],params:o[s-2],hash:o[s-1],indent:"",strip:i.stripFlags(o[s-4],o[s]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(o[s-2],o[s-1],o[s],this._$);break;case 26:this.$={path:o[s-3],params:o[s-2],hash:o[s-1],strip:i.stripFlags(o[s-4],o[s])};break;case 27:this.$=o[s];break;case 28:this.$=o[s];break;case 29:this.$={type:"SubExpression",path:o[s-3],params:o[s-2],hash:o[s-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[s],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(o[s-2]),value:o[s],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(o[s-1]);break;case 33:this.$=o[s];break;case 34:this.$=o[s];break;case 35:this.$={type:"StringLiteral",value:o[s],original:o[s],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[s]),original:Number(o[s]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[s],original:"true"===o[s],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:this.$=o[s];break;case 41:this.$=o[s];break;case 42:this.$=i.preparePath(!0,o[s],this._$);break;case 43:this.$=i.preparePath(!1,o[s],this._$);break;case 44:o[s-2].push({part:i.id(o[s]),original:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 45:this.$=[{part:i.id(o[s]),original:o[s]}];break;case 46:this.$=[];break;case 47:o[s-1].push(o[s]);break;case 48:this.$=[o[s]];break;case 49:o[s-1].push(o[s]);break;case 50:this.$=[];break;case 51:o[s-1].push(o[s]);break;case 58:this.$=[];break;case 59:o[s-1].push(o[s]);break;case 64:this.$=[];break;case 65:o[s-1].push(o[s]);break;case 70:this.$=[];break;case 71:o[s-1].push(o[s]);break;case 78:this.$=[];break;case 79:o[s-1].push(o[s]);break;case 82:this.$=[];break;case 83:o[s-1].push(o[s]);break;case 86:this.$=[];break;case 87:o[s-1].push(o[s]);break;case 90:this.$=[];break;case 91:o[s-1].push(o[s]);break;case 94:this.$=[];break;case 95:o[s-1].push(o[s]);break;case 98:this.$=[o[s]];break;case 99:o[s-1].push(o[s]);break;case 100:this.$=[o[s]];break;case 101:o[s-1].push(o[s])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],
15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],o=[],a=this.table,s="",l=0,c=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;o.push(d);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,h,m,g,v,_,y,E,b,L={};;){if(m=i[i.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===f||"undefined"==typeof f)&&(f=t()),g=a[m]&&a[m][f]),"undefined"==typeof g||!g.length||!g[0]){var S="";if(!u){b=[];for(_ in a[m])this.terminals_[_]&&_>2&&b.push("'"+this.terminals_[_]+"'");S=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:d,expected:b})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+f);switch(g[0]){case 1:i.push(f),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(g[1]),f=null,h?(f=h,h=null):(c=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,u>0&&u--);break;case 2:if(y=this.productions_[g[1]][1],L.$=r[r.length-y],L._$={first_line:o[o.length-(y||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(y||1)].first_column,last_column:o[o.length-1].last_column},p&&(L._$.range=[o[o.length-(y||1)].range[0],o[o.length-1].range[1]]),v=this.performAction.call(L,s,c,l,this.yy,g[1],r,o),"undefined"!=typeof v)return v;y&&(i=i.slice(0,-1*y*2),r=r.slice(0,-1*y),o=o.slice(0,-1*y)),i.push(this.productions_[g[1]][0]),r.push(L.$),o.push(L._$),E=a[i[i.length-2]][i[i.length-1]],i.push(E);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,r;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(n=this._input.match(this.rules[o[a]]),!n||t&&!(n[0].length>t[0].length)||(t=n,i=a,this.options.flex));a++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){function r(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(t.yytext=t.yytext.substr(5,t.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=r(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=r(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function r(e,t,n){void 0===t&&(t=e.length);var i=e[t-1],r=e[t-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function o(e,t,n){void 0===t&&(t=-1);var i=e[t+1],r=e[t+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function a(e,t,n){var i=e[null==t?0:t+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function s(e,t,n){var i=e[null==t?e.length-1:t-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var l=n(1)["default"];t.__esModule=!0;var c=n(25),u=l(c);i.prototype=new u["default"],i.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=e.body,l=0,c=i.length;c>l;l++){var u=i[l],d=this.accept(u);if(d){var p=r(i,l,n),f=o(i,l,n),h=d.openStandalone&&p,m=d.closeStandalone&&f,g=d.inlineStandalone&&p&&f;d.close&&a(i,l,!0),d.open&&s(i,l,!0),t&&g&&(a(i,l),s(i,l)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(i[l-1].original)[1])),t&&h&&(a((u.program||u.inverse).body),s(i,l)),t&&m&&(a(i,l),s((u.inverse||u.program).body))}}return e},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,l=n;if(n&&n.chained)for(i=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var c={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:o(t.body),closeStandalone:r((i||t).body)};if(e.openStrip.close&&a(t.body,null,!0),n){var u=e.inverseStrip;u.open&&s(t.body,null,!0),u.close&&a(i.body,null,!0),e.closeStrip.open&&s(l.body,null,!0),!this.options.ignoreStandalone&&r(t.body)&&o(i.body)&&(s(t.body),a(i.body))}else e.closeStrip.open&&s(t.body,null,!0);return c},i.prototype.Decorator=i.prototype.MustacheStatement=function(e){return e.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function i(){this.parents=[]}function r(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function o(e){r.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function a(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var s=n(1)["default"];t.__esModule=!0;var l=n(6),c=s(l);i.prototype={constructor:i,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!i.prototype[n.type])throw new c["default"]('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new c["default"](e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;n>t;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new c["default"]("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:t!==!1?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:r,Decorator:r,BlockStatement:o,DecoratorBlock:o,PartialStatement:a,PartialBlockStatement:function(e){a.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:r,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function i(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new g["default"](e.path.original+" doesn't match "+t,n)}}function r(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function o(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e}function a(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function s(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function l(e,t,n){n=this.locInfo(n);for(var i=e?"@":"",r=[],o=0,a="",s=0,l=t.length;l>s;s++){var c=t[s].part,u=t[s].original!==c;if(i+=(t[s].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)r.push(c);else{if(r.length>0)throw new g["default"]("Invalid path: "+i,{loc:n});".."===c&&(o++,a+="../")}}return{type:"PathExpression",data:e,depth:o,parts:r,original:i,loc:n}}function c(e,t,n,i,r,o){var a=i.charAt(3)||i.charAt(2),s="{"!==a&&"&"!==a,l=/\*/.test(i);return{type:l?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:s,strip:r,loc:this.locInfo(o)}}function u(e,t,n,r){i(e,n),r=this.locInfo(r);var o={type:"Program",body:t,strip:{},loc:r};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}}function d(e,t,n,r,o,a){r&&r.path&&i(e,r);var s=/\*/.test(e.open);t.blockParams=e.blockParams;var l=void 0,c=void 0;if(n){if(s)throw new g["default"]("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=r.strip),c=n.strip,l=n.program}return o&&(o=l,l=t,t=o),{type:s?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:l,openStrip:e.strip,inverseStrip:c,closeStrip:r&&r.strip,loc:this.locInfo(a)}}function p(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;n&&i&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function f(e,t,n,r){return i(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}}var h=n(1)["default"];t.__esModule=!0,t.SourceLocation=r,t.id=o,t.stripFlags=a,t.stripComment=s,t.preparePath=l,t.prepareMustache=c,t.prepareRawBlock=u,t.prepareBlock=d,t.prepareProgram=p,t.preparePartialBlock=f;var m=n(6),g=h(m)},function(e,t,n){"use strict";function i(){}function r(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new u["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var i=n.parse(e,t),r=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(r,t)}function o(e,t,n){function i(){var i=n.parse(e,t),r=(new n.Compiler).compile(i,t),o=(new n.JavaScriptCompiler).compile(r,t,void 0,!0);return n.template(o)}function r(e,t){return o||(o=i()),o.call(this,e,t)}if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new u["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var o=void 0;return r._setup=function(e){return o||(o=i()),o._setup(e)},r._child=function(e,t,n,r){return o||(o=i()),o._child(e,t,n,r)},r}function a(e,t){if(e===t)return!0;if(d.isArray(e)&&d.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!a(e[n],t[n]))return!1;return!0}}function s(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var l=n(1)["default"];t.__esModule=!0,t.Compiler=i,t.precompile=r,t.compile=o;var c=n(6),u=l(c),d=n(5),p=n(21),f=l(p),h=[].slice;i.prototype={compiler:i,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;t>n;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||!a(i.args,r.args))return!1}t=this.children.length;for(var n=0;t>n;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var n=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},n)for(var i in n)i in n&&(t.knownHelpers[i]=n[i]);return this.accept(e)},compileProgram:function(e){var t=new this.compiler,n=t.compile(e,this.options),i=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[i]=n,this.useDepths=this.useDepths||n.useDepths,i},accept:function(e){if(!this[e.type])throw new u["default"]("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,i=0;n>i;i++)this.accept(t[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){s(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var i=this.classifySexpr(e);"helper"===i?this.helperSexpr(e,t,n):"simple"===i?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new u["default"]("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=e.name.original,r="SubExpression"===e.name.type;r&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var o=e.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",r,i,o),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){s(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var i=e.path,r=i.parts[0],o=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.path,o=r.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new u["default"]("You specified knownHelpersOnly, but used the unknown helper "+o,e);r.strict=!0,r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,f["default"].helpers.simpleId(r))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=f["default"].helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,i=t.length;for(this.opcode("pushHash");i>n;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:h.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=f["default"].helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&f["default"].helpers.helperExpression(e),r=!n&&(i||t);if(r&&!i){var o=e.path.parts[0],a=this.options;a.knownHelpers[o]?i=!0:a.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;n>t;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||f["default"].helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else t=e.original||t,t.replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,i){
var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;n>t;t++){var i=this.options.blockParams[t],r=i&&d.indexOf(i,e);if(i&&r>=0)return[t,r]}}}},function(e,t,n){"use strict";function i(e){this.value=e}function r(){}function o(e,t,n,i){var r=t.popStack(),o=0,a=n.length;for(e&&a--;a>o;o++)r=t.nameLookup(r,n[o],i);return e?[t.aliasable("container.strict"),"(",r,", ",t.quotedString(n[o]),")"]:r}var a=n(1)["default"];t.__esModule=!0;var s=n(4),l=n(6),c=a(l),u=n(5),d=n(29),p=a(d);r.prototype={nameLookup:function(e,t){return r.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function(){var e=s.COMPILER_REVISION,t=s.REVISION_CHANGES[e];return[e,t]},appendToBuffer:function(e,t,n){return u.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},compile:function(e,t,n,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var r=e.opcodes,o=void 0,a=void 0,s=void 0,l=void 0;for(s=0,l=r.length;l>s;s++)o=r[s],this.source.currentLocation=o.loc,a=a||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new c["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(i);if(this.isChild)return u;var d={compiler:this.compilerInfo(),main:u};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var p=this.context,f=p.programs,h=p.decorators;for(s=0,l=f.length;l>s;s++)f[s]&&(d[s]=f[s],h[s]&&(d[s+"_d"]=h[s],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),i?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),t.srcName?(d=d.toStringWithSourceMap({file:t.destName}),d.map=d.map&&d.map.toString()):d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new p["default"](this.options.srcName),this.decorators=new p["default"](this.options.srcName)},createFunctionContext:function(e){var t="",n=this.stackVars.concat(this.registers.list);n.length>0&&(t+=", "+n.join(", "));var i=0;for(var r in this.aliases){var o=this.aliases[r];this.aliases.hasOwnProperty(r)&&o.children&&o.referenceCount>1&&(t+=", alias"+ ++i+"="+r,o.children[0]="alias"+i)}var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var s=this.mergeSource(t);return e?(a.push(s),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",s,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,i=void 0,r=void 0,o=void 0,a=void 0;return this.source.each(function(e){e.appendToBuffer?(o?e.prepend("  + "):o=e,a=e):(o&&(r?o.prepend("buffer += "):i=!0,a.add(";"),o=a=void 0),r=!0,t||(n=!1))}),n?o?(o.prepend("return "),a.add(";")):r||this.source.push('return "";'):(e+=", buffer = "+(i?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(e){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[r++])),this.resolvePath("context",e,r,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,i,r){var a=this;if(this.options.strict||this.options.assumeObjects)return void this.push(o(this.options.strict&&r,this,t,e));for(var s=t.length;s>n;n++)this.replaceStack(function(r){var o=a.nameLookup(r,t[n],e);return i?[" && ",o]:[" != null ? ",o," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),i=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(e,t,n){var i=this.popStack(),r=this.setupHelper(e,t),o=n?[r.name," || "]:"",a=["("].concat(o,i);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",r.callParams))},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t),r=this.lastHelper=this.nameLookup("helpers",e,"helper"),o=["(","(helper = ",r," || ",n,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",o,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(e,t,n){var i=[],r=this.setupParams(t,1,i);e&&(t=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",e?i.unshift(t):i.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(e){var t=this.popStack(),n=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[e]=n),i&&(o.types[e]=i),r&&(o.ids[e]=r),o.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(e,t){for(var n=e.children,i=void 0,r=void 0,o=0,a=n.length;a>o;o++){i=n[o],r=new this.compiler;var s=this.matchExistingProgram(i);null==s?(this.context.programs.push(""),s=this.context.programs.length,i.index=s,i.name="program"+s,this.context.programs[s]=r.compile(i,t,this.context,!this.precompile),this.context.decorators[s]=r.decorators,this.context.environments[s]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams):(i.index=s,i.name="program"+s,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;n>t;t++){var i=this.context.environments[t];if(i&&i.equals(e))return t}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof i||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new i(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,r=void 0,o=void 0;if(!this.isInline())throw new c["default"]("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof i)n=[a.value],t=["(",n],o=!0;else{r=!0;var s=this.incrStack();t=["((",this.push(s)," = ",a,")"],n=this.topStack()}var l=e.call(this,n);o||this.popStack(),r&&this.stackSlot--,this.push(t.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;n>t;t++){var r=e[t];if(r instanceof i)this.compileStack.push(r);else{var o=this.incrStack();this.pushSource([o," = ",r,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof i)return n.value;if(!t){if(!this.stackSlot)throw new c["default"]("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof i?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):(t=this.aliases[e]=this.source.wrap(e),t.aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var i=[],r=this.setupHelperArgs(t,e,i,n),o=this.nameLookup("helpers",t,"helper"),a=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:i,paramsInit:r,name:o,callParams:[a].concat(i)}},setupParams:function(e,t,n){var i={},r=[],o=[],a=[],s=!n,l=void 0;s&&(n=[]),i.name=this.quotedString(e),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var d=t;d--;)l=this.popStack(),n[d]=l,this.trackIds&&(a[d]=this.popStack()),this.stringParams&&(o[d]=this.popStack(),r[d]=this.popStack());return s&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(a)),this.stringParams&&(i.types=this.source.generateArray(o),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(e,t,n,i){var r=this.setupParams(e,t,n);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=r.RESERVED_WORDS={},n=0,i=e.length;i>n;n++)t[e[n]]=!0}(),r.isValidJavaScriptVariableName=function(e){return!r.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";function i(e,t,n){if(o.isArray(e)){for(var i=[],r=0,a=e.length;a>r;r++)i.push(t.wrap(e[r],n));return i}return"boolean"==typeof e||"number"==typeof e?e+"":e}function r(e){this.srcFile=e,this.source=[]}t.__esModule=!0;var o=n(5),a=void 0;try{}catch(s){}a||(a=function(e,t,n,i){this.src="",i&&this.add(i)},a.prototype={add:function(e){o.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){o.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),r.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,n=this.source.length;n>t;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new a(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof a?e:(e=i(e,this,t),new a(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=i(e[n],this);"undefined"!==r&&t.push([this.quotedString(n),":",r])}var o=this.generateList(t);return o.prepend("{"),o.add("}"),o},generateList:function(e){for(var t=this.empty(),n=0,r=e.length;r>n;n++)n&&t.add(","),t.add(i(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t["default"]=r,e.exports=t["default"]}])}),require(["app"]);;define("jquery", [], function () {});define("moment", [], function () {});